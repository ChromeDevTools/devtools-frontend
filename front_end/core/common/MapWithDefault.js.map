{"version":3,"file":"MapWithDefault.js","sourceRoot":"","sources":["../../../../../../front_end/core/common/MapWithDefault.ts"],"names":[],"mappings":"AAAA,sCAAsC;AACtC,yEAAyE;AACzE,6BAA6B;AAE7B;;;;IAII;AACJ,MAAM,OAAO,cAAqB,SAAQ,GAAS;IACjD,WAAW,CAAC,GAAM,EAAE,YAAe;QACjC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,EAAE,CAAC;YACnB,IAAI,CAAC,GAAG,CAAC,GAAG,EAAE,YAAY,CAAC,CAAC;QAC9B,CAAC;QAED,OAAO,IAAI,CAAC,GAAG,CAAC,GAAG,CAAM,CAAC;IAC5B,CAAC;IAED,mBAAmB,CAAC,GAAM,EAAE,gBAA+B;QACzD,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,EAAE,CAAC;YACnB,IAAI,CAAC,GAAG,CAAC,GAAG,EAAE,gBAAgB,CAAC,GAAG,CAAC,CAAC,CAAC;QACvC,CAAC;QAED,OAAO,IAAI,CAAC,GAAG,CAAC,GAAG,CAAM,CAAC;IAC5B,CAAC;CACF","sourcesContent":["// Copyright 2024 The Chromium Authors\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\n/**\n * Polyfill of https://github.com/tc39/proposal-upsert with a subclass.\n *\n * TODO: Once the proposal is merged, just replace `MapWithDefault` with `Map` and remove it.\n **/\nexport class MapWithDefault<K, V> extends Map<K, V> {\n  getOrInsert(key: K, defaultValue: V): V {\n    if (!this.has(key)) {\n      this.set(key, defaultValue);\n    }\n\n    return this.get(key) as V;\n  }\n\n  getOrInsertComputed(key: K, callbackFunction: (key: K) => V): V {\n    if (!this.has(key)) {\n      this.set(key, callbackFunction(key));\n    }\n\n    return this.get(key) as V;\n  }\n}\n"]}