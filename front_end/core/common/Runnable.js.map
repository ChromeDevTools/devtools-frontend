{
  "version": 3,
  "sources": ["../../../../../../front_end/core/common/Runnable.ts"],
  "sourcesContent": ["// Copyright 2019 The Chromium Authors\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\nexport interface Runnable {\n  run(): Promise<void>;\n}\n\ntype LateInitializationLoader = () => Promise<Runnable>;\nexport interface LateInitializableRunnableSetting {\n  id: string;\n  loadRunnable: LateInitializationLoader;\n}\n\nconst registeredLateInitializationRunnables = new Map<string, LateInitializationLoader>();\n\nexport function registerLateInitializationRunnable(setting: LateInitializableRunnableSetting): void {\n  const {id, loadRunnable} = setting;\n  if (registeredLateInitializationRunnables.has(id)) {\n    throw new Error(`Duplicate late Initializable runnable id '${id}'`);\n  }\n  registeredLateInitializationRunnables.set(id, loadRunnable);\n}\n\nexport function maybeRemoveLateInitializationRunnable(runnableId: string): boolean {\n  return registeredLateInitializationRunnables.delete(runnableId);\n}\n\nexport function lateInitializationRunnables(): LateInitializationLoader[] {\n  return [...registeredLateInitializationRunnables.values()];\n}\n\nconst registeredEarlyInitializationRunnables: Array<() => Runnable> = [];\n\nexport function registerEarlyInitializationRunnable(runnable: () => Runnable): void {\n  registeredEarlyInitializationRunnables.push(runnable);\n}\n\nexport function earlyInitializationRunnables(): Array<() => Runnable> {\n  return registeredEarlyInitializationRunnables;\n}\n"],
  "mappings": ";AAcA,MAAM,wCAAwC,oBAAI,IAAsC;AAEjF,gBAAS,mCAAmC,SAAiD;AAClG,QAAM,EAAC,IAAI,aAAY,IAAI;AAC3B,MAAI,sCAAsC,IAAI,EAAE,GAAG;AACjD,UAAM,IAAI,MAAM,6CAA6C,EAAE,GAAG;AAAA,EACpE;AACA,wCAAsC,IAAI,IAAI,YAAY;AAC5D;AAEO,gBAAS,sCAAsC,YAA6B;AACjF,SAAO,sCAAsC,OAAO,UAAU;AAChE;AAEO,gBAAS,8BAA0D;AACxE,SAAO,CAAC,GAAG,sCAAsC,OAAO,CAAC;AAC3D;AAEA,MAAM,yCAAgE,CAAC;AAEhE,gBAAS,oCAAoC,UAAgC;AAClF,yCAAuC,KAAK,QAAQ;AACtD;AAEO,gBAAS,+BAAsD;AACpE,SAAO;AACT;",
  "names": []
}
