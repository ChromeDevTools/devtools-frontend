{"version":3,"file":"CSSModel.js","sourceRoot":"","sources":["../../../../../../front_end/core/sdk/CSSModel.ts"],"names":[],"mappings":"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","sourcesContent":["// Copyright 2010 The Chromium Authors\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\nimport type * as ProtocolProxyApi from '../../generated/protocol-proxy-api.js';\nimport type * as Protocol from '../../generated/protocol.js';\nimport * as TextUtils from '../../models/text_utils/text_utils.js';\nimport * as Common from '../common/common.js';\nimport * as Host from '../host/host.js';\nimport * as Platform from '../platform/platform.js';\nimport * as Root from '../root/root.js';\n\nimport {CSSFontFace} from './CSSFontFace.js';\nimport {CSSMatchedStyles} from './CSSMatchedStyles.js';\nimport {CSSMedia} from './CSSMedia.js';\nimport {cssMetadata} from './CSSMetadata.js';\nimport {CSSStyleRule} from './CSSRule.js';\nimport {CSSStyleDeclaration, Type} from './CSSStyleDeclaration.js';\nimport {CSSStyleSheetHeader} from './CSSStyleSheetHeader.js';\nimport {DOMModel, type DOMNode} from './DOMModel.js';\nimport {\n  Events as ResourceTreeModelEvents,\n  PrimaryPageChangeType,\n  type ResourceTreeFrame,\n  ResourceTreeModel,\n} from './ResourceTreeModel.js';\nimport {SDKModel} from './SDKModel.js';\nimport {SourceMapManager} from './SourceMapManager.js';\nimport {Capability, type Target} from './Target.js';\n\nexport const enum ColorScheme {\n  LIGHT = 'light',\n  DARK = 'dark',\n}\n\nexport interface LayoutProperties {\n  isFlex: boolean;\n  isGrid: boolean;\n  isSubgrid: boolean;\n  isMasonry: boolean;\n  isContainer: boolean;\n  hasScroll: boolean;\n}\n\nexport class CSSModel extends SDKModel<EventTypes> {\n  readonly agent: ProtocolProxyApi.CSSApi;\n  readonly #domModel: DOMModel;\n  readonly #fontFaces = new Map<string, CSSFontFace>();\n  readonly #originalStyleSheetText = new Map<CSSStyleSheetHeader, Promise<string|null>>();\n  readonly #resourceTreeModel: ResourceTreeModel|null;\n  readonly #sourceMapManager: SourceMapManager<CSSStyleSheetHeader>;\n  readonly #styleLoader: ComputedStyleLoader;\n  readonly #stylePollingThrottler = new Common.Throttler.Throttler(StylePollingInterval);\n  readonly #styleSheetIdsForURL =\n      new Map<Platform.DevToolsPath.UrlString, Map<string, Set<Protocol.CSS.StyleSheetId>>>();\n  readonly #styleSheetIdToHeader = new Map<Protocol.CSS.StyleSheetId, CSSStyleSheetHeader>();\n  #cachedMatchedCascadeNode: DOMNode|null = null;\n  #cachedMatchedCascadePromise: Promise<CSSMatchedStyles|null>|null = null;\n  #cssPropertyTracker: CSSPropertyTracker|null = null;\n  #isCSSPropertyTrackingEnabled = false;\n  #isEnabled = false;\n  #isRuleUsageTrackingEnabled = false;\n  #isTrackingRequestPending = false;\n  #colorScheme: ColorScheme|undefined;\n\n  constructor(target: Target) {\n    super(target);\n    this.#domModel = (target.model(DOMModel) as DOMModel);\n    this.#sourceMapManager = new SourceMapManager(target);\n    this.agent = target.cssAgent();\n    this.#styleLoader = new ComputedStyleLoader(this);\n    this.#resourceTreeModel = target.model(ResourceTreeModel);\n    if (this.#resourceTreeModel) {\n      this.#resourceTreeModel.addEventListener(\n          ResourceTreeModelEvents.PrimaryPageChanged, this.onPrimaryPageChanged, this);\n    }\n    target.registerCSSDispatcher(new CSSDispatcher(this));\n    if (!target.suspended()) {\n      void this.enable();\n    }\n\n    this.#sourceMapManager.setEnabled(\n        Common.Settings.Settings.instance().moduleSetting<boolean>('css-source-maps-enabled').get());\n    Common.Settings.Settings.instance()\n        .moduleSetting<boolean>('css-source-maps-enabled')\n        .addChangeListener(event => this.#sourceMapManager.setEnabled(event.data));\n  }\n\n  async colorScheme(): Promise<ColorScheme|undefined> {\n    if (!this.#colorScheme) {\n      const colorSchemeResponse = await this.domModel()?.target().runtimeAgent().invoke_evaluate(\n          {expression: 'window.matchMedia && window.matchMedia(\"(prefers-color-scheme: dark)\").matches'});\n      if (colorSchemeResponse && !colorSchemeResponse.exceptionDetails && !colorSchemeResponse.getError()) {\n        this.#colorScheme = colorSchemeResponse.result.value ? ColorScheme.DARK : ColorScheme.LIGHT;\n      }\n    }\n    return this.#colorScheme;\n  }\n\n  async resolveValues(propertyName: string|undefined, nodeId: Protocol.DOM.NodeId, ...values: string[]):\n      Promise<string[]|null> {\n    if (propertyName && cssMetadata().getLonghands(propertyName)?.length) {\n      return null;\n    }\n    const response = await this.agent.invoke_resolveValues({values, nodeId, propertyName});\n    if (response.getError()) {\n      return null;\n    }\n    return response.results;\n  }\n\n  headersForSourceURL(sourceURL: Platform.DevToolsPath.UrlString): CSSStyleSheetHeader[] {\n    const headers = [];\n    for (const headerId of this.getStyleSheetIdsForURL(sourceURL)) {\n      const header = this.styleSheetHeaderForId(headerId);\n      if (header) {\n        headers.push(header);\n      }\n    }\n    return headers;\n  }\n\n  createRawLocationsByURL(\n      sourceURL: Platform.DevToolsPath.UrlString, lineNumber: number,\n      columnNumber: number|undefined = 0): CSSLocation[] {\n    const headers = this.headersForSourceURL(sourceURL);\n    headers.sort(stylesheetComparator);\n    const endIndex = Platform.ArrayUtilities.upperBound(\n        headers, undefined, (_, header) => lineNumber - header.startLine || columnNumber - header.startColumn);\n    if (!endIndex) {\n      return [];\n    }\n    const locations = [];\n    const last = headers[endIndex - 1];\n    for (let index = endIndex - 1;\n         index >= 0 && headers[index].startLine === last.startLine && headers[index].startColumn === last.startColumn;\n         --index) {\n      if (headers[index].containsLocation(lineNumber, columnNumber)) {\n        locations.push(new CSSLocation(headers[index], lineNumber, columnNumber));\n      }\n    }\n\n    return locations;\n    function stylesheetComparator(a: CSSStyleSheetHeader, b: CSSStyleSheetHeader): number {\n      return a.startLine - b.startLine || a.startColumn - b.startColumn || a.id.localeCompare(b.id);\n    }\n  }\n\n  sourceMapManager(): SourceMapManager<CSSStyleSheetHeader> {\n    return this.#sourceMapManager;\n  }\n\n  static readableLayerName(text: string): string {\n    return text || '<anonymous>';\n  }\n\n  static trimSourceURL(text: string): string {\n    let sourceURLIndex = text.lastIndexOf('/*# sourceURL=');\n    if (sourceURLIndex === -1) {\n      sourceURLIndex = text.lastIndexOf('/*@ sourceURL=');\n      if (sourceURLIndex === -1) {\n        return text;\n      }\n    }\n    const sourceURLLineIndex = text.lastIndexOf('\\n', sourceURLIndex);\n    if (sourceURLLineIndex === -1) {\n      return text;\n    }\n    const sourceURLLine = text.substr(sourceURLLineIndex + 1).split('\\n', 1)[0];\n    const sourceURLRegex = /[\\x20\\t]*\\/\\*[#@] sourceURL=[\\x20\\t]*([^\\s]*)[\\x20\\t]*\\*\\/[\\x20\\t]*$/;\n    if (sourceURLLine.search(sourceURLRegex) === -1) {\n      return text;\n    }\n    return text.substr(0, sourceURLLineIndex) + text.substr(sourceURLLineIndex + sourceURLLine.length + 1);\n  }\n\n  domModel(): DOMModel {\n    return this.#domModel;\n  }\n\n  async trackComputedStyleUpdatesForNode(nodeId: Protocol.DOM.NodeId|undefined): Promise<void> {\n    await this.agent.invoke_trackComputedStyleUpdatesForNode({nodeId});\n  }\n\n  async setStyleText(\n      styleSheetId: Protocol.CSS.StyleSheetId, range: TextUtils.TextRange.TextRange, text: string,\n      majorChange: boolean): Promise<boolean> {\n    try {\n      await this.ensureOriginalStyleSheetText(styleSheetId);\n\n      const {styles} =\n          await this.agent.invoke_setStyleTexts({edits: [{styleSheetId, range: range.serializeToObject(), text}]});\n      if (!styles || styles.length !== 1) {\n        return false;\n      }\n\n      this.#domModel.markUndoableState(!majorChange);\n      const edit = new Edit(styleSheetId, range, text, styles[0]);\n      this.fireStyleSheetChanged(styleSheetId, edit);\n      return true;\n    } catch (e) {\n      console.error(e);\n      return false;\n    }\n  }\n\n  async setSelectorText(styleSheetId: Protocol.CSS.StyleSheetId, range: TextUtils.TextRange.TextRange, text: string):\n      Promise<boolean> {\n    Host.userMetrics.actionTaken(Host.UserMetrics.Action.StyleRuleEdited);\n\n    try {\n      await this.ensureOriginalStyleSheetText(styleSheetId);\n      const {selectorList} = await this.agent.invoke_setRuleSelector({styleSheetId, range, selector: text});\n\n      if (!selectorList) {\n        return false;\n      }\n      this.#domModel.markUndoableState();\n      const edit = new Edit(styleSheetId, range, text, selectorList);\n      this.fireStyleSheetChanged(styleSheetId, edit);\n      return true;\n    } catch (e) {\n      console.error(e);\n      return false;\n    }\n  }\n\n  async setPropertyRulePropertyName(\n      styleSheetId: Protocol.CSS.StyleSheetId, range: TextUtils.TextRange.TextRange, text: string): Promise<boolean> {\n    Host.userMetrics.actionTaken(Host.UserMetrics.Action.StyleRuleEdited);\n\n    try {\n      await this.ensureOriginalStyleSheetText(styleSheetId);\n      const {propertyName} =\n          await this.agent.invoke_setPropertyRulePropertyName({styleSheetId, range, propertyName: text});\n\n      if (!propertyName) {\n        return false;\n      }\n      this.#domModel.markUndoableState();\n      const edit = new Edit(styleSheetId, range, text, propertyName);\n      this.fireStyleSheetChanged(styleSheetId, edit);\n      return true;\n    } catch (e) {\n      console.error(e);\n      return false;\n    }\n  }\n\n  async setKeyframeKey(styleSheetId: Protocol.CSS.StyleSheetId, range: TextUtils.TextRange.TextRange, text: string):\n      Promise<boolean> {\n    Host.userMetrics.actionTaken(Host.UserMetrics.Action.StyleRuleEdited);\n\n    try {\n      await this.ensureOriginalStyleSheetText(styleSheetId);\n      const {keyText} = await this.agent.invoke_setKeyframeKey({styleSheetId, range, keyText: text});\n\n      if (!keyText) {\n        return false;\n      }\n      this.#domModel.markUndoableState();\n      const edit = new Edit(styleSheetId, range, text, keyText);\n      this.fireStyleSheetChanged(styleSheetId, edit);\n      return true;\n    } catch (e) {\n      console.error(e);\n      return false;\n    }\n  }\n\n  startCoverage(): Promise<Protocol.ProtocolResponseWithError> {\n    this.#isRuleUsageTrackingEnabled = true;\n    return this.agent.invoke_startRuleUsageTracking();\n  }\n\n  async takeCoverageDelta(): Promise<{\n    timestamp: number,\n    coverage: Protocol.CSS.RuleUsage[],\n  }> {\n    const r = await this.agent.invoke_takeCoverageDelta();\n    const timestamp = (r?.timestamp) || 0;\n    const coverage = (r?.coverage) || [];\n    return {timestamp, coverage};\n  }\n\n  setLocalFontsEnabled(enabled: boolean): Promise<Protocol.ProtocolResponseWithError> {\n    return this.agent.invoke_setLocalFontsEnabled({\n      enabled,\n    });\n  }\n\n  async stopCoverage(): Promise<void> {\n    this.#isRuleUsageTrackingEnabled = false;\n    await this.agent.invoke_stopRuleUsageTracking();\n  }\n\n  async getMediaQueries(): Promise<CSSMedia[]> {\n    const {medias} = await this.agent.invoke_getMediaQueries();\n    return medias ? CSSMedia.parseMediaArrayPayload(this, medias) : [];\n  }\n\n  async getRootLayer(nodeId: Protocol.DOM.NodeId): Promise<Protocol.CSS.CSSLayerData> {\n    const {rootLayer} = await this.agent.invoke_getLayersForNode({nodeId});\n    return rootLayer;\n  }\n\n  isEnabled(): boolean {\n    return this.#isEnabled;\n  }\n\n  private async enable(): Promise<void> {\n    await this.agent.invoke_enable();\n    this.#isEnabled = true;\n    if (this.#isRuleUsageTrackingEnabled) {\n      await this.startCoverage();\n    }\n    this.dispatchEventToListeners(Events.ModelWasEnabled);\n  }\n\n  async getAnimatedStylesForNode(nodeId: Protocol.DOM.NodeId):\n      Promise<Protocol.CSS.GetAnimatedStylesForNodeResponse|null> {\n    const response = await this.agent.invoke_getAnimatedStylesForNode({nodeId});\n    if (response.getError()) {\n      return null;\n    }\n\n    return response;\n  }\n\n  async getMatchedStyles(nodeId: Protocol.DOM.NodeId): Promise<CSSMatchedStyles|null> {\n    const node = this.#domModel.nodeForId(nodeId);\n    if (!node) {\n      return null;\n    }\n\n    const shouldGetAnimatedStyles = Root.Runtime.hostConfig.devToolsAnimationStylesInStylesTab?.enabled;\n    const [matchedStylesResponse, animatedStylesResponse] = await Promise.all([\n      this.agent.invoke_getMatchedStylesForNode({nodeId}),\n      shouldGetAnimatedStyles ? this.agent.invoke_getAnimatedStylesForNode({nodeId}) : undefined,\n    ]);\n\n    if (matchedStylesResponse.getError()) {\n      return null;\n    }\n\n    const payload = {\n      cssModel: this,\n      node,\n      inlinePayload: matchedStylesResponse.inlineStyle || null,\n      attributesPayload: matchedStylesResponse.attributesStyle || null,\n      matchedPayload: matchedStylesResponse.matchedCSSRules || [],\n      pseudoPayload: matchedStylesResponse.pseudoElements || [],\n      inheritedPayload: matchedStylesResponse.inherited || [],\n      inheritedPseudoPayload: matchedStylesResponse.inheritedPseudoElements || [],\n      animationsPayload: matchedStylesResponse.cssKeyframesRules || [],\n      parentLayoutNodeId: matchedStylesResponse.parentLayoutNodeId,\n      positionTryRules: matchedStylesResponse.cssPositionTryRules || [],\n      propertyRules: matchedStylesResponse.cssPropertyRules ?? [],\n      functionRules: matchedStylesResponse.cssFunctionRules ?? [],\n      cssPropertyRegistrations: matchedStylesResponse.cssPropertyRegistrations ?? [],\n      fontPaletteValuesRule: matchedStylesResponse.cssFontPaletteValuesRule,\n      activePositionFallbackIndex: matchedStylesResponse.activePositionFallbackIndex ?? -1,\n      animationStylesPayload: animatedStylesResponse?.animationStyles || [],\n      inheritedAnimatedPayload: animatedStylesResponse?.inherited || [],\n      transitionsStylePayload: animatedStylesResponse?.transitionsStyle || null,\n    };\n    return await CSSMatchedStyles.create(payload);\n  }\n\n  async getClassNames(styleSheetId: Protocol.CSS.StyleSheetId): Promise<string[]> {\n    const {classNames} = await this.agent.invoke_collectClassNames({styleSheetId});\n    return classNames || [];\n  }\n\n  async getComputedStyle(nodeId: Protocol.DOM.NodeId): Promise<Map<string, string>|null> {\n    if (!this.isEnabled()) {\n      await this.enable();\n    }\n    return await this.#styleLoader.computedStylePromise(nodeId);\n  }\n\n  async getLayoutPropertiesFromComputedStyle(nodeId: Protocol.DOM.NodeId): Promise<LayoutProperties|null> {\n    const styles = await this.getComputedStyle(nodeId);\n    if (!styles) {\n      return null;\n    }\n\n    const display = styles.get('display');\n    const isFlex = display === 'flex' || display === 'inline-flex';\n    const isGrid = display === 'grid' || display === 'inline-grid';\n    const isSubgrid = (isGrid &&\n                       (styles.get('grid-template-columns')?.startsWith('subgrid') ||\n                        styles.get('grid-template-rows')?.startsWith('subgrid'))) ??\n        false;\n    const isMasonry = display === 'masonry' || display === 'inline-masonry';\n    const containerType = styles.get('container-type');\n    const isContainer = Boolean(containerType) && containerType !== '' && containerType !== 'normal';\n    const hasScroll = Boolean(styles.get('scroll-snap-type')) && styles.get('scroll-snap-type') !== 'none';\n\n    return {\n      isFlex,\n      isGrid,\n      isSubgrid,\n      isMasonry,\n      isContainer,\n      hasScroll,\n    };\n  }\n\n  async getEnvironmentVariables(): Promise<Record<string, string>> {\n    const response = await this.agent.invoke_getEnvironmentVariables();\n    if (response.getError()) {\n      return {};\n    }\n    return response.environmentVariables;\n  }\n\n  async getBackgroundColors(nodeId: Protocol.DOM.NodeId): Promise<ContrastInfo|null> {\n    const response = await this.agent.invoke_getBackgroundColors({nodeId});\n    if (response.getError()) {\n      return null;\n    }\n\n    return {\n      backgroundColors: response.backgroundColors || null,\n      computedFontSize: response.computedFontSize || '',\n      computedFontWeight: response.computedFontWeight || '',\n    };\n  }\n\n  async getPlatformFonts(nodeId: Protocol.DOM.NodeId): Promise<Protocol.CSS.PlatformFontUsage[]|null> {\n    const {fonts} = await this.agent.invoke_getPlatformFontsForNode({nodeId});\n    return fonts;\n  }\n\n  allStyleSheets(): CSSStyleSheetHeader[] {\n    const values = [...this.#styleSheetIdToHeader.values()];\n    function styleSheetComparator(a: CSSStyleSheetHeader, b: CSSStyleSheetHeader): number {\n      if (a.sourceURL < b.sourceURL) {\n        return -1;\n      }\n      if (a.sourceURL > b.sourceURL) {\n        return 1;\n      }\n      return a.startLine - b.startLine || a.startColumn - b.startColumn;\n    }\n    values.sort(styleSheetComparator);\n\n    return values;\n  }\n\n  async getInlineStyles(nodeId: Protocol.DOM.NodeId): Promise<InlineStyleResult|null> {\n    const response = await this.agent.invoke_getInlineStylesForNode({nodeId});\n\n    if (response.getError() || !response.inlineStyle) {\n      return null;\n    }\n    const inlineStyle = new CSSStyleDeclaration(this, null, response.inlineStyle, Type.Inline);\n    const attributesStyle = response.attributesStyle ?\n        new CSSStyleDeclaration(this, null, response.attributesStyle, Type.Attributes) :\n        null;\n    return new InlineStyleResult(inlineStyle, attributesStyle);\n  }\n\n  forceStartingStyle(node: DOMNode, forced: boolean): boolean {\n    void this.agent.invoke_forceStartingStyle({nodeId: node.id, forced});\n    this.dispatchEventToListeners(Events.StartingStylesStateForced, node);\n    return true;\n  }\n\n  forcePseudoState(node: DOMNode, pseudoClass: string, enable: boolean): boolean {\n    const forcedPseudoClasses = node.marker<string[]>(PseudoStateMarker) || [];\n    const hasPseudoClass = forcedPseudoClasses.includes(pseudoClass);\n    if (enable) {\n      if (hasPseudoClass) {\n        return false;\n      }\n      forcedPseudoClasses.push(pseudoClass);\n      node.setMarker(PseudoStateMarker, forcedPseudoClasses);\n    } else {\n      if (!hasPseudoClass) {\n        return false;\n      }\n      Platform.ArrayUtilities.removeElement(forcedPseudoClasses, pseudoClass);\n      if (forcedPseudoClasses.length) {\n        node.setMarker(PseudoStateMarker, forcedPseudoClasses);\n      } else {\n        node.setMarker(PseudoStateMarker, null);\n      }\n    }\n\n    if (node.id === undefined) {\n      return false;\n    }\n    void this.agent.invoke_forcePseudoState({nodeId: node.id, forcedPseudoClasses});\n    this.dispatchEventToListeners(Events.PseudoStateForced, {node, pseudoClass, enable});\n    return true;\n  }\n\n  pseudoState(node: DOMNode): string[]|null {\n    return node.marker(PseudoStateMarker) || [];\n  }\n\n  async setMediaText(\n      styleSheetId: Protocol.CSS.StyleSheetId, range: TextUtils.TextRange.TextRange,\n      newMediaText: string): Promise<boolean> {\n    Host.userMetrics.actionTaken(Host.UserMetrics.Action.StyleRuleEdited);\n\n    try {\n      await this.ensureOriginalStyleSheetText(styleSheetId);\n      const {media} = await this.agent.invoke_setMediaText({styleSheetId, range, text: newMediaText});\n\n      if (!media) {\n        return false;\n      }\n      this.#domModel.markUndoableState();\n      const edit = new Edit(styleSheetId, range, newMediaText, media);\n      this.fireStyleSheetChanged(styleSheetId, edit);\n      return true;\n    } catch (e) {\n      console.error(e);\n      return false;\n    }\n  }\n\n  async setContainerQueryText(\n      styleSheetId: Protocol.CSS.StyleSheetId, range: TextUtils.TextRange.TextRange,\n      newContainerQueryText: string): Promise<boolean> {\n    Host.userMetrics.actionTaken(Host.UserMetrics.Action.StyleRuleEdited);\n\n    try {\n      await this.ensureOriginalStyleSheetText(styleSheetId);\n      const {containerQuery} =\n          await this.agent.invoke_setContainerQueryText({styleSheetId, range, text: newContainerQueryText});\n\n      if (!containerQuery) {\n        return false;\n      }\n      this.#domModel.markUndoableState();\n      const edit = new Edit(styleSheetId, range, newContainerQueryText, containerQuery);\n      this.fireStyleSheetChanged(styleSheetId, edit);\n      return true;\n    } catch (e) {\n      console.error(e);\n      return false;\n    }\n  }\n\n  async setSupportsText(\n      styleSheetId: Protocol.CSS.StyleSheetId, range: TextUtils.TextRange.TextRange,\n      newSupportsText: string): Promise<boolean> {\n    Host.userMetrics.actionTaken(Host.UserMetrics.Action.StyleRuleEdited);\n\n    try {\n      await this.ensureOriginalStyleSheetText(styleSheetId);\n      const {supports} = await this.agent.invoke_setSupportsText({styleSheetId, range, text: newSupportsText});\n\n      if (!supports) {\n        return false;\n      }\n      this.#domModel.markUndoableState();\n      const edit = new Edit(styleSheetId, range, newSupportsText, supports);\n      this.fireStyleSheetChanged(styleSheetId, edit);\n      return true;\n    } catch (e) {\n      console.error(e);\n      return false;\n    }\n  }\n\n  async setScopeText(\n      styleSheetId: Protocol.CSS.StyleSheetId, range: TextUtils.TextRange.TextRange,\n      newScopeText: string): Promise<boolean> {\n    Host.userMetrics.actionTaken(Host.UserMetrics.Action.StyleRuleEdited);\n\n    try {\n      await this.ensureOriginalStyleSheetText(styleSheetId);\n      const {scope} = await this.agent.invoke_setScopeText({styleSheetId, range, text: newScopeText});\n\n      if (!scope) {\n        return false;\n      }\n      this.#domModel.markUndoableState();\n      const edit = new Edit(styleSheetId, range, newScopeText, scope);\n      this.fireStyleSheetChanged(styleSheetId, edit);\n      return true;\n    } catch (e) {\n      console.error(e);\n      return false;\n    }\n  }\n\n  async addRule(styleSheetId: Protocol.CSS.StyleSheetId, ruleText: string, ruleLocation: TextUtils.TextRange.TextRange):\n      Promise<CSSStyleRule|null> {\n    try {\n      await this.ensureOriginalStyleSheetText(styleSheetId);\n      const {rule} = await this.agent.invoke_addRule({styleSheetId, ruleText, location: ruleLocation});\n\n      if (!rule) {\n        return null;\n      }\n      this.#domModel.markUndoableState();\n      const edit = new Edit(styleSheetId, ruleLocation, ruleText, rule);\n      this.fireStyleSheetChanged(styleSheetId, edit);\n      return new CSSStyleRule(this, rule);\n    } catch (e) {\n      console.error(e);\n      return null;\n    }\n  }\n\n  async requestViaInspectorStylesheet(maybeFrameId?: Protocol.Page.FrameId|null): Promise<CSSStyleSheetHeader|null> {\n    const frameId = maybeFrameId ||\n        (this.#resourceTreeModel && this.#resourceTreeModel.mainFrame ? this.#resourceTreeModel.mainFrame.id : null);\n    const headers = [...this.#styleSheetIdToHeader.values()];\n    const styleSheetHeader = headers.find(header => header.frameId === frameId && header.isViaInspector());\n    if (styleSheetHeader) {\n      return styleSheetHeader;\n    }\n    if (!frameId) {\n      return null;\n    }\n\n    try {\n      return await this.createInspectorStylesheet(frameId);\n    } catch (e) {\n      console.error(e);\n      return null;\n    }\n  }\n\n  async createInspectorStylesheet(frameId: Protocol.Page.FrameId, force = false): Promise<CSSStyleSheetHeader|null> {\n    const result = await this.agent.invoke_createStyleSheet({frameId, force});\n    if (result.getError()) {\n      throw new Error(result.getError());\n    }\n    return this.#styleSheetIdToHeader.get(result.styleSheetId) || null;\n  }\n\n  mediaQueryResultChanged(): void {\n    this.#colorScheme = undefined;\n    this.dispatchEventToListeners(Events.MediaQueryResultChanged);\n  }\n\n  fontsUpdated(fontFace?: Protocol.CSS.FontFace|null): void {\n    if (fontFace) {\n      this.#fontFaces.set(fontFace.src, new CSSFontFace(fontFace));\n    }\n    this.dispatchEventToListeners(Events.FontsUpdated);\n  }\n\n  fontFaces(): CSSFontFace[] {\n    return [...this.#fontFaces.values()];\n  }\n\n  fontFaceForSource(src: string): CSSFontFace|undefined {\n    return this.#fontFaces.get(src);\n  }\n\n  styleSheetHeaderForId(id: Protocol.CSS.StyleSheetId): CSSStyleSheetHeader|null {\n    return this.#styleSheetIdToHeader.get(id) || null;\n  }\n\n  styleSheetHeaders(): CSSStyleSheetHeader[] {\n    return [...this.#styleSheetIdToHeader.values()];\n  }\n\n  fireStyleSheetChanged(styleSheetId: Protocol.CSS.StyleSheetId, edit?: Edit): void {\n    this.dispatchEventToListeners(Events.StyleSheetChanged, {styleSheetId, edit});\n  }\n\n  private ensureOriginalStyleSheetText(styleSheetId: Protocol.CSS.StyleSheetId): Promise<string|null> {\n    const header = this.styleSheetHeaderForId(styleSheetId);\n    if (!header) {\n      return Promise.resolve(null);\n    }\n    let promise = this.#originalStyleSheetText.get(header);\n    if (!promise) {\n      promise = this.getStyleSheetText(header.id);\n      this.#originalStyleSheetText.set(header, promise);\n      this.originalContentRequestedForTest(header);\n    }\n    return promise;\n  }\n\n  private originalContentRequestedForTest(_header: CSSStyleSheetHeader): void {\n  }\n\n  originalStyleSheetText(header: CSSStyleSheetHeader): Promise<string|null> {\n    return this.ensureOriginalStyleSheetText(header.id);\n  }\n\n  getAllStyleSheetHeaders(): Iterable<CSSStyleSheetHeader> {\n    return this.#styleSheetIdToHeader.values();\n  }\n\n  computedStyleUpdated(nodeId: Protocol.DOM.NodeId): void {\n    this.dispatchEventToListeners(Events.ComputedStyleUpdated, {nodeId});\n  }\n\n  styleSheetAdded(header: Protocol.CSS.CSSStyleSheetHeader): void {\n    console.assert(!this.#styleSheetIdToHeader.get(header.styleSheetId));\n    if (header.loadingFailed) {\n      // When the stylesheet fails to load, treat it as a constructed stylesheet. Failed sheets can still be modified\n      // from JS, in which case CSS.styleSheetChanged events are sent. So as to not confuse CSSModel clients we don't\n      // just discard the failed sheet here. Treating the failed sheet as a constructed stylesheet lets us keep track\n      // of it cleanly.\n      header.hasSourceURL = false;\n      header.isConstructed = true;\n      header.isInline = false;\n      header.isMutable = false;\n      header.sourceURL = '';\n      header.sourceMapURL = undefined;\n    }\n    const styleSheetHeader = new CSSStyleSheetHeader(this, header);\n    this.#styleSheetIdToHeader.set(header.styleSheetId, styleSheetHeader);\n    const url = styleSheetHeader.resourceURL();\n    let frameIdToStyleSheetIds = this.#styleSheetIdsForURL.get(url);\n    if (!frameIdToStyleSheetIds) {\n      frameIdToStyleSheetIds = new Map();\n      this.#styleSheetIdsForURL.set(url, frameIdToStyleSheetIds);\n    }\n    if (frameIdToStyleSheetIds) {\n      let styleSheetIds = frameIdToStyleSheetIds.get(styleSheetHeader.frameId);\n      if (!styleSheetIds) {\n        styleSheetIds = new Set();\n        frameIdToStyleSheetIds.set(styleSheetHeader.frameId, styleSheetIds);\n      }\n      styleSheetIds.add(styleSheetHeader.id);\n    }\n    this.#sourceMapManager.attachSourceMap(styleSheetHeader, styleSheetHeader.sourceURL, styleSheetHeader.sourceMapURL);\n    this.dispatchEventToListeners(Events.StyleSheetAdded, styleSheetHeader);\n  }\n\n  styleSheetRemoved(id: Protocol.CSS.StyleSheetId): void {\n    const header = this.#styleSheetIdToHeader.get(id);\n    console.assert(Boolean(header));\n    if (!header) {\n      return;\n    }\n    this.#styleSheetIdToHeader.delete(id);\n    const url = header.resourceURL();\n    const frameIdToStyleSheetIds = this.#styleSheetIdsForURL.get(url);\n    console.assert(\n        Boolean(frameIdToStyleSheetIds), 'No frameId to styleSheetId map is available for given style sheet URL.');\n    if (frameIdToStyleSheetIds) {\n      const stylesheetIds = frameIdToStyleSheetIds.get(header.frameId);\n      if (stylesheetIds) {\n        stylesheetIds.delete(id);\n        if (!stylesheetIds.size) {\n          frameIdToStyleSheetIds.delete(header.frameId);\n          if (!frameIdToStyleSheetIds.size) {\n            this.#styleSheetIdsForURL.delete(url);\n          }\n        }\n      }\n    }\n    this.#originalStyleSheetText.delete(header);\n    this.#sourceMapManager.detachSourceMap(header);\n    this.dispatchEventToListeners(Events.StyleSheetRemoved, header);\n  }\n\n  getStyleSheetIdsForURL(url: Platform.DevToolsPath.UrlString): Protocol.CSS.StyleSheetId[] {\n    const frameIdToStyleSheetIds = this.#styleSheetIdsForURL.get(url);\n    if (!frameIdToStyleSheetIds) {\n      return [];\n    }\n\n    const result = [];\n    for (const styleSheetIds of frameIdToStyleSheetIds.values()) {\n      result.push(...styleSheetIds);\n    }\n    return result;\n  }\n\n  async setStyleSheetText(styleSheetId: Protocol.CSS.StyleSheetId, newText: string, majorChange: boolean):\n      Promise<string|null> {\n    const header = this.#styleSheetIdToHeader.get(styleSheetId);\n    if (!header) {\n      return 'Unknown stylesheet in CSS.setStyleSheetText';\n    }\n    newText = CSSModel.trimSourceURL(newText);\n    if (header.hasSourceURL) {\n      newText += '\\n/*# sourceURL=' + header.sourceURL + ' */';\n    }\n\n    await this.ensureOriginalStyleSheetText(styleSheetId);\n    const response = await this.agent.invoke_setStyleSheetText({styleSheetId: header.id, text: newText});\n    const sourceMapURL = response.sourceMapURL as Platform.DevToolsPath.UrlString;\n\n    this.#sourceMapManager.detachSourceMap(header);\n    header.setSourceMapURL(sourceMapURL);\n    this.#sourceMapManager.attachSourceMap(header, header.sourceURL, header.sourceMapURL);\n    if (sourceMapURL === null) {\n      return 'Error in CSS.setStyleSheetText';\n    }\n    this.#domModel.markUndoableState(!majorChange);\n    this.fireStyleSheetChanged(styleSheetId);\n    return null;\n  }\n\n  async getStyleSheetText(styleSheetId: Protocol.CSS.StyleSheetId): Promise<string|null> {\n    const response = await this.agent.invoke_getStyleSheetText({styleSheetId});\n    if (response.getError()) {\n      return null;\n    }\n    const {text} = response;\n    return text && CSSModel.trimSourceURL(text);\n  }\n\n  private async onPrimaryPageChanged(\n      event: Common.EventTarget.EventTargetEvent<{frame: ResourceTreeFrame, type: PrimaryPageChangeType}>):\n      Promise<void> {\n    // If the main frame was restored from the back-forward cache, the order of CDP\n    // is different from the regular navigations. In this case, events about CSS\n    // stylesheet has already been received and they are mixed with the previous page\n    // stylesheets. Therefore, we re-enable the CSS agent to get fresh events.\n    // For the regular navigations, we can just clear the local data because events about\n    // stylesheets will arrive later.\n    if (event.data.frame.backForwardCacheDetails.restoredFromCache) {\n      await this.suspendModel();\n      await this.resumeModel();\n    } else if (event.data.type !== PrimaryPageChangeType.ACTIVATION) {\n      this.resetStyleSheets();\n      this.resetFontFaces();\n    }\n  }\n\n  private resetStyleSheets(): void {\n    const headers = [...this.#styleSheetIdToHeader.values()];\n    this.#styleSheetIdsForURL.clear();\n    this.#styleSheetIdToHeader.clear();\n    for (const header of headers) {\n      this.#sourceMapManager.detachSourceMap(header);\n      this.dispatchEventToListeners(Events.StyleSheetRemoved, header);\n    }\n  }\n\n  private resetFontFaces(): void {\n    this.#fontFaces.clear();\n  }\n\n  override async suspendModel(): Promise<void> {\n    this.#isEnabled = false;\n    await this.agent.invoke_disable();\n    this.resetStyleSheets();\n    this.resetFontFaces();\n  }\n\n  override async resumeModel(): Promise<void> {\n    return await this.enable();\n  }\n\n  setEffectivePropertyValueForNode(nodeId: Protocol.DOM.NodeId, propertyName: string, value: string): void {\n    void this.agent.invoke_setEffectivePropertyValueForNode({nodeId, propertyName, value});\n  }\n\n  cachedMatchedCascadeForNode(node: DOMNode): Promise<CSSMatchedStyles|null> {\n    if (this.#cachedMatchedCascadeNode !== node) {\n      this.discardCachedMatchedCascade();\n    }\n    this.#cachedMatchedCascadeNode = node;\n    if (!this.#cachedMatchedCascadePromise) {\n      if (node.id) {\n        this.#cachedMatchedCascadePromise = this.getMatchedStyles(node.id);\n      } else {\n        return Promise.resolve(null);\n      }\n    }\n    return this.#cachedMatchedCascadePromise;\n  }\n\n  discardCachedMatchedCascade(): void {\n    this.#cachedMatchedCascadeNode = null;\n    this.#cachedMatchedCascadePromise = null;\n  }\n\n  createCSSPropertyTracker(propertiesToTrack: Protocol.CSS.CSSComputedStyleProperty[]): CSSPropertyTracker {\n    const cssPropertyTracker = new CSSPropertyTracker(this, propertiesToTrack);\n    return cssPropertyTracker;\n  }\n\n  enableCSSPropertyTracker(cssPropertyTracker: CSSPropertyTracker): void {\n    const propertiesToTrack = cssPropertyTracker.getTrackedProperties();\n    if (propertiesToTrack.length === 0) {\n      return;\n    }\n    void this.agent.invoke_trackComputedStyleUpdates({propertiesToTrack});\n    this.#isCSSPropertyTrackingEnabled = true;\n    this.#cssPropertyTracker = cssPropertyTracker;\n    void this.pollComputedStyleUpdates();\n  }\n\n  // Since we only support one tracker at a time, this call effectively disables\n  // style tracking.\n  disableCSSPropertyTracker(): void {\n    this.#isCSSPropertyTrackingEnabled = false;\n    this.#cssPropertyTracker = null;\n    // Sending an empty list to the backend signals the close of style tracking\n    void this.agent.invoke_trackComputedStyleUpdates({propertiesToTrack: []});\n  }\n\n  private async pollComputedStyleUpdates(): Promise<void> {\n    if (this.#isTrackingRequestPending) {\n      return;\n    }\n\n    if (this.#isCSSPropertyTrackingEnabled) {\n      this.#isTrackingRequestPending = true;\n      const result = await this.agent.invoke_takeComputedStyleUpdates();\n      this.#isTrackingRequestPending = false;\n\n      if (result.getError() || !result.nodeIds || !this.#isCSSPropertyTrackingEnabled) {\n        return;\n      }\n\n      if (this.#cssPropertyTracker) {\n        this.#cssPropertyTracker.dispatchEventToListeners(\n            CSSPropertyTrackerEvents.TRACKED_CSS_PROPERTIES_UPDATED,\n            result.nodeIds.map(nodeId => this.#domModel.nodeForId(nodeId)));\n      }\n    }\n\n    if (this.#isCSSPropertyTrackingEnabled) {\n      void this.#stylePollingThrottler.schedule(this.pollComputedStyleUpdates.bind(this));\n    }\n  }\n\n  override dispose(): void {\n    this.disableCSSPropertyTracker();\n    super.dispose();\n    this.dispatchEventToListeners(Events.ModelDisposed, this);\n  }\n\n  getAgent(): ProtocolProxyApi.CSSApi {\n    return this.agent;\n  }\n}\n\nexport enum Events {\n  /* eslint-disable @typescript-eslint/naming-convention -- Used by web_tests. */\n  FontsUpdated = 'FontsUpdated',\n  MediaQueryResultChanged = 'MediaQueryResultChanged',\n  ModelWasEnabled = 'ModelWasEnabled',\n  ModelDisposed = 'ModelDisposed',\n  PseudoStateForced = 'PseudoStateForced',\n  StartingStylesStateForced = 'StartingStylesStateForced',\n  StyleSheetAdded = 'StyleSheetAdded',\n  StyleSheetChanged = 'StyleSheetChanged',\n  StyleSheetRemoved = 'StyleSheetRemoved',\n  ComputedStyleUpdated = 'ComputedStyleUpdated',\n  /* eslint-enable @typescript-eslint/naming-convention */\n}\n\nexport interface StyleSheetChangedEvent {\n  styleSheetId: Protocol.CSS.StyleSheetId;\n  edit?: Edit;\n}\n\nexport interface PseudoStateForcedEvent {\n  node: DOMNode;\n  pseudoClass: string;\n  enable: boolean;\n}\n\nexport interface ComputedStyleUpdatedEvent {\n  nodeId: Protocol.DOM.NodeId;\n}\n\nexport interface EventTypes {\n  [Events.FontsUpdated]: void;\n  [Events.MediaQueryResultChanged]: void;\n  [Events.ModelWasEnabled]: void;\n  [Events.ModelDisposed]: CSSModel;\n  [Events.PseudoStateForced]: PseudoStateForcedEvent;\n  [Events.StartingStylesStateForced]: DOMNode;\n  [Events.StyleSheetAdded]: CSSStyleSheetHeader;\n  [Events.StyleSheetChanged]: StyleSheetChangedEvent;\n  [Events.StyleSheetRemoved]: CSSStyleSheetHeader;\n  [Events.ComputedStyleUpdated]: ComputedStyleUpdatedEvent;\n}\n\nconst PseudoStateMarker = 'pseudo-state-marker';\n\nexport class Edit {\n  styleSheetId: string;\n  oldRange: TextUtils.TextRange.TextRange;\n  newRange: TextUtils.TextRange.TextRange;\n  newText: string;\n  payload: Object|null;\n  constructor(styleSheetId: string, oldRange: TextUtils.TextRange.TextRange, newText: string, payload: Object|null) {\n    this.styleSheetId = styleSheetId;\n    this.oldRange = oldRange;\n    this.newRange = TextUtils.TextRange.TextRange.fromEdit(oldRange, newText);\n    this.newText = newText;\n    this.payload = payload;\n  }\n}\n\nexport class CSSLocation {\n  readonly #cssModel: CSSModel;\n  styleSheetId: Protocol.CSS.StyleSheetId;\n  url: Platform.DevToolsPath.UrlString;\n  lineNumber: number;\n  columnNumber: number;\n  constructor(header: CSSStyleSheetHeader, lineNumber: number, columnNumber?: number) {\n    this.#cssModel = header.cssModel();\n    this.styleSheetId = header.id;\n    this.url = header.resourceURL();\n    this.lineNumber = lineNumber;\n    this.columnNumber = columnNumber || 0;\n  }\n\n  cssModel(): CSSModel {\n    return this.#cssModel;\n  }\n\n  header(): CSSStyleSheetHeader|null {\n    return this.#cssModel.styleSheetHeaderForId(this.styleSheetId);\n  }\n}\n\nclass CSSDispatcher implements ProtocolProxyApi.CSSDispatcher {\n  readonly #cssModel: CSSModel;\n  constructor(cssModel: CSSModel) {\n    this.#cssModel = cssModel;\n  }\n\n  mediaQueryResultChanged(): void {\n    this.#cssModel.mediaQueryResultChanged();\n  }\n\n  fontsUpdated({font}: Protocol.CSS.FontsUpdatedEvent): void {\n    this.#cssModel.fontsUpdated(font);\n  }\n\n  styleSheetChanged({styleSheetId}: Protocol.CSS.StyleSheetChangedEvent): void {\n    this.#cssModel.fireStyleSheetChanged(styleSheetId);\n  }\n\n  styleSheetAdded({header}: Protocol.CSS.StyleSheetAddedEvent): void {\n    this.#cssModel.styleSheetAdded(header);\n  }\n\n  styleSheetRemoved({styleSheetId}: Protocol.CSS.StyleSheetRemovedEvent): void {\n    this.#cssModel.styleSheetRemoved(styleSheetId);\n  }\n\n  computedStyleUpdated({nodeId}: Protocol.CSS.ComputedStyleUpdatedEvent): void {\n    this.#cssModel.computedStyleUpdated(nodeId);\n  }\n}\n\nclass ComputedStyleLoader {\n  #cssModel: CSSModel;\n  #nodeIdToPromise = new Map<number, Promise<Map<string, string>|null>>();\n  constructor(cssModel: CSSModel) {\n    this.#cssModel = cssModel;\n  }\n\n  computedStylePromise(nodeId: Protocol.DOM.NodeId): Promise<Map<string, string>|null> {\n    let promise = this.#nodeIdToPromise.get(nodeId);\n    if (promise) {\n      return promise;\n    }\n    promise = this.#cssModel.getAgent().invoke_getComputedStyleForNode({nodeId}).then(({computedStyle}) => {\n      this.#nodeIdToPromise.delete(nodeId);\n      if (!computedStyle?.length) {\n        return null;\n      }\n      const result = new Map<string, string>();\n      for (const property of computedStyle) {\n        result.set(property.name, property.value);\n      }\n      return result;\n    });\n    this.#nodeIdToPromise.set(nodeId, promise);\n    return promise;\n  }\n}\n\nexport class InlineStyleResult {\n  inlineStyle: CSSStyleDeclaration|null;\n  attributesStyle: CSSStyleDeclaration|null;\n  constructor(inlineStyle: CSSStyleDeclaration|null, attributesStyle: CSSStyleDeclaration|null) {\n    this.inlineStyle = inlineStyle;\n    this.attributesStyle = attributesStyle;\n  }\n}\n\nexport class CSSPropertyTracker extends Common.ObjectWrapper.ObjectWrapper<CSSPropertyTrackerEventTypes> {\n  readonly #cssModel: CSSModel;\n  readonly #properties: Protocol.CSS.CSSComputedStyleProperty[];\n  constructor(cssModel: CSSModel, propertiesToTrack: Protocol.CSS.CSSComputedStyleProperty[]) {\n    super();\n    this.#cssModel = cssModel;\n    this.#properties = propertiesToTrack;\n  }\n\n  start(): void {\n    this.#cssModel.enableCSSPropertyTracker(this);\n  }\n\n  stop(): void {\n    this.#cssModel.disableCSSPropertyTracker();\n  }\n\n  getTrackedProperties(): Protocol.CSS.CSSComputedStyleProperty[] {\n    return this.#properties;\n  }\n}\n\nconst StylePollingInterval = 1000;  // throttling interval for style polling, in milliseconds\n\nexport const enum CSSPropertyTrackerEvents {\n  TRACKED_CSS_PROPERTIES_UPDATED = 'TrackedCSSPropertiesUpdated',\n}\n\nexport interface CSSPropertyTrackerEventTypes {\n  [CSSPropertyTrackerEvents.TRACKED_CSS_PROPERTIES_UPDATED]: Array<DOMNode|null>;\n}\n\nSDKModel.register(CSSModel, {capabilities: Capability.DOM, autostart: true});\nexport interface ContrastInfo {\n  backgroundColors: string[]|null;\n  computedFontSize: string;\n  computedFontWeight: string;\n}\n"]}