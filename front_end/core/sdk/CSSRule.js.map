{"version":3,"file":"CSSRule.js","sourceRoot":"","sources":["../../../../../../front_end/core/sdk/CSSRule.ts"],"names":[],"mappings":"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","sourcesContent":["// Copyright 2016 The Chromium Authors\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\nimport * as Protocol from '../../generated/protocol.js';\nimport * as TextUtils from '../../models/text_utils/text_utils.js';\nimport * as Platform from '../platform/platform.js';\n\nimport {CSSContainerQuery} from './CSSContainerQuery.js';\nimport {CSSLayer} from './CSSLayer.js';\nimport {CSSMedia} from './CSSMedia.js';\nimport type {CSSModel, Edit} from './CSSModel.js';\nimport {CSSScope} from './CSSScope.js';\nimport {CSSStartingStyle} from './CSSStartingStyle.js';\nimport {CSSStyleDeclaration, Type} from './CSSStyleDeclaration.js';\nimport type {CSSStyleSheetHeader} from './CSSStyleSheetHeader.js';\nimport {CSSSupports} from './CSSSupports.js';\n\nfunction styleSheetHeaderForRule(\n    cssModel: CSSModel, {styleSheetId}: {styleSheetId?: Protocol.CSS.StyleSheetId}): CSSStyleSheetHeader|null {\n  return styleSheetId && cssModel.styleSheetHeaderForId(styleSheetId) || null;\n}\n\nexport class CSSRule {\n  readonly cssModelInternal: CSSModel;\n  readonly origin: Protocol.CSS.StyleSheetOrigin;\n  readonly style: CSSStyleDeclaration;\n  readonly header: CSSStyleSheetHeader|null;\n  readonly treeScope: Protocol.DOM.BackendNodeId|undefined;\n\n  constructor(cssModel: CSSModel, payload: {\n    style: Protocol.CSS.CSSStyle,\n    origin: Protocol.CSS.StyleSheetOrigin,\n    originTreeScopeNodeId: Protocol.DOM.BackendNodeId|undefined,\n    header: CSSStyleSheetHeader|null,\n  }) {\n    this.header = payload.header;\n    this.cssModelInternal = cssModel;\n    this.origin = payload.origin;\n    this.treeScope = payload.originTreeScopeNodeId;\n    this.style = new CSSStyleDeclaration(this.cssModelInternal, this, payload.style, Type.Regular);\n  }\n\n  get sourceURL(): string|undefined {\n    return this.header?.sourceURL;\n  }\n\n  rebase(edit: Edit): void {\n    if (this.header?.id !== edit.styleSheetId) {\n      return;\n    }\n    this.style.rebase(edit);\n  }\n\n  resourceURL(): Platform.DevToolsPath.UrlString {\n    return this.header?.resourceURL() ?? Platform.DevToolsPath.EmptyUrlString;\n  }\n\n  isUserAgent(): boolean {\n    return this.origin === Protocol.CSS.StyleSheetOrigin.UserAgent;\n  }\n\n  isInjected(): boolean {\n    return this.origin === Protocol.CSS.StyleSheetOrigin.Injected;\n  }\n\n  isViaInspector(): boolean {\n    return this.origin === Protocol.CSS.StyleSheetOrigin.Inspector;\n  }\n\n  isRegular(): boolean {\n    return this.origin === Protocol.CSS.StyleSheetOrigin.Regular;\n  }\n\n  isKeyframeRule(): boolean {\n    return false;\n  }\n\n  cssModel(): CSSModel {\n    return this.cssModelInternal;\n  }\n}\n\nclass CSSValue {\n  text: string;\n  range?: TextUtils.TextRange.TextRange;\n  specificity?: Protocol.CSS.Specificity;\n  constructor(payload: Protocol.CSS.Value) {\n    this.text = payload.text;\n    if (payload.range) {\n      this.range = TextUtils.TextRange.TextRange.fromObject(payload.range);\n    }\n    if (payload.specificity) {\n      this.specificity = payload.specificity;\n    }\n  }\n\n  rebase(edit: Edit): void {\n    if (!this.range) {\n      return;\n    }\n    this.range = this.range.rebaseAfterTextEdit(edit.oldRange, edit.newRange);\n  }\n}\n\nexport class CSSStyleRule extends CSSRule {\n  selectors!: CSSValue[];\n  nestingSelectors?: string[];\n  media: CSSMedia[];\n  containerQueries: CSSContainerQuery[];\n  supports: CSSSupports[];\n  scopes: CSSScope[];\n  layers: CSSLayer[];\n  ruleTypes: Protocol.CSS.CSSRuleType[];\n  startingStyles: CSSStartingStyle[];\n  wasUsed: boolean;\n  constructor(cssModel: CSSModel, payload: Protocol.CSS.CSSRule, wasUsed?: boolean) {\n    super(cssModel, {\n      origin: payload.origin,\n      style: payload.style,\n      header: styleSheetHeaderForRule(cssModel, payload),\n      originTreeScopeNodeId: payload.originTreeScopeNodeId\n    });\n    this.reinitializeSelectors(payload.selectorList);\n    this.nestingSelectors = payload.nestingSelectors;\n    this.media = payload.media ? CSSMedia.parseMediaArrayPayload(cssModel, payload.media) : [];\n    this.containerQueries = payload.containerQueries ?\n        CSSContainerQuery.parseContainerQueriesPayload(cssModel, payload.containerQueries) :\n        [];\n    this.scopes = payload.scopes ? CSSScope.parseScopesPayload(cssModel, payload.scopes) : [];\n    this.supports = payload.supports ? CSSSupports.parseSupportsPayload(cssModel, payload.supports) : [];\n    this.layers = payload.layers ? CSSLayer.parseLayerPayload(cssModel, payload.layers) : [];\n    this.startingStyles =\n        payload.startingStyles ? CSSStartingStyle.parseStartingStylePayload(cssModel, payload.startingStyles) : [];\n    this.ruleTypes = payload.ruleTypes || [];\n    this.wasUsed = wasUsed || false;\n  }\n\n  static createDummyRule(cssModel: CSSModel, selectorText: string): CSSStyleRule {\n    const dummyPayload = {\n      selectorList: {\n        text: '',\n        selectors: [{text: selectorText, value: undefined}],\n      },\n      style: {\n        styleSheetId: '0' as Protocol.CSS.StyleSheetId,\n        range: new TextUtils.TextRange.TextRange(0, 0, 0, 0),\n        shorthandEntries: [],\n        cssProperties: [],\n      },\n      origin: Protocol.CSS.StyleSheetOrigin.Inspector,\n    };\n    return new CSSStyleRule(cssModel, (dummyPayload as Protocol.CSS.CSSRule));\n  }\n\n  private reinitializeSelectors(selectorList: Protocol.CSS.SelectorList): void {\n    this.selectors = [];\n    for (let i = 0; i < selectorList.selectors.length; ++i) {\n      this.selectors.push(new CSSValue(selectorList.selectors[i]));\n    }\n  }\n\n  setSelectorText(newSelector: string): Promise<boolean> {\n    const styleSheetId = this.header?.id;\n    if (!styleSheetId) {\n      throw new Error('No rule stylesheet id');\n    }\n    const range = this.selectorRange();\n    if (!range) {\n      throw new Error('Rule selector is not editable');\n    }\n    return this.cssModelInternal.setSelectorText(styleSheetId, range, newSelector);\n  }\n\n  selectorText(): string {\n    return this.selectors.map(selector => selector.text).join(', ');\n  }\n\n  selectorRange(): TextUtils.TextRange.TextRange|null {\n    // Nested group rules might not contain a selector.\n    // https://www.w3.org/TR/css-nesting-1/#conditionals\n    if (this.selectors.length === 0) {\n      return null;\n    }\n\n    const firstRange = this.selectors[0].range;\n    const lastRange = this.selectors[this.selectors.length - 1].range;\n    if (!firstRange || !lastRange) {\n      return null;\n    }\n    return new TextUtils.TextRange.TextRange(\n        firstRange.startLine, firstRange.startColumn, lastRange.endLine, lastRange.endColumn);\n  }\n\n  lineNumberInSource(selectorIndex: number): number {\n    const selector = this.selectors[selectorIndex];\n    if (!selector?.range || !this.header) {\n      return 0;\n    }\n    return this.header.lineNumberInSource(selector.range.startLine);\n  }\n\n  columnNumberInSource(selectorIndex: number): number|undefined {\n    const selector = this.selectors[selectorIndex];\n    if (!selector?.range || !this.header) {\n      return undefined;\n    }\n    return this.header.columnNumberInSource(selector.range.startLine, selector.range.startColumn);\n  }\n\n  override rebase(edit: Edit): void {\n    if (this.header?.id !== edit.styleSheetId) {\n      return;\n    }\n    const range = this.selectorRange();\n    if (range?.equal(edit.oldRange)) {\n      this.reinitializeSelectors((edit.payload as Protocol.CSS.SelectorList));\n    } else {\n      for (let i = 0; i < this.selectors.length; ++i) {\n        this.selectors[i].rebase(edit);\n      }\n    }\n    this.media.forEach(media => media.rebase(edit));\n    this.containerQueries.forEach(cq => cq.rebase(edit));\n    this.scopes.forEach(scope => scope.rebase(edit));\n    this.supports.forEach(supports => supports.rebase(edit));\n\n    super.rebase(edit);\n  }\n}\n\nexport class CSSPropertyRule extends CSSRule {\n  #name: CSSValue;\n  constructor(cssModel: CSSModel, payload: Protocol.CSS.CSSPropertyRule) {\n    super(cssModel, {\n      origin: payload.origin,\n      style: payload.style,\n      header: styleSheetHeaderForRule(cssModel, payload),\n      originTreeScopeNodeId: undefined,\n    });\n    this.#name = new CSSValue(payload.propertyName);\n  }\n\n  propertyName(): CSSValue {\n    return this.#name;\n  }\n\n  initialValue(): string|null {\n    return this.style.hasActiveProperty('initial-value') ? this.style.getPropertyValue('initial-value') : null;\n  }\n\n  syntax(): string {\n    return this.style.getPropertyValue('syntax');\n  }\n  inherits(): boolean {\n    return this.style.getPropertyValue('inherits') === 'true';\n  }\n  setPropertyName(newPropertyName: string): Promise<boolean> {\n    const styleSheetId = this.header?.id;\n    if (!styleSheetId) {\n      throw new Error('No rule stylesheet id');\n    }\n    const range = this.#name.range;\n    if (!range) {\n      throw new Error('Property name is not editable');\n    }\n    return this.cssModelInternal.setPropertyRulePropertyName(styleSheetId, range, newPropertyName);\n  }\n}\n\nexport class CSSFontPaletteValuesRule extends CSSRule {\n  readonly #paletteName: CSSValue;\n  constructor(cssModel: CSSModel, payload: Protocol.CSS.CSSFontPaletteValuesRule) {\n    super(cssModel, {\n      origin: payload.origin,\n      style: payload.style,\n      header: styleSheetHeaderForRule(cssModel, payload),\n      originTreeScopeNodeId: undefined\n    });\n    this.#paletteName = new CSSValue(payload.fontPaletteName);\n  }\n\n  name(): CSSValue {\n    return this.#paletteName;\n  }\n}\n\nexport class CSSKeyframesRule {\n  readonly #animationName: CSSValue;\n  readonly #keyframes: CSSKeyframeRule[];\n  constructor(cssModel: CSSModel, payload: Protocol.CSS.CSSKeyframesRule) {\n    this.#animationName = new CSSValue(payload.animationName);\n    this.#keyframes =\n        payload.keyframes.map(keyframeRule => new CSSKeyframeRule(cssModel, keyframeRule, this.#animationName.text));\n  }\n\n  name(): CSSValue {\n    return this.#animationName;\n  }\n\n  keyframes(): CSSKeyframeRule[] {\n    return this.#keyframes;\n  }\n}\n\nexport class CSSKeyframeRule extends CSSRule {\n  #keyText!: CSSValue;\n  #parentRuleName: string;\n  constructor(cssModel: CSSModel, payload: Protocol.CSS.CSSKeyframeRule, parentRuleName: string) {\n    super(cssModel, {\n      origin: payload.origin,\n      style: payload.style,\n      header: styleSheetHeaderForRule(cssModel, payload),\n      originTreeScopeNodeId: undefined\n    });\n    this.reinitializeKey(payload.keyText);\n    this.#parentRuleName = parentRuleName;\n  }\n\n  parentRuleName(): string {\n    return this.#parentRuleName;\n  }\n\n  key(): CSSValue {\n    return this.#keyText;\n  }\n\n  private reinitializeKey(payload: Protocol.CSS.Value): void {\n    this.#keyText = new CSSValue(payload);\n  }\n\n  override rebase(edit: Edit): void {\n    if (this.header?.id !== edit.styleSheetId || !this.#keyText.range) {\n      return;\n    }\n    if (edit.oldRange.equal(this.#keyText.range)) {\n      this.reinitializeKey((edit.payload as Protocol.CSS.Value));\n    } else {\n      this.#keyText.rebase(edit);\n    }\n\n    super.rebase(edit);\n  }\n\n  override isKeyframeRule(): boolean {\n    return true;\n  }\n\n  setKeyText(newKeyText: string): Promise<boolean> {\n    const styleSheetId = this.header?.id;\n    if (!styleSheetId) {\n      throw new Error('No rule stylesheet id');\n    }\n    const range = this.#keyText.range;\n    if (!range) {\n      throw new Error('Keyframe key is not editable');\n    }\n    return this.cssModelInternal.setKeyframeKey(styleSheetId, range, newKeyText);\n  }\n}\n\nexport class CSSPositionTryRule extends CSSRule {\n  readonly #name: CSSValue;\n  readonly #active: boolean;\n  constructor(cssModel: CSSModel, payload: Protocol.CSS.CSSPositionTryRule) {\n    super(cssModel, {\n      origin: payload.origin,\n      style: payload.style,\n      header: styleSheetHeaderForRule(cssModel, payload),\n      originTreeScopeNodeId: undefined\n    });\n    this.#name = new CSSValue(payload.name);\n    this.#active = payload.active;\n  }\n\n  name(): CSSValue {\n    return this.#name;\n  }\n\n  active(): boolean {\n    return this.#active;\n  }\n}\n\nexport interface CSSNestedStyleLeaf {\n  style: CSSStyleDeclaration;\n}\n\nexport type CSSNestedStyleCondition = {\n  children: CSSNestedStyle[],\n}&({media: CSSMedia}|{container: CSSContainerQuery}|{supports: CSSSupports});\n\nexport type CSSNestedStyle = CSSNestedStyleLeaf|CSSNestedStyleCondition;\n\nexport class CSSFunctionRule extends CSSRule {\n  readonly #name: CSSValue;\n  readonly #parameters: string[];\n  readonly #children: CSSNestedStyle[];\n  constructor(cssModel: CSSModel, payload: Protocol.CSS.CSSFunctionRule) {\n    super(cssModel, {\n      origin: payload.origin,\n      style: {cssProperties: [], shorthandEntries: []},\n      header: styleSheetHeaderForRule(cssModel, payload),\n      originTreeScopeNodeId: undefined\n    });\n    this.#name = new CSSValue(payload.name);\n    this.#parameters = payload.parameters.map(({name}) => name);\n    this.#children = this.protocolNodesToNestedStyles(payload.children);\n  }\n\n  functionName(): CSSValue {\n    return this.#name;\n  }\n\n  parameters(): string[] {\n    return this.#parameters;\n  }\n\n  children(): CSSNestedStyle[] {\n    return this.#children;\n  }\n\n  nameWithParameters(): string {\n    return `${this.functionName().text}(${this.parameters().join(', ')})`;\n  }\n\n  protocolNodesToNestedStyles(nodes: Protocol.CSS.CSSFunctionNode[]): CSSNestedStyle[] {\n    const result = [];\n    for (const node of nodes) {\n      const nestedStyle = this.protocolNodeToNestedStyle(node);\n      if (nestedStyle) {\n        result.push(nestedStyle);\n      }\n    }\n    return result;\n  }\n\n  protocolNodeToNestedStyle(node: Protocol.CSS.CSSFunctionNode): CSSNestedStyle|undefined {\n    if (node.style) {\n      return {style: new CSSStyleDeclaration(this.cssModelInternal, this, node.style, Type.Regular)};\n    }\n    if (node.condition) {\n      const children = this.protocolNodesToNestedStyles(node.condition.children);\n      if (node.condition.media) {\n        return {children, media: new CSSMedia(this.cssModelInternal, node.condition.media)};\n      }\n      if (node.condition.containerQueries) {\n        return {\n          children,\n          container: new CSSContainerQuery(this.cssModelInternal, node.condition.containerQueries),\n        };\n      }\n      if (node.condition.supports) {\n        return {\n          children,\n          supports: new CSSSupports(this.cssModelInternal, node.condition.supports),\n        };\n      }\n      console.error('A function rule condition must have a media, container, or supports');\n      return;\n    }\n    console.error('A function rule node must have a style or condition');\n    return;\n  }\n}\n"]}