{"version":3,"file":"DOMModel.js","sourceRoot":"","sources":["../../../../../../front_end/core/sdk/DOMModel.ts"],"names":[],"mappings":"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","sourcesContent":["// Copyright 2021 The Chromium Authors\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\n/*\n * Copyright (C) 2009, 2010 Google Inc. All rights reserved.\n * Copyright (C) 2009 Joseph Pecoraro\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are\n * met:\n *\n *     * Redistributions of source code must retain the above copyright\n * notice, this list of conditions and the following disclaimer.\n *     * Redistributions in binary form must reproduce the above\n * copyright notice, this list of conditions and the following disclaimer\n * in the documentation and/or other materials provided with the\n * distribution.\n *     * Neither the #name of Google Inc. nor the names of its\n * contributors may be used to endorse or promote products derived from\n * this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n * \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n * A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n * OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\nimport type * as ProtocolProxyApi from '../../generated/protocol-proxy-api.js';\nimport * as Protocol from '../../generated/protocol.js';\nimport * as Common from '../common/common.js';\nimport * as Platform from '../platform/platform.js';\nimport * as Root from '../root/root.js';\n\nimport {CSSModel} from './CSSModel.js';\nimport {FrameManager} from './FrameManager.js';\nimport {OverlayModel} from './OverlayModel.js';\nimport {RemoteObject} from './RemoteObject.js';\nimport {ResourceTreeModel} from './ResourceTreeModel.js';\nimport {RuntimeModel} from './RuntimeModel.js';\nimport {SDKModel} from './SDKModel.js';\nimport {Capability, type Target} from './Target.js';\nimport {TargetManager} from './TargetManager.js';\n\n/** Keep this list in sync with https://w3c.github.io/aria/#state_prop_def **/\nexport const ARIA_ATTRIBUTES = new Set<string>([\n  'role',\n  'aria-activedescendant',\n  'aria-atomic',\n  'aria-autocomplete',\n  'aria-braillelabel',\n  'aria-brailleroledescription',\n  'aria-busy',\n  'aria-checked',\n  'aria-colcount',\n  'aria-colindex',\n  'aria-colindextext',\n  'aria-colspan',\n  'aria-controls',\n  'aria-current',\n  'aria-describedby',\n  'aria-description',\n  'aria-details',\n  'aria-disabled',\n  'aria-dropeffect',\n  'aria-errormessage',\n  'aria-expanded',\n  'aria-flowto',\n  'aria-grabbed',\n  'aria-haspopup',\n  'aria-hidden',\n  'aria-invalid',\n  'aria-keyshortcuts',\n  'aria-label',\n  'aria-labelledby',\n  'aria-level',\n  'aria-live',\n  'aria-modal',\n  'aria-multiline',\n  'aria-multiselectable',\n  'aria-orientation',\n  'aria-owns',\n  'aria-placeholder',\n  'aria-posinset',\n  'aria-pressed',\n  'aria-readonly',\n  'aria-relevant',\n  'aria-required',\n  'aria-roledescription',\n  'aria-rowcount',\n  'aria-rowindex',\n  'aria-rowindextext',\n  'aria-rowspan',\n  'aria-selected',\n  'aria-setsize',\n  'aria-sort',\n  'aria-valuemax',\n  'aria-valuemin',\n  'aria-valuenow',\n  'aria-valuetext',\n]);\n\nexport class DOMNode {\n  #domModel: DOMModel;\n  #agent: ProtocolProxyApi.DOMApi;\n  ownerDocument!: DOMDocument|null;\n  #isInShadowTree!: boolean;\n  id!: Protocol.DOM.NodeId;\n  index: number|undefined = undefined;\n  #backendNodeId!: Protocol.DOM.BackendNodeId;\n  #nodeType!: number;\n  #nodeName!: string;\n  #localName!: string;\n  nodeValueInternal!: string;\n  #pseudoType!: Protocol.DOM.PseudoType|undefined;\n  #pseudoIdentifier?: string;\n  #shadowRootType!: Protocol.DOM.ShadowRootType|undefined;\n  #frameOwnerFrameId!: Protocol.Page.FrameId|null;\n  #xmlVersion!: string|undefined;\n  #isSVGNode!: boolean;\n  #isScrollable!: boolean;\n  #affectedByStartingStyles!: boolean;\n  #creationStackTrace: Promise<Protocol.Runtime.StackTrace|null>|null = null;\n  #pseudoElements = new Map<string, DOMNode[]>();\n  #distributedNodes: DOMNodeShortcut[] = [];\n  assignedSlot: DOMNodeShortcut|null = null;\n  readonly shadowRootsInternal: DOMNode[] = [];\n  #attributes = new Map<string, Attribute>();\n  #markers = new Map<string, unknown>();\n  #subtreeMarkerCount = 0;\n  childNodeCountInternal!: number;\n  childrenInternal: DOMNode[]|null = null;\n  nextSibling: DOMNode|null = null;\n  previousSibling: DOMNode|null = null;\n  firstChild: DOMNode|null = null;\n  lastChild: DOMNode|null = null;\n  parentNode: DOMNode|null = null;\n  templateContentInternal?: DOMNode;\n  contentDocumentInternal?: DOMDocument;\n  childDocumentPromiseForTesting?: Promise<DOMDocument|null>;\n  #importedDocument?: DOMNode;\n  publicId?: string;\n  systemId?: string;\n  internalSubset?: string;\n  name?: string;\n  value?: string;\n  /**\n   * Set when a DOMNode is retained in a detached sub-tree.\n   */\n  retained = false;\n  /**\n   * Set if a DOMNode is a root of a detached sub-tree.\n   */\n  detached = false;\n  #retainedNodes?: Set<Protocol.DOM.BackendNodeId>;\n\n  constructor(domModel: DOMModel) {\n    this.#domModel = domModel;\n    this.#agent = this.#domModel.getAgent();\n  }\n\n  static create(\n      domModel: DOMModel, doc: DOMDocument|null, isInShadowTree: boolean, payload: Protocol.DOM.Node,\n      retainedNodes?: Set<Protocol.DOM.BackendNodeId>): DOMNode {\n    const node = new DOMNode(domModel);\n    node.init(doc, isInShadowTree, payload, retainedNodes);\n    return node;\n  }\n\n  init(\n      doc: DOMDocument|null, isInShadowTree: boolean, payload: Protocol.DOM.Node,\n      retainedNodes?: Set<Protocol.DOM.BackendNodeId>): void {\n    this.#agent = this.#domModel.getAgent();\n    this.ownerDocument = doc;\n    this.#isInShadowTree = isInShadowTree;\n\n    this.id = payload.nodeId;\n    this.#backendNodeId = payload.backendNodeId;\n    this.#domModel.registerNode(this);\n    this.#nodeType = payload.nodeType;\n    this.#nodeName = payload.nodeName;\n    this.#localName = payload.localName;\n    this.nodeValueInternal = payload.nodeValue;\n    this.#pseudoType = payload.pseudoType;\n    this.#pseudoIdentifier = payload.pseudoIdentifier;\n    this.#shadowRootType = payload.shadowRootType;\n    this.#frameOwnerFrameId = payload.frameId || null;\n    this.#xmlVersion = payload.xmlVersion;\n    this.#isSVGNode = Boolean(payload.isSVG);\n    this.#isScrollable = Boolean(payload.isScrollable);\n    this.#affectedByStartingStyles = Boolean(payload.affectedByStartingStyles);\n    this.#retainedNodes = retainedNodes;\n\n    if (this.#retainedNodes?.has(this.backendNodeId())) {\n      this.retained = true;\n    }\n\n    if (payload.attributes) {\n      this.setAttributesPayload(payload.attributes);\n    }\n\n    this.childNodeCountInternal = payload.childNodeCount || 0;\n    if (payload.shadowRoots) {\n      for (let i = 0; i < payload.shadowRoots.length; ++i) {\n        const root = payload.shadowRoots[i];\n        const node = DOMNode.create(this.#domModel, this.ownerDocument, true, root, retainedNodes);\n        this.shadowRootsInternal.push(node);\n        node.parentNode = this;\n      }\n    }\n\n    if (payload.templateContent) {\n      this.templateContentInternal =\n          DOMNode.create(this.#domModel, this.ownerDocument, true, payload.templateContent, retainedNodes);\n      this.templateContentInternal.parentNode = this;\n      this.childrenInternal = [];\n    }\n\n    const frameOwnerTags = new Set(['EMBED', 'IFRAME', 'OBJECT', 'FENCEDFRAME']);\n    if (payload.contentDocument) {\n      this.contentDocumentInternal = new DOMDocument(this.#domModel, payload.contentDocument);\n      this.contentDocumentInternal.parentNode = this;\n      this.childrenInternal = [];\n    } else if (payload.frameId && frameOwnerTags.has(payload.nodeName)) {\n      // At this point we know we are in an OOPIF, otherwise `payload.contentDocument` would have been set.\n      this.childDocumentPromiseForTesting = this.requestChildDocument(payload.frameId, this.#domModel.target());\n      this.childrenInternal = [];\n    }\n\n    if (payload.importedDocument) {\n      this.#importedDocument =\n          DOMNode.create(this.#domModel, this.ownerDocument, true, payload.importedDocument, retainedNodes);\n      this.#importedDocument.parentNode = this;\n      this.childrenInternal = [];\n    }\n\n    if (payload.distributedNodes) {\n      this.setDistributedNodePayloads(payload.distributedNodes);\n    }\n\n    if (payload.assignedSlot) {\n      this.setAssignedSlot(payload.assignedSlot);\n    }\n\n    if (payload.children) {\n      this.setChildrenPayload(payload.children);\n    }\n\n    this.setPseudoElements(payload.pseudoElements);\n\n    if (this.#nodeType === Node.ELEMENT_NODE) {\n      // HTML and BODY from internal iframes should not overwrite top-level ones.\n      if (this.ownerDocument && !this.ownerDocument.documentElement && this.#nodeName === 'HTML') {\n        this.ownerDocument.documentElement = this;\n      }\n      if (this.ownerDocument && !this.ownerDocument.body && this.#nodeName === 'BODY') {\n        this.ownerDocument.body = this;\n      }\n    } else if (this.#nodeType === Node.DOCUMENT_TYPE_NODE) {\n      this.publicId = payload.publicId;\n      this.systemId = payload.systemId;\n      this.internalSubset = payload.internalSubset;\n    } else if (this.#nodeType === Node.ATTRIBUTE_NODE) {\n      this.name = payload.name;\n      this.value = payload.value;\n    }\n  }\n\n  private async requestChildDocument(frameId: Protocol.Page.FrameId, notInTarget: Target): Promise<DOMDocument|null> {\n    const frame = await FrameManager.instance().getOrWaitForFrame(frameId, notInTarget);\n    const childModel = frame.resourceTreeModel()?.target().model(DOMModel);\n    return await (childModel?.requestDocument() || null);\n  }\n\n  isAdFrameNode(): boolean {\n    if (this.isIframe() && this.#frameOwnerFrameId) {\n      const frame = FrameManager.instance().getFrame(this.#frameOwnerFrameId);\n      if (!frame) {\n        return false;\n      }\n      return frame.adFrameType() !== Protocol.Page.AdFrameType.None;\n    }\n    return false;\n  }\n\n  isSVGNode(): boolean {\n    return this.#isSVGNode;\n  }\n\n  isScrollable(): boolean {\n    return this.#isScrollable;\n  }\n\n  affectedByStartingStyles(): boolean {\n    return this.#affectedByStartingStyles;\n  }\n\n  isMediaNode(): boolean {\n    return this.#nodeName === 'AUDIO' || this.#nodeName === 'VIDEO';\n  }\n\n  isViewTransitionPseudoNode(): boolean {\n    if (!this.#pseudoType) {\n      return false;\n    }\n\n    return [\n      Protocol.DOM.PseudoType.ViewTransition,\n      Protocol.DOM.PseudoType.ViewTransitionGroup,\n      Protocol.DOM.PseudoType.ViewTransitionGroupChildren,\n      Protocol.DOM.PseudoType.ViewTransitionImagePair,\n      Protocol.DOM.PseudoType.ViewTransitionOld,\n      Protocol.DOM.PseudoType.ViewTransitionNew,\n    ].includes(this.#pseudoType);\n  }\n\n  creationStackTrace(): Promise<Protocol.Runtime.StackTrace|null> {\n    if (this.#creationStackTrace) {\n      return this.#creationStackTrace;\n    }\n\n    const stackTracesPromise = this.#agent.invoke_getNodeStackTraces({nodeId: this.id});\n    this.#creationStackTrace = stackTracesPromise.then(res => res.creation || null);\n    return this.#creationStackTrace;\n  }\n\n  get subtreeMarkerCount(): number {\n    return this.#subtreeMarkerCount;\n  }\n\n  domModel(): DOMModel {\n    return this.#domModel;\n  }\n\n  backendNodeId(): Protocol.DOM.BackendNodeId {\n    return this.#backendNodeId;\n  }\n\n  children(): DOMNode[]|null {\n    return this.childrenInternal ? this.childrenInternal.slice() : null;\n  }\n\n  setChildren(children: DOMNode[]): void {\n    this.childrenInternal = children;\n  }\n\n  setIsScrollable(isScrollable: boolean): void {\n    this.#isScrollable = isScrollable;\n  }\n\n  setAffectedByStartingStyles(affectedByStartingStyles: boolean): void {\n    this.#affectedByStartingStyles = affectedByStartingStyles;\n  }\n\n  hasAttributes(): boolean {\n    return this.#attributes.size > 0;\n  }\n\n  childNodeCount(): number {\n    return this.childNodeCountInternal;\n  }\n\n  setChildNodeCount(childNodeCount: number): void {\n    this.childNodeCountInternal = childNodeCount;\n  }\n\n  shadowRoots(): DOMNode[] {\n    return this.shadowRootsInternal.slice();\n  }\n\n  templateContent(): DOMNode|null {\n    return this.templateContentInternal || null;\n  }\n\n  contentDocument(): DOMDocument|null {\n    return this.contentDocumentInternal || null;\n  }\n\n  setContentDocument(node: DOMDocument): void {\n    this.contentDocumentInternal = node;\n  }\n\n  isIframe(): boolean {\n    return this.#nodeName === 'IFRAME';\n  }\n\n  importedDocument(): DOMNode|null {\n    return this.#importedDocument || null;\n  }\n\n  nodeType(): number {\n    return this.#nodeType;\n  }\n\n  nodeName(): string {\n    return this.#nodeName;\n  }\n\n  pseudoType(): string|undefined {\n    return this.#pseudoType;\n  }\n\n  pseudoIdentifier(): string|undefined {\n    return this.#pseudoIdentifier;\n  }\n\n  hasPseudoElements(): boolean {\n    return this.#pseudoElements.size > 0;\n  }\n\n  pseudoElements(): Map<string, DOMNode[]> {\n    return this.#pseudoElements;\n  }\n\n  checkmarkPseudoElement(): DOMNode|undefined {\n    return this.#pseudoElements.get(Protocol.DOM.PseudoType.Checkmark)?.at(-1);\n  }\n\n  beforePseudoElement(): DOMNode|undefined {\n    return this.#pseudoElements.get(Protocol.DOM.PseudoType.Before)?.at(-1);\n  }\n\n  afterPseudoElement(): DOMNode|undefined {\n    return this.#pseudoElements.get(Protocol.DOM.PseudoType.After)?.at(-1);\n  }\n\n  pickerIconPseudoElement(): DOMNode|undefined {\n    return this.#pseudoElements.get(Protocol.DOM.PseudoType.PickerIcon)?.at(-1);\n  }\n\n  markerPseudoElement(): DOMNode|undefined {\n    return this.#pseudoElements.get(Protocol.DOM.PseudoType.Marker)?.at(-1);\n  }\n\n  backdropPseudoElement(): DOMNode|undefined {\n    return this.#pseudoElements.get(Protocol.DOM.PseudoType.Backdrop)?.at(-1);\n  }\n\n  viewTransitionPseudoElements(): DOMNode[] {\n    return [\n      ...this.#pseudoElements.get(Protocol.DOM.PseudoType.ViewTransition) || [],\n      ...this.#pseudoElements.get(Protocol.DOM.PseudoType.ViewTransitionGroup) || [],\n      ...this.#pseudoElements.get(Protocol.DOM.PseudoType.ViewTransitionGroupChildren) || [],\n      ...this.#pseudoElements.get(Protocol.DOM.PseudoType.ViewTransitionImagePair) || [],\n      ...this.#pseudoElements.get(Protocol.DOM.PseudoType.ViewTransitionOld) || [],\n      ...this.#pseudoElements.get(Protocol.DOM.PseudoType.ViewTransitionNew) || [],\n    ];\n  }\n\n  carouselPseudoElements(): DOMNode[] {\n    return [\n      ...this.#pseudoElements.get(Protocol.DOM.PseudoType.ScrollButton) || [],\n      ...this.#pseudoElements.get(Protocol.DOM.PseudoType.Column) || [],\n      ...this.#pseudoElements.get(Protocol.DOM.PseudoType.ScrollMarker) || [],\n      ...this.#pseudoElements.get(Protocol.DOM.PseudoType.ScrollMarkerGroup) || [],\n    ];\n  }\n\n  hasAssignedSlot(): boolean {\n    return this.assignedSlot !== null;\n  }\n\n  isInsertionPoint(): boolean {\n    return !this.isXMLNode() &&\n        (this.#nodeName === 'SHADOW' || this.#nodeName === 'CONTENT' || this.#nodeName === 'SLOT');\n  }\n\n  distributedNodes(): DOMNodeShortcut[] {\n    return this.#distributedNodes;\n  }\n\n  isInShadowTree(): boolean {\n    return this.#isInShadowTree;\n  }\n\n  getTreeRoot(): DOMNode {\n    return this.isShadowRoot() ? this : (this.ancestorShadowRoot() ?? this.ownerDocument ?? this);\n  }\n\n  ancestorShadowHost(): DOMNode|null {\n    const ancestorShadowRoot = this.ancestorShadowRoot();\n    return ancestorShadowRoot ? ancestorShadowRoot.parentNode : null;\n  }\n\n  ancestorShadowRoot(): DOMNode|null {\n    if (!this.#isInShadowTree) {\n      return null;\n    }\n\n    let current: DOMNode|null = this;\n    while (current && !current.isShadowRoot()) {\n      current = current.parentNode;\n    }\n    return current;\n  }\n\n  ancestorUserAgentShadowRoot(): DOMNode|null {\n    const ancestorShadowRoot = this.ancestorShadowRoot();\n    if (!ancestorShadowRoot) {\n      return null;\n    }\n    return ancestorShadowRoot.shadowRootType() === DOMNode.ShadowRootTypes.UserAgent ? ancestorShadowRoot : null;\n  }\n\n  isShadowRoot(): boolean {\n    return Boolean(this.#shadowRootType);\n  }\n\n  shadowRootType(): string|null {\n    return this.#shadowRootType || null;\n  }\n\n  nodeNameInCorrectCase(): string {\n    const shadowRootType = this.shadowRootType();\n    if (shadowRootType) {\n      return '#shadow-root (' + shadowRootType + ')';\n    }\n\n    // If there is no local #name, it's case sensitive\n    if (!this.localName()) {\n      return this.nodeName();\n    }\n\n    // If the names are different lengths, there is a prefix and it's case sensitive\n    if (this.localName().length !== this.nodeName().length) {\n      return this.nodeName();\n    }\n\n    // Return the localname, which will be case insensitive if its an html node\n    return this.localName();\n  }\n\n  setNodeName(name: string, callback?: ((arg0: string|null, arg1: DOMNode|null) => void)): void {\n    void this.#agent.invoke_setNodeName({nodeId: this.id, name}).then(response => {\n      if (!response.getError()) {\n        this.#domModel.markUndoableState();\n      }\n      if (callback) {\n        callback(response.getError() || null, this.#domModel.nodeForId(response.nodeId));\n      }\n    });\n  }\n\n  localName(): string {\n    return this.#localName;\n  }\n\n  nodeValue(): string {\n    return this.nodeValueInternal;\n  }\n\n  setNodeValueInternal(nodeValue: string): void {\n    this.nodeValueInternal = nodeValue;\n  }\n\n  setNodeValue(value: string, callback?: ((arg0: string|null) => void)): void {\n    void this.#agent.invoke_setNodeValue({nodeId: this.id, value}).then(response => {\n      if (!response.getError()) {\n        this.#domModel.markUndoableState();\n      }\n      if (callback) {\n        callback(response.getError() || null);\n      }\n    });\n  }\n\n  getAttribute(name: string): string|undefined {\n    const attr = this.#attributes.get(name);\n    return attr ? attr.value : undefined;\n  }\n\n  setAttribute(name: string, text: string, callback?: ((arg0: string|null) => void)): void {\n    void this.#agent.invoke_setAttributesAsText({nodeId: this.id, text, name}).then(response => {\n      if (!response.getError()) {\n        this.#domModel.markUndoableState();\n      }\n      if (callback) {\n        callback(response.getError() || null);\n      }\n    });\n  }\n\n  setAttributeValue(name: string, value: string, callback?: ((arg0: string|null) => void)): void {\n    void this.#agent.invoke_setAttributeValue({nodeId: this.id, name, value}).then(response => {\n      if (!response.getError()) {\n        this.#domModel.markUndoableState();\n      }\n      if (callback) {\n        callback(response.getError() || null);\n      }\n    });\n  }\n\n  setAttributeValuePromise(name: string, value: string): Promise<string|null> {\n    return new Promise(fulfill => this.setAttributeValue(name, value, fulfill));\n  }\n\n  attributes(): Attribute[] {\n    return [...this.#attributes.values()];\n  }\n\n  async removeAttribute(name: string): Promise<void> {\n    const response = await this.#agent.invoke_removeAttribute({nodeId: this.id, name});\n    if (response.getError()) {\n      return;\n    }\n    this.#attributes.delete(name);\n    this.#domModel.markUndoableState();\n  }\n\n  getChildNodesPromise(): Promise<DOMNode[]|null> {\n    return new Promise(resolve => {\n      return this.getChildNodes(childNodes => resolve(childNodes));\n    });\n  }\n\n  getChildNodes(callback: (arg0: DOMNode[]|null) => void): void {\n    if (this.childrenInternal) {\n      callback(this.children());\n      return;\n    }\n    void this.#agent.invoke_requestChildNodes({nodeId: this.id}).then(response => {\n      callback(response.getError() ? null : this.children());\n    });\n  }\n\n  async getSubtree(depth: number, pierce: boolean): Promise<DOMNode[]|null> {\n    const response = await this.#agent.invoke_requestChildNodes({nodeId: this.id, depth, pierce});\n    return response.getError() ? null : this.childrenInternal;\n  }\n\n  async getOuterHTML(includeShadowDOM = false): Promise<string|null> {\n    const {outerHTML} = await this.#agent.invoke_getOuterHTML({nodeId: this.id, includeShadowDOM});\n    return outerHTML;\n  }\n\n  setOuterHTML(html: string, callback?: ((arg0: string|null) => void)): void {\n    void this.#agent.invoke_setOuterHTML({nodeId: this.id, outerHTML: html}).then(response => {\n      if (!response.getError()) {\n        this.#domModel.markUndoableState();\n      }\n      if (callback) {\n        callback(response.getError() || null);\n      }\n    });\n  }\n\n  removeNode(callback?: ((arg0: string|null, arg1?: Protocol.DOM.NodeId|undefined) => void)): Promise<void> {\n    return this.#agent.invoke_removeNode({nodeId: this.id}).then(response => {\n      if (!response.getError()) {\n        this.#domModel.markUndoableState();\n      }\n      if (callback) {\n        callback(response.getError() || null);\n      }\n    });\n  }\n\n  path(): string {\n    function getNodeKey(node: DOMNode): number|'u'|'a'|'d'|null {\n      if (!node.#nodeName.length) {\n        return null;\n      }\n      if (node.index !== undefined) {\n        return node.index;\n      }\n      if (!node.parentNode) {\n        return null;\n      }\n      if (node.isShadowRoot()) {\n        return node.shadowRootType() === DOMNode.ShadowRootTypes.UserAgent ? 'u' : 'a';\n      }\n      if (node.nodeType() === Node.DOCUMENT_NODE) {\n        return 'd';\n      }\n      return null;\n    }\n\n    const path = [];\n    let node: (DOMNode|null) = this;\n    while (node) {\n      const key = getNodeKey(node);\n      if (key === null) {\n        break;\n      }\n\n      path.push([key, node.#nodeName]);\n      node = node.parentNode;\n    }\n    path.reverse();\n    return path.join(',');\n  }\n\n  isAncestor(node: DOMNode): boolean {\n    if (!node) {\n      return false;\n    }\n\n    let currentNode: (DOMNode|null) = node.parentNode;\n    while (currentNode) {\n      if (this === currentNode) {\n        return true;\n      }\n      currentNode = currentNode.parentNode;\n    }\n    return false;\n  }\n\n  isDescendant(descendant: DOMNode): boolean {\n    return descendant.isAncestor(this);\n  }\n\n  frameOwnerFrameId(): Protocol.Page.FrameId|null {\n    return this.#frameOwnerFrameId;\n  }\n\n  frameId(): Protocol.Page.FrameId|null {\n    let node: DOMNode = this.parentNode || this;\n    while (!node.#frameOwnerFrameId && node.parentNode) {\n      node = node.parentNode;\n    }\n    return node.#frameOwnerFrameId;\n  }\n\n  setAttributesPayload(attrs: string[]): boolean {\n    let attributesChanged: true|boolean = !this.#attributes || attrs.length !== this.#attributes.size * 2;\n    const oldAttributesMap = this.#attributes || new Map();\n\n    this.#attributes = new Map();\n\n    for (let i = 0; i < attrs.length; i += 2) {\n      const name = attrs[i];\n      const value = attrs[i + 1];\n      this.addAttribute(name, value);\n\n      if (attributesChanged) {\n        continue;\n      }\n\n      const oldAttribute = oldAttributesMap.get(name);\n      if (!oldAttribute || oldAttribute.value !== value) {\n        attributesChanged = true;\n      }\n    }\n    return attributesChanged;\n  }\n\n  insertChild(prev: DOMNode|undefined, payload: Protocol.DOM.Node): DOMNode {\n    if (!this.childrenInternal) {\n      throw new Error('DOMNode._children is expected to not be null.');\n    }\n    const node = DOMNode.create(this.#domModel, this.ownerDocument, this.#isInShadowTree, payload, this.#retainedNodes);\n    this.childrenInternal.splice(prev ? this.childrenInternal.indexOf(prev) + 1 : 0, 0, node);\n    this.renumber();\n    return node;\n  }\n\n  removeChild(node: DOMNode): void {\n    const pseudoType = node.pseudoType();\n    if (pseudoType) {\n      const updatedPseudoElements = this.#pseudoElements.get(pseudoType)?.filter(element => element !== node);\n      if (updatedPseudoElements && updatedPseudoElements.length > 0) {\n        this.#pseudoElements.set(pseudoType, updatedPseudoElements);\n      } else {\n        this.#pseudoElements.delete(pseudoType);\n      }\n    } else {\n      const shadowRootIndex = this.shadowRootsInternal.indexOf(node);\n      if (shadowRootIndex !== -1) {\n        this.shadowRootsInternal.splice(shadowRootIndex, 1);\n      } else {\n        if (!this.childrenInternal) {\n          throw new Error('DOMNode._children is expected to not be null.');\n        }\n        if (this.childrenInternal.indexOf(node) === -1) {\n          throw new Error('DOMNode._children is expected to contain the node to be removed.');\n        }\n        this.childrenInternal.splice(this.childrenInternal.indexOf(node), 1);\n      }\n    }\n    node.parentNode = null;\n    this.#subtreeMarkerCount -= node.#subtreeMarkerCount;\n    if (node.#subtreeMarkerCount) {\n      this.#domModel.dispatchEventToListeners(Events.MarkersChanged, this);\n    }\n    this.renumber();\n  }\n\n  setChildrenPayload(payloads: Protocol.DOM.Node[]): void {\n    this.childrenInternal = [];\n    for (let i = 0; i < payloads.length; ++i) {\n      const payload = payloads[i];\n      const node =\n          DOMNode.create(this.#domModel, this.ownerDocument, this.#isInShadowTree, payload, this.#retainedNodes);\n      this.childrenInternal.push(node);\n    }\n    this.renumber();\n  }\n\n  private setPseudoElements(payloads: Protocol.DOM.Node[]|undefined): void {\n    if (!payloads) {\n      return;\n    }\n\n    for (let i = 0; i < payloads.length; ++i) {\n      const node =\n          DOMNode.create(this.#domModel, this.ownerDocument, this.#isInShadowTree, payloads[i], this.#retainedNodes);\n      node.parentNode = this;\n      const pseudoType = node.pseudoType();\n      if (!pseudoType) {\n        throw new Error('DOMNode.pseudoType() is expected to be defined.');\n      }\n      const currentPseudoElements = this.#pseudoElements.get(pseudoType);\n      if (currentPseudoElements) {\n        currentPseudoElements.push(node);\n      } else {\n        this.#pseudoElements.set(pseudoType, [node]);\n      }\n    }\n  }\n\n  setDistributedNodePayloads(payloads: Protocol.DOM.BackendNode[]): void {\n    this.#distributedNodes = [];\n    for (const payload of payloads) {\n      this.#distributedNodes.push(\n          new DOMNodeShortcut(this.#domModel.target(), payload.backendNodeId, payload.nodeType, payload.nodeName));\n    }\n  }\n\n  setAssignedSlot(payload: Protocol.DOM.BackendNode): void {\n    this.assignedSlot =\n        new DOMNodeShortcut(this.#domModel.target(), payload.backendNodeId, payload.nodeType, payload.nodeName);\n  }\n\n  private renumber(): void {\n    if (!this.childrenInternal) {\n      throw new Error('DOMNode._children is expected to not be null.');\n    }\n    this.childNodeCountInternal = this.childrenInternal.length;\n    if (this.childNodeCountInternal === 0) {\n      this.firstChild = null;\n      this.lastChild = null;\n      return;\n    }\n    this.firstChild = this.childrenInternal[0];\n    this.lastChild = this.childrenInternal[this.childNodeCountInternal - 1];\n    for (let i = 0; i < this.childNodeCountInternal; ++i) {\n      const child = this.childrenInternal[i];\n      child.index = i;\n      child.nextSibling = i + 1 < this.childNodeCountInternal ? this.childrenInternal[i + 1] : null;\n      child.previousSibling = i - 1 >= 0 ? this.childrenInternal[i - 1] : null;\n      child.parentNode = this;\n    }\n  }\n\n  private addAttribute(name: string, value: string): void {\n    const attr = {name, value, _node: this};\n    this.#attributes.set(name, attr);\n  }\n\n  setAttributeInternal(name: string, value: string): void {\n    const attr = this.#attributes.get(name);\n    if (attr) {\n      attr.value = value;\n    } else {\n      this.addAttribute(name, value);\n    }\n  }\n\n  removeAttributeInternal(name: string): void {\n    this.#attributes.delete(name);\n  }\n\n  copyTo(targetNode: DOMNode, anchorNode: DOMNode|null, callback?: ((arg0: string|null, arg1: DOMNode|null) => void)):\n      void {\n    void this.#agent\n        .invoke_copyTo(\n            {nodeId: this.id, targetNodeId: targetNode.id, insertBeforeNodeId: anchorNode ? anchorNode.id : undefined})\n        .then(response => {\n          if (!response.getError()) {\n            this.#domModel.markUndoableState();\n          }\n          const pastedNode = this.#domModel.nodeForId(response.nodeId);\n          if (pastedNode) {\n            // For every marker in this.#markers, set a marker in the copied node.\n            for (const [name, value] of this.#markers) {\n              pastedNode.setMarker(name, value);\n            }\n          }\n          if (callback) {\n            callback(response.getError() || null, pastedNode);\n          }\n        });\n  }\n\n  moveTo(targetNode: DOMNode, anchorNode: DOMNode|null, callback?: ((arg0: string|null, arg1: DOMNode|null) => void)):\n      void {\n    void this.#agent\n        .invoke_moveTo(\n            {nodeId: this.id, targetNodeId: targetNode.id, insertBeforeNodeId: anchorNode ? anchorNode.id : undefined})\n        .then(response => {\n          if (!response.getError()) {\n            this.#domModel.markUndoableState();\n          }\n          if (callback) {\n            callback(response.getError() || null, this.#domModel.nodeForId(response.nodeId));\n          }\n        });\n  }\n\n  isXMLNode(): boolean {\n    return Boolean(this.#xmlVersion);\n  }\n\n  setMarker(name: string, value: unknown): void {\n    if (value === null) {\n      if (!this.#markers.has(name)) {\n        return;\n      }\n\n      this.#markers.delete(name);\n      for (let node: (DOMNode|null) = this; node; node = node.parentNode) {\n        --node.#subtreeMarkerCount;\n      }\n      for (let node: (DOMNode|null) = this; node; node = node.parentNode) {\n        this.#domModel.dispatchEventToListeners(Events.MarkersChanged, node);\n      }\n      return;\n    }\n\n    if (this.parentNode && !this.#markers.has(name)) {\n      for (let node: (DOMNode|null) = this; node; node = node.parentNode) {\n        ++node.#subtreeMarkerCount;\n      }\n    }\n    this.#markers.set(name, value);\n    for (let node: (DOMNode|null) = this; node; node = node.parentNode) {\n      this.#domModel.dispatchEventToListeners(Events.MarkersChanged, node);\n    }\n  }\n\n  marker<T>(name: string): T|null {\n    return this.#markers.get(name) as T || null;\n  }\n\n  getMarkerKeysForTest(): string[] {\n    return [...this.#markers.keys()];\n  }\n\n  traverseMarkers(visitor: (arg0: DOMNode, arg1: string) => void): void {\n    function traverse(node: DOMNode): void {\n      if (!node.#subtreeMarkerCount) {\n        return;\n      }\n      for (const marker of node.#markers.keys()) {\n        visitor(node, marker);\n      }\n      if (!node.childrenInternal) {\n        return;\n      }\n      for (const child of node.childrenInternal) {\n        traverse(child);\n      }\n    }\n    traverse(this);\n  }\n\n  resolveURL(url: string): Platform.DevToolsPath.UrlString|null {\n    if (!url) {\n      return url as Platform.DevToolsPath.UrlString;\n    }\n    for (let frameOwnerCandidate: (DOMNode|null) = this; frameOwnerCandidate;\n         frameOwnerCandidate = frameOwnerCandidate.parentNode) {\n      if (frameOwnerCandidate instanceof DOMDocument && frameOwnerCandidate.baseURL) {\n        return Common.ParsedURL.ParsedURL.completeURL(frameOwnerCandidate.baseURL, url);\n      }\n    }\n    return null;\n  }\n\n  highlight(mode?: string): void {\n    this.#domModel.overlayModel().highlightInOverlay({node: this, selectorList: undefined}, mode);\n  }\n\n  highlightForTwoSeconds(): void {\n    this.#domModel.overlayModel().highlightInOverlayForTwoSeconds({node: this, selectorList: undefined});\n  }\n\n  async resolveToObject(objectGroup?: string, executionContextId?: Protocol.Runtime.ExecutionContextId):\n      Promise<RemoteObject|null> {\n    const {object} = await this.#agent.invoke_resolveNode(\n        {nodeId: this.id, backendNodeId: undefined, executionContextId, objectGroup});\n    return object && this.#domModel.runtimeModelInternal.createRemoteObject(object) || null;\n  }\n\n  async boxModel(): Promise<Protocol.DOM.BoxModel|null> {\n    const {model} = await this.#agent.invoke_getBoxModel({nodeId: this.id});\n    return model;\n  }\n\n  async setAsInspectedNode(): Promise<void> {\n    let node: DOMNode|null = this;\n    if (node?.pseudoType()) {\n      node = node.parentNode;\n    }\n    while (node) {\n      let ancestor = node.ancestorUserAgentShadowRoot();\n      if (!ancestor) {\n        break;\n      }\n      ancestor = node.ancestorShadowHost();\n      if (!ancestor) {\n        break;\n      }\n      // User #agent shadow root, keep climbing up.\n      node = ancestor;\n    }\n    if (!node) {\n      throw new Error('In DOMNode.setAsInspectedNode: node is expected to not be null.');\n    }\n    await this.#agent.invoke_setInspectedNode({nodeId: node.id});\n  }\n\n  enclosingElementOrSelf(): DOMNode|null {\n    let node: DOMNode|null = this;\n    if (node && node.nodeType() === Node.TEXT_NODE && node.parentNode) {\n      node = node.parentNode;\n    }\n\n    if (node && node.nodeType() !== Node.ELEMENT_NODE) {\n      node = null;\n    }\n    return node;\n  }\n\n  async callFunction<T, U extends string|number>(fn: (this: HTMLElement, ...args: U[]) => T, args: U[] = []):\n      Promise<{value: T}|null> {\n    const object = await this.resolveToObject();\n    if (!object) {\n      return null;\n    }\n\n    const result = await object.callFunction(fn, args.map(arg => RemoteObject.toCallArgument(arg)));\n    object.release();\n    if (result.wasThrown || !result.object) {\n      return null;\n    }\n    return {\n      value: result.object.value as T,\n    };\n  }\n\n  async scrollIntoView(): Promise<void> {\n    const node = this.enclosingElementOrSelf();\n    if (!node) {\n      return;\n    }\n\n    const result = await node.callFunction(scrollIntoViewInPage);\n    if (!result) {\n      return;\n    }\n\n    node.highlightForTwoSeconds();\n\n    function scrollIntoViewInPage(this: Element): void {\n      this.scrollIntoViewIfNeeded(true);\n    }\n  }\n\n  async focus(): Promise<void> {\n    const node = this.enclosingElementOrSelf();\n    if (!node) {\n      throw new Error('DOMNode.focus expects node to not be null.');\n    }\n    const result = await node.callFunction(focusInPage);\n    if (!result) {\n      return;\n    }\n\n    node.highlightForTwoSeconds();\n    await this.#domModel.target().pageAgent().invoke_bringToFront();\n\n    function focusInPage(this: HTMLElement): void {\n      this.focus();\n    }\n  }\n\n  simpleSelector(): string {\n    const lowerCaseName = this.localName() || this.nodeName().toLowerCase();\n    if (this.nodeType() !== Node.ELEMENT_NODE) {\n      return lowerCaseName;\n    }\n    const type = this.getAttribute('type');\n    const id = this.getAttribute('id');\n    const classes = this.getAttribute('class');\n\n    if (lowerCaseName === 'input' && type && !id && !classes) {\n      return lowerCaseName + '[type=\"' + CSS.escape(type) + '\"]';\n    }\n    if (id) {\n      return lowerCaseName + '#' + CSS.escape(id);\n    }\n    if (classes) {\n      const classList = classes.trim().split(/\\s+/g);\n      return (lowerCaseName === 'div' ? '' : lowerCaseName) + '.' + classList.map(cls => CSS.escape(cls)).join('.');\n    }\n    if (this.pseudoIdentifier()) {\n      return `${lowerCaseName}(${this.pseudoIdentifier()})`;\n    }\n    return lowerCaseName;\n  }\n\n  async getAnchorBySpecifier(specifier?: string): Promise<DOMNode|null> {\n    const response = await this.#agent.invoke_getAnchorElement({\n      nodeId: this.id,\n      anchorSpecifier: specifier,\n    });\n\n    if (response.getError()) {\n      return null;\n    }\n\n    return this.domModel().nodeForId(response.nodeId);\n  }\n\n  classNames(): string[] {\n    const classes = this.getAttribute('class');\n    return classes ? classes.split(/\\s+/) : [];\n  }\n}\n\nexport namespace DOMNode {\n  export enum ShadowRootTypes {\n    /* eslint-disable @typescript-eslint/naming-convention -- Used by web_tests. */\n    UserAgent = 'user-agent',\n    Open = 'open',\n    Closed = 'closed',\n    /* eslint-enable @typescript-eslint/naming-convention */\n  }\n}\n\nexport class DeferredDOMNode {\n  readonly #domModelInternal: DOMModel;\n  readonly #backendNodeIdInternal: Protocol.DOM.BackendNodeId;\n\n  constructor(target: Target, backendNodeId: Protocol.DOM.BackendNodeId) {\n    this.#domModelInternal = (target.model(DOMModel) as DOMModel);\n    this.#backendNodeIdInternal = backendNodeId;\n  }\n\n  resolve(callback: (arg0: DOMNode|null) => void): void {\n    void this.resolvePromise().then(callback);\n  }\n\n  async resolvePromise(): Promise<DOMNode|null> {\n    const nodeIds =\n        await this.#domModelInternal.pushNodesByBackendIdsToFrontend(new Set([this.#backendNodeIdInternal]));\n    return nodeIds?.get(this.#backendNodeIdInternal) || null;\n  }\n\n  backendNodeId(): Protocol.DOM.BackendNodeId {\n    return this.#backendNodeIdInternal;\n  }\n\n  domModel(): DOMModel {\n    return this.#domModelInternal;\n  }\n\n  highlight(): void {\n    this.#domModelInternal.overlayModel().highlightInOverlay({deferredNode: this, selectorList: undefined});\n  }\n}\n\nexport class DOMNodeShortcut {\n  nodeType: number;\n  nodeName: string;\n  deferredNode: DeferredDOMNode;\n  constructor(target: Target, backendNodeId: Protocol.DOM.BackendNodeId, nodeType: number, nodeName: string) {\n    this.nodeType = nodeType;\n    this.nodeName = nodeName;\n    this.deferredNode = new DeferredDOMNode(target, backendNodeId);\n  }\n}\n\nexport class DOMDocument extends DOMNode {\n  body: DOMNode|null;\n  documentElement: DOMNode|null;\n  documentURL: Platform.DevToolsPath.UrlString;\n  baseURL: Platform.DevToolsPath.UrlString;\n  constructor(domModel: DOMModel, payload: Protocol.DOM.Node) {\n    super(domModel);\n    this.body = null;\n    this.documentElement = null;\n    this.init(this, false, payload);\n    this.documentURL = (payload.documentURL || '') as Platform.DevToolsPath.UrlString;\n    this.baseURL = (payload.baseURL || '') as Platform.DevToolsPath.UrlString;\n  }\n}\n\nexport class DOMModel extends SDKModel<EventTypes> {\n  agent: ProtocolProxyApi.DOMApi;\n  idToDOMNode = new Map<Protocol.DOM.NodeId, DOMNode>();\n  #document: DOMDocument|null = null;\n  readonly #attributeLoadNodeIds = new Set<Protocol.DOM.NodeId>();\n  readonly runtimeModelInternal: RuntimeModel;\n  #lastMutationId!: number;\n  #pendingDocumentRequestPromise: Promise<DOMDocument|null>|null = null;\n  #frameOwnerNode?: DOMNode|null;\n  #loadNodeAttributesTimeout?: number;\n  #searchId?: string;\n  constructor(target: Target) {\n    super(target);\n\n    this.agent = target.domAgent();\n\n    target.registerDOMDispatcher(new DOMDispatcher(this));\n    this.runtimeModelInternal = (target.model(RuntimeModel) as RuntimeModel);\n\n    if (!target.suspended()) {\n      void this.agent.invoke_enable({});\n    }\n\n    if (Root.Runtime.experiments.isEnabled('capture-node-creation-stacks')) {\n      void this.agent.invoke_setNodeStackTracesEnabled({enable: true});\n    }\n  }\n\n  runtimeModel(): RuntimeModel {\n    return this.runtimeModelInternal;\n  }\n\n  cssModel(): CSSModel {\n    return this.target().model(CSSModel) as CSSModel;\n  }\n\n  overlayModel(): OverlayModel {\n    return this.target().model(OverlayModel) as OverlayModel;\n  }\n\n  static cancelSearch(): void {\n    for (const domModel of TargetManager.instance().models(DOMModel)) {\n      domModel.cancelSearch();\n    }\n  }\n\n  private scheduleMutationEvent(node: DOMNode): void {\n    if (!this.hasEventListeners(Events.DOMMutated)) {\n      return;\n    }\n\n    this.#lastMutationId = (this.#lastMutationId || 0) + 1;\n    void Promise.resolve().then(callObserve.bind(this, node, this.#lastMutationId));\n\n    function callObserve(this: DOMModel, node: DOMNode, mutationId: number): void {\n      if (!this.hasEventListeners(Events.DOMMutated) || this.#lastMutationId !== mutationId) {\n        return;\n      }\n\n      this.dispatchEventToListeners(Events.DOMMutated, node);\n    }\n  }\n\n  requestDocument(): Promise<DOMDocument|null> {\n    if (this.#document) {\n      return Promise.resolve(this.#document);\n    }\n    if (!this.#pendingDocumentRequestPromise) {\n      this.#pendingDocumentRequestPromise = this.requestDocumentInternal();\n    }\n    return this.#pendingDocumentRequestPromise;\n  }\n\n  async getOwnerNodeForFrame(frameId: Protocol.Page.FrameId): Promise<DeferredDOMNode|null> {\n    // Returns an error if the frameId does not belong to the current target.\n    const response = await this.agent.invoke_getFrameOwner({frameId});\n    if (response.getError()) {\n      return null;\n    }\n    return new DeferredDOMNode(this.target(), response.backendNodeId);\n  }\n\n  private async requestDocumentInternal(): Promise<DOMDocument|null> {\n    const response = await this.agent.invoke_getDocument({});\n    if (response.getError()) {\n      return null;\n    }\n    const {root: documentPayload} = response;\n    this.#pendingDocumentRequestPromise = null;\n\n    if (documentPayload) {\n      this.setDocument(documentPayload);\n    }\n    if (!this.#document) {\n      console.error('No document');\n      return null;\n    }\n\n    const parentModel = this.parentModel();\n    if (parentModel && !this.#frameOwnerNode) {\n      await parentModel.requestDocument();\n      const mainFrame = this.target().model(ResourceTreeModel)?.mainFrame;\n      if (mainFrame) {\n        const response = await parentModel.agent.invoke_getFrameOwner({frameId: mainFrame.id});\n        if (!response.getError() && response.nodeId) {\n          this.#frameOwnerNode = parentModel.nodeForId(response.nodeId);\n        }\n      }\n    }\n\n    // Document could have been cleared by now.\n    if (this.#frameOwnerNode) {\n      const oldDocument = this.#frameOwnerNode.contentDocument();\n      this.#frameOwnerNode.setContentDocument(this.#document);\n      this.#frameOwnerNode.setChildren([]);\n      if (this.#document) {\n        this.#document.parentNode = this.#frameOwnerNode;\n        this.dispatchEventToListeners(Events.NodeInserted, this.#document);\n      } else if (oldDocument) {\n        this.dispatchEventToListeners(Events.NodeRemoved, {node: oldDocument, parent: this.#frameOwnerNode});\n      }\n    }\n    return this.#document;\n  }\n\n  existingDocument(): DOMDocument|null {\n    return this.#document;\n  }\n\n  async pushNodeToFrontend(objectId: Protocol.Runtime.RemoteObjectId): Promise<DOMNode|null> {\n    await this.requestDocument();\n    const {nodeId} = await this.agent.invoke_requestNode({objectId});\n    return this.nodeForId(nodeId);\n  }\n\n  pushNodeByPathToFrontend(path: string): Promise<Protocol.DOM.NodeId|null> {\n    return this.requestDocument()\n        .then(() => this.agent.invoke_pushNodeByPathToFrontend({path}))\n        .then(({nodeId}) => nodeId);\n  }\n\n  async pushNodesByBackendIdsToFrontend(backendNodeIds: Set<Protocol.DOM.BackendNodeId>):\n      Promise<Map<Protocol.DOM.BackendNodeId, DOMNode|null>|null> {\n    await this.requestDocument();\n    const backendNodeIdsArray = [...backendNodeIds];\n    const {nodeIds} = await this.agent.invoke_pushNodesByBackendIdsToFrontend({backendNodeIds: backendNodeIdsArray});\n    if (!nodeIds) {\n      return null;\n    }\n    const map = new Map<Protocol.DOM.BackendNodeId, DOMNode|null>();\n    for (let i = 0; i < nodeIds.length; ++i) {\n      if (nodeIds[i]) {\n        map.set(backendNodeIdsArray[i], this.nodeForId(nodeIds[i]));\n      }\n    }\n    return map;\n  }\n\n  attributeModified(nodeId: Protocol.DOM.NodeId, name: string, value: string): void {\n    const node = this.idToDOMNode.get(nodeId);\n    if (!node) {\n      return;\n    }\n\n    node.setAttributeInternal(name, value);\n    this.dispatchEventToListeners(Events.AttrModified, {node, name});\n    this.scheduleMutationEvent(node);\n  }\n\n  attributeRemoved(nodeId: Protocol.DOM.NodeId, name: string): void {\n    const node = this.idToDOMNode.get(nodeId);\n    if (!node) {\n      return;\n    }\n    node.removeAttributeInternal(name);\n    this.dispatchEventToListeners(Events.AttrRemoved, {node, name});\n    this.scheduleMutationEvent(node);\n  }\n\n  inlineStyleInvalidated(nodeIds: Protocol.DOM.NodeId[]): void {\n    nodeIds.forEach(nodeId => this.#attributeLoadNodeIds.add(nodeId));\n    if (!this.#loadNodeAttributesTimeout) {\n      this.#loadNodeAttributesTimeout = window.setTimeout(this.loadNodeAttributes.bind(this), 20);\n    }\n  }\n\n  private loadNodeAttributes(): void {\n    this.#loadNodeAttributesTimeout = undefined;\n    for (const nodeId of this.#attributeLoadNodeIds) {\n      void this.agent.invoke_getAttributes({nodeId}).then(({attributes}) => {\n        if (!attributes) {\n          // We are calling loadNodeAttributes asynchronously, it is ok if node is not found.\n          return;\n        }\n        const node = this.idToDOMNode.get(nodeId);\n        if (!node) {\n          return;\n        }\n        if (node.setAttributesPayload(attributes)) {\n          this.dispatchEventToListeners(Events.AttrModified, {node, name: 'style'});\n          this.scheduleMutationEvent(node);\n        }\n      });\n    }\n    this.#attributeLoadNodeIds.clear();\n  }\n\n  characterDataModified(nodeId: Protocol.DOM.NodeId, newValue: string): void {\n    const node = this.idToDOMNode.get(nodeId);\n    if (!node) {\n      console.error('nodeId could not be resolved to a node');\n      return;\n    }\n    node.setNodeValueInternal(newValue);\n    this.dispatchEventToListeners(Events.CharacterDataModified, node);\n    this.scheduleMutationEvent(node);\n  }\n\n  nodeForId(nodeId: Protocol.DOM.NodeId|null): DOMNode|null {\n    return nodeId ? this.idToDOMNode.get(nodeId) || null : null;\n  }\n\n  documentUpdated(): void {\n    // If this frame doesn't have a document now,\n    // it means that its document is not requested yet and\n    // it will be requested when needed. (ex: setChildNodes event is received for the frame owner node)\n    // So, we don't need to request the document if we don't\n    // already have a document.\n    const alreadyHasDocument = Boolean(this.#document);\n    this.setDocument(null);\n    // If we have this.#pendingDocumentRequestPromise in flight,\n    // it will contain most recent result.\n    if (this.parentModel() && alreadyHasDocument && !this.#pendingDocumentRequestPromise) {\n      void this.requestDocument();\n    }\n  }\n\n  private setDocument(payload: Protocol.DOM.Node|null): void {\n    this.idToDOMNode = new Map();\n    if (payload && 'nodeId' in payload) {\n      this.#document = new DOMDocument(this, payload);\n    } else {\n      this.#document = null;\n    }\n    DOMModelUndoStack.instance().dispose(this);\n\n    if (!this.parentModel()) {\n      this.dispatchEventToListeners(Events.DocumentUpdated, this);\n    }\n  }\n\n  setDocumentForTest(document: Protocol.DOM.Node|null): void {\n    this.setDocument(document);\n  }\n\n  private setDetachedRoot(payload: Protocol.DOM.Node): void {\n    if (payload.nodeName === '#document') {\n      new DOMDocument(this, payload);\n    } else {\n      DOMNode.create(this, null, false, payload);\n    }\n  }\n\n  setChildNodes(parentId: Protocol.DOM.NodeId, payloads: Protocol.DOM.Node[]): void {\n    if (!parentId && payloads.length) {\n      this.setDetachedRoot(payloads[0]);\n      return;\n    }\n\n    const parent = this.idToDOMNode.get(parentId);\n    parent?.setChildrenPayload(payloads);\n  }\n\n  childNodeCountUpdated(nodeId: Protocol.DOM.NodeId, newValue: number): void {\n    const node = this.idToDOMNode.get(nodeId);\n    if (!node) {\n      console.error('nodeId could not be resolved to a node');\n      return;\n    }\n    node.setChildNodeCount(newValue);\n    this.dispatchEventToListeners(Events.ChildNodeCountUpdated, node);\n    this.scheduleMutationEvent(node);\n  }\n\n  childNodeInserted(parentId: Protocol.DOM.NodeId, prevId: Protocol.DOM.NodeId, payload: Protocol.DOM.Node): void {\n    const parent = this.idToDOMNode.get(parentId);\n    const prev = this.idToDOMNode.get(prevId);\n    if (!parent) {\n      console.error('parentId could not be resolved to a node');\n      return;\n    }\n    const node = parent.insertChild(prev, payload);\n    this.idToDOMNode.set(node.id, node);\n    this.dispatchEventToListeners(Events.NodeInserted, node);\n    this.scheduleMutationEvent(node);\n  }\n\n  childNodeRemoved(parentId: Protocol.DOM.NodeId, nodeId: Protocol.DOM.NodeId): void {\n    const parent = this.idToDOMNode.get(parentId);\n    const node = this.idToDOMNode.get(nodeId);\n    if (!parent || !node) {\n      console.error('parentId or nodeId could not be resolved to a node');\n      return;\n    }\n    parent.removeChild(node);\n    this.unbind(node);\n    this.dispatchEventToListeners(Events.NodeRemoved, {node, parent});\n    this.scheduleMutationEvent(node);\n  }\n\n  shadowRootPushed(hostId: Protocol.DOM.NodeId, root: Protocol.DOM.Node): void {\n    const host = this.idToDOMNode.get(hostId);\n    if (!host) {\n      return;\n    }\n    const node = DOMNode.create(this, host.ownerDocument, true, root);\n    node.parentNode = host;\n    this.idToDOMNode.set(node.id, node);\n    host.shadowRootsInternal.unshift(node);\n    this.dispatchEventToListeners(Events.NodeInserted, node);\n    this.scheduleMutationEvent(node);\n  }\n\n  shadowRootPopped(hostId: Protocol.DOM.NodeId, rootId: Protocol.DOM.NodeId): void {\n    const host = this.idToDOMNode.get(hostId);\n    if (!host) {\n      return;\n    }\n    const root = this.idToDOMNode.get(rootId);\n    if (!root) {\n      return;\n    }\n    host.removeChild(root);\n    this.unbind(root);\n    this.dispatchEventToListeners(Events.NodeRemoved, {node: root, parent: host});\n    this.scheduleMutationEvent(root);\n  }\n\n  pseudoElementAdded(parentId: Protocol.DOM.NodeId, pseudoElement: Protocol.DOM.Node): void {\n    const parent = this.idToDOMNode.get(parentId);\n    if (!parent) {\n      return;\n    }\n    const node = DOMNode.create(this, parent.ownerDocument, false, pseudoElement);\n    node.parentNode = parent;\n    this.idToDOMNode.set(node.id, node);\n    const pseudoType = node.pseudoType();\n    if (!pseudoType) {\n      throw new Error('DOMModel._pseudoElementAdded expects pseudoType to be defined.');\n    }\n    const currentPseudoElements = parent.pseudoElements().get(pseudoType);\n    if (currentPseudoElements && currentPseudoElements.length > 0) {\n      if (!(pseudoType.startsWith('view-transition') || pseudoType.startsWith('scroll-') || pseudoType === 'column')) {\n        throw new Error(\n            'DOMModel.pseudoElementAdded expects parent to not already have this pseudo type added; only view-transition* and scrolling pseudo elements can coexist under the same parent.' +\n            ` ${currentPseudoElements.length} elements of type ${pseudoType} already exist on parent.`);\n      }\n      currentPseudoElements.push(node);\n    } else {\n      parent.pseudoElements().set(pseudoType, [node]);\n    }\n    this.dispatchEventToListeners(Events.NodeInserted, node);\n    this.scheduleMutationEvent(node);\n  }\n\n  scrollableFlagUpdated(nodeId: Protocol.DOM.NodeId, isScrollable: boolean): void {\n    const node = this.nodeForId(nodeId);\n    if (!node || node.isScrollable() === isScrollable) {\n      return;\n    }\n    node.setIsScrollable(isScrollable);\n    this.dispatchEventToListeners(Events.ScrollableFlagUpdated, {node});\n  }\n\n  affectedByStartingStylesFlagUpdated(nodeId: Protocol.DOM.NodeId, affectedByStartingStyles: boolean): void {\n    const node = this.nodeForId(nodeId);\n    if (!node || node.affectedByStartingStyles() === affectedByStartingStyles) {\n      return;\n    }\n    node.setAffectedByStartingStyles(affectedByStartingStyles);\n    this.dispatchEventToListeners(Events.AffectedByStartingStylesFlagUpdated, {node});\n  }\n\n  topLayerElementsUpdated(): void {\n    this.dispatchEventToListeners(Events.TopLayerElementsChanged);\n  }\n\n  pseudoElementRemoved(parentId: Protocol.DOM.NodeId, pseudoElementId: Protocol.DOM.NodeId): void {\n    const parent = this.idToDOMNode.get(parentId);\n    if (!parent) {\n      return;\n    }\n    const pseudoElement = this.idToDOMNode.get(pseudoElementId);\n    if (!pseudoElement) {\n      return;\n    }\n    parent.removeChild(pseudoElement);\n    this.unbind(pseudoElement);\n    this.dispatchEventToListeners(Events.NodeRemoved, {node: pseudoElement, parent});\n    this.scheduleMutationEvent(pseudoElement);\n  }\n\n  distributedNodesUpdated(insertionPointId: Protocol.DOM.NodeId, distributedNodes: Protocol.DOM.BackendNode[]): void {\n    const insertionPoint = this.idToDOMNode.get(insertionPointId);\n    if (!insertionPoint) {\n      return;\n    }\n    insertionPoint.setDistributedNodePayloads(distributedNodes);\n    this.dispatchEventToListeners(Events.DistributedNodesChanged, insertionPoint);\n    this.scheduleMutationEvent(insertionPoint);\n  }\n\n  private unbind(node: DOMNode): void {\n    this.idToDOMNode.delete(node.id);\n    const children = node.children();\n    for (let i = 0; children && i < children.length; ++i) {\n      this.unbind(children[i]);\n    }\n    for (let i = 0; i < node.shadowRootsInternal.length; ++i) {\n      this.unbind(node.shadowRootsInternal[i]);\n    }\n    const pseudoElements = node.pseudoElements();\n    for (const value of pseudoElements.values()) {\n      for (const pseudoElement of value) {\n        this.unbind(pseudoElement);\n      }\n    }\n    const templateContent = node.templateContent();\n    if (templateContent) {\n      this.unbind(templateContent);\n    }\n  }\n\n  async getNodesByStyle(\n      computedStyles: Array<{\n        name: string,\n        value: string,\n      }>,\n      pierce = false): Promise<Protocol.DOM.NodeId[]> {\n    await this.requestDocument();\n    if (!this.#document) {\n      throw new Error('DOMModel.getNodesByStyle expects to have a document.');\n    }\n    const response =\n        await this.agent.invoke_getNodesForSubtreeByStyle({nodeId: this.#document.id, computedStyles, pierce});\n    if (response.getError()) {\n      throw new Error(response.getError());\n    }\n    return response.nodeIds;\n  }\n\n  async performSearch(query: string, includeUserAgentShadowDOM: boolean): Promise<number> {\n    const response = await this.agent.invoke_performSearch({query, includeUserAgentShadowDOM});\n    if (!response.getError()) {\n      this.#searchId = response.searchId;\n    }\n    return response.getError() ? 0 : response.resultCount;\n  }\n\n  async searchResult(index: number): Promise<DOMNode|null> {\n    if (!this.#searchId) {\n      return null;\n    }\n    const {nodeIds} =\n        await this.agent.invoke_getSearchResults({searchId: this.#searchId, fromIndex: index, toIndex: index + 1});\n    return nodeIds && nodeIds.length === 1 ? this.nodeForId(nodeIds[0]) : null;\n  }\n\n  private cancelSearch(): void {\n    if (!this.#searchId) {\n      return;\n    }\n    void this.agent.invoke_discardSearchResults({searchId: this.#searchId});\n    this.#searchId = undefined;\n  }\n\n  classNamesPromise(nodeId: Protocol.DOM.NodeId): Promise<string[]> {\n    return this.agent.invoke_collectClassNamesFromSubtree({nodeId}).then(({classNames}) => classNames || []);\n  }\n\n  querySelector(nodeId: Protocol.DOM.NodeId, selector: string): Promise<Protocol.DOM.NodeId|null> {\n    return this.agent.invoke_querySelector({nodeId, selector}).then(({nodeId}) => nodeId);\n  }\n\n  querySelectorAll(nodeId: Protocol.DOM.NodeId, selector: string): Promise<Protocol.DOM.NodeId[]|null> {\n    return this.agent.invoke_querySelectorAll({nodeId, selector}).then(({nodeIds}) => nodeIds);\n  }\n\n  getTopLayerElements(): Promise<Protocol.DOM.NodeId[]|null> {\n    return this.agent.invoke_getTopLayerElements().then(({nodeIds}) => nodeIds);\n  }\n\n  getDetachedDOMNodes(): Promise<Protocol.DOM.DetachedElementInfo[]|null> {\n    return this.agent.invoke_getDetachedDomNodes().then(({detachedNodes}) => detachedNodes);\n  }\n\n  getElementByRelation(nodeId: Protocol.DOM.NodeId, relation: Protocol.DOM.GetElementByRelationRequestRelation):\n      Promise<Protocol.DOM.NodeId|null> {\n    return this.agent.invoke_getElementByRelation({nodeId, relation}).then(({nodeId}) => nodeId);\n  }\n\n  markUndoableState(minorChange?: boolean): void {\n    void DOMModelUndoStack.instance().markUndoableState(this, minorChange || false);\n  }\n\n  async nodeForLocation(x: number, y: number, includeUserAgentShadowDOM: boolean): Promise<DOMNode|null> {\n    const response = await this.agent.invoke_getNodeForLocation({x, y, includeUserAgentShadowDOM});\n    if (response.getError() || !response.nodeId) {\n      return null;\n    }\n    return this.nodeForId(response.nodeId);\n  }\n\n  async getContainerForNode(\n      nodeId: Protocol.DOM.NodeId, containerName?: string, physicalAxes?: Protocol.DOM.PhysicalAxes,\n      logicalAxes?: Protocol.DOM.LogicalAxes, queriesScrollState?: boolean,\n      queriesAnchored?: boolean): Promise<DOMNode|null> {\n    const {nodeId: containerNodeId} = await this.agent.invoke_getContainerForNode(\n        {nodeId, containerName, physicalAxes, logicalAxes, queriesScrollState, queriesAnchored});\n    if (!containerNodeId) {\n      return null;\n    }\n    return this.nodeForId(containerNodeId);\n  }\n\n  pushObjectAsNodeToFrontend(object: RemoteObject): Promise<DOMNode|null> {\n    return object.isNode() && object.objectId ? this.pushNodeToFrontend(object.objectId) : Promise.resolve(null);\n  }\n\n  override suspendModel(): Promise<void> {\n    return this.agent.invoke_disable().then(() => this.setDocument(null));\n  }\n\n  override async resumeModel(): Promise<void> {\n    await this.agent.invoke_enable({});\n  }\n\n  override dispose(): void {\n    DOMModelUndoStack.instance().dispose(this);\n  }\n\n  parentModel(): DOMModel|null {\n    const parentTarget = this.target().parentTarget();\n    return parentTarget ? parentTarget.model(DOMModel) : null;\n  }\n\n  getAgent(): ProtocolProxyApi.DOMApi {\n    return this.agent;\n  }\n\n  registerNode(node: DOMNode): void {\n    this.idToDOMNode.set(node.id, node);\n  }\n}\n\nexport enum Events {\n  /* eslint-disable @typescript-eslint/naming-convention -- Used by web_tests. */\n  AttrModified = 'AttrModified',\n  AttrRemoved = 'AttrRemoved',\n  CharacterDataModified = 'CharacterDataModified',\n  DOMMutated = 'DOMMutated',\n  NodeInserted = 'NodeInserted',\n  NodeRemoved = 'NodeRemoved',\n  DocumentUpdated = 'DocumentUpdated',\n  ChildNodeCountUpdated = 'ChildNodeCountUpdated',\n  DistributedNodesChanged = 'DistributedNodesChanged',\n  MarkersChanged = 'MarkersChanged',\n  TopLayerElementsChanged = 'TopLayerElementsChanged',\n  ScrollableFlagUpdated = 'ScrollableFlagUpdated',\n  AffectedByStartingStylesFlagUpdated = 'AffectedByStartingStylesFlagUpdated',\n  /* eslint-enable @typescript-eslint/naming-convention */\n}\n\nexport interface EventTypes {\n  [Events.AttrModified]: {node: DOMNode, name: string};\n  [Events.AttrRemoved]: {node: DOMNode, name: string};\n  [Events.CharacterDataModified]: DOMNode;\n  [Events.DOMMutated]: DOMNode;\n  [Events.NodeInserted]: DOMNode;\n  [Events.NodeRemoved]: {node: DOMNode, parent: DOMNode};\n  [Events.DocumentUpdated]: DOMModel;\n  [Events.ChildNodeCountUpdated]: DOMNode;\n  [Events.DistributedNodesChanged]: DOMNode;\n  [Events.MarkersChanged]: DOMNode;\n  [Events.TopLayerElementsChanged]: void;\n  [Events.ScrollableFlagUpdated]: {node: DOMNode};\n  [Events.AffectedByStartingStylesFlagUpdated]: {node: DOMNode};\n}\n\nclass DOMDispatcher implements ProtocolProxyApi.DOMDispatcher {\n  readonly #domModel: DOMModel;\n  constructor(domModel: DOMModel) {\n    this.#domModel = domModel;\n  }\n\n  documentUpdated(): void {\n    this.#domModel.documentUpdated();\n  }\n\n  attributeModified({nodeId, name, value}: Protocol.DOM.AttributeModifiedEvent): void {\n    this.#domModel.attributeModified(nodeId, name, value);\n  }\n\n  attributeRemoved({nodeId, name}: Protocol.DOM.AttributeRemovedEvent): void {\n    this.#domModel.attributeRemoved(nodeId, name);\n  }\n\n  inlineStyleInvalidated({nodeIds}: Protocol.DOM.InlineStyleInvalidatedEvent): void {\n    this.#domModel.inlineStyleInvalidated(nodeIds);\n  }\n\n  characterDataModified({nodeId, characterData}: Protocol.DOM.CharacterDataModifiedEvent): void {\n    this.#domModel.characterDataModified(nodeId, characterData);\n  }\n\n  setChildNodes({parentId, nodes}: Protocol.DOM.SetChildNodesEvent): void {\n    this.#domModel.setChildNodes(parentId, nodes);\n  }\n\n  childNodeCountUpdated({nodeId, childNodeCount}: Protocol.DOM.ChildNodeCountUpdatedEvent): void {\n    this.#domModel.childNodeCountUpdated(nodeId, childNodeCount);\n  }\n\n  childNodeInserted({parentNodeId, previousNodeId, node}: Protocol.DOM.ChildNodeInsertedEvent): void {\n    this.#domModel.childNodeInserted(parentNodeId, previousNodeId, node);\n  }\n\n  childNodeRemoved({parentNodeId, nodeId}: Protocol.DOM.ChildNodeRemovedEvent): void {\n    this.#domModel.childNodeRemoved(parentNodeId, nodeId);\n  }\n\n  shadowRootPushed({hostId, root}: Protocol.DOM.ShadowRootPushedEvent): void {\n    this.#domModel.shadowRootPushed(hostId, root);\n  }\n\n  shadowRootPopped({hostId, rootId}: Protocol.DOM.ShadowRootPoppedEvent): void {\n    this.#domModel.shadowRootPopped(hostId, rootId);\n  }\n\n  pseudoElementAdded({parentId, pseudoElement}: Protocol.DOM.PseudoElementAddedEvent): void {\n    this.#domModel.pseudoElementAdded(parentId, pseudoElement);\n  }\n\n  pseudoElementRemoved({parentId, pseudoElementId}: Protocol.DOM.PseudoElementRemovedEvent): void {\n    this.#domModel.pseudoElementRemoved(parentId, pseudoElementId);\n  }\n\n  distributedNodesUpdated({insertionPointId, distributedNodes}: Protocol.DOM.DistributedNodesUpdatedEvent): void {\n    this.#domModel.distributedNodesUpdated(insertionPointId, distributedNodes);\n  }\n\n  topLayerElementsUpdated(): void {\n    this.#domModel.topLayerElementsUpdated();\n  }\n\n  scrollableFlagUpdated({nodeId, isScrollable}: Protocol.DOM.ScrollableFlagUpdatedEvent): void {\n    this.#domModel.scrollableFlagUpdated(nodeId, isScrollable);\n  }\n\n  affectedByStartingStylesFlagUpdated({nodeId, affectedByStartingStyles}:\n                                          Protocol.DOM.AffectedByStartingStylesFlagUpdatedEvent): void {\n    this.#domModel.affectedByStartingStylesFlagUpdated(nodeId, affectedByStartingStyles);\n  }\n}\n\nlet domModelUndoStackInstance: DOMModelUndoStack|null = null;\n\nexport class DOMModelUndoStack {\n  #stack: DOMModel[];\n  #index: number;\n  #lastModelWithMinorChange: DOMModel|null;\n  constructor() {\n    this.#stack = [];\n    this.#index = 0;\n    this.#lastModelWithMinorChange = null;\n  }\n\n  static instance(opts: {\n    forceNew: boolean|null,\n  } = {forceNew: null}): DOMModelUndoStack {\n    const {forceNew} = opts;\n    if (!domModelUndoStackInstance || forceNew) {\n      domModelUndoStackInstance = new DOMModelUndoStack();\n    }\n\n    return domModelUndoStackInstance;\n  }\n\n  async markUndoableState(model: DOMModel, minorChange: boolean): Promise<void> {\n    // Both minor and major changes get into the #stack, but minor updates are coalesced.\n    // Commit major undoable state in the old model upon model switch.\n    if (this.#lastModelWithMinorChange && model !== this.#lastModelWithMinorChange) {\n      this.#lastModelWithMinorChange.markUndoableState();\n      this.#lastModelWithMinorChange = null;\n    }\n\n    // Previous minor change is already in the #stack.\n    if (minorChange && this.#lastModelWithMinorChange === model) {\n      return;\n    }\n\n    this.#stack = this.#stack.slice(0, this.#index);\n    this.#stack.push(model);\n    this.#index = this.#stack.length;\n\n    // Delay marking as major undoable states in case of minor operations until the\n    // major or model switch.\n    if (minorChange) {\n      this.#lastModelWithMinorChange = model;\n    } else {\n      await model.getAgent().invoke_markUndoableState();\n      this.#lastModelWithMinorChange = null;\n    }\n  }\n\n  async undo(): Promise<void> {\n    if (this.#index === 0) {\n      return await Promise.resolve();\n    }\n    --this.#index;\n    this.#lastModelWithMinorChange = null;\n    await this.#stack[this.#index].getAgent().invoke_undo();\n  }\n\n  async redo(): Promise<void> {\n    if (this.#index >= this.#stack.length) {\n      return await Promise.resolve();\n    }\n    ++this.#index;\n    this.#lastModelWithMinorChange = null;\n    await this.#stack[this.#index - 1].getAgent().invoke_redo();\n  }\n\n  dispose(model: DOMModel): void {\n    let shift = 0;\n    for (let i = 0; i < this.#index; ++i) {\n      if (this.#stack[i] === model) {\n        ++shift;\n      }\n    }\n    Platform.ArrayUtilities.removeElement(this.#stack, model);\n    this.#index -= shift;\n    if (this.#lastModelWithMinorChange === model) {\n      this.#lastModelWithMinorChange = null;\n    }\n  }\n}\n\nSDKModel.register(DOMModel, {capabilities: Capability.DOM, autostart: true});\nexport interface Attribute {\n  name: string;\n  value: string;\n  _node: DOMNode;\n}\n"]}