{"version":3,"file":"DebuggerModel.js","sourceRoot":"","sources":["../../../../../../front_end/core/sdk/DebuggerModel.ts"],"names":[],"mappings":"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","sourcesContent":["// Copyright 2010 The Chromium Authors\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\nimport type * as ProtocolProxyApi from '../../generated/protocol-proxy-api.js';\nimport * as Protocol from '../../generated/protocol.js';\nimport * as Common from '../common/common.js';\nimport * as i18n from '../i18n/i18n.js';\nimport type * as Platform from '../platform/platform.js';\nimport * as Root from '../root/root.js';\n\nimport type {PageResourceLoadInitiator} from './PageResourceLoader.js';\nimport {type GetPropertiesResult, type RemoteObject, RemoteObjectProperty, ScopeRef} from './RemoteObject.js';\nimport {Events as ResourceTreeModelEvents, ResourceTreeModel} from './ResourceTreeModel.js';\nimport {type EvaluationOptions, type EvaluationResult, type ExecutionContext, RuntimeModel} from './RuntimeModel.js';\nimport {Script} from './Script.js';\nimport {SDKModel} from './SDKModel.js';\nimport {SourceMap} from './SourceMap.js';\nimport {SourceMapManager} from './SourceMapManager.js';\nimport {Capability, type Target} from './Target.js';\n\nconst UIStrings = {\n  /**\n   * @description Title of a section in the debugger showing local JavaScript variables.\n   */\n  local: 'Local',\n  /**\n   * @description Text that refers to closure as a programming term\n   */\n  closure: 'Closure',\n  /**\n   * @description Noun that represents a section or block of code in the Debugger Model. Shown in the Sources tab, while paused on a breakpoint.\n   */\n  block: 'Block',\n  /**\n   * @description Label for a group of JavaScript files\n   */\n  script: 'Script',\n  /**\n   * @description Title of a section in the debugger showing JavaScript variables from the a 'with'\n   *block. Block here means section of code, 'with' refers to a JavaScript programming concept and\n   *is a fixed term.\n   */\n  withBlock: '`With` block',\n  /**\n   * @description Title of a section in the debugger showing JavaScript variables from the a 'catch'\n   *block. Block here means section of code, 'catch' refers to a JavaScript programming concept and\n   *is a fixed term.\n   */\n  catchBlock: '`Catch` block',\n  /**\n   * @description Title of a section in the debugger showing JavaScript variables from the global scope.\n   */\n  global: 'Global',\n  /**\n   * @description Text for a JavaScript module, the programming concept\n   */\n  module: 'Module',\n  /**\n   * @description Text describing the expression scope in WebAssembly\n   */\n  expression: 'Expression',\n  /**\n   * @description Text in Scope Chain Sidebar Pane of the Sources panel\n   */\n  exception: 'Exception',\n  /**\n   * @description Text in Scope Chain Sidebar Pane of the Sources panel\n   */\n  returnValue: 'Return value',\n} as const;\nconst str_ = i18n.i18n.registerUIStrings('core/sdk/DebuggerModel.ts', UIStrings);\nconst i18nString = i18n.i18n.getLocalizedString.bind(undefined, str_);\n\nexport function sortAndMergeRanges(locationRanges: Protocol.Debugger.LocationRange[]):\n    Protocol.Debugger.LocationRange[] {\n  function compare(p1: Protocol.Debugger.ScriptPosition, p2: Protocol.Debugger.ScriptPosition): number {\n    return (p1.lineNumber - p2.lineNumber) || (p1.columnNumber - p2.columnNumber);\n  }\n  function overlap(r1: Protocol.Debugger.LocationRange, r2: Protocol.Debugger.LocationRange): boolean {\n    if (r1.scriptId !== r2.scriptId) {\n      return false;\n    }\n    const n = compare(r1.start, r2.start);\n    if (n < 0) {\n      return compare(r1.end, r2.start) >= 0;\n    }\n    if (n > 0) {\n      return compare(r1.start, r2.end) <= 0;\n    }\n    return true;\n  }\n\n  if (locationRanges.length === 0) {\n    return [];\n  }\n  locationRanges.sort((r1, r2) => {\n    if (r1.scriptId < r2.scriptId) {\n      return -1;\n    }\n    if (r1.scriptId > r2.scriptId) {\n      return 1;\n    }\n    return compare(r1.start, r2.start) || compare(r1.end, r2.end);\n  });\n  let prev = locationRanges[0];\n  const merged = [];\n  for (let i = 1; i < locationRanges.length; ++i) {\n    const curr = locationRanges[i];\n    if (overlap(prev, curr)) {\n      if (compare(prev.end, curr.end) <= 0) {\n        prev = {...prev, end: curr.end};\n      }\n    } else {\n      merged.push(prev);\n      prev = curr;\n    }\n  }\n  merged.push(prev);\n  return merged;\n}\n\nexport const enum StepMode {\n  STEP_INTO = 'StepInto',\n  STEP_OUT = 'StepOut',\n  STEP_OVER = 'StepOver',\n}\n\nexport const WASM_SYMBOLS_PRIORITY = [\n  Protocol.Debugger.DebugSymbolsType.ExternalDWARF,\n  Protocol.Debugger.DebugSymbolsType.EmbeddedDWARF,\n  Protocol.Debugger.DebugSymbolsType.SourceMap,\n];\n\nexport class DebuggerModel extends SDKModel<EventTypes> {\n  readonly agent: ProtocolProxyApi.DebuggerApi;\n  #runtimeModel: RuntimeModel;\n  readonly #sourceMapManager: SourceMapManager<Script>;\n  #debuggerPausedDetails: DebuggerPausedDetails|null = null;\n  readonly #scripts = new Map<string, Script>();\n  readonly #scriptsBySourceURL = new Map<string, Script[]>();\n  #discardableScripts: Script[] = [];\n  continueToLocationCallback: ((arg0: DebuggerPausedDetails) => boolean)|null = null;\n  #selectedCallFrame: CallFrame|null = null;\n  #debuggerEnabled = false;\n  #debuggerId: string|null = null;\n  #skipAllPausesTimeout = 0;\n  #beforePausedCallback: ((arg0: DebuggerPausedDetails, stepOver: Location|null) => Promise<boolean>)|null = null;\n  #computeAutoStepRangesCallback: ((arg0: StepMode, arg1: CallFrame) => Promise<Array<{\n                                     start: Location,\n                                     end: Location,\n                                   }>>)|null = null;\n  #expandCallFramesCallback: ((arg0: CallFrame[]) => Promise<CallFrame[]>)|null = null;\n  evaluateOnCallFrameCallback:\n      ((arg0: CallFrame, arg1: EvaluationOptions) => Promise<EvaluationResult|null>)|null = null;\n  #synchronizeBreakpointsCallback: ((script: Script) => Promise<void>)|null = null;\n  // We need to be able to register listeners for individual breakpoints. As such, we dispatch\n  // on breakpoint ids, which are not statically known. The event #payload will always be a `Location`.\n  readonly #breakpointResolvedEventTarget = new Common.ObjectWrapper.ObjectWrapper<Record<string, Location>>();\n  // When stepping over with autostepping enabled, the context denotes the function to which autostepping is restricted\n  // to by way of its functionLocation (as per Debugger.CallFrame).\n  #autoSteppingContext: Location|null = null;\n  #isPausing = false;\n\n  constructor(target: Target) {\n    super(target);\n\n    target.registerDebuggerDispatcher(new DebuggerDispatcher(this));\n    this.agent = target.debuggerAgent();\n    this.#runtimeModel = (target.model(RuntimeModel) as RuntimeModel);\n\n    this.#sourceMapManager = new SourceMapManager(\n        target,\n        (compiledURL, sourceMappingURL, payload, script) =>\n            new SourceMap(compiledURL, sourceMappingURL, payload, script));\n\n    Common.Settings.Settings.instance()\n        .moduleSetting('pause-on-exception-enabled')\n        .addChangeListener(this.pauseOnExceptionStateChanged, this);\n    Common.Settings.Settings.instance()\n        .moduleSetting('pause-on-caught-exception')\n        .addChangeListener(this.pauseOnExceptionStateChanged, this);\n    Common.Settings.Settings.instance()\n        .moduleSetting('pause-on-uncaught-exception')\n        .addChangeListener(this.pauseOnExceptionStateChanged, this);\n    Common.Settings.Settings.instance()\n        .moduleSetting('disable-async-stack-traces')\n        .addChangeListener(this.asyncStackTracesStateChanged, this);\n    Common.Settings.Settings.instance()\n        .moduleSetting('breakpoints-active')\n        .addChangeListener(this.breakpointsActiveChanged, this);\n\n    if (!target.suspended()) {\n      void this.enableDebugger();\n    }\n\n    this.#sourceMapManager.setEnabled(\n        Common.Settings.Settings.instance().moduleSetting('js-source-maps-enabled').get());\n    Common.Settings.Settings.instance()\n        .moduleSetting('js-source-maps-enabled')\n        .addChangeListener(event => this.#sourceMapManager.setEnabled((event.data as boolean)));\n\n    const resourceTreeModel = (target.model(ResourceTreeModel) as ResourceTreeModel);\n    if (resourceTreeModel) {\n      resourceTreeModel.addEventListener(ResourceTreeModelEvents.FrameNavigated, this.onFrameNavigated, this);\n    }\n  }\n\n  static selectSymbolSource(debugSymbols: Protocol.Debugger.DebugSymbols[]|null): Protocol.Debugger.DebugSymbols|null {\n    if (!debugSymbols || debugSymbols.length === 0) {\n      return null;\n    }\n\n    // Provides backwards compatibility to previous CDP version on Protocol.Debugger.DebugSymbols.\n    // TODO(crbug.com/369515221): Remove extra code as soon as old v8 versions used in Node are no longer supported.\n    if ('type' in debugSymbols) {\n      if (debugSymbols.type === 'None') {\n        return null;\n      }\n      return debugSymbols as Protocol.Debugger.DebugSymbols;\n    }\n\n    let debugSymbolsSource = null;\n    const symbolTypes = new Map(debugSymbols.map(symbol => [symbol.type, symbol]));\n    for (const symbol of WASM_SYMBOLS_PRIORITY) {\n      if (symbolTypes.has(symbol)) {\n        debugSymbolsSource = symbolTypes.get(symbol) || null;\n        break;\n      }\n    }\n\n    console.assert(\n        debugSymbolsSource !== null,\n        'Unknown symbol types. Front-end and back-end should be kept in sync regarding Protocol.Debugger.DebugSymbolTypes');\n    if (debugSymbolsSource && debugSymbols.length > 1) {\n      Common.Console.Console.instance().warn(\n          `Multiple debug symbols for script were found. Using ${debugSymbolsSource.type}`);\n    }\n    return debugSymbolsSource;\n  }\n\n  sourceMapManager(): SourceMapManager<Script> {\n    return this.#sourceMapManager;\n  }\n\n  runtimeModel(): RuntimeModel {\n    return this.#runtimeModel;\n  }\n\n  debuggerEnabled(): boolean {\n    return Boolean(this.#debuggerEnabled);\n  }\n\n  debuggerId(): string|null {\n    return this.#debuggerId;\n  }\n\n  private async enableDebugger(): Promise<void> {\n    if (this.#debuggerEnabled) {\n      return;\n    }\n    this.#debuggerEnabled = true;\n\n    // Set a limit for the total size of collected script sources retained by debugger.\n    // 10MB for remote frontends, 100MB for others.\n    const isRemoteFrontend = Root.Runtime.Runtime.queryParam('remoteFrontend') || Root.Runtime.Runtime.queryParam('ws');\n    const maxScriptsCacheSize = isRemoteFrontend ? 10e6 : 100e6;\n    const enablePromise = this.agent.invoke_enable({maxScriptsCacheSize});\n    let instrumentationPromise: Promise<Protocol.Debugger.SetInstrumentationBreakpointResponse>|undefined;\n    if (Root.Runtime.experiments.isEnabled(Root.Runtime.ExperimentName.INSTRUMENTATION_BREAKPOINTS)) {\n      instrumentationPromise = this.agent.invoke_setInstrumentationBreakpoint({\n        instrumentation: Protocol.Debugger.SetInstrumentationBreakpointRequestInstrumentation.BeforeScriptExecution,\n      });\n    }\n    this.pauseOnExceptionStateChanged();\n    void this.asyncStackTracesStateChanged();\n    if (!Common.Settings.Settings.instance().moduleSetting('breakpoints-active').get()) {\n      this.breakpointsActiveChanged();\n    }\n    this.dispatchEventToListeners(Events.DebuggerWasEnabled, this);\n    const [enableResult] = await Promise.all([enablePromise, instrumentationPromise]);\n    this.registerDebugger(enableResult);\n  }\n\n  async syncDebuggerId(): Promise<Protocol.Debugger.EnableResponse> {\n    const isRemoteFrontend = Root.Runtime.Runtime.queryParam('remoteFrontend') || Root.Runtime.Runtime.queryParam('ws');\n    const maxScriptsCacheSize = isRemoteFrontend ? 10e6 : 100e6;\n    const enablePromise = this.agent.invoke_enable({maxScriptsCacheSize});\n    void enablePromise.then(this.registerDebugger.bind(this));\n    return await enablePromise;\n  }\n\n  private onFrameNavigated(): void {\n    if (DebuggerModel.shouldResyncDebuggerId) {\n      return;\n    }\n\n    DebuggerModel.shouldResyncDebuggerId = true;\n  }\n\n  private registerDebugger(response: Protocol.Debugger.EnableResponse): void {\n    if (response.getError()) {\n      this.#debuggerEnabled = false;\n      return;\n    }\n    const {debuggerId} = response;\n    debuggerIdToModel.set(debuggerId, this);\n    this.#debuggerId = debuggerId;\n    this.dispatchEventToListeners(Events.DebuggerIsReadyToPause, this);\n  }\n\n  isReadyToPause(): boolean {\n    return Boolean(this.#debuggerId);\n  }\n\n  static async modelForDebuggerId(debuggerId: string): Promise<DebuggerModel|null> {\n    if (DebuggerModel.shouldResyncDebuggerId) {\n      await DebuggerModel.resyncDebuggerIdForModels();\n      DebuggerModel.shouldResyncDebuggerId = false;\n    }\n    return debuggerIdToModel.get(debuggerId) || null;\n  }\n\n  static async resyncDebuggerIdForModels(): Promise<void> {\n    const dbgModels = debuggerIdToModel.values();\n    for (const dbgModel of dbgModels) {\n      if (dbgModel.debuggerEnabled()) {\n        await dbgModel.syncDebuggerId();\n      }\n    }\n  }\n\n  private async disableDebugger(): Promise<void> {\n    if (!this.#debuggerEnabled) {\n      return;\n    }\n    this.#debuggerEnabled = false;\n\n    await this.asyncStackTracesStateChanged();\n    await this.agent.invoke_disable();\n    this.#isPausing = false;\n    this.globalObjectCleared();\n    this.dispatchEventToListeners(Events.DebuggerWasDisabled, this);\n    if (typeof this.#debuggerId === 'string') {\n      debuggerIdToModel.delete(this.#debuggerId);\n    }\n    this.#debuggerId = null;\n  }\n\n  private skipAllPauses(skip: boolean): void {\n    if (this.#skipAllPausesTimeout) {\n      clearTimeout(this.#skipAllPausesTimeout);\n      this.#skipAllPausesTimeout = 0;\n    }\n    void this.agent.invoke_setSkipAllPauses({skip});\n  }\n\n  skipAllPausesUntilReloadOrTimeout(timeout: number): void {\n    if (this.#skipAllPausesTimeout) {\n      clearTimeout(this.#skipAllPausesTimeout);\n    }\n    void this.agent.invoke_setSkipAllPauses({skip: true});\n    // If reload happens before the timeout, the flag will be already unset and the timeout callback won't change anything.\n    this.#skipAllPausesTimeout = window.setTimeout(this.skipAllPauses.bind(this, false), timeout);\n  }\n\n  private pauseOnExceptionStateChanged(): void {\n    const pauseOnCaughtEnabled = Common.Settings.Settings.instance().moduleSetting('pause-on-caught-exception').get();\n    let state: Protocol.Debugger.SetPauseOnExceptionsRequestState;\n\n    const pauseOnUncaughtEnabled =\n        Common.Settings.Settings.instance().moduleSetting('pause-on-uncaught-exception').get();\n    if (pauseOnCaughtEnabled && pauseOnUncaughtEnabled) {\n      state = Protocol.Debugger.SetPauseOnExceptionsRequestState.All;\n    } else if (pauseOnCaughtEnabled) {\n      state = Protocol.Debugger.SetPauseOnExceptionsRequestState.Caught;\n    } else if (pauseOnUncaughtEnabled) {\n      state = Protocol.Debugger.SetPauseOnExceptionsRequestState.Uncaught;\n    } else {\n      state = Protocol.Debugger.SetPauseOnExceptionsRequestState.None;\n    }\n    void this.agent.invoke_setPauseOnExceptions({state});\n  }\n\n  private asyncStackTracesStateChanged(): Promise<Protocol.ProtocolResponseWithError> {\n    const maxAsyncStackChainDepth = 32;\n    const enabled =\n        !Common.Settings.Settings.instance().moduleSetting('disable-async-stack-traces').get() && this.#debuggerEnabled;\n    const maxDepth = enabled ? maxAsyncStackChainDepth : 0;\n    return this.agent.invoke_setAsyncCallStackDepth({maxDepth});\n  }\n\n  private breakpointsActiveChanged(): void {\n    void this.agent.invoke_setBreakpointsActive(\n        {active: Common.Settings.Settings.instance().moduleSetting('breakpoints-active').get()});\n  }\n\n  setComputeAutoStepRangesCallback(callback: ((arg0: StepMode, arg1: CallFrame) => Promise<LocationRange[]>)|null):\n      void {\n    this.#computeAutoStepRangesCallback = callback;\n  }\n\n  private async computeAutoStepSkipList(mode: StepMode): Promise<Protocol.Debugger.LocationRange[]> {\n    let ranges: LocationRange[] = [];\n    if (this.#computeAutoStepRangesCallback && this.#debuggerPausedDetails &&\n        this.#debuggerPausedDetails.callFrames.length > 0) {\n      const [callFrame] = this.#debuggerPausedDetails.callFrames;\n      ranges = await this.#computeAutoStepRangesCallback.call(null, mode, callFrame);\n    }\n    const skipList = ranges.map(({start, end}) => ({\n                                  scriptId: start.scriptId,\n                                  start: {lineNumber: start.lineNumber, columnNumber: start.columnNumber},\n                                  end: {lineNumber: end.lineNumber, columnNumber: end.columnNumber},\n                                }));\n    return sortAndMergeRanges(skipList);\n  }\n\n  async stepInto(): Promise<void> {\n    const skipList = await this.computeAutoStepSkipList(StepMode.STEP_INTO);\n    void this.agent.invoke_stepInto({breakOnAsyncCall: false, skipList});\n  }\n\n  async stepOver(): Promise<void> {\n    this.#autoSteppingContext = this.#debuggerPausedDetails?.callFrames[0]?.functionLocation() ?? null;\n    const skipList = await this.computeAutoStepSkipList(StepMode.STEP_OVER);\n    void this.agent.invoke_stepOver({skipList});\n  }\n\n  async stepOut(): Promise<void> {\n    const skipList = await this.computeAutoStepSkipList(StepMode.STEP_OUT);\n    if (skipList.length !== 0) {\n      void this.agent.invoke_stepOver({skipList});\n    } else {\n      void this.agent.invoke_stepOut();\n    }\n  }\n\n  scheduleStepIntoAsync(): void {\n    void this.computeAutoStepSkipList(StepMode.STEP_INTO).then(skipList => {\n      void this.agent.invoke_stepInto({breakOnAsyncCall: true, skipList});\n    });\n  }\n\n  resume(): void {\n    void this.agent.invoke_resume({terminateOnResume: false});\n    this.#isPausing = false;\n  }\n\n  pause(): void {\n    this.#isPausing = true;\n    this.skipAllPauses(false);\n    void this.agent.invoke_pause();\n  }\n\n  async setBreakpointByURL(\n      url: Platform.DevToolsPath.UrlString, lineNumber: number, columnNumber?: number,\n      condition?: BackendCondition): Promise<SetBreakpointResult> {\n    // Adjust column if needed.\n    let minColumnNumber = 0;\n    const scripts = this.#scriptsBySourceURL.get(url) || [];\n    for (let i = 0, l = scripts.length; i < l; ++i) {\n      const script = scripts[i];\n      if (lineNumber === script.lineOffset) {\n        minColumnNumber = minColumnNumber ? Math.min(minColumnNumber, script.columnOffset) : script.columnOffset;\n      }\n    }\n    columnNumber = Math.max(columnNumber || 0, minColumnNumber);\n    const response = await this.agent.invoke_setBreakpointByUrl({\n      lineNumber,\n      url,\n      columnNumber,\n      condition,\n    });\n    if (response.getError()) {\n      return {locations: [], breakpointId: null};\n    }\n    let locations: Location[] = [];\n    if (response.locations) {\n      locations = response.locations.map(payload => Location.fromPayload(this, payload));\n    }\n    return {locations, breakpointId: response.breakpointId};\n  }\n\n  async setBreakpointInAnonymousScript(\n      scriptHash: string, lineNumber: number, columnNumber?: number,\n      condition?: BackendCondition): Promise<SetBreakpointResult> {\n    const response = await this.agent.invoke_setBreakpointByUrl({lineNumber, scriptHash, columnNumber, condition});\n    if (response.getError()) {\n      return {locations: [], breakpointId: null};\n    }\n    let locations: Location[] = [];\n    if (response.locations) {\n      locations = response.locations.map(payload => Location.fromPayload(this, payload));\n    }\n    return {locations, breakpointId: response.breakpointId};\n  }\n\n  async removeBreakpoint(breakpointId: Protocol.Debugger.BreakpointId): Promise<void> {\n    await this.agent.invoke_removeBreakpoint({breakpointId});\n  }\n\n  async getPossibleBreakpoints(startLocation: Location, endLocation: Location|null, restrictToFunction: boolean):\n      Promise<BreakLocation[]> {\n    const response = await this.agent.invoke_getPossibleBreakpoints({\n      start: startLocation.payload(),\n      end: endLocation ? endLocation.payload() : undefined,\n      restrictToFunction,\n    });\n    if (response.getError() || !response.locations) {\n      return [];\n    }\n    return response.locations.map(location => BreakLocation.fromPayload(this, location));\n  }\n\n  async fetchAsyncStackTrace(stackId: Protocol.Runtime.StackTraceId): Promise<Protocol.Runtime.StackTrace|null> {\n    const response = await this.agent.invoke_getStackTrace({stackTraceId: stackId});\n    return response.getError() ? null : response.stackTrace;\n  }\n\n  breakpointResolved(breakpointId: string, location: Protocol.Debugger.Location): void {\n    this.#breakpointResolvedEventTarget.dispatchEventToListeners(breakpointId, Location.fromPayload(this, location));\n  }\n\n  globalObjectCleared(): void {\n    this.resetDebuggerPausedDetails();\n    this.reset();\n    // TODO(dgozman): move clients to ExecutionContextDestroyed/ScriptCollected events.\n    this.dispatchEventToListeners(Events.GlobalObjectCleared, this);\n  }\n\n  private reset(): void {\n    for (const script of this.#scripts.values()) {\n      this.#sourceMapManager.detachSourceMap(script);\n    }\n    this.#scripts.clear();\n    this.#scriptsBySourceURL.clear();\n    this.#discardableScripts = [];\n    this.#autoSteppingContext = null;\n  }\n\n  scripts(): Script[] {\n    return Array.from(this.#scripts.values());\n  }\n\n  scriptForId(scriptId: string): Script|null {\n    return this.#scripts.get(scriptId) || null;\n  }\n\n  /**\n   * Returns all `Script` objects with the same provided `sourceURL`. The\n   * resulting array is sorted by time with the newest `Script` in the front.\n   */\n  scriptsForSourceURL(sourceURL: string): Script[] {\n    return this.#scriptsBySourceURL.get(sourceURL) || [];\n  }\n\n  scriptsForExecutionContext(executionContext: ExecutionContext): Script[] {\n    const result = [];\n    for (const script of this.#scripts.values()) {\n      if (script.executionContextId === executionContext.id) {\n        result.push(script);\n      }\n    }\n    return result;\n  }\n\n  get callFrames(): CallFrame[]|null {\n    return this.#debuggerPausedDetails ? this.#debuggerPausedDetails.callFrames : null;\n  }\n\n  debuggerPausedDetails(): DebuggerPausedDetails|null {\n    return this.#debuggerPausedDetails;\n  }\n\n  private async setDebuggerPausedDetails(debuggerPausedDetails: DebuggerPausedDetails): Promise<boolean> {\n    this.#isPausing = false;\n    this.#debuggerPausedDetails = debuggerPausedDetails;\n    if (this.#beforePausedCallback) {\n      if (!await this.#beforePausedCallback.call(null, debuggerPausedDetails, this.#autoSteppingContext)) {\n        return false;\n      }\n    }\n    // If we resolved a location in auto-stepping callback, reset the\n    // auto-step-over context.\n    this.#autoSteppingContext = null;\n    this.dispatchEventToListeners(Events.DebuggerPaused, this);\n    this.setSelectedCallFrame(debuggerPausedDetails.callFrames[0]);\n    return true;\n  }\n\n  private resetDebuggerPausedDetails(): void {\n    this.#isPausing = false;\n    this.#debuggerPausedDetails = null;\n    this.setSelectedCallFrame(null);\n  }\n\n  setBeforePausedCallback(\n      callback: ((arg0: DebuggerPausedDetails, autoSteppingContext: Location|null) => Promise<boolean>)|null): void {\n    this.#beforePausedCallback = callback;\n  }\n\n  setExpandCallFramesCallback(callback: ((arg0: CallFrame[]) => Promise<CallFrame[]>)|null): void {\n    this.#expandCallFramesCallback = callback;\n  }\n\n  setEvaluateOnCallFrameCallback(\n      callback: ((arg0: CallFrame, arg1: EvaluationOptions) => Promise<EvaluationResult|null>)|null): void {\n    this.evaluateOnCallFrameCallback = callback;\n  }\n\n  setSynchronizeBreakpointsCallback(callback: ((script: Script) => Promise<void>)|null): void {\n    this.#synchronizeBreakpointsCallback = callback;\n  }\n\n  async pausedScript(\n      callFrames: Protocol.Debugger.CallFrame[], reason: Protocol.Debugger.PausedEventReason, auxData: Object|undefined,\n      breakpointIds: string[], asyncStackTrace?: Protocol.Runtime.StackTrace,\n      asyncStackTraceId?: Protocol.Runtime.StackTraceId): Promise<void> {\n    if (reason === Protocol.Debugger.PausedEventReason.Instrumentation) {\n      const script = this.scriptForId((auxData as PausedOnInstrumentationData).scriptId);\n      if (this.#synchronizeBreakpointsCallback && script) {\n        await this.#synchronizeBreakpointsCallback(script);\n      }\n      this.resume();\n      return;\n    }\n\n    const pausedDetails =\n        new DebuggerPausedDetails(this, callFrames, reason, auxData, breakpointIds, asyncStackTrace, asyncStackTraceId);\n    await this.#expandCallFrames(pausedDetails);\n\n    if (this.continueToLocationCallback) {\n      const callback = this.continueToLocationCallback;\n      this.continueToLocationCallback = null;\n      if (callback(pausedDetails)) {\n        return;\n      }\n    }\n\n    if (!await this.setDebuggerPausedDetails(pausedDetails)) {\n      if (this.#autoSteppingContext) {\n        void this.stepOver();\n      } else {\n        void this.stepInto();\n      }\n    } else {\n      Common.EventTarget.fireEvent('DevTools.DebuggerPaused');\n    }\n  }\n\n  /** Delegates to the DebuggerLanguagePlugin and potential attached source maps to expand inlined call frames */\n  async #expandCallFrames(pausedDetails: DebuggerPausedDetails): Promise<void> {\n    if (this.#expandCallFramesCallback) {\n      pausedDetails.callFrames = await this.#expandCallFramesCallback.call(null, pausedDetails.callFrames);\n    }\n\n    if (!Root.Runtime.experiments.isEnabled(Root.Runtime.ExperimentName.USE_SOURCE_MAP_SCOPES)) {\n      return;\n    }\n\n    // TODO(crbug.com/40277685): Support attaching/detaching source maps after pausing.\n    // Expanding call frames via source maps here is only suitable for the experiment prototype because\n    // we block until all relevant source maps are loaded.\n    // We should change this so the \"Debugger Plugin\" and \"Source Map\" have a bottle neck where they expand\n    // call frames and that bottleneck should support attaching/detaching source maps while paused.\n    const finalFrames: CallFrame[] = [];\n    for (const frame of pausedDetails.callFrames) {\n      const sourceMap = await this.sourceMapManager().sourceMapForClientPromise(frame.script);\n      if (sourceMap?.hasScopeInfo()) {\n        finalFrames.push(...sourceMap.expandCallFrame(frame));\n      } else {\n        finalFrames.push(frame);\n      }\n    }\n    pausedDetails.callFrames = finalFrames;\n  }\n\n  resumedScript(): void {\n    this.resetDebuggerPausedDetails();\n    this.dispatchEventToListeners(Events.DebuggerResumed, this);\n  }\n\n  parsedScriptSource(\n      scriptId: Protocol.Runtime.ScriptId, sourceURL: Platform.DevToolsPath.UrlString, startLine: number,\n      startColumn: number, endLine: number, endColumn: number,\n      // TODO(crbug.com/1172300) Ignored during the jsdoc to ts migration\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      executionContextId: number, hash: string, executionContextAuxData: any, isLiveEdit: boolean,\n      sourceMapURL: string|undefined, hasSourceURLComment: boolean, hasSyntaxError: boolean, length: number,\n      isModule: boolean|null, originStackTrace: Protocol.Runtime.StackTrace|null, codeOffset: number|null,\n      scriptLanguage: string|null, debugSymbols: Protocol.Debugger.DebugSymbols[]|null,\n      embedderName: Platform.DevToolsPath.UrlString|null, buildId: string|null): Script {\n    const knownScript = this.#scripts.get(scriptId);\n    if (knownScript) {\n      return knownScript;\n    }\n    let isContentScript = false;\n    if (executionContextAuxData && ('isDefault' in executionContextAuxData)) {\n      isContentScript = !executionContextAuxData['isDefault'];\n    }\n\n    const selectedDebugSymbol = DebuggerModel.selectSymbolSource(debugSymbols);\n    const script = new Script(\n        this, scriptId, sourceURL, startLine, startColumn, endLine, endColumn, executionContextId, hash,\n        isContentScript, isLiveEdit, sourceMapURL, hasSourceURLComment, length, isModule, originStackTrace, codeOffset,\n        scriptLanguage, selectedDebugSymbol, embedderName, buildId);\n    this.registerScript(script);\n    this.dispatchEventToListeners(Events.ParsedScriptSource, script);\n\n    if (script.sourceMapURL && !hasSyntaxError) {\n      this.#sourceMapManager.attachSourceMap(script, script.sourceURL, script.sourceMapURL);\n    }\n\n    const isDiscardable = hasSyntaxError && script.isAnonymousScript();\n    if (isDiscardable) {\n      this.#discardableScripts.push(script);\n      this.collectDiscardedScripts();\n    }\n    return script;\n  }\n\n  setSourceMapURL(script: Script, newSourceMapURL: Platform.DevToolsPath.UrlString): void {\n    // Detach any previous source map from the `script` first.\n    this.#sourceMapManager.detachSourceMap(script);\n    script.sourceMapURL = newSourceMapURL;\n    this.#sourceMapManager.attachSourceMap(script, script.sourceURL, script.sourceMapURL);\n  }\n\n  async setDebugInfoURL(script: Script, _externalURL: Platform.DevToolsPath.UrlString): Promise<void> {\n    if (this.#expandCallFramesCallback && this.#debuggerPausedDetails) {\n      this.#debuggerPausedDetails.callFrames =\n          await this.#expandCallFramesCallback.call(null, this.#debuggerPausedDetails.callFrames);\n    }\n    this.dispatchEventToListeners(Events.DebugInfoAttached, script);\n  }\n\n  executionContextDestroyed(executionContext: ExecutionContext): void {\n    for (const script of this.#scripts.values()) {\n      if (script.executionContextId === executionContext.id) {\n        this.#sourceMapManager.detachSourceMap(script);\n      }\n    }\n  }\n\n  private registerScript(script: Script): void {\n    this.#scripts.set(script.scriptId, script);\n    if (script.isAnonymousScript()) {\n      return;\n    }\n\n    let scripts = this.#scriptsBySourceURL.get(script.sourceURL);\n    if (!scripts) {\n      scripts = [];\n      this.#scriptsBySourceURL.set(script.sourceURL, scripts);\n    }\n    // Newer scripts with the same URL should be preferred so we put them in\n    // the front. Consuming code usually will iterate over the array and pick\n    // the first script that works.\n    scripts.unshift(script);\n  }\n\n  private unregisterScript(script: Script): void {\n    console.assert(script.isAnonymousScript());\n    this.#scripts.delete(script.scriptId);\n  }\n\n  private collectDiscardedScripts(): void {\n    if (this.#discardableScripts.length < 1000) {\n      return;\n    }\n    const scriptsToDiscard = this.#discardableScripts.splice(0, 100);\n    for (const script of scriptsToDiscard) {\n      this.unregisterScript(script);\n      this.dispatchEventToListeners(Events.DiscardedAnonymousScriptSource, script);\n    }\n  }\n\n  createRawLocation(script: Script, lineNumber: number, columnNumber: number, inlineFrameIndex?: number): Location {\n    return this.createRawLocationByScriptId(script.scriptId, lineNumber, columnNumber, inlineFrameIndex);\n  }\n\n  createRawLocationByURL(sourceURL: string, lineNumber: number, columnNumber?: number, inlineFrameIndex?: number):\n      Location|null {\n    for (const script of this.#scriptsBySourceURL.get(sourceURL) || []) {\n      if (script.lineOffset > lineNumber ||\n          (script.lineOffset === lineNumber && columnNumber !== undefined && script.columnOffset > columnNumber)) {\n        continue;\n      }\n      if (script.endLine < lineNumber ||\n          (script.endLine === lineNumber && columnNumber !== undefined && script.endColumn <= columnNumber)) {\n        continue;\n      }\n      return new Location(this, script.scriptId, lineNumber, columnNumber, inlineFrameIndex);\n    }\n    return null;\n  }\n\n  createRawLocationByScriptId(\n      scriptId: Protocol.Runtime.ScriptId, lineNumber: number, columnNumber?: number,\n      inlineFrameIndex?: number): Location {\n    return new Location(this, scriptId, lineNumber, columnNumber, inlineFrameIndex);\n  }\n\n  createRawLocationsByStackTrace(stackTrace: Protocol.Runtime.StackTrace): Location[] {\n    const rawLocations: Location[] = [];\n    for (let current: Protocol.Runtime.StackTrace|undefined = stackTrace; current; current = current.parent) {\n      for (const {scriptId, lineNumber, columnNumber} of current.callFrames) {\n        rawLocations.push(this.createRawLocationByScriptId(scriptId, lineNumber, columnNumber));\n      }\n    }\n    return rawLocations;\n  }\n\n  isPaused(): boolean {\n    return Boolean(this.debuggerPausedDetails());\n  }\n\n  isPausing(): boolean {\n    return this.#isPausing;\n  }\n\n  setSelectedCallFrame(callFrame: CallFrame|null): void {\n    if (this.#selectedCallFrame === callFrame) {\n      return;\n    }\n    this.#selectedCallFrame = callFrame;\n    this.dispatchEventToListeners(Events.CallFrameSelected, this);\n  }\n\n  selectedCallFrame(): CallFrame|null {\n    return this.#selectedCallFrame;\n  }\n\n  async evaluateOnSelectedCallFrame(options: EvaluationOptions): Promise<EvaluationResult> {\n    const callFrame = this.selectedCallFrame();\n    if (!callFrame) {\n      throw new Error('No call frame selected');\n    }\n    return await callFrame.evaluate(options);\n  }\n\n  functionDetailsPromise(remoteObject: RemoteObject): Promise<FunctionDetails|null> {\n    return remoteObject.getAllProperties(false /* accessorPropertiesOnly */, false /* generatePreview */)\n        .then(buildDetails.bind(this));\n\n    function buildDetails(this: DebuggerModel, response: GetPropertiesResult): FunctionDetails|null {\n      if (!response) {\n        return null;\n      }\n      let location: (RemoteObject|null|undefined)|null = null;\n      if (response.internalProperties) {\n        for (const prop of response.internalProperties) {\n          if (prop.name === '[[FunctionLocation]]') {\n            location = prop.value;\n          }\n        }\n      }\n      let functionName: RemoteObject|null = null;\n      if (response.properties) {\n        for (const prop of response.properties) {\n          if (prop.name === 'name' && prop.value?.type === 'string') {\n            functionName = prop.value;\n          }\n        }\n      }\n      let debuggerLocation: Location|null = null;\n      if (location) {\n        debuggerLocation = this.createRawLocationByScriptId(\n            location.value.scriptId, location.value.lineNumber, location.value.columnNumber);\n      }\n      return {location: debuggerLocation, functionName: functionName ? functionName.value as string : ''};\n    }\n  }\n\n  async setVariableValue(\n      scopeNumber: number, variableName: string, newValue: Protocol.Runtime.CallArgument,\n      callFrameId: Protocol.Debugger.CallFrameId): Promise<string|undefined> {\n    const response = await this.agent.invoke_setVariableValue({scopeNumber, variableName, newValue, callFrameId});\n    const error = response.getError();\n    return error;\n  }\n\n  addBreakpointListener(\n      breakpointId: string, listener: (arg0: Common.EventTarget.EventTargetEvent<Location>) => void,\n      thisObject?: Object): void {\n    this.#breakpointResolvedEventTarget.addEventListener(breakpointId, listener, thisObject);\n  }\n\n  removeBreakpointListener(\n      breakpointId: string, listener: (arg0: Common.EventTarget.EventTargetEvent<Location>) => void,\n      thisObject?: Object): void {\n    this.#breakpointResolvedEventTarget.removeEventListener(breakpointId, listener, thisObject);\n  }\n\n  async setBlackboxPatterns(patterns: string[], skipAnonymous: boolean): Promise<boolean> {\n    const response = await this.agent.invoke_setBlackboxPatterns({patterns, skipAnonymous});\n    const error = response.getError();\n    return !error;\n  }\n\n  async setBlackboxExecutionContexts(uniqueIds: string[]): Promise<boolean> {\n    const response = await this.agent.invoke_setBlackboxExecutionContexts({uniqueIds});\n    const error = response.getError();\n    return !error;\n  }\n\n  override dispose(): void {\n    if (this.#debuggerId) {\n      debuggerIdToModel.delete(this.#debuggerId);\n    }\n    Common.Settings.Settings.instance()\n        .moduleSetting('pause-on-exception-enabled')\n        .removeChangeListener(this.pauseOnExceptionStateChanged, this);\n    Common.Settings.Settings.instance()\n        .moduleSetting('pause-on-caught-exception')\n        .removeChangeListener(this.pauseOnExceptionStateChanged, this);\n    Common.Settings.Settings.instance()\n        .moduleSetting('disable-async-stack-traces')\n        .removeChangeListener(this.asyncStackTracesStateChanged, this);\n  }\n\n  override async suspendModel(): Promise<void> {\n    await this.disableDebugger();\n  }\n\n  override async resumeModel(): Promise<void> {\n    await this.enableDebugger();\n  }\n\n  private static shouldResyncDebuggerId = false;\n\n  getEvaluateOnCallFrameCallback():\n      ((arg0: CallFrame, arg1: EvaluationOptions) => Promise<EvaluationResult|null>)|null {\n    return this.evaluateOnCallFrameCallback;\n  }\n\n  /**\n   * Iterates the async stack trace parents.\n   *\n   * Retrieving cross-target async stack fragments requires CDP interaction, so this is an async generator.\n   *\n   * Important: This iterator will not yield the \"synchronous\" part of the stack trace, only the async parent chain.\n   */\n  async *\n      iterateAsyncParents(\n          stackTraceOrPausedDetails: Protocol.Runtime.StackTrace|\n          Pick<DebuggerPausedDetails, 'asyncStackTrace'|'asyncStackTraceId'>):\n          AsyncGenerator<{stackTrace: Protocol.Runtime.StackTrace, target: Target}> {\n    // We make `DebuggerPausedDetails` look like a stack trace. We are only interested in `parent` and `parentId` in any case.\n    const isPausedDetails = (details: typeof stackTraceOrPausedDetails):\n        details is Pick<DebuggerPausedDetails, 'asyncStackTrace'|'asyncStackTraceId'> =>\n            !('parent' in details) && !('parentId' in details);\n    let stackTrace: Protocol.Runtime.StackTrace = isPausedDetails(stackTraceOrPausedDetails) ?\n        {\n          callFrames: [],\n          parent: stackTraceOrPausedDetails.asyncStackTrace,\n          parentId: stackTraceOrPausedDetails.asyncStackTraceId\n        } :\n        stackTraceOrPausedDetails;\n    let target = this.target();\n\n    while (true) {\n      if (stackTrace.parent) {\n        stackTrace = stackTrace.parent;\n      } else if (stackTrace.parentId) {\n        const model: DebuggerModel|null = stackTrace.parentId.debuggerId ?\n            await DebuggerModel.modelForDebuggerId(stackTrace.parentId.debuggerId) :\n            this;\n        if (!model) {\n          return;\n        }\n        const maybeStackTrace = await model.fetchAsyncStackTrace(stackTrace.parentId);\n        if (!maybeStackTrace) {\n          return;\n        }\n        stackTrace = maybeStackTrace;\n        target = model.target();\n      } else {\n        return;\n      }\n\n      yield {stackTrace, target};\n    }\n  }\n}\n\nconst debuggerIdToModel = new Map<string, DebuggerModel>();\n\n/**\n * Keep these in sync with WebCore::V8Debugger\n */\nexport enum PauseOnExceptionsState {\n  /* eslint-disable @typescript-eslint/naming-convention -- Used by web_tests. */\n  DontPauseOnExceptions = 'none',\n  PauseOnAllExceptions = 'all',\n  PauseOnCaughtExceptions = 'caught',\n  PauseOnUncaughtExceptions = 'uncaught',\n  /* eslint-enable @typescript-eslint/naming-convention */\n}\n\nexport enum Events {\n  /* eslint-disable @typescript-eslint/naming-convention -- Used by web_tests. */\n  DebuggerWasEnabled = 'DebuggerWasEnabled',\n  DebuggerWasDisabled = 'DebuggerWasDisabled',\n  DebuggerPaused = 'DebuggerPaused',\n  DebuggerResumed = 'DebuggerResumed',\n  DebugInfoAttached = 'DebugInfoAttached',\n  ParsedScriptSource = 'ParsedScriptSource',\n  DiscardedAnonymousScriptSource = 'DiscardedAnonymousScriptSource',\n  GlobalObjectCleared = 'GlobalObjectCleared',\n  CallFrameSelected = 'CallFrameSelected',\n  DebuggerIsReadyToPause = 'DebuggerIsReadyToPause',\n  ScriptSourceWasEdited = 'ScriptSourceWasEdited',\n  /* eslint-enable @typescript-eslint/naming-convention */\n}\n\nexport interface EventTypes {\n  [Events.DebuggerWasEnabled]: DebuggerModel;\n  [Events.DebuggerWasDisabled]: DebuggerModel;\n  [Events.DebuggerPaused]: DebuggerModel;\n  [Events.DebuggerResumed]: DebuggerModel;\n  [Events.ParsedScriptSource]: Script;\n  [Events.DiscardedAnonymousScriptSource]: Script;\n  [Events.GlobalObjectCleared]: DebuggerModel;\n  [Events.CallFrameSelected]: DebuggerModel;\n  [Events.DebuggerIsReadyToPause]: DebuggerModel;\n  [Events.DebugInfoAttached]: Script;\n  [Events.ScriptSourceWasEdited]: {\n    script: Script,\n    status: Protocol.Debugger.SetScriptSourceResponseStatus,\n  };\n}\n\nclass DebuggerDispatcher implements ProtocolProxyApi.DebuggerDispatcher {\n  #debuggerModel: DebuggerModel;\n\n  constructor(debuggerModel: DebuggerModel) {\n    this.#debuggerModel = debuggerModel;\n  }\n\n  paused({callFrames, reason, data, hitBreakpoints, asyncStackTrace, asyncStackTraceId}: Protocol.Debugger.PausedEvent):\n      void {\n    if (!this.#debuggerModel.debuggerEnabled()) {\n      return;\n    }\n    void this.#debuggerModel.pausedScript(\n        callFrames, reason, data, hitBreakpoints || [], asyncStackTrace, asyncStackTraceId);\n  }\n\n  resumed(): void {\n    if (!this.#debuggerModel.debuggerEnabled()) {\n      return;\n    }\n    this.#debuggerModel.resumedScript();\n  }\n\n  scriptParsed({\n    scriptId,\n    url,\n    startLine,\n    startColumn,\n    endLine,\n    endColumn,\n    executionContextId,\n    hash,\n    executionContextAuxData,\n    isLiveEdit,\n    sourceMapURL,\n    hasSourceURL,\n    length,\n    isModule,\n    stackTrace,\n    codeOffset,\n    scriptLanguage,\n    debugSymbols,\n    embedderName,\n    buildId,\n  }: Protocol.Debugger.ScriptParsedEvent): void {\n    if (!this.#debuggerModel.debuggerEnabled()) {\n      return;\n    }\n    this.#debuggerModel.parsedScriptSource(\n        scriptId, url as Platform.DevToolsPath.UrlString, startLine, startColumn, endLine, endColumn,\n        executionContextId, hash, executionContextAuxData, Boolean(isLiveEdit), sourceMapURL, Boolean(hasSourceURL),\n        false, length || 0, isModule || null, stackTrace || null, codeOffset || null, scriptLanguage || null,\n        debugSymbols || null, embedderName as Platform.DevToolsPath.UrlString || null, buildId || null);\n  }\n\n  scriptFailedToParse({\n    scriptId,\n    url,\n    startLine,\n    startColumn,\n    endLine,\n    endColumn,\n    executionContextId,\n    hash,\n    executionContextAuxData,\n    sourceMapURL,\n    hasSourceURL,\n    length,\n    isModule,\n    stackTrace,\n    codeOffset,\n    scriptLanguage,\n    embedderName,\n    buildId,\n  }: Protocol.Debugger.ScriptFailedToParseEvent): void {\n    if (!this.#debuggerModel.debuggerEnabled()) {\n      return;\n    }\n    this.#debuggerModel.parsedScriptSource(\n        scriptId, url as Platform.DevToolsPath.UrlString, startLine, startColumn, endLine, endColumn,\n        executionContextId, hash, executionContextAuxData, false, sourceMapURL, Boolean(hasSourceURL), true,\n        length || 0, isModule || null, stackTrace || null, codeOffset || null, scriptLanguage || null, null,\n        embedderName as Platform.DevToolsPath.UrlString || null, buildId || null);\n  }\n\n  breakpointResolved({breakpointId, location}: Protocol.Debugger.BreakpointResolvedEvent): void {\n    if (!this.#debuggerModel.debuggerEnabled()) {\n      return;\n    }\n    this.#debuggerModel.breakpointResolved(breakpointId, location);\n  }\n}\n\nexport class Location {\n  debuggerModel: DebuggerModel;\n  scriptId: Protocol.Runtime.ScriptId;\n  lineNumber: number;\n  columnNumber: number;\n  inlineFrameIndex: number;\n\n  constructor(\n      debuggerModel: DebuggerModel, scriptId: Protocol.Runtime.ScriptId, lineNumber: number, columnNumber?: number,\n      inlineFrameIndex?: number) {\n    this.debuggerModel = debuggerModel;\n    this.scriptId = scriptId;\n    this.lineNumber = lineNumber;\n    this.columnNumber = columnNumber || 0;\n    this.inlineFrameIndex = inlineFrameIndex || 0;\n  }\n\n  static fromPayload(debuggerModel: DebuggerModel, payload: Protocol.Debugger.Location, inlineFrameIndex?: number):\n      Location {\n    return new Location(debuggerModel, payload.scriptId, payload.lineNumber, payload.columnNumber, inlineFrameIndex);\n  }\n\n  payload(): Protocol.Debugger.Location {\n    return {scriptId: this.scriptId, lineNumber: this.lineNumber, columnNumber: this.columnNumber};\n  }\n\n  script(): Script|null {\n    return this.debuggerModel.scriptForId(this.scriptId);\n  }\n\n  continueToLocation(pausedCallback?: (() => void)): void {\n    if (pausedCallback) {\n      this.debuggerModel.continueToLocationCallback = this.paused.bind(this, pausedCallback);\n    }\n    void this.debuggerModel.agent.invoke_continueToLocation({\n      location: this.payload(),\n      targetCallFrames: Protocol.Debugger.ContinueToLocationRequestTargetCallFrames.Current,\n    });\n  }\n\n  private paused(pausedCallback: () => void|undefined, debuggerPausedDetails: DebuggerPausedDetails): boolean {\n    const location = debuggerPausedDetails.callFrames[0].location();\n    if (location.scriptId === this.scriptId && location.lineNumber === this.lineNumber &&\n        location.columnNumber === this.columnNumber) {\n      pausedCallback();\n      return true;\n    }\n    return false;\n  }\n\n  id(): string {\n    return this.debuggerModel.target().id() + ':' + this.scriptId + ':' + this.lineNumber + ':' + this.columnNumber;\n  }\n}\n\nexport interface LocationRange {\n  start: Location;\n  end: Location;\n}\n\nexport class BreakLocation extends Location {\n  type: Protocol.Debugger.BreakLocationType|undefined;\n  constructor(\n      debuggerModel: DebuggerModel, scriptId: Protocol.Runtime.ScriptId, lineNumber: number, columnNumber?: number,\n      type?: Protocol.Debugger.BreakLocationType) {\n    super(debuggerModel, scriptId, lineNumber, columnNumber);\n    if (type) {\n      this.type = type;\n    }\n  }\n\n  static override fromPayload(debuggerModel: DebuggerModel, payload: Protocol.Debugger.BreakLocation): BreakLocation {\n    return new BreakLocation(debuggerModel, payload.scriptId, payload.lineNumber, payload.columnNumber, payload.type);\n  }\n}\n\nexport interface MissingDebugFiles {\n  resourceUrl: Platform.DevToolsPath.UrlString;\n  initiator: PageResourceLoadInitiator;\n}\n\nexport interface MissingDebugInfoDetails {\n  details: string;\n  resources: MissingDebugFiles[];\n}\n\nexport class CallFrame {\n  debuggerModel: DebuggerModel;\n  readonly script: Script;\n  payload: Protocol.Debugger.CallFrame;\n  readonly #location: Location;\n  readonly #scopeChain: Scope[];\n  readonly #localScope: Scope|null;\n  readonly inlineFrameIndex: number;\n  readonly functionName: string;\n  readonly #functionLocation: Location|undefined;\n  #returnValue: RemoteObject|null;\n  missingDebugInfoDetails: MissingDebugInfoDetails|null;\n  readonly exception: RemoteObject|null;\n\n  readonly canBeRestarted: boolean;\n\n  constructor(\n      debuggerModel: DebuggerModel, script: Script, payload: Protocol.Debugger.CallFrame, inlineFrameIndex?: number,\n      functionName?: string, exception: RemoteObject|null = null) {\n    this.debuggerModel = debuggerModel;\n    this.script = script;\n    this.payload = payload;\n    this.#location = Location.fromPayload(debuggerModel, payload.location, inlineFrameIndex);\n    this.#scopeChain = [];\n    this.#localScope = null;\n    this.inlineFrameIndex = inlineFrameIndex || 0;\n    this.functionName = functionName ?? payload.functionName;\n    this.missingDebugInfoDetails = null;\n    this.canBeRestarted = Boolean(payload.canBeRestarted);\n    this.exception = exception;\n    for (let i = 0; i < payload.scopeChain.length; ++i) {\n      const scope = new Scope(this, i);\n      this.#scopeChain.push(scope);\n      if (scope.type() === Protocol.Debugger.ScopeType.Local) {\n        this.#localScope = scope;\n      }\n    }\n    if (payload.functionLocation) {\n      this.#functionLocation = Location.fromPayload(debuggerModel, payload.functionLocation);\n    }\n    this.#returnValue =\n        payload.returnValue ? this.debuggerModel.runtimeModel().createRemoteObject(payload.returnValue) : null;\n  }\n\n  static fromPayloadArray(\n      debuggerModel: DebuggerModel, callFrames: Protocol.Debugger.CallFrame[],\n      exception: RemoteObject|null): CallFrame[] {\n    const result = [];\n    for (let i = 0; i < callFrames.length; ++i) {\n      const callFrame = callFrames[i];\n      const script = debuggerModel.scriptForId(callFrame.location.scriptId);\n      if (script) {\n        const ex = i === 0 ? exception : null;\n        result.push(new CallFrame(debuggerModel, script, callFrame, undefined, undefined, ex));\n      }\n    }\n    return result;\n  }\n\n  createVirtualCallFrame(inlineFrameIndex: number, name: string): CallFrame {\n    return new CallFrame(this.debuggerModel, this.script, this.payload, inlineFrameIndex, name, this.exception);\n  }\n\n  get id(): Protocol.Debugger.CallFrameId {\n    return this.payload.callFrameId;\n  }\n\n  scopeChain(): Scope[] {\n    return this.#scopeChain;\n  }\n\n  localScope(): Scope|null {\n    return this.#localScope;\n  }\n\n  thisObject(): RemoteObject|null {\n    return this.payload.this ? this.debuggerModel.runtimeModel().createRemoteObject(this.payload.this) : null;\n  }\n\n  returnValue(): RemoteObject|null {\n    return this.#returnValue;\n  }\n\n  async setReturnValue(expression: string): Promise<RemoteObject|null> {\n    if (!this.#returnValue) {\n      return null;\n    }\n\n    const evaluateResponse = await this.debuggerModel.agent.invoke_evaluateOnCallFrame(\n        {callFrameId: this.id, expression, silent: true, objectGroup: 'backtrace'});\n    if (evaluateResponse.getError() || evaluateResponse.exceptionDetails) {\n      return null;\n    }\n    const response = await this.debuggerModel.agent.invoke_setReturnValue({newValue: evaluateResponse.result});\n    if (response.getError()) {\n      return null;\n    }\n    this.#returnValue = this.debuggerModel.runtimeModel().createRemoteObject(evaluateResponse.result);\n    return this.#returnValue;\n  }\n\n  location(): Location {\n    return this.#location;\n  }\n\n  functionLocation(): Location|null {\n    return this.#functionLocation || null;\n  }\n\n  async evaluate(options: EvaluationOptions): Promise<EvaluationResult> {\n    const debuggerModel = this.debuggerModel;\n    const runtimeModel = debuggerModel.runtimeModel();\n\n    const evaluateOnCallFrameCallback = debuggerModel.getEvaluateOnCallFrameCallback();\n    if (evaluateOnCallFrameCallback) {\n      const result = await evaluateOnCallFrameCallback(this, options);\n      if (result) {\n        return result;\n      }\n    }\n\n    const response = await this.debuggerModel.agent.invoke_evaluateOnCallFrame({\n      callFrameId: this.id,\n      expression: options.expression,\n      objectGroup: options.objectGroup,\n      includeCommandLineAPI: options.includeCommandLineAPI,\n      silent: options.silent,\n      returnByValue: options.returnByValue,\n      generatePreview: options.generatePreview,\n      throwOnSideEffect: options.throwOnSideEffect,\n      timeout: options.timeout,\n    });\n    const error = response.getError();\n    if (error) {\n      return {error};\n    }\n    return {object: runtimeModel.createRemoteObject(response.result), exceptionDetails: response.exceptionDetails};\n  }\n\n  async restart(): Promise<void> {\n    console.assert(this.canBeRestarted, 'This frame can not be restarted.');\n    // Note that even if `canBeRestarted` is true, the restart frame call can still fail.\n    // The user can evaluate arbitrary code between pausing and restarting the frame that\n    // could mess with the call stack.\n    await this.debuggerModel.agent.invoke_restartFrame(\n        {callFrameId: this.id, mode: Protocol.Debugger.RestartFrameRequestMode.StepInto});\n  }\n\n  getPayload(): Protocol.Debugger.CallFrame {\n    return this.payload;\n  }\n}\n\nexport interface ScopeChainEntry {\n  callFrame(): CallFrame;\n\n  type(): string;\n\n  typeName(): string;\n\n  name(): string|undefined;\n\n  range(): LocationRange|null;\n\n  object(): RemoteObject;\n\n  description(): string;\n\n  icon(): string|undefined;\n\n  /**\n   * Extra and/or synthetic properties that should be added to the `RemoteObject`\n   * returned by {@link ScopeChainEntry.object}.\n   */\n  extraProperties(): RemoteObjectProperty[];\n}\n\nexport class Scope implements ScopeChainEntry {\n  #callFrame: CallFrame;\n  #payload: Protocol.Debugger.Scope;\n  readonly #type: Protocol.Debugger.ScopeType;\n  readonly #name: string|undefined;\n  #ordinal: number;\n  readonly #locationRange: LocationRange|null;\n  #object: RemoteObject|null = null;\n  constructor(callFrame: CallFrame, ordinal: number) {\n    this.#callFrame = callFrame;\n    this.#payload = callFrame.getPayload().scopeChain[ordinal];\n    this.#type = this.#payload.type;\n    this.#name = this.#payload.name;\n    this.#ordinal = ordinal;\n\n    const start =\n        this.#payload.startLocation ? Location.fromPayload(callFrame.debuggerModel, this.#payload.startLocation) : null;\n    const end =\n        this.#payload.endLocation ? Location.fromPayload(callFrame.debuggerModel, this.#payload.endLocation) : null;\n    if (start && end && start.scriptId === end.scriptId) {\n      this.#locationRange = {start, end};\n    } else {\n      this.#locationRange = null;\n    }\n  }\n\n  callFrame(): CallFrame {\n    return this.#callFrame;\n  }\n\n  type(): string {\n    return this.#type;\n  }\n\n  typeName(): string {\n    switch (this.#type) {\n      case Protocol.Debugger.ScopeType.Local:\n        return i18nString(UIStrings.local);\n      case Protocol.Debugger.ScopeType.Closure:\n        return i18nString(UIStrings.closure);\n      case Protocol.Debugger.ScopeType.Catch:\n        return i18nString(UIStrings.catchBlock);\n      case Protocol.Debugger.ScopeType.Eval:\n        return i18n.i18n.lockedString('Eval');\n      case Protocol.Debugger.ScopeType.Block:\n        return i18nString(UIStrings.block);\n      case Protocol.Debugger.ScopeType.Script:\n        return i18nString(UIStrings.script);\n      case Protocol.Debugger.ScopeType.With:\n        return i18nString(UIStrings.withBlock);\n      case Protocol.Debugger.ScopeType.Global:\n        return i18nString(UIStrings.global);\n      case Protocol.Debugger.ScopeType.Module:\n        return i18nString(UIStrings.module);\n      case Protocol.Debugger.ScopeType.WasmExpressionStack:\n        return i18nString(UIStrings.expression);\n    }\n    return '';\n  }\n\n  name(): string|undefined {\n    return this.#name;\n  }\n\n  range(): LocationRange|null {\n    return this.#locationRange;\n  }\n\n  object(): RemoteObject {\n    if (this.#object) {\n      return this.#object;\n    }\n    const runtimeModel = this.#callFrame.debuggerModel.runtimeModel();\n\n    const declarativeScope =\n        this.#type !== Protocol.Debugger.ScopeType.With && this.#type !== Protocol.Debugger.ScopeType.Global;\n    if (declarativeScope) {\n      this.#object =\n          runtimeModel.createScopeRemoteObject(this.#payload.object, new ScopeRef(this.#ordinal, this.#callFrame.id));\n    } else {\n      this.#object = runtimeModel.createRemoteObject(this.#payload.object);\n    }\n\n    return this.#object;\n  }\n\n  description(): string {\n    const declarativeScope =\n        this.#type !== Protocol.Debugger.ScopeType.With && this.#type !== Protocol.Debugger.ScopeType.Global;\n    return declarativeScope ? '' : (this.#payload.object.description || '');\n  }\n\n  icon(): undefined {\n    return undefined;\n  }\n\n  extraProperties(): RemoteObjectProperty[] {\n    if (this.#ordinal !== 0 || this.#type !== Protocol.Debugger.ScopeType.Local || this.#callFrame.script.isWasm()) {\n      return [];\n    }\n\n    const extraProperties = [];\n    const exception = this.#callFrame.exception;\n    if (exception) {\n      extraProperties.push(new RemoteObjectProperty(\n          i18nString(UIStrings.exception), exception, undefined, undefined, undefined, undefined, undefined,\n          /* synthetic */ true));\n    }\n    const returnValue = this.#callFrame.returnValue();\n    if (returnValue) {\n      extraProperties.push(new RemoteObjectProperty(\n          i18nString(UIStrings.returnValue), returnValue, undefined, undefined, undefined, undefined, undefined,\n          /* synthetic */ true, this.#callFrame.setReturnValue.bind(this.#callFrame)));\n    }\n    return extraProperties;\n  }\n}\n\nexport class DebuggerPausedDetails {\n  debuggerModel: DebuggerModel;\n  callFrames: CallFrame[];\n  reason: Protocol.Debugger.PausedEventReason;\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  auxData: Record<string, any>|undefined;\n  breakpointIds: string[];\n  asyncStackTrace?: Protocol.Runtime.StackTrace;\n  asyncStackTraceId?: Protocol.Runtime.StackTraceId;\n  constructor(\n      debuggerModel: DebuggerModel,\n      callFrames: Protocol.Debugger.CallFrame[],\n      reason: Protocol.Debugger.PausedEventReason,\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      auxData: Record<string, any>|undefined,\n      breakpointIds: string[],\n      asyncStackTrace?: Protocol.Runtime.StackTrace,\n      asyncStackTraceId?: Protocol.Runtime.StackTraceId,\n  ) {\n    this.debuggerModel = debuggerModel;\n    this.reason = reason;\n    this.auxData = auxData;\n    this.breakpointIds = breakpointIds;\n    if (asyncStackTrace) {\n      this.asyncStackTrace = this.cleanRedundantFrames(asyncStackTrace);\n    }\n    this.asyncStackTraceId = asyncStackTraceId;\n    this.callFrames = CallFrame.fromPayloadArray(debuggerModel, callFrames, this.exception());\n  }\n\n  private exception(): RemoteObject|null {\n    if (this.reason !== Protocol.Debugger.PausedEventReason.Exception &&\n        this.reason !== Protocol.Debugger.PausedEventReason.PromiseRejection) {\n      return null;\n    }\n    return this.debuggerModel.runtimeModel().createRemoteObject((this.auxData as Protocol.Runtime.RemoteObject));\n  }\n\n  private cleanRedundantFrames(asyncStackTrace: Protocol.Runtime.StackTrace): Protocol.Runtime.StackTrace {\n    let stack: (Protocol.Runtime.StackTrace|undefined)|Protocol.Runtime.StackTrace = asyncStackTrace;\n    let previous: Protocol.Runtime.StackTrace|null = null;\n    while (stack) {\n      if (previous && !stack.callFrames.length) {\n        previous.parent = stack.parent;\n      } else {\n        previous = stack;\n      }\n      stack = stack.parent;\n    }\n    return asyncStackTrace;\n  }\n}\n\nSDKModel.register(DebuggerModel, {capabilities: Capability.JS, autostart: true});\n\nexport interface FunctionDetails {\n  location: Location|null;\n  functionName: string;\n}\nexport interface SetBreakpointResult {\n  breakpointId: Protocol.Debugger.BreakpointId|null;\n  locations: Location[];\n}\n\ninterface PausedOnInstrumentationData {\n  scriptId: Protocol.Runtime.ScriptId;\n}\n\nexport interface EventListenerPausedDetailsAuxData {\n  eventName: string;\n  targetName?: string;\n  webglErrorName?: string;\n  directiveText?: string;\n}\n\nexport const enum BreakpointType {\n  LOGPOINT = 'LOGPOINT',\n  CONDITIONAL_BREAKPOINT = 'CONDITIONAL_BREAKPOINT',\n  REGULAR_BREAKPOINT = 'REGULAR_BREAKPOINT',\n}\n\n/**\n * A breakpoint condition as sent to V8. This helps distinguish\n * the breakpoint condition as it is entered by the user.\n */\nexport type BackendCondition = Platform.Brand.Brand<string, 'BackendCondition'>;\n\nexport const LOGPOINT_SOURCE_URL = 'debugger://logpoint';\nexport const COND_BREAKPOINT_SOURCE_URL = 'debugger://breakpoint';\n"]}