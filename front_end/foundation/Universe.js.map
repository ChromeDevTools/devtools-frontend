{"version":3,"file":"Universe.js","sourceRoot":"","sources":["../../../../../front_end/foundation/Universe.ts"],"names":[],"mappings":"AAAA,sCAAsC;AACtC,yEAAyE;AACzE,6BAA6B;AAE7B,OAAO,KAAK,MAAM,MAAM,0BAA0B,CAAC;AACnD,OAAO,KAAK,IAAI,MAAM,sBAAsB,CAAC;AAC7C,OAAO,KAAK,GAAG,MAAM,oBAAoB,CAAC;AAC1C,OAAO,KAAK,QAAQ,MAAM,gCAAgC,CAAC;AAC3D,OAAO,KAAK,SAAS,MAAM,kCAAkC,CAAC;AAO9D,MAAM,OAAO,QAAQ;IACV,OAAO,GAAG,IAAI,IAAI,CAAC,eAAe,CAAC,eAAe,EAAE,CAAC;IAE9D,YAAY,OAAwB;QAClC,4EAA4E;QAC5E,kHAAkH;QAClH,MAAM,QAAQ,GAAG,MAAM,CAAC,QAAQ,CAAC,QAAQ,CAAC,QAAQ,CAAC;YACjD,QAAQ,EAAE,IAAI;YACd,GAAG,OAAO,CAAC,uBAAuB;SACnC,CAAC,CAAC;QAEH,MAAM,aAAa,GAAG,IAAI,GAAG,CAAC,aAAa,CAAC,aAAa,CAAC,OAAO,CAAC,uBAAuB,CAAC,CAAC;QAC3F,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,aAAa,CAAC,aAAa,EAAE,aAAa,CAAC,CAAC;QAEjE,MAAM,SAAS,GAAG,IAAI,SAAS,CAAC,SAAS,CAAC,aAAa,EAAE,CAAC;QAC1D,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,SAAS,CAAC,SAAS,CAAC,aAAa,EAAE,SAAS,CAAC,CAAC;QAE/D,MAAM,iBAAiB,GAAG,IAAI,SAAS,CAAC,iBAAiB,CAAC,iBAAiB,CAAC,QAAQ,EAAE,aAAa,CAAC,CAAC;QACrG,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,SAAS,CAAC,iBAAiB,CAAC,iBAAiB,EAAE,iBAAiB,CAAC,CAAC;QAEnF,MAAM,eAAe,GAAG,IAAI,QAAQ,CAAC,eAAe,CAAC,eAAe,CAAC,aAAa,EAAE,SAAS,CAAC,CAAC;QAC/F,MAAM,mBAAmB,GAAG,IAAI,QAAQ,CAAC,mBAAmB,CAAC,mBAAmB,CAAC,eAAe,EAAE,aAAa,CAAC,CAAC;QACjH,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,mBAAmB,CAAC,mBAAmB,EAAE,mBAAmB,CAAC,CAAC;QAExF,MAAM,wBAAwB,GAAG,IAAI,QAAQ,CAAC,wBAAwB,CAAC,wBAAwB,CAC3F,eAAe,EAAE,aAAa,EAAE,iBAAiB,EAAE,SAAS,CAAC,CAAC;QAClE,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,wBAAwB,CAAC,wBAAwB,EAAE,wBAAwB,CAAC,CAAC;IACzG,CAAC;CACF","sourcesContent":["// Copyright 2025 The Chromium Authors\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\nimport * as Common from '../core/common/common.js';\nimport * as Root from '../core/root/root.js';\nimport * as SDK from '../core/sdk/sdk.js';\nimport * as Bindings from '../models/bindings/bindings.js';\nimport * as Workspace from '../models/workspace/workspace.js';\n\nexport interface CreationOptions {\n  settingsCreationOptions: Common.Settings.SettingsCreationOptions;\n  overrideAutoStartModels?: Set<SDK.SDKModel.SDKModelConstructor>;\n}\n\nexport class Universe {\n  readonly context = new Root.DevToolsContext.DevToolsContext();\n\n  constructor(options: CreationOptions) {\n    // TODO(crbug.com/458180550): Store instance on a \"DevToolsContext\" instead.\n    //                            For now the global is fine as we don't anticipate the MCP server to change settings.\n    const settings = Common.Settings.Settings.instance({\n      forceNew: true,\n      ...options.settingsCreationOptions,\n    });\n\n    const targetManager = new SDK.TargetManager.TargetManager(options.overrideAutoStartModels);\n    this.context.set(SDK.TargetManager.TargetManager, targetManager);\n\n    const workspace = new Workspace.Workspace.WorkspaceImpl();\n    this.context.set(Workspace.Workspace.WorkspaceImpl, workspace);\n\n    const ignoreListManager = new Workspace.IgnoreListManager.IgnoreListManager(settings, targetManager);\n    this.context.set(Workspace.IgnoreListManager.IgnoreListManager, ignoreListManager);\n\n    const resourceMapping = new Bindings.ResourceMapping.ResourceMapping(targetManager, workspace);\n    const cssWorkspaceBinding = new Bindings.CSSWorkspaceBinding.CSSWorkspaceBinding(resourceMapping, targetManager);\n    this.context.set(Bindings.CSSWorkspaceBinding.CSSWorkspaceBinding, cssWorkspaceBinding);\n\n    const debuggerWorkspaceBinding = new Bindings.DebuggerWorkspaceBinding.DebuggerWorkspaceBinding(\n        resourceMapping, targetManager, ignoreListManager, workspace);\n    this.context.set(Bindings.DebuggerWorkspaceBinding.DebuggerWorkspaceBinding, debuggerWorkspaceBinding);\n  }\n}\n"]}