{"version":3,"file":"ArtifactsManager.js","sourceRoot":"","sources":["../../../../../../front_end/models/ai_assistance/ArtifactsManager.ts"],"names":[],"mappings":"AAAA,sCAAsC;AACtC,yEAAyE;AACzE,6BAA6B;AAwB7B,MAAM,OAAO,kBAAmB,SAAQ,KAAK;IAGxB;IAFnB,MAAM,CAAU,SAAS,GAAG,eAAe,CAAC;IAE5C,YAAmB,QAAkB;QACnC,KAAK,CAAC,kBAAkB,CAAC,SAAS,CAAC,CAAC;QADnB,aAAQ,GAAR,QAAQ,CAAU;IAErC,CAAC;;AAGH,IAAI,QAAQ,GAA0B,IAAI,CAAC;AAE3C,MAAM,OAAO,gBAAiB,SAAQ,WAAW;IAC/C,UAAU,GAAe,EAAE,CAAC;IAE5B,MAAM,CAAC,QAAQ;QACb,IAAI,CAAC,QAAQ,EAAE,CAAC;YACd,QAAQ,GAAG,IAAI,gBAAgB,EAAE,CAAC;QACpC,CAAC;QACD,OAAO,QAAQ,CAAC;IAClB,CAAC;IAED,MAAM,CAAC,cAAc;QACnB,QAAQ,GAAG,IAAI,CAAC;IAClB,CAAC;IAED;QACE,KAAK,EAAE,CAAC;IACV,CAAC;IAED,IAAI,SAAS;QACX,OAAO,IAAI,CAAC,UAAU,CAAC;IACzB,CAAC;IAED,WAAW,CAAC,QAAkB;QAC5B,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;QAC/B,IAAI,CAAC,aAAa,CAAC,IAAI,kBAAkB,CAAC,QAAQ,CAAC,CAAC,CAAC;IACvD,CAAC;IAED,KAAK;QACH,IAAI,CAAC,UAAU,GAAG,EAAE,CAAC;IACvB,CAAC;CACF","sourcesContent":["// Copyright 2025 The Chromium Authors\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\nimport type * as SDK from '../../core/sdk/sdk.js';\nimport type * as Trace from '../../models/trace/trace.js';\nimport type {InsightKeys} from '../trace/insights/types.js';\n\nexport interface InsightArtifact {\n  type: 'insight';\n  insightType: InsightKeys;\n}\n\nexport interface NetworkRequestArtifact {\n  type: 'network-request';\n  request: SDK.NetworkRequest.NetworkRequest|Trace.Types.Events.SyntheticNetworkRequest;\n}\n\nexport interface FlameChartArtifact {\n  type: 'flamechart';\n  start: Trace.Types.Timing.Micro;\n  end: Trace.Types.Timing.Micro;\n}\n\nexport type Artifact = InsightArtifact|NetworkRequestArtifact|FlameChartArtifact;\n\nexport class ArtifactAddedEvent extends Event {\n  static readonly eventName = 'artifactadded';\n\n  constructor(public artifact: Artifact) {\n    super(ArtifactAddedEvent.eventName);\n  }\n}\n\nlet instance: ArtifactsManager|null = null;\n\nexport class ArtifactsManager extends EventTarget {\n  #artifacts: Artifact[] = [];\n\n  static instance(): ArtifactsManager {\n    if (!instance) {\n      instance = new ArtifactsManager();\n    }\n    return instance;\n  }\n\n  static removeInstance(): void {\n    instance = null;\n  }\n\n  private constructor() {\n    super();\n  }\n\n  get artifacts(): Artifact[] {\n    return this.#artifacts;\n  }\n\n  addArtifact(artifact: Artifact): void {\n    this.#artifacts.push(artifact);\n    this.dispatchEvent(new ArtifactAddedEvent(artifact));\n  }\n\n  clear(): void {\n    this.#artifacts = [];\n  }\n}\n"]}