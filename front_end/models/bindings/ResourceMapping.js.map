{"version":3,"file":"ResourceMapping.js","sourceRoot":"","sources":["../../../../../../front_end/models/bindings/ResourceMapping.ts"],"names":[],"mappings":"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","sourcesContent":["// Copyright 2017 The Chromium Authors\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\nimport * as Common from '../../core/common/common.js';\nimport type * as Platform from '../../core/platform/platform.js';\nimport * as SDK from '../../core/sdk/sdk.js';\nimport * as Formatter from '../formatter/formatter.js';\nimport * as TextUtils from '../text_utils/text_utils.js';\nimport * as Workspace from '../workspace/workspace.js';\n\nimport {ContentProviderBasedProject} from './ContentProviderBasedProject.js';\nimport type {CSSWorkspaceBinding} from './CSSWorkspaceBinding.js';\nimport type {DebuggerWorkspaceBinding} from './DebuggerWorkspaceBinding.js';\nimport {NetworkProject} from './NetworkProject.js';\nimport {resourceMetadata} from './ResourceUtils.js';\n\nconst styleSheetRangeMap = new WeakMap<SDK.CSSStyleSheetHeader.CSSStyleSheetHeader, TextUtils.TextRange.TextRange>();\nconst scriptRangeMap = new WeakMap<SDK.Script.Script, TextUtils.TextRange.TextRange>();\nconst boundUISourceCodes = new WeakSet<Workspace.UISourceCode.UISourceCode>();\n\nfunction computeScriptRange(script: SDK.Script.Script): TextUtils.TextRange.TextRange {\n  return new TextUtils.TextRange.TextRange(script.lineOffset, script.columnOffset, script.endLine, script.endColumn);\n}\n\nfunction computeStyleSheetRange(header: SDK.CSSStyleSheetHeader.CSSStyleSheetHeader): TextUtils.TextRange.TextRange {\n  return new TextUtils.TextRange.TextRange(header.startLine, header.startColumn, header.endLine, header.endColumn);\n}\n\nexport class ResourceMapping implements SDK.TargetManager.SDKModelObserver<SDK.ResourceTreeModel.ResourceTreeModel> {\n  readonly workspace: Workspace.Workspace.WorkspaceImpl;\n  readonly #modelToInfo = new Map<SDK.ResourceTreeModel.ResourceTreeModel, ModelInfo>();\n\n  #debuggerWorkspaceBinding: DebuggerWorkspaceBinding|null = null;\n  #cssWorkspaceBinding: CSSWorkspaceBinding|null = null;\n\n  constructor(targetManager: SDK.TargetManager.TargetManager, workspace: Workspace.Workspace.WorkspaceImpl) {\n    this.workspace = workspace;\n    targetManager.observeModels(SDK.ResourceTreeModel.ResourceTreeModel, this);\n  }\n\n  get debuggerWorkspaceBinding(): DebuggerWorkspaceBinding|null {\n    // TODO(crbug.com/458180550): Throw when this.#debuggerWorkspaceBinding is null and never return null.\n    //                            The only reason we don't throw and return an instance unconditionally\n    //                            is that unit tests often don't set-up both the *WorkspaceBindings.\n    return this.#debuggerWorkspaceBinding;\n  }\n\n  /* {@link DebuggerWorkspaceBinding} and ResourceMapping form a cycle so we can't wire it up at ctor time. */\n  set debuggerWorkspaceBinding(debuggerWorkspaceBinding: DebuggerWorkspaceBinding) {\n    if (this.#debuggerWorkspaceBinding) {\n      throw new Error('DebuggerWorkspaceBinding already set');\n    }\n    this.#debuggerWorkspaceBinding = debuggerWorkspaceBinding;\n  }\n\n  get cssWorkspaceBinding(): CSSWorkspaceBinding|null {\n    // TODO(crbug.com/458180550): Throw when this.#cssWorkspaceBinding is null and never return null.\n    //                            The only reason we don't throw and return an instance unconditionally\n    //                            is that unit tests often don't set-up both the *WorkspaceBindings.\n    return this.#cssWorkspaceBinding;\n  }\n\n  /* {@link CSSWorkspaceBinding} and ResourceMapping form a cycle so we can't wire it up at ctor time. */\n  set cssWorkspaceBinding(cssWorkspaceBinding: CSSWorkspaceBinding) {\n    if (this.#cssWorkspaceBinding) {\n      throw new Error('CSSWorkspaceBinding already set');\n    }\n    this.#cssWorkspaceBinding = cssWorkspaceBinding;\n  }\n\n  modelAdded(resourceTreeModel: SDK.ResourceTreeModel.ResourceTreeModel): void {\n    const info = new ModelInfo(this, resourceTreeModel);\n    this.#modelToInfo.set(resourceTreeModel, info);\n  }\n\n  modelRemoved(resourceTreeModel: SDK.ResourceTreeModel.ResourceTreeModel): void {\n    const info = this.#modelToInfo.get(resourceTreeModel);\n    if (info) {\n      info.dispose();\n      this.#modelToInfo.delete(resourceTreeModel);\n    }\n  }\n\n  private infoForTarget(target: SDK.Target.Target): ModelInfo|null {\n    const resourceTreeModel = target.model(SDK.ResourceTreeModel.ResourceTreeModel);\n    return resourceTreeModel ? this.#modelToInfo.get(resourceTreeModel) || null : null;\n  }\n\n  uiSourceCodeForScript(script: SDK.Script.Script): Workspace.UISourceCode.UISourceCode|null {\n    const info = this.infoForTarget(script.debuggerModel.target());\n    if (!info) {\n      return null;\n    }\n\n    const project = info.getProject();\n    const uiSourceCode = project.uiSourceCodeForURL(script.sourceURL);\n    return uiSourceCode;\n  }\n\n  cssLocationToUILocation(cssLocation: SDK.CSSModel.CSSLocation): Workspace.UISourceCode.UILocation|null {\n    const header = cssLocation.header();\n    if (!header) {\n      return null;\n    }\n    const info = this.infoForTarget(cssLocation.cssModel().target());\n    if (!info) {\n      return null;\n    }\n    const uiSourceCode = info.getProject().uiSourceCodeForURL(cssLocation.url);\n    if (!uiSourceCode) {\n      return null;\n    }\n    const offset = styleSheetRangeMap.get(header) ?? computeStyleSheetRange(header);\n    const lineNumber = cssLocation.lineNumber + offset.startLine - header.startLine;\n    let columnNumber = cssLocation.columnNumber;\n    if (cssLocation.lineNumber === header.startLine) {\n      columnNumber += offset.startColumn - header.startColumn;\n    }\n    return uiSourceCode.uiLocation(lineNumber, columnNumber);\n  }\n\n  jsLocationToUILocation(jsLocation: SDK.DebuggerModel.Location): Workspace.UISourceCode.UILocation|null {\n    const script = jsLocation.script();\n    if (!script) {\n      return null;\n    }\n    const info = this.infoForTarget(jsLocation.debuggerModel.target());\n    if (!info) {\n      return null;\n    }\n    const embedderName = script.embedderName();\n    if (!embedderName) {\n      return null;\n    }\n    const uiSourceCode = info.getProject().uiSourceCodeForURL(embedderName);\n    if (!uiSourceCode) {\n      return null;\n    }\n    const {startLine, startColumn} = scriptRangeMap.get(script) ?? computeScriptRange(script);\n    let {lineNumber, columnNumber} = jsLocation;\n    if (lineNumber === script.lineOffset) {\n      columnNumber += startColumn - script.columnOffset;\n    }\n    lineNumber += startLine - script.lineOffset;\n    if (script.hasSourceURL) {\n      if (lineNumber === 0) {\n        columnNumber += script.columnOffset;\n      }\n      lineNumber += script.lineOffset;\n    }\n    return uiSourceCode.uiLocation(lineNumber, columnNumber);\n  }\n\n  uiLocationToJSLocations(uiSourceCode: Workspace.UISourceCode.UISourceCode, lineNumber: number, columnNumber: number):\n      SDK.DebuggerModel.Location[] {\n    if (!boundUISourceCodes.has(uiSourceCode)) {\n      return [];\n    }\n    const target = NetworkProject.targetForUISourceCode(uiSourceCode);\n    if (!target) {\n      return [];\n    }\n    const debuggerModel = target.model(SDK.DebuggerModel.DebuggerModel);\n    if (!debuggerModel) {\n      return [];\n    }\n    const locations = [];\n    for (const script of debuggerModel.scripts()) {\n      if (script.embedderName() !== uiSourceCode.url()) {\n        continue;\n      }\n      const range = scriptRangeMap.get(script) ?? computeScriptRange(script);\n      if (!range.containsLocation(lineNumber, columnNumber)) {\n        continue;\n      }\n      let scriptLineNumber = lineNumber;\n      let scriptColumnNumber = columnNumber;\n      if (script.hasSourceURL) {\n        scriptLineNumber -= range.startLine;\n        if (scriptLineNumber === 0) {\n          scriptColumnNumber -= range.startColumn;\n        }\n      }\n      locations.push(debuggerModel.createRawLocation(script, scriptLineNumber, scriptColumnNumber));\n    }\n    return locations;\n  }\n\n  uiLocationRangeToJSLocationRanges(\n      uiSourceCode: Workspace.UISourceCode.UISourceCode,\n      textRange: TextUtils.TextRange.TextRange): SDK.DebuggerModel.LocationRange[]|null {\n    if (!boundUISourceCodes.has(uiSourceCode)) {\n      return null;\n    }\n    const target = NetworkProject.targetForUISourceCode(uiSourceCode);\n    if (!target) {\n      return null;\n    }\n    const debuggerModel = target.model(SDK.DebuggerModel.DebuggerModel);\n    if (!debuggerModel) {\n      return null;\n    }\n    const ranges = [];\n    for (const script of debuggerModel.scripts()) {\n      if (script.embedderName() !== uiSourceCode.url()) {\n        continue;\n      }\n      const scriptTextRange = scriptRangeMap.get(script) ?? computeScriptRange(script);\n      const range = scriptTextRange.intersection(textRange);\n      if (range.isEmpty()) {\n        continue;\n      }\n      let {startLine, startColumn, endLine, endColumn} = range;\n      if (script.hasSourceURL) {\n        startLine -= range.startLine;\n        if (startLine === 0) {\n          startColumn -= range.startColumn;\n        }\n        endLine -= range.startLine;\n        if (endLine === 0) {\n          endColumn -= range.startColumn;\n        }\n      }\n      const start = debuggerModel.createRawLocation(script, startLine, startColumn);\n      const end = debuggerModel.createRawLocation(script, endLine, endColumn);\n      ranges.push({start, end});\n    }\n    return ranges;\n  }\n\n  getMappedLines(uiSourceCode: Workspace.UISourceCode.UISourceCode): Set<number>|null {\n    if (!boundUISourceCodes.has(uiSourceCode)) {\n      return null;\n    }\n    const target = NetworkProject.targetForUISourceCode(uiSourceCode);\n    if (!target) {\n      return null;\n    }\n    const debuggerModel = target.model(SDK.DebuggerModel.DebuggerModel);\n    if (!debuggerModel) {\n      return null;\n    }\n    const mappedLines = new Set<number>();\n    for (const script of debuggerModel.scripts()) {\n      if (script.embedderName() !== uiSourceCode.url()) {\n        continue;\n      }\n      const {startLine, endLine} = scriptRangeMap.get(script) ?? computeScriptRange(script);\n      for (let line = startLine; line <= endLine; ++line) {\n        mappedLines.add(line);\n      }\n    }\n    return mappedLines;\n  }\n\n  uiLocationToCSSLocations(uiLocation: Workspace.UISourceCode.UILocation): SDK.CSSModel.CSSLocation[] {\n    if (!boundUISourceCodes.has(uiLocation.uiSourceCode)) {\n      return [];\n    }\n    const target = NetworkProject.targetForUISourceCode(uiLocation.uiSourceCode);\n    if (!target) {\n      return [];\n    }\n    const cssModel = target.model(SDK.CSSModel.CSSModel);\n    if (!cssModel) {\n      return [];\n    }\n    return cssModel.createRawLocationsByURL(\n        uiLocation.uiSourceCode.url(), uiLocation.lineNumber, uiLocation.columnNumber);\n  }\n\n  async functionBoundsAtRawLocation(rawLocation: SDK.DebuggerModel.Location):\n      Promise<Workspace.UISourceCode.UIFunctionBounds|null> {\n    const script = rawLocation.script();\n    if (!script) {\n      return null;\n    }\n    const info = this.infoForTarget(script.debuggerModel.target());\n    if (!info) {\n      return null;\n    }\n    const embedderName = script.embedderName();\n    if (!embedderName) {\n      return null;\n    }\n    const uiSourceCode = info.getProject().uiSourceCodeForURL(embedderName);\n    if (!uiSourceCode) {\n      return null;\n    }\n\n    let {lineNumber, columnNumber} = rawLocation;\n    lineNumber -= script.lineOffset;\n    if (lineNumber === 0) {\n      columnNumber -= script.columnOffset;\n    }\n\n    const scopeTreeAndText = script ? await SDK.ScopeTreeCache.scopeTreeForScript(script) : null;\n    if (!scopeTreeAndText) {\n      return null;\n    }\n\n    // Find the inner-most scope that maps to the given position.\n\n    const offset = scopeTreeAndText.text.offsetFromPosition(lineNumber, columnNumber);\n\n    const results = [];\n    (function walk(nodes: Formatter.FormatterWorkerPool.ScopeTreeNode[]) {\n      for (const node of nodes) {\n        if (!(offset >= node.start && offset < node.end)) {\n          continue;\n        }\n        results.push(node);\n        walk(node.children);\n      }\n    })([scopeTreeAndText.scopeTree]);\n\n    const result = results.findLast(\n        node => node.kind === Formatter.FormatterWorkerPool.ScopeKind.FUNCTION ||\n            node.kind === Formatter.FormatterWorkerPool.ScopeKind.ARROW_FUNCTION);\n    if (!result) {\n      return null;\n    }\n\n    // Map back to positions.\n    const startPosition = scopeTreeAndText.text.positionFromOffset(result.start);\n    const endPosition = scopeTreeAndText.text.positionFromOffset(result.end);\n\n    startPosition.lineNumber += script.lineOffset;\n    if (startPosition.lineNumber === script.lineOffset) {\n      startPosition.columnNumber += script.columnOffset;\n    }\n\n    endPosition.lineNumber += script.lineOffset;\n    if (endPosition.lineNumber === script.lineOffset) {\n      endPosition.columnNumber += script.columnOffset;\n    }\n\n    const name = '';  // TODO(crbug.com/452333154): update ScopeVariableAnalysis to include function name.\n    const range = new TextUtils.TextRange.TextRange(\n        startPosition.lineNumber, startPosition.columnNumber, endPosition.lineNumber, endPosition.columnNumber);\n    return new Workspace.UISourceCode.UIFunctionBounds(uiSourceCode, range, name);\n  }\n\n  resetForTest(target: SDK.Target.Target): void {\n    const resourceTreeModel = target.model(SDK.ResourceTreeModel.ResourceTreeModel);\n    const info = resourceTreeModel ? this.#modelToInfo.get(resourceTreeModel) : null;\n    if (info) {\n      info.resetForTest();\n    }\n  }\n}\n\nclass ModelInfo {\n  project: ContentProviderBasedProject;\n  readonly #bindings = new Map<string, Binding>();\n  readonly #cssModel: SDK.CSSModel.CSSModel;\n  readonly #eventListeners: Common.EventTarget.EventDescriptor[];\n  readonly resourceMapping: ResourceMapping;\n\n  constructor(resourceMapping: ResourceMapping, resourceTreeModel: SDK.ResourceTreeModel.ResourceTreeModel) {\n    const target = resourceTreeModel.target();\n    this.resourceMapping = resourceMapping;\n    this.project = new ContentProviderBasedProject(\n        resourceMapping.workspace, 'resources:' + target.id(), Workspace.Workspace.projectTypes.Network, '',\n        false /* isServiceProject */);\n    NetworkProject.setTargetForProject(this.project, target);\n\n    const cssModel = target.model(SDK.CSSModel.CSSModel);\n    console.assert(Boolean(cssModel));\n    this.#cssModel = (cssModel as SDK.CSSModel.CSSModel);\n    for (const frame of resourceTreeModel.frames()) {\n      for (const resource of frame.getResourcesMap().values()) {\n        this.addResource(resource);\n      }\n    }\n    this.#eventListeners = [\n      resourceTreeModel.addEventListener(SDK.ResourceTreeModel.Events.ResourceAdded, this.resourceAdded, this),\n      resourceTreeModel.addEventListener(SDK.ResourceTreeModel.Events.FrameWillNavigate, this.frameWillNavigate, this),\n      resourceTreeModel.addEventListener(SDK.ResourceTreeModel.Events.FrameDetached, this.frameDetached, this),\n      this.#cssModel.addEventListener(\n          SDK.CSSModel.Events.StyleSheetChanged,\n          event => {\n            void this.styleSheetChanged(event);\n          },\n          this),\n    ];\n  }\n\n  private async styleSheetChanged(event: Common.EventTarget.EventTargetEvent<SDK.CSSModel.StyleSheetChangedEvent>):\n      Promise<void> {\n    const header = this.#cssModel.styleSheetHeaderForId(event.data.styleSheetId);\n    if (!header || !header.isInline || (header.isInline && header.isMutable)) {\n      return;\n    }\n    const binding = this.#bindings.get(header.resourceURL());\n    if (!binding) {\n      return;\n    }\n    await binding.styleSheetChanged(header, event.data.edit || null);\n  }\n\n  private acceptsResource(resource: SDK.Resource.Resource): boolean {\n    const resourceType = resource.resourceType();\n    // Only load selected resource types from resources.\n    if (resourceType !== Common.ResourceType.resourceTypes.Image &&\n        resourceType !== Common.ResourceType.resourceTypes.Font &&\n        resourceType !== Common.ResourceType.resourceTypes.Document &&\n        resourceType !== Common.ResourceType.resourceTypes.Manifest &&\n        resourceType !== Common.ResourceType.resourceTypes.Fetch &&\n        resourceType !== Common.ResourceType.resourceTypes.XHR) {\n      return false;\n    }\n\n    // Ignore non-images and non-fonts.\n    if (resourceType === Common.ResourceType.resourceTypes.Image && resource.mimeType &&\n        !resource.mimeType.startsWith('image')) {\n      return false;\n    }\n    if (resourceType === Common.ResourceType.resourceTypes.Font && resource.mimeType &&\n        !resource.mimeType.includes('font')) {\n      return false;\n    }\n    if ((resourceType === Common.ResourceType.resourceTypes.Image ||\n         resourceType === Common.ResourceType.resourceTypes.Font) &&\n        Common.ParsedURL.schemeIs(resource.contentURL(), 'data:')) {\n      return false;\n    }\n    return true;\n  }\n\n  private resourceAdded(event: Common.EventTarget.EventTargetEvent<SDK.Resource.Resource>): void {\n    this.addResource(event.data);\n  }\n\n  private addResource(resource: SDK.Resource.Resource): void {\n    if (!this.acceptsResource(resource)) {\n      return;\n    }\n\n    let binding = this.#bindings.get(resource.url);\n    if (!binding) {\n      binding = new Binding(this, resource);\n      this.#bindings.set(resource.url, binding);\n    } else {\n      binding.addResource(resource);\n    }\n  }\n\n  private removeFrameResources(frame: SDK.ResourceTreeModel.ResourceTreeFrame): void {\n    for (const resource of frame.resources()) {\n      if (!this.acceptsResource(resource)) {\n        continue;\n      }\n      const binding = this.#bindings.get(resource.url);\n      if (!binding) {\n        continue;\n      }\n      if (binding.resources.size === 1) {\n        binding.dispose();\n        this.#bindings.delete(resource.url);\n      } else {\n        binding.removeResource(resource);\n      }\n    }\n  }\n\n  private frameWillNavigate(event: Common.EventTarget.EventTargetEvent<SDK.ResourceTreeModel.ResourceTreeFrame>): void {\n    this.removeFrameResources(event.data);\n  }\n\n  private frameDetached(\n      event: Common.EventTarget.EventTargetEvent<{frame: SDK.ResourceTreeModel.ResourceTreeFrame, isSwap: boolean}>):\n      void {\n    this.removeFrameResources(event.data.frame);\n  }\n\n  resetForTest(): void {\n    for (const binding of this.#bindings.values()) {\n      binding.dispose();\n    }\n    this.#bindings.clear();\n  }\n\n  dispose(): void {\n    Common.EventTarget.removeEventListeners(this.#eventListeners);\n    for (const binding of this.#bindings.values()) {\n      binding.dispose();\n    }\n    this.#bindings.clear();\n    this.project.removeProject();\n  }\n\n  getProject(): ContentProviderBasedProject {\n    return this.project;\n  }\n}\n\nclass Binding implements TextUtils.ContentProvider.ContentProvider {\n  readonly resources: Set<SDK.Resource.Resource>;\n  readonly #project: ContentProviderBasedProject;\n  readonly #uiSourceCode: Workspace.UISourceCode.UISourceCode;\n  #edits: Array<{\n    stylesheet: SDK.CSSStyleSheetHeader.CSSStyleSheetHeader,\n    edit: SDK.CSSModel.Edit|null,\n  }> = [];\n\n  readonly #debuggerWorkspaceBinding: DebuggerWorkspaceBinding|null;\n  readonly #cssWorkspaceBinding: CSSWorkspaceBinding|null;\n\n  constructor(modelInfo: ModelInfo, resource: SDK.Resource.Resource) {\n    this.resources = new Set([resource]);\n    this.#project = modelInfo.project;\n    this.#debuggerWorkspaceBinding = modelInfo.resourceMapping.debuggerWorkspaceBinding;\n    this.#cssWorkspaceBinding = modelInfo.resourceMapping.cssWorkspaceBinding;\n\n    this.#uiSourceCode = this.#project.createUISourceCode(resource.url, resource.contentType());\n    boundUISourceCodes.add(this.#uiSourceCode);\n    if (resource.frameId) {\n      NetworkProject.setInitialFrameAttribution(this.#uiSourceCode, resource.frameId);\n    }\n    this.#project.addUISourceCodeWithProvider(this.#uiSourceCode, this, resourceMetadata(resource), resource.mimeType);\n\n    void Promise.all([\n      ...this.inlineScripts().map(script => this.#debuggerWorkspaceBinding?.updateLocations(script)),\n      ...this.inlineStyles().map(style => this.#cssWorkspaceBinding?.updateLocations(style)),\n    ]);\n  }\n\n  private inlineStyles(): SDK.CSSStyleSheetHeader.CSSStyleSheetHeader[] {\n    const target = NetworkProject.targetForUISourceCode(this.#uiSourceCode);\n    const stylesheets: SDK.CSSStyleSheetHeader.CSSStyleSheetHeader[] = [];\n    if (!target) {\n      return stylesheets;\n    }\n    const cssModel = target.model(SDK.CSSModel.CSSModel);\n    if (cssModel) {\n      for (const headerId of cssModel.getStyleSheetIdsForURL(this.#uiSourceCode.url())) {\n        const header = cssModel.styleSheetHeaderForId(headerId);\n        if (header) {\n          stylesheets.push(header);\n        }\n      }\n    }\n    return stylesheets;\n  }\n\n  private inlineScripts(): SDK.Script.Script[] {\n    const target = NetworkProject.targetForUISourceCode(this.#uiSourceCode);\n    if (!target) {\n      return [];\n    }\n    const debuggerModel = target.model(SDK.DebuggerModel.DebuggerModel);\n    if (!debuggerModel) {\n      return [];\n    }\n    return debuggerModel.scripts().filter(script => script.embedderName() === this.#uiSourceCode.url());\n  }\n\n  async styleSheetChanged(stylesheet: SDK.CSSStyleSheetHeader.CSSStyleSheetHeader, edit: SDK.CSSModel.Edit|null):\n      Promise<void> {\n    this.#edits.push({stylesheet, edit});\n    if (this.#edits.length > 1) {\n      return;\n    }  // There is already a styleSheetChanged loop running\n\n    const content = await this.#uiSourceCode.requestContentData();\n    if (!TextUtils.ContentData.ContentData.isError(content)) {\n      await this.innerStyleSheetChanged(content.text);\n    }\n    this.#edits = [];\n  }\n\n  private async innerStyleSheetChanged(content: string): Promise<void> {\n    const scripts = this.inlineScripts();\n    const styles = this.inlineStyles();\n    let text: TextUtils.Text.Text = new TextUtils.Text.Text(content);\n    for (const data of this.#edits) {\n      const edit = data.edit;\n      if (!edit) {\n        continue;\n      }\n      const stylesheet = data.stylesheet;\n      const startLocation = styleSheetRangeMap.get(stylesheet) ?? computeStyleSheetRange(stylesheet);\n\n      const oldRange = edit.oldRange.relativeFrom(startLocation.startLine, startLocation.startColumn);\n      const newRange = edit.newRange.relativeFrom(startLocation.startLine, startLocation.startColumn);\n      text = new TextUtils.Text.Text(text.replaceRange(oldRange, edit.newText));\n      const updatePromises = [];\n      for (const script of scripts) {\n        const range = scriptRangeMap.get(script) ?? computeScriptRange(script);\n        if (!range.follows(oldRange)) {\n          continue;\n        }\n        scriptRangeMap.set(script, range.rebaseAfterTextEdit(oldRange, newRange));\n        updatePromises.push(this.#debuggerWorkspaceBinding?.updateLocations(script));\n      }\n      for (const style of styles) {\n        const range = styleSheetRangeMap.get(style) ?? computeStyleSheetRange(style);\n        if (!range.follows(oldRange)) {\n          continue;\n        }\n        styleSheetRangeMap.set(style, range.rebaseAfterTextEdit(oldRange, newRange));\n        updatePromises.push(this.#cssWorkspaceBinding?.updateLocations(style));\n      }\n      await Promise.all(updatePromises);\n    }\n    this.#uiSourceCode.addRevision(text.value());\n  }\n\n  addResource(resource: SDK.Resource.Resource): void {\n    this.resources.add(resource);\n    if (resource.frameId) {\n      NetworkProject.addFrameAttribution(this.#uiSourceCode, resource.frameId);\n    }\n  }\n\n  removeResource(resource: SDK.Resource.Resource): void {\n    this.resources.delete(resource);\n    if (resource.frameId) {\n      NetworkProject.removeFrameAttribution(this.#uiSourceCode, resource.frameId);\n    }\n  }\n\n  dispose(): void {\n    this.#project.removeUISourceCode(this.#uiSourceCode.url());\n    void Promise.all([\n      ...this.inlineScripts().map(script => this.#debuggerWorkspaceBinding?.updateLocations(script)),\n      ...this.inlineStyles().map(style => this.#cssWorkspaceBinding?.updateLocations(style)),\n    ]);\n  }\n\n  private firstResource(): SDK.Resource.Resource {\n    console.assert(this.resources.size > 0);\n    return this.resources.values().next().value as SDK.Resource.Resource;\n  }\n\n  contentURL(): Platform.DevToolsPath.UrlString {\n    return this.firstResource().contentURL();\n  }\n\n  contentType(): Common.ResourceType.ResourceType {\n    return this.firstResource().contentType();\n  }\n\n  requestContentData(): Promise<TextUtils.ContentData.ContentDataOrError> {\n    return this.firstResource().requestContentData();\n  }\n\n  searchInContent(query: string, caseSensitive: boolean, isRegex: boolean):\n      Promise<TextUtils.ContentProvider.SearchMatch[]> {\n    return this.firstResource().searchInContent(query, caseSensitive, isRegex);\n  }\n}\n"]}