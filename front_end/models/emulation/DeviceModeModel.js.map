{"version":3,"file":"DeviceModeModel.js","sourceRoot":"","sources":["../../../../../../front_end/models/emulation/DeviceModeModel.ts"],"names":[],"mappings":"AAAA,sCAAsC;AACtC,yEAAyE;AACzE,6BAA6B;AAE7B,OAAO,KAAK,MAAM,MAAM,6BAA6B,CAAC;AACtD,OAAO,KAAK,IAAI,MAAM,yBAAyB,CAAC;AAChD,OAAO,KAAK,IAAI,MAAM,yBAAyB,CAAC;AAChD,OAAO,KAAK,GAAG,MAAM,uBAAuB,CAAC;AAE7C,OAAO,KAAK,QAAQ,MAAM,yBAAyB,CAAC;AAEpD,OAAO,EAEL,UAAU,EACV,iBAAiB,EAEjB,QAAQ,EACR,eAAe,GAChB,MAAM,sBAAsB,CAAC;AAE9B,MAAM,SAAS,GAAG;IAChB;;;OAGG;IACH,kBAAkB,EAAE,wBAAwB;IAC5C;;;OAGG;IACH,kBAAkB,EAAE,yBAAyB;IAC7C;;;;OAIG;IACH,6BAA6B,EAAE,4CAA4C;IAC3E;;;;OAIG;IACH,gCAAgC,EAAE,+CAA+C;IACjF;;;OAGG;IACH,mBAAmB,EAAE,yBAAyB;IAC9C;;;OAGG;IACH,mBAAmB,EAAE,0BAA0B;IAC/C;;;;OAIG;IACH,8BAA8B,EAAE,6CAA6C;IAC7E;;;;OAIG;IACH,gCAAgC,EAAE,gDAAgD;IAClF;;;OAGG;IACH,+BAA+B,EAAE,+CAA+C;IAChF;;;;OAIG;IACH,gCAAgC,EAAE,yDAAyD;IAC3F;;;;OAIG;IACH,6BAA6B,EAAE,4DAA4D;CACnF,CAAC;AACX,MAAM,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,qCAAqC,EAAE,SAAS,CAAC,CAAC;AAC3F,MAAM,UAAU,GAAG,IAAI,CAAC,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,CAAC;AAEtE,IAAI,uBAA6C,CAAC;AAElD,MAAM,OAAO,eAAgB,SAAQ,MAAM,CAAC,aAAa,CAAC,aAAyB;IAEjF,WAAW,CAAO;IAClB,gBAAgB,CAAO;IACvB,cAAc,CAAgB;IAC9B,cAAc,CAAgB;IAC9B,YAAY,CAAU;IACtB,kBAAkB,CAAgB;IAClC,yBAAyB,CAAS;IAClC,qBAAqB,CAAK;IACjB,aAAa,CAAkC;IACxD,MAAM,CAAS;IACf,aAAa,CAAkC;IAC/C,cAAc,CAAkC;IAChD,UAAU,CAA8B;IAC/B,yBAAyB,CAAkC;IAC3D,qBAAqB,CAAmC;IACxD,8BAA8B,CAAmC;IAC1E,KAAK,CAAO;IACZ,OAAO,CAAsB;IAC7B,KAAK,CAAY;IACjB,SAAS,CAAS;IAClB,aAAa,CAAU;IACvB,YAAY,CAAU;IACtB,eAAe,CAAyC;IACxD,iBAAiB,CAAoB;IACrC,YAAY,CAAQ;IAEpB;QACE,KAAK,EAAE,CAAC;QACR,IAAI,CAAC,WAAW,GAAG,IAAI,IAAI,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;QACxC,IAAI,CAAC,gBAAgB,GAAG,IAAI,IAAI,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;QAC7C,IAAI,CAAC,cAAc,GAAG,IAAI,QAAQ,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QAC9C,IAAI,CAAC,cAAc,GAAG,IAAI,QAAQ,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QAC9C,IAAI,CAAC,YAAY,GAAG,KAAK,CAAC;QAC1B,IAAI,CAAC,kBAAkB,GAAG,IAAI,QAAQ,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QAClD,IAAI,CAAC,yBAAyB,GAAG,MAAM,CAAC,gBAAgB,CAAC;QACzD,IAAI,CAAC,qBAAqB,6BAAa,CAAC;QAExC,IAAI,CAAC,aAAa,GAAG,MAAM,CAAC,QAAQ,CAAC,QAAQ,CAAC,QAAQ,EAAE,CAAC,aAAa,CAAC,wBAAwB,EAAE,CAAC,CAAC,CAAC;QACpG,mCAAmC;QACnC,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,GAAG,EAAE,EAAE,CAAC;YAC9B,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;QAC5B,CAAC;QACD,IAAI,CAAC,aAAa,CAAC,iBAAiB,CAAC,IAAI,CAAC,mBAAmB,EAAE,IAAI,CAAC,CAAC;QACrE,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC;QAEhB,IAAI,CAAC,aAAa,GAAG,MAAM,CAAC,QAAQ,CAAC,QAAQ,CAAC,QAAQ,EAAE,CAAC,aAAa,CAAC,wBAAwB,EAAE,GAAG,CAAC,CAAC;QACtG,IAAI,IAAI,CAAC,aAAa,CAAC,GAAG,EAAE,GAAG,aAAa,EAAE,CAAC;YAC7C,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC;QACxC,CAAC;QACD,IAAI,IAAI,CAAC,aAAa,CAAC,GAAG,EAAE,GAAG,aAAa,EAAE,CAAC;YAC7C,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC;QACxC,CAAC;QACD,IAAI,CAAC,aAAa,CAAC,iBAAiB,CAAC,IAAI,CAAC,mBAAmB,EAAE,IAAI,CAAC,CAAC;QAErE,IAAI,CAAC,cAAc,GAAG,MAAM,CAAC,QAAQ,CAAC,QAAQ,CAAC,QAAQ,EAAE,CAAC,aAAa,CAAC,yBAAyB,EAAE,CAAC,CAAC,CAAC;QACtG,IAAI,IAAI,CAAC,cAAc,CAAC,GAAG,EAAE,IAAI,IAAI,CAAC,cAAc,CAAC,GAAG,EAAE,GAAG,aAAa,EAAE,CAAC;YAC3E,IAAI,CAAC,cAAc,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC;QACzC,CAAC;QACD,IAAI,IAAI,CAAC,cAAc,CAAC,GAAG,EAAE,GAAG,aAAa,EAAE,CAAC;YAC9C,IAAI,CAAC,cAAc,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC;QACzC,CAAC;QACD,IAAI,CAAC,cAAc,CAAC,iBAAiB,CAAC,IAAI,CAAC,oBAAoB,EAAE,IAAI,CAAC,CAAC;QAEvE,IAAI,CAAC,UAAU,GAAG,MAAM,CAAC,QAAQ,CAAC,QAAQ,CAAC,QAAQ,EAAE,CAAC,aAAa,CAAC,qBAAqB,2BAAY,CAAC;QACtG,IAAI,CAAC,UAAU,CAAC,iBAAiB,CAAC,IAAI,CAAC,gBAAgB,EAAE,IAAI,CAAC,CAAC;QAC/D,IAAI,CAAC,yBAAyB;YAC1B,MAAM,CAAC,QAAQ,CAAC,QAAQ,CAAC,QAAQ,EAAE,CAAC,aAAa,CAAC,+BAA+B,EAAE,CAAC,CAAC,CAAC;QAC1F,IAAI,CAAC,yBAAyB,CAAC,iBAAiB,CAAC,IAAI,CAAC,+BAA+B,EAAE,IAAI,CAAC,CAAC;QAE7F,IAAI,CAAC,qBAAqB,GAAG,MAAM,CAAC,QAAQ,CAAC,QAAQ,CAAC,QAAQ,EAAE,CAAC,aAAa,CAAC,+BAA+B,CAAC,CAAC;QAChH,IAAI,CAAC,qBAAqB,CAAC,iBAAiB,CAAC,IAAI,CAAC,2BAA2B,EAAE,IAAI,CAAC,CAAC;QAErF,IAAI,CAAC,8BAA8B,GAAG,MAAM,CAAC,QAAQ,CAAC,QAAQ,CAAC,QAAQ,EAAE,CAAC,aAAa,CACnF,oCAAoC,EAAE,IAAI,6DAA6C,CAAC;QAE5F,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,IAAI,CAAC;QACvB,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;QACpB,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC;QAClB,IAAI,CAAC,SAAS,GAAG,CAAC,CAAC;QACnB,IAAI,CAAC,aAAa,GAAG,KAAK,CAAC;QAC3B,IAAI,CAAC,YAAY,GAAG,KAAK,CAAC;QAE1B,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC;QAC5B,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC;QAC9B,GAAG,CAAC,aAAa,CAAC,aAAa,CAAC,QAAQ,EAAE,CAAC,aAAa,CAAC,GAAG,CAAC,cAAc,CAAC,cAAc,EAAE,IAAI,CAAC,CAAC;IACpG,CAAC;IAED,MAAM,CAAC,QAAQ,CAAC,IAA0B;QACxC,IAAI,CAAC,uBAAuB,IAAI,IAAI,EAAE,QAAQ,EAAE,CAAC;YAC/C,uBAAuB,GAAG,IAAI,eAAe,EAAE,CAAC;QAClD,CAAC;QAED,OAAO,uBAAuB,CAAC;IACjC,CAAC;IAED;;;;;;OAMG;IACH,MAAM,CAAC,WAAW,CAAC,IAA0B;QAC3C,IAAI,CAAC;YACH,OAAO,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;QAC7B,CAAC;QAAC,MAAM,CAAC;YACP,OAAO,IAAI,CAAC;QACd,CAAC;IACH,CAAC;IAED,MAAM,CAAC,cAAc,CAAC,KAAa;QAIjC,IAAI,KAAK,GAAG,KAAK,CAAC;QAClB,IAAI,YAAY,CAAC;QAEjB,IAAI,CAAC,KAAK,EAAE,CAAC;YACX,YAAY,GAAG,UAAU,CAAC,SAAS,CAAC,kBAAkB,CAAC,CAAC;QAC1D,CAAC;aAAM,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC;YAClC,YAAY,GAAG,UAAU,CAAC,SAAS,CAAC,kBAAkB,CAAC,CAAC;QAC1D,CAAC;aAAM,IAAI,MAAM,CAAC,KAAK,CAAC,GAAG,aAAa,EAAE,CAAC;YACzC,YAAY,GAAG,UAAU,CAAC,SAAS,CAAC,6BAA6B,EAAE,EAAC,GAAG,EAAE,aAAa,EAAC,CAAC,CAAC;QAC3F,CAAC;aAAM,IAAI,MAAM,CAAC,KAAK,CAAC,GAAG,aAAa,EAAE,CAAC;YACzC,YAAY,GAAG,UAAU,CAAC,SAAS,CAAC,gCAAgC,EAAE,EAAC,GAAG,EAAE,aAAa,EAAC,CAAC,CAAC;QAC9F,CAAC;aAAM,CAAC;YACN,KAAK,GAAG,IAAI,CAAC;QACf,CAAC;QAED,OAAO,EAAC,KAAK,EAAE,YAAY,EAAC,CAAC;IAC/B,CAAC;IAED,MAAM,CAAC,eAAe,CAAC,KAAa;QAIlC,IAAI,KAAK,GAAG,KAAK,CAAC;QAClB,IAAI,YAAY,CAAC;QAEjB,IAAI,CAAC,KAAK,EAAE,CAAC;YACX,YAAY,GAAG,UAAU,CAAC,SAAS,CAAC,mBAAmB,CAAC,CAAC;QAC3D,CAAC;aAAM,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC;YAClC,YAAY,GAAG,UAAU,CAAC,SAAS,CAAC,mBAAmB,CAAC,CAAC;QAC3D,CAAC;aAAM,IAAI,MAAM,CAAC,KAAK,CAAC,GAAG,aAAa,EAAE,CAAC;YACzC,YAAY,GAAG,UAAU,CAAC,SAAS,CAAC,8BAA8B,EAAE,EAAC,GAAG,EAAE,aAAa,EAAC,CAAC,CAAC;QAC5F,CAAC;aAAM,IAAI,MAAM,CAAC,KAAK,CAAC,GAAG,aAAa,EAAE,CAAC;YACzC,YAAY,GAAG,UAAU,CAAC,SAAS,CAAC,gCAAgC,EAAE,EAAC,GAAG,EAAE,aAAa,EAAC,CAAC,CAAC;QAC9F,CAAC;aAAM,CAAC;YACN,KAAK,GAAG,IAAI,CAAC;QACf,CAAC;QAED,OAAO,EAAC,KAAK,EAAE,YAAY,EAAC,CAAC;IAC/B,CAAC;IAED,MAAM,CAAC,cAAc,CAAC,KAAa;QAIjC,IAAI,KAAK,GAAG,KAAK,CAAC;QAClB,IAAI,YAAY,CAAC;QACjB,MAAM,WAAW,GAAG,MAAM,CAAC,KAAK,CAAC,IAAI,EAAE,CAAC,CAAC;QAEzC,IAAI,CAAC,KAAK,EAAE,CAAC;YACX,KAAK,GAAG,IAAI,CAAC;QACf,CAAC;aAAM,IAAI,MAAM,CAAC,KAAK,CAAC,WAAW,CAAC,EAAE,CAAC;YACrC,YAAY,GAAG,UAAU,CAAC,SAAS,CAAC,+BAA+B,CAAC,CAAC;QACvE,CAAC;aAAM,IAAI,MAAM,CAAC,KAAK,CAAC,GAAG,oBAAoB,EAAE,CAAC;YAChD,YAAY,GAAG,UAAU,CAAC,SAAS,CAAC,gCAAgC,EAAE,EAAC,GAAG,EAAE,oBAAoB,EAAC,CAAC,CAAC;QACrG,CAAC;aAAM,IAAI,MAAM,CAAC,KAAK,CAAC,GAAG,oBAAoB,EAAE,CAAC;YAChD,YAAY,GAAG,UAAU,CAAC,SAAS,CAAC,6BAA6B,EAAE,EAAC,GAAG,EAAE,oBAAoB,EAAC,CAAC,CAAC;QAClG,CAAC;aAAM,CAAC;YACN,KAAK,GAAG,IAAI,CAAC;QACf,CAAC;QAED,OAAO,EAAC,KAAK,EAAE,YAAY,EAAC,CAAC;IAC/B,CAAC;IAED,IAAI,oBAAoB;QACtB,OAAO,IAAI,CAAC,aAAa,CAAC;IAC5B,CAAC;IAED,gBAAgB,CAAC,aAA4B,EAAE,aAA4B;QACzE,IAAI,CAAC,cAAc,GAAG,aAAa,CAAC;QACpC,IAAI,CAAC,cAAc,GAAG,aAAa,CAAC;QACpC,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC;QACzB,IAAI,CAAC,mBAAmB,CAAC,KAAK,CAAC,CAAC;IAClC,CAAC;IAED,OAAO,CAAC,IAAU,EAAE,MAA2B,EAAE,IAAe,EAAE,KAAc;QAC9E,MAAM,oBAAoB,GAAG,IAAI,CAAC,KAAK,KAAK,IAAI,IAAI,IAAI,CAAC,OAAO,KAAK,MAAM,IAAI,IAAI,CAAC,KAAK,KAAK,IAAI,CAAC;QACnG,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC;QAElB,IAAI,IAAI,KAAK,IAAI,CAAC,MAAM,IAAI,MAAM,IAAI,IAAI,EAAE,CAAC;YAC3C,OAAO,CAAC,MAAM,CAAC,OAAO,CAAC,MAAM,CAAC,IAAI,OAAO,CAAC,IAAI,CAAC,EAAE,gDAAgD,CAAC,CAAC;YACnG,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC;YAClB,IAAI,CAAC,OAAO,GAAG,MAAM,CAAC;YACtB,IAAI,IAAI,CAAC,YAAY,EAAE,CAAC;gBACtB,MAAM,WAAW,GAAG,MAAM,CAAC,iBAAiB,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;gBAC/D,IAAI,CAAC,aAAa,CAAC,GAAG,CAClB,KAAK;oBACL,IAAI,CAAC,iBAAiB,CAAC,WAAW,CAAC,KAAK,EAAE,WAAW,CAAC,MAAM,EAAE,IAAI,CAAC,cAAc,EAAE,EAAE,IAAI,CAAC,aAAa,EAAE,CAAC,CAAC,CAAC;YAClH,CAAC;QACH,CAAC;aAAM,CAAC;YACN,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;YACpB,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC;QACpB,CAAC;QAED,IAAI,IAAI,KAAK,IAAI,CAAC,IAAI,EAAE,CAAC;YACvB,IAAI,CAAC,WAAW,CAAC,WAAW,CAAC,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,iBAAiB,CAAC,CAAC;QAC1E,CAAC;QACD,IAAI,CAAC,mBAAmB,CAAC,oBAAoB,CAAC,CAAC;IACjD,CAAC;IAED,QAAQ,CAAC,KAAa;QACpB,MAAM,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC,aAAa,EAAE,IAAI,CAAC,oBAAoB,EAAE,CAAC,CAAC;QACjE,KAAK,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,KAAK,EAAE,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC;QAC1C,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;IAChC,CAAC;IAED,qBAAqB,CAAC,KAAa;QACjC,KAAK,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,KAAK,EAAE,aAAa,CAAC,EAAE,CAAC,CAAC,CAAC;QACpD,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC,IAAI,CAAC,iBAAiB,CAAC,KAAK,EAAE,IAAI,CAAC,cAAc,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC;QACjF,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;IAChC,CAAC;IAED,SAAS,CAAC,MAAc;QACtB,MAAM,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC,aAAa,EAAE,IAAI,CAAC,qBAAqB,EAAE,CAAC,CAAC;QAClE,MAAM,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,MAAM,EAAE,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC;QAC5C,IAAI,MAAM,KAAK,IAAI,CAAC,qBAAqB,EAAE,EAAE,CAAC;YAC5C,MAAM,GAAG,CAAC,CAAC;QACb,CAAC;QACD,IAAI,CAAC,cAAc,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;IAClC,CAAC;IAED,sBAAsB,CAAC,MAAc;QACnC,MAAM,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,MAAM,EAAE,aAAa,CAAC,EAAE,CAAC,CAAC,CAAC;QACtD,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,aAAa,CAAC,GAAG,EAAE,EAAE,MAAM,CAAC,CAAC,CAAC;QACjF,IAAI,CAAC,cAAc,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;IAClC,CAAC;IAED,QAAQ,CAAC,KAAa;QACpB,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;IAChC,CAAC;IAED,MAAM;QACJ,OAAO,IAAI,CAAC,OAAO,CAAC;IACtB,CAAC;IAED,IAAI;QACF,OAAO,IAAI,CAAC,KAAK,CAAC;IACpB,CAAC;IAED,IAAI;QACF,OAAO,IAAI,CAAC,KAAK,CAAC;IACpB,CAAC;IAED,WAAW;QACT,OAAO,CAAC,IAAI,CAAC,OAAO,IAAI,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;IAChF,CAAC;IAED,YAAY;QACV,OAAO,CAAC,IAAI,CAAC,OAAO,IAAI,IAAI,CAAC,KAAK,IAAI,IAAI,CAAC,qBAAqB,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC;YACvC,EAAE,CAAC;IAC/E,CAAC;IAED,WAAW;QACT,OAAO,IAAI,CAAC,YAAY,IAAI,IAAI,CAAC;IACnC,CAAC;IAED,UAAU;QACR,OAAO,IAAI,CAAC,WAAW,CAAC;IAC1B,CAAC;IAED,eAAe;QACb,OAAO,IAAI,CAAC,gBAAgB,CAAC;IAC/B,CAAC;IAED,KAAK;QACH,OAAO,IAAI,CAAC,MAAM,CAAC;IACrB,CAAC;IAED,QAAQ;QACN,OAAO,IAAI,CAAC,SAAS,CAAC;IACxB,CAAC;IAED,iBAAiB;QACf,OAAO,IAAI,CAAC,kBAAkB,CAAC;IACjC,CAAC;IAED,wBAAwB;QACtB,OAAO,IAAI,CAAC,yBAAyB,CAAC;IACxC,CAAC;IAED,oBAAoB;QAClB,OAAO,IAAI,CAAC,qBAAqB,CAAC;IACpC,CAAC;IAED,YAAY;QACV,OAAO,CAAC,IAAI,CAAC,cAAc,CAAC,GAAG,EAAE,CAAC;IACpC,CAAC;IAED,QAAQ;QACN,QAAQ,IAAI,CAAC,KAAK,EAAE,CAAC;YACnB,KAAK,IAAI,CAAC,MAAM;gBACd,OAAO,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,MAAM,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC;YACtD,KAAK,IAAI,CAAC,IAAI;gBACZ,OAAO,KAAK,CAAC;YACf,KAAK,IAAI,CAAC,UAAU;gBAClB,OAAO,IAAI,CAAC,UAAU,CAAC,GAAG,EAAE,6BAAc,IAAI,IAAI,CAAC,UAAU,CAAC,GAAG,EAAE,iDAAuB,CAAC;QAC/F,CAAC;QACD,OAAO,KAAK,CAAC;IACf,CAAC;IAED,cAAc;QACZ,OAAO,MAAM,CAAC,QAAQ,CAAC,QAAQ,CAAC,QAAQ,EAAE,CAAC,aAAa,CAAC,4BAA4B,EAAE,KAAK,CAAC,CAAC;IAChG,CAAC;IAED,YAAY;QACV,OAAO,IAAI,CAAC,aAAa,CAAC;IAC5B,CAAC;IAED,SAAS;QACP,OAAO,IAAI,CAAC,UAAU,CAAC;IACzB,CAAC;IAED,wBAAwB;QACtB,OAAO,IAAI,CAAC,yBAAyB,CAAC;IACxC,CAAC;IAED,oBAAoB;QAClB,OAAO,IAAI,CAAC,qBAAqB,CAAC;IACpC,CAAC;IAED,6BAA6B;QAC3B,OAAO,IAAI,CAAC,8BAA8B,CAAC;IAC7C,CAAC;IAED,KAAK;QACH,IAAI,CAAC,yBAAyB,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;QACtC,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;QAC1B,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC;QACnB,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;QAClB,IAAI,CAAC,UAAU,CAAC,GAAG,0BAAW,CAAC;IACjC,CAAC;IAED,UAAU,CAAC,cAAiD;QAC1D,IAAI,cAAc,CAAC,MAAM,EAAE,KAAK,GAAG,CAAC,aAAa,CAAC,aAAa,CAAC,QAAQ,EAAE,CAAC,iBAAiB,EAAE;YAC1F,cAAc,CAAC,uBAAuB,EAAE,EAAE,CAAC;YAC7C,IAAI,CAAC,eAAe,GAAG,cAAc,CAAC;YACtC,IAAI,IAAI,CAAC,iBAAiB,EAAE,CAAC;gBAC3B,MAAM,QAAQ,GAAG,IAAI,CAAC,iBAAiB,CAAC;gBACxC,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC;gBAC9B,QAAQ,EAAE,CAAC;YACb,CAAC;YACD,MAAM,iBAAiB,GAAG,cAAc,CAAC,MAAM,EAAE,CAAC,KAAK,CAAC,GAAG,CAAC,iBAAiB,CAAC,iBAAiB,CAAC,CAAC;YACjG,IAAI,iBAAiB,EAAE,CAAC;gBACtB,iBAAiB,CAAC,gBAAgB,CAAC,GAAG,CAAC,iBAAiB,CAAC,MAAM,CAAC,YAAY,EAAE,IAAI,CAAC,aAAa,EAAE,IAAI,CAAC,CAAC;gBACxG,iBAAiB,CAAC,gBAAgB,CAAC,GAAG,CAAC,iBAAiB,CAAC,MAAM,CAAC,cAAc,EAAE,IAAI,CAAC,aAAa,EAAE,IAAI,CAAC,CAAC;YAC5G,CAAC;QACH,CAAC;aAAM,CAAC;YACN,KAAK,cAAc,CAAC,YAAY,CAAC,IAAI,CAAC,aAAa,EAAE,IAAI,CAAC,YAAY,CAAC,CAAC;QAC1E,CAAC;IACH,CAAC;IAED,YAAY,CAAC,cAAiD;QAC5D,IAAI,IAAI,CAAC,eAAe,KAAK,cAAc,EAAE,CAAC;YAC5C,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC;QAC9B,CAAC;IACH,CAAC;IAED,YAAY;QACV,OAAO,IAAI,CAAC,eAAe,CAAC,CAAC,CAAC,IAAI,CAAC,eAAe,CAAC,MAAM,EAAE,CAAC,YAAY,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC;IACpF,CAAC;IAEO,aAAa;QACnB,MAAM,YAAY,GAAG,IAAI,CAAC,eAAe,CAAC,CAAC,CAAC,IAAI,CAAC,eAAe,CAAC,YAAY,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC;QACvF,IAAI,CAAC,YAAY,EAAE,CAAC;YAClB,OAAO;QACT,CAAC;QAED,IAAI,CAAC,qBAAqB,CAAC,YAAY,CAAC,CAAC;IAC3C,CAAC;IAEO,mBAAmB;QACzB,IAAI,CAAC,mBAAmB,CAAC,KAAK,CAAC,CAAC;IAClC,CAAC;IAEO,mBAAmB;QACzB,IAAI,CAAC,mBAAmB,CAAC,KAAK,CAAC,CAAC;IAClC,CAAC;IAEO,oBAAoB;QAC1B,IAAI,CAAC,mBAAmB,CAAC,KAAK,CAAC,CAAC;IAClC,CAAC;IAEO,gBAAgB;QACtB,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,CAAC;IACjC,CAAC;IAEO,+BAA+B;QACrC,IAAI,CAAC,mBAAmB,CAAC,KAAK,CAAC,CAAC;IAClC,CAAC;IAEO,2BAA2B;QACjC,IAAI,CAAC,mBAAmB,CAAC,KAAK,CAAC,CAAC;IAClC,CAAC;IAEO,oBAAoB;QAC1B,OAAO,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,cAAc,CAAC,KAAK,GAAG,CAAC,IAAI,CAAC,aAAa,CAAC,GAAG,EAAE,IAAI,CAAC,CAAC,CAAC,CAAC;IACjF,CAAC;IAEO,qBAAqB;QAC3B,OAAO,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,cAAc,CAAC,MAAM,GAAG,CAAC,IAAI,CAAC,aAAa,CAAC,GAAG,EAAE,IAAI,CAAC,CAAC,CAAC,CAAC;IAClF,CAAC;IAEO,cAAc;QACpB,IAAI,OAAO,GAAW,IAAI,MAAM,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;QAC7C,IAAI,IAAI,CAAC,KAAK,KAAK,IAAI,CAAC,MAAM,IAAI,CAAC,IAAI,CAAC,OAAO,IAAI,CAAC,IAAI,CAAC,KAAK,EAAE,CAAC;YAC/D,OAAO,OAAO,CAAC;QACjB,CAAC;QACD,MAAM,WAAW,GAAG,IAAI,CAAC,OAAO,CAAC,iBAAiB,CAAC,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,CAAC;QAC3E,IAAI,IAAI,CAAC,qBAAqB,CAAC,GAAG,EAAE,EAAE,CAAC;YACrC,OAAO,GAAG,WAAW,CAAC,aAAa,IAAI,OAAO,CAAC;QACjD,CAAC;QACD,OAAO,OAAO,CAAC;IACjB,CAAC;IAEO,aAAa;QACnB,IAAI,IAAI,CAAC,KAAK,KAAK,IAAI,CAAC,MAAM,IAAI,CAAC,IAAI,CAAC,KAAK,EAAE,CAAC;YAC9C,OAAO,IAAI,MAAM,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;QAChC,CAAC;QACD,OAAO,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC;IAC3B,CAAC;IAEO,wBAAwB;QAC9B,IAAI,CAAC,IAAI,CAAC,KAAK,EAAE,CAAC;YAChB,MAAM,IAAI,KAAK,CAAC,wCAAwC,CAAC,CAAC;QAC5D,CAAC;QACD,QAAQ,IAAI,CAAC,KAAK,CAAC,WAAW,EAAE,CAAC;YAC/B,KAAK,eAAe,CAAC;YACrB,KAAK,QAAQ;gBACX,wFAAgE;YAClE,KAAK,iBAAiB,CAAC;YACvB,KAAK,UAAU,CAAC;YAChB;gBACE,0FAAiE;QACrE,CAAC;IACH,CAAC;IAEO,mBAAmB,CAAC,oBAA6B;QACvD,IAAI,CAAC,IAAI,CAAC,eAAe,EAAE,CAAC;YAC1B,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,IAAI,EAAE,oBAAoB,CAAC,CAAC;QACrF,CAAC;QACD,MAAM,MAAM,GAAG,IAAI,CAAC,QAAQ,EAAE,CAAC;QAC/B,MAAM,YAAY,GAAG,IAAI,CAAC,eAAe,CAAC,CAAC,CAAC,IAAI,CAAC,eAAe,CAAC,YAAY,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC;QACvF,IAAI,YAAY,EAAE,CAAC;YACjB,IAAI,CAAC,qBAAqB,CAAC,YAAY,CAAC,CAAC;QAC3C,CAAC;QACD,IAAI,IAAI,CAAC,KAAK,KAAK,IAAI,CAAC,MAAM,IAAI,IAAI,CAAC,OAAO,IAAI,IAAI,CAAC,KAAK,EAAE,CAAC;YAC7D,MAAM,WAAW,GAAG,IAAI,CAAC,OAAO,CAAC,iBAAiB,CAAC,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,CAAC;YAC3E,MAAM,OAAO,GAAG,IAAI,CAAC,cAAc,EAAE,CAAC;YACtC,MAAM,MAAM,GAAG,IAAI,CAAC,aAAa,EAAE,CAAC;YACpC,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,iBAAiB,CAAC,WAAW,CAAC,KAAK,EAAE,WAAW,CAAC,MAAM,EAAE,OAAO,EAAE,MAAM,CAAC,CAAC;YAChG,IAAI,MAAM,EAAE,CAAC;gBACX,IAAI,CAAC,qBAAqB,GAAG,IAAI,CAAC,OAAO,CAAC,KAAK,EAAE,CAAC,CAAC,0BAAW,CAAC,6CAAmB,CAAC;YACrF,CAAC;iBAAM,CAAC;gBACN,IAAI,CAAC,qBAAqB,GAAG,IAAI,CAAC,OAAO,CAAC,KAAK,EAAE,CAAC,CAAC,0CAAkB,CAAC,2BAAW,CAAC;YACpF,CAAC;YACD,IAAI,CAAC,kBAAkB,CACnB,IAAI,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,KAAK,EAAE,WAAW,CAAC,MAAM,CAAC,EAAE,MAAM,EAAE,OAAO,EAAE,IAAI,CAAC,aAAa,CAAC,GAAG,EAAE,EACnG,IAAI,CAAC,OAAO,CAAC,iBAAiB,EAAE,MAAM,EAAE,IAAI,CAAC,wBAAwB,EAAE,EAAE,oBAAoB,CAAC,CAAC;YACnG,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,OAAO,CAAC,SAAS,EAAE,IAAI,CAAC,OAAO,CAAC,iBAAiB,CAAC,CAAC;YAC5E,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,OAAO,CAAC,KAAK,EAAE,EAAE,MAAM,CAAC,CAAC;QAChD,CAAC;aAAM,IAAI,IAAI,CAAC,KAAK,KAAK,IAAI,CAAC,IAAI,EAAE,CAAC;YACpC,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,cAAc,CAAC,KAAK,EAAE,IAAI,CAAC,cAAc,CAAC,MAAM,CAAC,CAAC;YAC/F,IAAI,CAAC,qBAAqB,6BAAa,CAAC;YACxC,IAAI,CAAC,kBAAkB,CACnB,IAAI,CAAC,cAAc,EAAE,IAAI,MAAM,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,IAAI,MAAM,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,MAAM,EAAE,IAAI,EACvF,oBAAoB,CAAC,CAAC;YAC1B,IAAI,CAAC,cAAc,CAAC,EAAE,EAAE,IAAI,CAAC,CAAC;YAC9B,IAAI,CAAC,UAAU,CAAC,KAAK,EAAE,KAAK,CAAC,CAAC;QAChC,CAAC;aAAM,IAAI,IAAI,CAAC,KAAK,KAAK,IAAI,CAAC,UAAU,EAAE,CAAC;YAC1C,IAAI,WAAW,GAAG,IAAI,CAAC,aAAa,CAAC,GAAG,EAAE,CAAC;YAC3C,IAAI,CAAC,WAAW,IAAI,WAAW,GAAG,IAAI,CAAC,oBAAoB,EAAE,EAAE,CAAC;gBAC9D,WAAW,GAAG,IAAI,CAAC,oBAAoB,EAAE,CAAC;YAC5C,CAAC;YACD,IAAI,YAAY,GAAG,IAAI,CAAC,cAAc,CAAC,GAAG,EAAE,CAAC;YAC7C,IAAI,CAAC,YAAY,IAAI,YAAY,GAAG,IAAI,CAAC,qBAAqB,EAAE,EAAE,CAAC;gBACjE,YAAY,GAAG,IAAI,CAAC,qBAAqB,EAAE,CAAC;YAC9C,CAAC;YACD,MAAM,wBAAwB,GAAG,MAAM,CAAC,CAAC,CAAC,wBAAwB,CAAC,CAAC,CAAC,CAAC,CAAC;YACvE,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,aAAa,CAAC,GAAG,EAAE,EAAE,IAAI,CAAC,cAAc,CAAC,GAAG,EAAE,CAAC,CAAC;YAC7F,IAAI,CAAC,qBAAqB,GAAG,IAAI,CAAC,UAAU,CAAC,GAAG,EAAE,CAAC;YACnD,IAAI,CAAC,kBAAkB,CACnB,IAAI,QAAQ,CAAC,IAAI,CAAC,WAAW,EAAE,YAAY,CAAC,EAAE,IAAI,MAAM,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,IAAI,MAAM,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAC5F,IAAI,CAAC,aAAa,CAAC,GAAG,EAAE,EAAE,IAAI,CAAC,yBAAyB,CAAC,GAAG,EAAE,IAAI,wBAAwB,EAAE,MAAM,EAClG,YAAY,IAAI,WAAW,CAAC,CAAC,kFAA0D,CAAC;kGACD,EACvF,oBAAoB,CAAC,CAAC;YAC1B,IAAI,CAAC,cAAc,CAAC,MAAM,CAAC,CAAC,CAAC,sBAAsB,CAAC,CAAC,CAAC,EAAE,EAAE,MAAM,CAAC,CAAC,CAAC,8BAA8B,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC;YAC1G,IAAI,CAAC,UAAU,CACX,IAAI,CAAC,UAAU,CAAC,GAAG,EAAE,6CAAqB,IAAI,IAAI,CAAC,UAAU,CAAC,GAAG,EAAE,6BAAc,EACjF,IAAI,CAAC,UAAU,CAAC,GAAG,EAAE,6BAAc,CAAC,CAAC;QAC3C,CAAC;QAED,IAAI,YAAY,EAAE,CAAC;YACjB,YAAY,CAAC,2BAA2B,CAAC,IAAI,CAAC,KAAK,KAAK,IAAI,CAAC,IAAI,CAAC,CAAC;QACrE,CAAC;QACD,IAAI,CAAC,wBAAwB,gCAAgB,CAAC;IAChD,CAAC;IAEO,iBAAiB,CAAC,WAAmB,EAAE,YAAoB,EAAE,OAAgB,EAAE,MAAe;QACpG,MAAM,YAAY,GAAG,OAAO,CAAC,CAAC,CAAC,OAAO,CAAC,IAAI,GAAG,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;QAChE,MAAM,aAAa,GAAG,OAAO,CAAC,CAAC,CAAC,OAAO,CAAC,GAAG,GAAG,OAAO,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;QACjE,MAAM,WAAW,GAAG,MAAM,CAAC,CAAC,CAAC,MAAM,CAAC,IAAI,GAAG,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;QAC5D,MAAM,YAAY,GAAG,MAAM,CAAC,CAAC,CAAC,MAAM,CAAC,GAAG,GAAG,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;QAC7D,IAAI,KAAK,GAAG,IAAI,CAAC,GAAG,CAChB,WAAW,CAAC,CAAC,CAAC,IAAI,CAAC,cAAc,CAAC,KAAK,GAAG,CAAC,WAAW,GAAG,YAAY,CAAC,CAAC,CAAC,CAAC,CAAC,EAC1E,YAAY,CAAC,CAAC,CAAC,IAAI,CAAC,cAAc,CAAC,MAAM,GAAG,CAAC,YAAY,GAAG,aAAa,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACpF,KAAK,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,KAAK,CAAC,KAAK,GAAG,GAAG,CAAC,EAAE,GAAG,CAAC,CAAC;QAE/C,IAAI,UAAU,GAAG,KAAK,CAAC;QACvB,OAAO,UAAU,GAAG,KAAK,GAAG,GAAG,EAAE,CAAC;YAChC,IAAI,KAAK,GAAG,IAAI,CAAC;YACjB,IAAI,WAAW,EAAE,CAAC;gBAChB,KAAK,GAAG,KAAK,IAAI,MAAM,CAAC,SAAS,CAAC,CAAC,WAAW,GAAG,WAAW,CAAC,GAAG,UAAU,GAAG,GAAG,CAAC,CAAC;YACpF,CAAC;YACD,IAAI,YAAY,EAAE,CAAC;gBACjB,KAAK,GAAG,KAAK,IAAI,MAAM,CAAC,SAAS,CAAC,CAAC,YAAY,GAAG,YAAY,CAAC,GAAG,UAAU,GAAG,GAAG,CAAC,CAAC;YACtF,CAAC;YACD,IAAI,KAAK,EAAE,CAAC;gBACV,OAAO,UAAU,GAAG,GAAG,CAAC;YAC1B,CAAC;YACD,UAAU,IAAI,CAAC,CAAC;QAClB,CAAC;QACD,OAAO,KAAK,GAAG,GAAG,CAAC;IACrB,CAAC;IAED,oBAAoB,CAAC,KAAa,EAAE,MAAc;QAChD,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC,IAAI,CAAC,iBAAiB,CAAC,KAAK,EAAE,MAAM,CAAC,CAAC,CAAC;QAC9D,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;QACrB,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;IACzB,CAAC;IAEO,cAAc,CAAC,SAAiB,EAAE,iBAA4D;QACpG,GAAG,CAAC,cAAc,CAAC,yBAAyB,CAAC,QAAQ,EAAE,CAAC,oBAAoB,CAAC,SAAS,EAAE,iBAAiB,CAAC,CAAC;IAC7G,CAAC;IAEO,kBAAkB,CACtB,UAAyB,EAAE,MAAc,EAAE,OAAe,EAAE,KAAa,EAAE,iBAAyB,EACpG,MAAe,EAAE,iBAAgE,EACjF,oBAA6B;QAC/B,UAAU,CAAC,KAAK,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC,KAAK,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC,CAAC;QAC7D,UAAU,CAAC,MAAM,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC,KAAK,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC,CAAC;QAE/D,IAAI,SAAS,GAAa,UAAU,CAAC,KAAK,GAAG,MAAM,CAAC,IAAI,GAAG,MAAM,CAAC,KAAK,CAAC;QACxE,IAAI,UAAU,GAAa,UAAU,CAAC,MAAM,GAAG,MAAM,CAAC,GAAG,GAAG,MAAM,CAAC,MAAM,CAAC;QAE1E,MAAM,SAAS,GAAG,MAAM,CAAC,IAAI,CAAC;QAC9B,MAAM,SAAS,GAAG,MAAM,CAAC,GAAG,CAAC;QAC7B,MAAM,sBAAsB,GACxB,iBAAiB,uFAA8D,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;QAE7F,IAAI,CAAC,kBAAkB,GAAG,UAAU,CAAC;QACrC,IAAI,CAAC,yBAAyB,GAAG,iBAAiB,IAAI,MAAM,CAAC,gBAAgB,CAAC;QAC9E,IAAI,CAAC,WAAW,GAAG,IAAI,IAAI,CACvB,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,IAAI,CAAC,cAAc,CAAC,KAAK,GAAG,UAAU,CAAC,KAAK,GAAG,KAAK,CAAC,GAAG,CAAC,CAAC,EAAE,OAAO,CAAC,GAAG,GAAG,KAAK,EAC5F,UAAU,CAAC,KAAK,GAAG,KAAK,EAAE,UAAU,CAAC,MAAM,GAAG,KAAK,CAAC,CAAC;QACzD,IAAI,CAAC,YAAY,GAAG,IAAI,IAAI,CACxB,IAAI,CAAC,WAAW,CAAC,IAAI,GAAG,OAAO,CAAC,IAAI,GAAG,KAAK,EAAE,CAAC,EAAE,CAAC,OAAO,CAAC,IAAI,GAAG,UAAU,CAAC,KAAK,GAAG,OAAO,CAAC,KAAK,CAAC,GAAG,KAAK,EAC1G,CAAC,OAAO,CAAC,GAAG,GAAG,UAAU,CAAC,MAAM,GAAG,OAAO,CAAC,MAAM,CAAC,GAAG,KAAK,CAAC,CAAC;QAChE,IAAI,CAAC,gBAAgB,GAAG,IAAI,IAAI,CAC5B,SAAS,GAAG,KAAK,EAAE,SAAS,GAAG,KAAK,EACpC,IAAI,CAAC,GAAG,CAAC,SAAS,GAAG,KAAK,EAAE,IAAI,CAAC,cAAc,CAAC,KAAK,GAAG,IAAI,CAAC,WAAW,CAAC,IAAI,GAAG,SAAS,GAAG,KAAK,CAAC,EAClG,IAAI,CAAC,GAAG,CAAC,UAAU,GAAG,KAAK,EAAE,IAAI,CAAC,cAAc,CAAC,MAAM,GAAG,IAAI,CAAC,WAAW,CAAC,GAAG,GAAG,SAAS,GAAG,KAAK,CAAC,CAAC,CAAC;QACzG,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;QACpB,MAAM,cAAc,GAAG,IAAI,CAAC,iBAAiB,EAAE,CAAC;QAChD,IAAI,CAAC,cAAc,EAAE,CAAC;YACpB,iGAAiG;YACjG,IAAI,KAAK,KAAK,CAAC,IAAI,IAAI,CAAC,cAAc,CAAC,KAAK,IAAI,UAAU,CAAC,KAAK;gBAC5D,IAAI,CAAC,cAAc,CAAC,MAAM,IAAI,UAAU,CAAC,MAAM,EAAE,CAAC;gBACpD,0GAA0G;gBAC1G,SAAS,GAAG,CAAC,CAAC;gBACd,UAAU,GAAG,CAAC,CAAC;YACjB,CAAC;YACD,IAAI,IAAI,CAAC,gBAAgB,CAAC,KAAK,KAAK,SAAS,GAAG,KAAK,IAAI,IAAI,CAAC,gBAAgB,CAAC,MAAM,KAAK,UAAU,GAAG,KAAK;gBACxG,MAAM,CAAC,SAAS,CAAC,SAAS,GAAG,KAAK,CAAC,IAAI,MAAM,CAAC,SAAS,CAAC,UAAU,GAAG,KAAK,CAAC,EAAE,CAAC;gBAChF,sGAAsG;gBACtG,SAAS,GAAG,CAAC,CAAC;gBACd,UAAU,GAAG,CAAC,CAAC;YACjB,CAAC;QACH,CAAC;QAED,IAAI,CAAC,IAAI,CAAC,eAAe,EAAE,CAAC;YAC1B,OAAO;QACT,CAAC;QAED,IAAI,oBAAoB,EAAE,CAAC;YACzB,KAAK,IAAI,CAAC,eAAe,CAAC,oBAAoB,EAAE,CAAC;QACnD,CAAC;QACD,IAAI,SAAS,IAAI,UAAU,IAAI,MAAM,IAAI,iBAAiB,IAAI,KAAK,KAAK,CAAC,IAAI,iBAAiB,IAAI,cAAc,EAAE,CAAC;YACjH,MAAM,OAAO,GAAuD;gBAClE,KAAK,EAAE,SAAS;gBAChB,MAAM,EAAE,UAAU;gBAClB,iBAAiB;gBACjB,MAAM;gBACN,KAAK;gBACL,WAAW,EAAE,UAAU,CAAC,KAAK;gBAC7B,YAAY,EAAE,UAAU,CAAC,MAAM;gBAC/B,SAAS;gBACT,SAAS;gBACT,kBAAkB,EAAE,IAAI;gBACxB,cAAc,EAAE,SAAS;gBACzB,aAAa,EAAE,SAAS;gBACxB,iBAAiB,EAAE,SAAS;aAC7B,CAAC;YACF,IAAI,cAAc,EAAE,CAAC;gBACnB,OAAO,CAAC,cAAc,GAAG,cAAc,CAAC;gBACxC,OAAO,CAAC,aAAa,GAAG,EAAC,IAAI,4DAA6C,EAAC,CAAC;YAC9E,CAAC;iBAAM,CAAC;gBACN,OAAO,CAAC,aAAa,GAAG,EAAC,IAAI,oEAAiD,EAAC,CAAC;YAClF,CAAC;YACD,IAAI,iBAAiB,EAAE,CAAC;gBACtB,OAAO,CAAC,iBAAiB,GAAG,EAAC,IAAI,EAAE,iBAAiB,EAAE,KAAK,EAAE,sBAAsB,EAAC,CAAC;YACvF,CAAC;YACD,KAAK,IAAI,CAAC,eAAe,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC;QACnD,CAAC;aAAM,CAAC;YACN,KAAK,IAAI,CAAC,eAAe,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;QAChD,CAAC;IACH,CAAC;IAED,aAAa;QACX,MAAM,YAAY,GAAG,IAAI,CAAC,eAAe,CAAC,CAAC,CAAC,IAAI,CAAC,eAAe,CAAC,YAAY,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC;QACvF,IAAI,YAAY,EAAE,CAAC;YACjB,YAAY,CAAC,sBAAsB,CAAC,IAAI,CAAC,CAAC;QAC5C,CAAC;IACH,CAAC;IAED,KAAK,CAAC,iBAAiB,CAAC,QAAiB,EAAE,IAA6B;QACtE,MAAM,kBAAkB,GACpB,IAAI,CAAC,eAAe,CAAC,CAAC,CAAC,IAAI,CAAC,eAAe,CAAC,MAAM,EAAE,CAAC,KAAK,CAAC,GAAG,CAAC,kBAAkB,CAAC,kBAAkB,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC;QACjH,IAAI,CAAC,kBAAkB,EAAE,CAAC;YACxB,OAAO,IAAI,CAAC;QACd,CAAC;QAED,IAAI,cAAc,CAAC;QACnB,IAAI,IAAI,EAAE,CAAC;YACT,cAAc,mEAAkD,CAAC;QACnE,CAAC;aAAM,IAAI,QAAQ,EAAE,CAAC;YACpB,cAAc,kEAAiD,CAAC;QAClE,CAAC;aAAM,CAAC;YACN,cAAc,2EAAsD,CAAC;QACvE,CAAC;QAED,MAAM,YAAY,GAAG,IAAI,CAAC,eAAe,CAAC,CAAC,CAAC,IAAI,CAAC,eAAe,CAAC,YAAY,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC;QACvF,IAAI,YAAY,EAAE,CAAC;YACjB,YAAY,CAAC,2BAA2B,CAAC,KAAK,CAAC,CAAC;QAClD,CAAC;QAED,MAAM,UAAU,GAAG,MAAM,kBAAkB,CAAC,iBAAiB,+DACP,GAAG,EAAE,cAAc,EAAE,IAAI,CAAC,CAAC;QAEjF,MAAM,aAAa,GAAkD;YACnE,KAAK,EAAE,CAAC;YACR,MAAM,EAAE,CAAC;YACT,iBAAiB,EAAE,CAAC;YACpB,MAAM,EAAE,KAAK;SACd,CAAC;QACF,IAAI,QAAQ,IAAI,IAAI,CAAC,eAAe,EAAE,CAAC;YACrC,IAAI,IAAI,CAAC,OAAO,IAAI,IAAI,CAAC,KAAK,EAAE,CAAC;gBAC/B,MAAM,WAAW,GAAG,IAAI,CAAC,OAAO,CAAC,iBAAiB,CAAC,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,CAAC;gBAC3E,aAAa,CAAC,KAAK,GAAG,WAAW,CAAC,KAAK,CAAC;gBACxC,aAAa,CAAC,MAAM,GAAG,WAAW,CAAC,MAAM,CAAC;gBAC1C,MAAM,WAAW,GAAG,IAAI,CAAC,iBAAiB,EAAE,CAAC;gBAC7C,IAAI,WAAW,EAAE,CAAC;oBAChB,kEAAkE;oBAClE,qBAAqB;oBACrB,oGAAoG;oBACpG,aAAa,CAAC,cAAc,GAAG,WAAW,CAAC;gBAC7C,CAAC;YACH,CAAC;iBAAM,CAAC;gBACN,aAAa,CAAC,KAAK,GAAG,CAAC,CAAC;gBACxB,aAAa,CAAC,MAAM,GAAG,CAAC,CAAC;YAC3B,CAAC;YACD,MAAM,IAAI,CAAC,eAAe,CAAC,aAAa,CAAC,aAAa,CAAC,CAAC;QAC1D,CAAC;QACD,IAAI,CAAC,mBAAmB,CAAC,KAAK,CAAC,CAAC;QAChC,OAAO,UAAU,CAAC;IACpB,CAAC;IAEO,UAAU,CAAC,YAAqB,EAAE,MAAe;QACvD,IAAI,CAAC,aAAa,GAAG,YAAY,CAAC;QAClC,IAAI,CAAC,YAAY,GAAG,MAAM,CAAC;QAC3B,KAAK,MAAM,cAAc,IAAI,GAAG,CAAC,aAAa,CAAC,aAAa,CAAC,QAAQ,EAAE,CAAC,MAAM,CAAC,GAAG,CAAC,cAAc,CAAC,cAAc,CAAC,EAAE,CAAC;YAClH,KAAK,cAAc,CAAC,YAAY,CAAC,YAAY,EAAE,MAAM,CAAC,CAAC;QACzD,CAAC;IACH,CAAC;IAEO,qBAAqB,CAAC,YAA2C;QACvE,MAAM,WAAW,GAAG,CAAC,IAAI,CAAC,OAAO,IAAI,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,iBAAiB,CAAC,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC;QACjH,IAAI,WAAW,EAAE,KAAK,EAAE,CAAC;YACvB,YAAY,CAAC,sBAAsB,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;YACvD,OAAO;QACT,CAAC;QAED,YAAY,CAAC,sBAAsB,CAAC,IAAI,CAAC,CAAC;IAC5C,CAAC;IAEO,4BAA4B;QAClC,IAAI,CAAC,IAAI,CAAC,KAAK,EAAE,CAAC;YAChB,MAAM,IAAI,KAAK,CAAC,mDAAmD,CAAC,CAAC;QACvE,CAAC;QACD,QAAQ,IAAI,CAAC,KAAK,CAAC,WAAW,EAAE,CAAC;YAC/B,KAAK,eAAe,CAAC;YACrB,KAAK,QAAQ;gBACX,8EAA6D;YAC/D,KAAK,iBAAiB,CAAC;YACvB,KAAK,UAAU,CAAC;YAChB;gBACE,kFAA+D;QACnE,CAAC;IACH,CAAC;IAEO,iBAAiB;QACvB,IAAI,CAAC,IAAI,CAAC,OAAO,IAAI,CAAC,IAAI,CAAC,KAAK;YAC5B,CAAC,IAAI,CAAC,KAAK,CAAC,WAAW,KAAK,eAAe,IAAI,IAAI,CAAC,KAAK,CAAC,WAAW,KAAK,iBAAiB,CAAC,EAAE,CAAC;YACjG,OAAO,IAAI,CAAC;QACd,CAAC;QAED,MAAM,WAAW,GAAG,IAAI,CAAC,OAAO,CAAC,iBAAiB,CAAC,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,CAAC;QAC3E,IAAI,CAAC,WAAW,EAAE,KAAK,EAAE,CAAC;YACxB,OAAO,IAAI,CAAC;QACd,CAAC;QAED,MAAM,KAAK,GAAG,WAAW,CAAC,KAAK,CAAC;QAChC,OAAO;YACL,WAAW,EAAE,IAAI,CAAC,4BAA4B,EAAE;YAChD,MAAM,EAAE,CAAC,IAAI,CAAC,KAAK,CAAC,WAAW,KAAK,eAAe,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC;YACxE,UAAU,EAAE,CAAC,IAAI,CAAC,KAAK,CAAC,WAAW,KAAK,eAAe,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,CAAC,KAAK,CAAC,MAAM;SACtF,CAAC;IACJ,CAAC;CACF;AAED,MAAM,OAAO,MAAM;IACE;IAAqB;IAAoB;IAAsB;IAAlF,YAAmB,IAAY,EAAS,GAAW,EAAS,KAAa,EAAS,MAAc;QAA7E,SAAI,GAAJ,IAAI,CAAQ;QAAS,QAAG,GAAH,GAAG,CAAQ;QAAS,UAAK,GAAL,KAAK,CAAQ;QAAS,WAAM,GAAN,MAAM,CAAQ;IAChG,CAAC;IAED,OAAO,CAAC,MAAmB;QACzB,OAAO,MAAM,KAAK,IAAI,IAAI,IAAI,CAAC,IAAI,KAAK,MAAM,CAAC,IAAI,IAAI,IAAI,CAAC,GAAG,KAAK,MAAM,CAAC,GAAG,IAAI,IAAI,CAAC,KAAK,KAAK,MAAM,CAAC,KAAK;YACzG,IAAI,CAAC,MAAM,KAAK,MAAM,CAAC,MAAM,CAAC;IACpC,CAAC;CACF;AAED,MAAM,OAAO,IAAI;IACI;IAAqB;IAAoB;IAAsB;IAAlF,YAAmB,IAAY,EAAS,GAAW,EAAS,KAAa,EAAS,MAAc;QAA7E,SAAI,GAAJ,IAAI,CAAQ;QAAS,QAAG,GAAH,GAAG,CAAQ;QAAS,UAAK,GAAL,KAAK,CAAQ;QAAS,WAAM,GAAN,MAAM,CAAQ;IAChG,CAAC;IAED,OAAO,CAAC,IAAe;QACrB,OAAO,IAAI,KAAK,IAAI,IAAI,IAAI,CAAC,IAAI,KAAK,IAAI,CAAC,IAAI,IAAI,IAAI,CAAC,GAAG,KAAK,IAAI,CAAC,GAAG,IAAI,IAAI,CAAC,KAAK,KAAK,IAAI,CAAC,KAAK;YACjG,IAAI,CAAC,MAAM,KAAK,IAAI,CAAC,MAAM,CAAC;IAClC,CAAC;IAED,KAAK,CAAC,KAAa;QACjB,OAAO,IAAI,IAAI,CAAC,IAAI,CAAC,IAAI,GAAG,KAAK,EAAE,IAAI,CAAC,GAAG,GAAG,KAAK,EAAE,IAAI,CAAC,KAAK,GAAG,KAAK,EAAE,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC,CAAC;IAChG,CAAC;IAED,UAAU,CAAC,MAAY;QACrB,OAAO,IAAI,IAAI,CAAC,IAAI,CAAC,IAAI,GAAG,MAAM,CAAC,IAAI,EAAE,IAAI,CAAC,GAAG,GAAG,MAAM,CAAC,GAAG,EAAE,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC;IAC3F,CAAC;IAED,QAAQ,CAAC,MAAY;QACnB,OAAO,IAAI,IAAI,CAAC,IAAI,CAAC,IAAI,GAAG,MAAM,CAAC,IAAI,EAAE,IAAI,CAAC,GAAG,GAAG,MAAM,CAAC,GAAG,EAAE,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC;IAC3F,CAAC;CACF;AAUD,MAAM,CAAN,IAAY,IAMX;AAND,WAAY,IAAI;IACd,+EAA+E;IAC/E,qBAAa,CAAA;IACb,iCAAyB,CAAA;IACzB,yBAAiB,CAAA;IACjB,wDAAwD;AAC1D,CAAC,EANW,IAAI,KAAJ,IAAI,QAMf;AAWD,MAAM,CAAC,MAAM,aAAa,GAAG,EAAE,CAAC;AAChC,MAAM,CAAC,MAAM,aAAa,GAAG,IAAI,CAAC;AAClC,MAAM,CAAC,MAAM,oBAAoB,GAAG,CAAC,CAAC;AACtC,MAAM,CAAC,MAAM,oBAAoB,GAAG,EAAE,CAAC;AACvC,MAAM,CAAC,MAAM,mBAAmB,GAAG,EAAE,CAAC;AAEtC,MAAM,eAAe,GACjB,8HAA8H,CAAC;AACnI,MAAM,sBAAsB,GACxB,GAAG,CAAC,cAAc,CAAC,yBAAyB,CAAC,+BAA+B,CAAC,eAAe,CAAC,CAAC;AAElG,MAAM,8BAA8B,GAAG;IACrC,QAAQ,EAAE,SAAS;IACnB,eAAe,EAAE,KAAK;IACtB,YAAY,EAAE,EAAE;IAChB,KAAK,EAAE,SAAS;IAChB,MAAM,EAAE,IAAI;CACb,CAAC;AACF,MAAM,CAAC,MAAM,wBAAwB,GAAG,CAAC,CAAC","sourcesContent":["// Copyright 2015 The Chromium Authors\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\nimport * as Common from '../../core/common/common.js';\nimport * as Host from '../../core/host/host.js';\nimport * as i18n from '../../core/i18n/i18n.js';\nimport * as SDK from '../../core/sdk/sdk.js';\nimport * as Protocol from '../../generated/protocol.js';\nimport * as Geometry from '../geometry/geometry.js';\n\nimport {\n  type EmulatedDevice,\n  Horizontal,\n  HorizontalSpanned,\n  type Mode,\n  Vertical,\n  VerticalSpanned,\n} from './EmulatedDevices.js';\n\nconst UIStrings = {\n  /**\n   * @description Error message shown in the Devices settings pane when the user enters an empty\n   * width for a custom device.\n   */\n  widthCannotBeEmpty: 'Width cannot be empty.',\n  /**\n   * @description Error message shown in the Devices settings pane when the user enters an invalid\n   * width for a custom device.\n   */\n  widthMustBeANumber: 'Width must be a number.',\n  /**\n   * @description Error message shown in the Devices settings pane when the user has entered a width\n   * for a custom device that is too large.\n   * @example {9999} PH1\n   */\n  widthMustBeLessThanOrEqualToS: 'Width must be less than or equal to {PH1}.',\n  /**\n   * @description Error message shown in the Devices settings pane when the user has entered a width\n   * for a custom device that is too small.\n   * @example {50} PH1\n   */\n  widthMustBeGreaterThanOrEqualToS: 'Width must be greater than or equal to {PH1}.',\n  /**\n   * @description Error message shown in the Devices settings pane when the user enters an empty\n   * height for a custom device.\n   */\n  heightCannotBeEmpty: 'Height cannot be empty.',\n  /**\n   * @description Error message shown in the Devices settings pane when the user enters an invalid\n   * height for a custom device.\n   */\n  heightMustBeANumber: 'Height must be a number.',\n  /**\n   * @description Error message shown in the Devices settings pane when the user has entered a height\n   * for a custom device that is too large.\n   * @example {9999} PH1\n   */\n  heightMustBeLessThanOrEqualToS: 'Height must be less than or equal to {PH1}.',\n  /**\n   * @description Error message shown in the Devices settings pane when the user has entered a height\n   * for a custom device that is too small.\n   * @example {50} PH1\n   */\n  heightMustBeGreaterThanOrEqualTo: 'Height must be greater than or equal to {PH1}.',\n  /**\n   * @description Error message shown in the Devices settings pane when the user enters an invalid\n   * device pixel ratio for a custom device.\n   */\n  devicePixelRatioMustBeANumberOr: 'Device pixel ratio must be a number or blank.',\n  /**\n   * @description Error message shown in the Devices settings pane when the user enters a device\n   * pixel ratio for a custom device that is too large.\n   * @example {10} PH1\n   */\n  devicePixelRatioMustBeLessThanOr: 'Device pixel ratio must be less than or equal to {PH1}.',\n  /**\n   * @description Error message shown in the Devices settings pane when the user enters a device\n   * pixel ratio for a custom device that is too small.\n   * @example {0} PH1\n   */\n  devicePixelRatioMustBeGreater: 'Device pixel ratio must be greater than or equal to {PH1}.',\n} as const;\nconst str_ = i18n.i18n.registerUIStrings('models/emulation/DeviceModeModel.ts', UIStrings);\nconst i18nString = i18n.i18n.getLocalizedString.bind(undefined, str_);\n\nlet deviceModeModelInstance: DeviceModeModel|null;\n\nexport class DeviceModeModel extends Common.ObjectWrapper.ObjectWrapper<EventTypes> implements\n    SDK.TargetManager.SDKModelObserver<SDK.EmulationModel.EmulationModel> {\n  #screenRect: Rect;\n  #visiblePageRect: Rect;\n  #availableSize: Geometry.Size;\n  #preferredSize: Geometry.Size;\n  #initialized: boolean;\n  #appliedDeviceSize: Geometry.Size;\n  #appliedDeviceScaleFactor: number;\n  #appliedUserAgentType: UA;\n  readonly #scaleSetting: Common.Settings.Setting<number>;\n  #scale: number;\n  #widthSetting: Common.Settings.Setting<number>;\n  #heightSetting: Common.Settings.Setting<number>;\n  #uaSetting: Common.Settings.Setting<UA>;\n  readonly #deviceScaleFactorSetting: Common.Settings.Setting<number>;\n  readonly #deviceOutlineSetting: Common.Settings.Setting<boolean>;\n  readonly #toolbarControlsEnabledSetting: Common.Settings.Setting<boolean>;\n  #type: Type;\n  #device: EmulatedDevice|null;\n  #mode: Mode|null;\n  #fitScale: number;\n  #touchEnabled: boolean;\n  #touchMobile: boolean;\n  #emulationModel: SDK.EmulationModel.EmulationModel|null;\n  #onModelAvailable: (() => void)|null;\n  #outlineRect?: Rect;\n\n  private constructor() {\n    super();\n    this.#screenRect = new Rect(0, 0, 1, 1);\n    this.#visiblePageRect = new Rect(0, 0, 1, 1);\n    this.#availableSize = new Geometry.Size(1, 1);\n    this.#preferredSize = new Geometry.Size(1, 1);\n    this.#initialized = false;\n    this.#appliedDeviceSize = new Geometry.Size(1, 1);\n    this.#appliedDeviceScaleFactor = window.devicePixelRatio;\n    this.#appliedUserAgentType = UA.DESKTOP;\n\n    this.#scaleSetting = Common.Settings.Settings.instance().createSetting('emulation.device-scale', 1);\n    // We've used to allow zero before.\n    if (!this.#scaleSetting.get()) {\n      this.#scaleSetting.set(1);\n    }\n    this.#scaleSetting.addChangeListener(this.scaleSettingChanged, this);\n    this.#scale = 1;\n\n    this.#widthSetting = Common.Settings.Settings.instance().createSetting('emulation.device-width', 400);\n    if (this.#widthSetting.get() < MinDeviceSize) {\n      this.#widthSetting.set(MinDeviceSize);\n    }\n    if (this.#widthSetting.get() > MaxDeviceSize) {\n      this.#widthSetting.set(MaxDeviceSize);\n    }\n    this.#widthSetting.addChangeListener(this.widthSettingChanged, this);\n\n    this.#heightSetting = Common.Settings.Settings.instance().createSetting('emulation.device-height', 0);\n    if (this.#heightSetting.get() && this.#heightSetting.get() < MinDeviceSize) {\n      this.#heightSetting.set(MinDeviceSize);\n    }\n    if (this.#heightSetting.get() > MaxDeviceSize) {\n      this.#heightSetting.set(MaxDeviceSize);\n    }\n    this.#heightSetting.addChangeListener(this.heightSettingChanged, this);\n\n    this.#uaSetting = Common.Settings.Settings.instance().createSetting('emulation.device-ua', UA.MOBILE);\n    this.#uaSetting.addChangeListener(this.uaSettingChanged, this);\n    this.#deviceScaleFactorSetting =\n        Common.Settings.Settings.instance().createSetting('emulation.device-scale-factor', 0);\n    this.#deviceScaleFactorSetting.addChangeListener(this.deviceScaleFactorSettingChanged, this);\n\n    this.#deviceOutlineSetting = Common.Settings.Settings.instance().moduleSetting('emulation.show-device-outline');\n    this.#deviceOutlineSetting.addChangeListener(this.deviceOutlineSettingChanged, this);\n\n    this.#toolbarControlsEnabledSetting = Common.Settings.Settings.instance().createSetting(\n        'emulation.toolbar-controls-enabled', true, Common.Settings.SettingStorageType.SESSION);\n\n    this.#type = Type.None;\n    this.#device = null;\n    this.#mode = null;\n    this.#fitScale = 1;\n    this.#touchEnabled = false;\n    this.#touchMobile = false;\n\n    this.#emulationModel = null;\n    this.#onModelAvailable = null;\n    SDK.TargetManager.TargetManager.instance().observeModels(SDK.EmulationModel.EmulationModel, this);\n  }\n\n  static instance(opts?: {forceNew: boolean}): DeviceModeModel {\n    if (!deviceModeModelInstance || opts?.forceNew) {\n      deviceModeModelInstance = new DeviceModeModel();\n    }\n\n    return deviceModeModelInstance;\n  }\n\n  /**\n   * This wraps `instance()` in a try/catch because in some DevTools entry points\n   * (such as worker_app.ts) the Emulation panel is not included and as such\n   * the below code fails; it tries to instantiate the model which requires\n   * reading the value of a setting which has not been registered.\n   * See crbug.com/361515458 for an example bug that this resolves.\n   */\n  static tryInstance(opts?: {forceNew: boolean}): DeviceModeModel|null {\n    try {\n      return this.instance(opts);\n    } catch {\n      return null;\n    }\n  }\n\n  static widthValidator(value: string): {\n    valid: boolean,\n    errorMessage: (string|undefined),\n  } {\n    let valid = false;\n    let errorMessage;\n\n    if (!value) {\n      errorMessage = i18nString(UIStrings.widthCannotBeEmpty);\n    } else if (!/^[\\d]+$/.test(value)) {\n      errorMessage = i18nString(UIStrings.widthMustBeANumber);\n    } else if (Number(value) > MaxDeviceSize) {\n      errorMessage = i18nString(UIStrings.widthMustBeLessThanOrEqualToS, {PH1: MaxDeviceSize});\n    } else if (Number(value) < MinDeviceSize) {\n      errorMessage = i18nString(UIStrings.widthMustBeGreaterThanOrEqualToS, {PH1: MinDeviceSize});\n    } else {\n      valid = true;\n    }\n\n    return {valid, errorMessage};\n  }\n\n  static heightValidator(value: string): {\n    valid: boolean,\n    errorMessage: (string|undefined),\n  } {\n    let valid = false;\n    let errorMessage;\n\n    if (!value) {\n      errorMessage = i18nString(UIStrings.heightCannotBeEmpty);\n    } else if (!/^[\\d]+$/.test(value)) {\n      errorMessage = i18nString(UIStrings.heightMustBeANumber);\n    } else if (Number(value) > MaxDeviceSize) {\n      errorMessage = i18nString(UIStrings.heightMustBeLessThanOrEqualToS, {PH1: MaxDeviceSize});\n    } else if (Number(value) < MinDeviceSize) {\n      errorMessage = i18nString(UIStrings.heightMustBeGreaterThanOrEqualTo, {PH1: MinDeviceSize});\n    } else {\n      valid = true;\n    }\n\n    return {valid, errorMessage};\n  }\n\n  static scaleValidator(value: string): {\n    valid: boolean,\n    errorMessage: (string|undefined),\n  } {\n    let valid = false;\n    let errorMessage;\n    const parsedValue = Number(value.trim());\n\n    if (!value) {\n      valid = true;\n    } else if (Number.isNaN(parsedValue)) {\n      errorMessage = i18nString(UIStrings.devicePixelRatioMustBeANumberOr);\n    } else if (Number(value) > MaxDeviceScaleFactor) {\n      errorMessage = i18nString(UIStrings.devicePixelRatioMustBeLessThanOr, {PH1: MaxDeviceScaleFactor});\n    } else if (Number(value) < MinDeviceScaleFactor) {\n      errorMessage = i18nString(UIStrings.devicePixelRatioMustBeGreater, {PH1: MinDeviceScaleFactor});\n    } else {\n      valid = true;\n    }\n\n    return {valid, errorMessage};\n  }\n\n  get scaleSettingInternal(): Common.Settings.Setting<number> {\n    return this.#scaleSetting;\n  }\n\n  setAvailableSize(availableSize: Geometry.Size, preferredSize: Geometry.Size): void {\n    this.#availableSize = availableSize;\n    this.#preferredSize = preferredSize;\n    this.#initialized = true;\n    this.calculateAndEmulate(false);\n  }\n\n  emulate(type: Type, device: EmulatedDevice|null, mode: Mode|null, scale?: number): void {\n    const resetPageScaleFactor = this.#type !== type || this.#device !== device || this.#mode !== mode;\n    this.#type = type;\n\n    if (type === Type.Device && device && mode) {\n      console.assert(Boolean(device) && Boolean(mode), 'Must pass device and mode for device emulation');\n      this.#mode = mode;\n      this.#device = device;\n      if (this.#initialized) {\n        const orientation = device.orientationByName(mode.orientation);\n        this.#scaleSetting.set(\n            scale ||\n            this.calculateFitScale(orientation.width, orientation.height, this.currentOutline(), this.currentInsets()));\n      }\n    } else {\n      this.#device = null;\n      this.#mode = null;\n    }\n\n    if (type !== Type.None) {\n      Host.userMetrics.actionTaken(Host.UserMetrics.Action.DeviceModeEnabled);\n    }\n    this.calculateAndEmulate(resetPageScaleFactor);\n  }\n\n  setWidth(width: number): void {\n    const max = Math.min(MaxDeviceSize, this.preferredScaledWidth());\n    width = Math.max(Math.min(width, max), 1);\n    this.#widthSetting.set(width);\n  }\n\n  setWidthAndScaleToFit(width: number): void {\n    width = Math.max(Math.min(width, MaxDeviceSize), 1);\n    this.#scaleSetting.set(this.calculateFitScale(width, this.#heightSetting.get()));\n    this.#widthSetting.set(width);\n  }\n\n  setHeight(height: number): void {\n    const max = Math.min(MaxDeviceSize, this.preferredScaledHeight());\n    height = Math.max(Math.min(height, max), 0);\n    if (height === this.preferredScaledHeight()) {\n      height = 0;\n    }\n    this.#heightSetting.set(height);\n  }\n\n  setHeightAndScaleToFit(height: number): void {\n    height = Math.max(Math.min(height, MaxDeviceSize), 0);\n    this.#scaleSetting.set(this.calculateFitScale(this.#widthSetting.get(), height));\n    this.#heightSetting.set(height);\n  }\n\n  setScale(scale: number): void {\n    this.#scaleSetting.set(scale);\n  }\n\n  device(): EmulatedDevice|null {\n    return this.#device;\n  }\n\n  mode(): Mode|null {\n    return this.#mode;\n  }\n\n  type(): Type {\n    return this.#type;\n  }\n\n  screenImage(): string {\n    return (this.#device && this.#mode) ? this.#device.modeImage(this.#mode) : '';\n  }\n\n  outlineImage(): string {\n    return (this.#device && this.#mode && this.#deviceOutlineSetting.get()) ? this.#device.outlineImage(this.#mode) :\n                                                                              '';\n  }\n\n  outlineRect(): Rect|null {\n    return this.#outlineRect || null;\n  }\n\n  screenRect(): Rect {\n    return this.#screenRect;\n  }\n\n  visiblePageRect(): Rect {\n    return this.#visiblePageRect;\n  }\n\n  scale(): number {\n    return this.#scale;\n  }\n\n  fitScale(): number {\n    return this.#fitScale;\n  }\n\n  appliedDeviceSize(): Geometry.Size {\n    return this.#appliedDeviceSize;\n  }\n\n  appliedDeviceScaleFactor(): number {\n    return this.#appliedDeviceScaleFactor;\n  }\n\n  appliedUserAgentType(): UA {\n    return this.#appliedUserAgentType;\n  }\n\n  isFullHeight(): boolean {\n    return !this.#heightSetting.get();\n  }\n\n  isMobile(): boolean {\n    switch (this.#type) {\n      case Type.Device:\n        return this.#device ? this.#device.mobile() : false;\n      case Type.None:\n        return false;\n      case Type.Responsive:\n        return this.#uaSetting.get() === UA.MOBILE || this.#uaSetting.get() === UA.MOBILE_NO_TOUCH;\n    }\n    return false;\n  }\n\n  enabledSetting(): Common.Settings.Setting<boolean> {\n    return Common.Settings.Settings.instance().createSetting('emulation.show-device-mode', false);\n  }\n\n  scaleSetting(): Common.Settings.Setting<number> {\n    return this.#scaleSetting;\n  }\n\n  uaSetting(): Common.Settings.Setting<UA> {\n    return this.#uaSetting;\n  }\n\n  deviceScaleFactorSetting(): Common.Settings.Setting<number> {\n    return this.#deviceScaleFactorSetting;\n  }\n\n  deviceOutlineSetting(): Common.Settings.Setting<boolean> {\n    return this.#deviceOutlineSetting;\n  }\n\n  toolbarControlsEnabledSetting(): Common.Settings.Setting<boolean> {\n    return this.#toolbarControlsEnabledSetting;\n  }\n\n  reset(): void {\n    this.#deviceScaleFactorSetting.set(0);\n    this.#scaleSetting.set(1);\n    this.setWidth(400);\n    this.setHeight(0);\n    this.#uaSetting.set(UA.MOBILE);\n  }\n\n  modelAdded(emulationModel: SDK.EmulationModel.EmulationModel): void {\n    if (emulationModel.target() === SDK.TargetManager.TargetManager.instance().primaryPageTarget() &&\n        emulationModel.supportsDeviceEmulation()) {\n      this.#emulationModel = emulationModel;\n      if (this.#onModelAvailable) {\n        const callback = this.#onModelAvailable;\n        this.#onModelAvailable = null;\n        callback();\n      }\n      const resourceTreeModel = emulationModel.target().model(SDK.ResourceTreeModel.ResourceTreeModel);\n      if (resourceTreeModel) {\n        resourceTreeModel.addEventListener(SDK.ResourceTreeModel.Events.FrameResized, this.onFrameChange, this);\n        resourceTreeModel.addEventListener(SDK.ResourceTreeModel.Events.FrameNavigated, this.onFrameChange, this);\n      }\n    } else {\n      void emulationModel.emulateTouch(this.#touchEnabled, this.#touchMobile);\n    }\n  }\n\n  modelRemoved(emulationModel: SDK.EmulationModel.EmulationModel): void {\n    if (this.#emulationModel === emulationModel) {\n      this.#emulationModel = null;\n    }\n  }\n\n  inspectedURL(): string|null {\n    return this.#emulationModel ? this.#emulationModel.target().inspectedURL() : null;\n  }\n\n  private onFrameChange(): void {\n    const overlayModel = this.#emulationModel ? this.#emulationModel.overlayModel() : null;\n    if (!overlayModel) {\n      return;\n    }\n\n    this.showHingeIfApplicable(overlayModel);\n  }\n\n  private scaleSettingChanged(): void {\n    this.calculateAndEmulate(false);\n  }\n\n  private widthSettingChanged(): void {\n    this.calculateAndEmulate(false);\n  }\n\n  private heightSettingChanged(): void {\n    this.calculateAndEmulate(false);\n  }\n\n  private uaSettingChanged(): void {\n    this.calculateAndEmulate(true);\n  }\n\n  private deviceScaleFactorSettingChanged(): void {\n    this.calculateAndEmulate(false);\n  }\n\n  private deviceOutlineSettingChanged(): void {\n    this.calculateAndEmulate(false);\n  }\n\n  private preferredScaledWidth(): number {\n    return Math.floor(this.#preferredSize.width / (this.#scaleSetting.get() || 1));\n  }\n\n  private preferredScaledHeight(): number {\n    return Math.floor(this.#preferredSize.height / (this.#scaleSetting.get() || 1));\n  }\n\n  private currentOutline(): Insets {\n    let outline: Insets = new Insets(0, 0, 0, 0);\n    if (this.#type !== Type.Device || !this.#device || !this.#mode) {\n      return outline;\n    }\n    const orientation = this.#device.orientationByName(this.#mode.orientation);\n    if (this.#deviceOutlineSetting.get()) {\n      outline = orientation.outlineInsets || outline;\n    }\n    return outline;\n  }\n\n  private currentInsets(): Insets {\n    if (this.#type !== Type.Device || !this.#mode) {\n      return new Insets(0, 0, 0, 0);\n    }\n    return this.#mode.insets;\n  }\n\n  private getScreenOrientationType(): Protocol.Emulation.ScreenOrientationType {\n    if (!this.#mode) {\n      throw new Error('Mode required to get orientation type.');\n    }\n    switch (this.#mode.orientation) {\n      case VerticalSpanned:\n      case Vertical:\n        return Protocol.Emulation.ScreenOrientationType.PortraitPrimary;\n      case HorizontalSpanned:\n      case Horizontal:\n      default:\n        return Protocol.Emulation.ScreenOrientationType.LandscapePrimary;\n    }\n  }\n\n  private calculateAndEmulate(resetPageScaleFactor: boolean): void {\n    if (!this.#emulationModel) {\n      this.#onModelAvailable = this.calculateAndEmulate.bind(this, resetPageScaleFactor);\n    }\n    const mobile = this.isMobile();\n    const overlayModel = this.#emulationModel ? this.#emulationModel.overlayModel() : null;\n    if (overlayModel) {\n      this.showHingeIfApplicable(overlayModel);\n    }\n    if (this.#type === Type.Device && this.#device && this.#mode) {\n      const orientation = this.#device.orientationByName(this.#mode.orientation);\n      const outline = this.currentOutline();\n      const insets = this.currentInsets();\n      this.#fitScale = this.calculateFitScale(orientation.width, orientation.height, outline, insets);\n      if (mobile) {\n        this.#appliedUserAgentType = this.#device.touch() ? UA.MOBILE : UA.MOBILE_NO_TOUCH;\n      } else {\n        this.#appliedUserAgentType = this.#device.touch() ? UA.DESKTOP_TOUCH : UA.DESKTOP;\n      }\n      this.applyDeviceMetrics(\n          new Geometry.Size(orientation.width, orientation.height), insets, outline, this.#scaleSetting.get(),\n          this.#device.deviceScaleFactor, mobile, this.getScreenOrientationType(), resetPageScaleFactor);\n      this.applyUserAgent(this.#device.userAgent, this.#device.userAgentMetadata);\n      this.applyTouch(this.#device.touch(), mobile);\n    } else if (this.#type === Type.None) {\n      this.#fitScale = this.calculateFitScale(this.#availableSize.width, this.#availableSize.height);\n      this.#appliedUserAgentType = UA.DESKTOP;\n      this.applyDeviceMetrics(\n          this.#availableSize, new Insets(0, 0, 0, 0), new Insets(0, 0, 0, 0), 1, 0, mobile, null,\n          resetPageScaleFactor);\n      this.applyUserAgent('', null);\n      this.applyTouch(false, false);\n    } else if (this.#type === Type.Responsive) {\n      let screenWidth = this.#widthSetting.get();\n      if (!screenWidth || screenWidth > this.preferredScaledWidth()) {\n        screenWidth = this.preferredScaledWidth();\n      }\n      let screenHeight = this.#heightSetting.get();\n      if (!screenHeight || screenHeight > this.preferredScaledHeight()) {\n        screenHeight = this.preferredScaledHeight();\n      }\n      const defaultDeviceScaleFactor = mobile ? defaultMobileScaleFactor : 0;\n      this.#fitScale = this.calculateFitScale(this.#widthSetting.get(), this.#heightSetting.get());\n      this.#appliedUserAgentType = this.#uaSetting.get();\n      this.applyDeviceMetrics(\n          new Geometry.Size(screenWidth, screenHeight), new Insets(0, 0, 0, 0), new Insets(0, 0, 0, 0),\n          this.#scaleSetting.get(), this.#deviceScaleFactorSetting.get() || defaultDeviceScaleFactor, mobile,\n          screenHeight >= screenWidth ? Protocol.Emulation.ScreenOrientationType.PortraitPrimary :\n                                        Protocol.Emulation.ScreenOrientationType.LandscapePrimary,\n          resetPageScaleFactor);\n      this.applyUserAgent(mobile ? defaultMobileUserAgent : '', mobile ? defaultMobileUserAgentMetadata : null);\n      this.applyTouch(\n          this.#uaSetting.get() === UA.DESKTOP_TOUCH || this.#uaSetting.get() === UA.MOBILE,\n          this.#uaSetting.get() === UA.MOBILE);\n    }\n\n    if (overlayModel) {\n      overlayModel.setShowViewportSizeOnResize(this.#type === Type.None);\n    }\n    this.dispatchEventToListeners(Events.UPDATED);\n  }\n\n  private calculateFitScale(screenWidth: number, screenHeight: number, outline?: Insets, insets?: Insets): number {\n    const outlineWidth = outline ? outline.left + outline.right : 0;\n    const outlineHeight = outline ? outline.top + outline.bottom : 0;\n    const insetsWidth = insets ? insets.left + insets.right : 0;\n    const insetsHeight = insets ? insets.top + insets.bottom : 0;\n    let scale = Math.min(\n        screenWidth ? this.#preferredSize.width / (screenWidth + outlineWidth) : 1,\n        screenHeight ? this.#preferredSize.height / (screenHeight + outlineHeight) : 1);\n    scale = Math.min(Math.floor(scale * 100), 100);\n\n    let sharpScale = scale;\n    while (sharpScale > scale * 0.7) {\n      let sharp = true;\n      if (screenWidth) {\n        sharp = sharp && Number.isInteger((screenWidth - insetsWidth) * sharpScale / 100);\n      }\n      if (screenHeight) {\n        sharp = sharp && Number.isInteger((screenHeight - insetsHeight) * sharpScale / 100);\n      }\n      if (sharp) {\n        return sharpScale / 100;\n      }\n      sharpScale -= 1;\n    }\n    return scale / 100;\n  }\n\n  setSizeAndScaleToFit(width: number, height: number): void {\n    this.#scaleSetting.set(this.calculateFitScale(width, height));\n    this.setWidth(width);\n    this.setHeight(height);\n  }\n\n  private applyUserAgent(userAgent: string, userAgentMetadata: Protocol.Emulation.UserAgentMetadata|null): void {\n    SDK.NetworkManager.MultitargetNetworkManager.instance().setUserAgentOverride(userAgent, userAgentMetadata);\n  }\n\n  private applyDeviceMetrics(\n      screenSize: Geometry.Size, insets: Insets, outline: Insets, scale: number, deviceScaleFactor: number,\n      mobile: boolean, screenOrientation: Protocol.Emulation.ScreenOrientationType|null,\n      resetPageScaleFactor: boolean): void {\n    screenSize.width = Math.max(1, Math.floor(screenSize.width));\n    screenSize.height = Math.max(1, Math.floor(screenSize.height));\n\n    let pageWidth: 0|number = screenSize.width - insets.left - insets.right;\n    let pageHeight: 0|number = screenSize.height - insets.top - insets.bottom;\n\n    const positionX = insets.left;\n    const positionY = insets.top;\n    const screenOrientationAngle =\n        screenOrientation === Protocol.Emulation.ScreenOrientationType.LandscapePrimary ? 90 : 0;\n\n    this.#appliedDeviceSize = screenSize;\n    this.#appliedDeviceScaleFactor = deviceScaleFactor || window.devicePixelRatio;\n    this.#screenRect = new Rect(\n        Math.max(0, (this.#availableSize.width - screenSize.width * scale) / 2), outline.top * scale,\n        screenSize.width * scale, screenSize.height * scale);\n    this.#outlineRect = new Rect(\n        this.#screenRect.left - outline.left * scale, 0, (outline.left + screenSize.width + outline.right) * scale,\n        (outline.top + screenSize.height + outline.bottom) * scale);\n    this.#visiblePageRect = new Rect(\n        positionX * scale, positionY * scale,\n        Math.min(pageWidth * scale, this.#availableSize.width - this.#screenRect.left - positionX * scale),\n        Math.min(pageHeight * scale, this.#availableSize.height - this.#screenRect.top - positionY * scale));\n    this.#scale = scale;\n    const displayFeature = this.getDisplayFeature();\n    if (!displayFeature) {\n      // When sending displayFeature, we cannot use the optimization below due to backend restrictions.\n      if (scale === 1 && this.#availableSize.width >= screenSize.width &&\n          this.#availableSize.height >= screenSize.height) {\n        // When we have enough space, no page size override is required. This will speed things up and remove lag.\n        pageWidth = 0;\n        pageHeight = 0;\n      }\n      if (this.#visiblePageRect.width === pageWidth * scale && this.#visiblePageRect.height === pageHeight * scale &&\n          Number.isInteger(pageWidth * scale) && Number.isInteger(pageHeight * scale)) {\n        // When we only have to apply scale, do not resize the page. This will speed things up and remove lag.\n        pageWidth = 0;\n        pageHeight = 0;\n      }\n    }\n\n    if (!this.#emulationModel) {\n      return;\n    }\n\n    if (resetPageScaleFactor) {\n      void this.#emulationModel.resetPageScaleFactor();\n    }\n    if (pageWidth || pageHeight || mobile || deviceScaleFactor || scale !== 1 || screenOrientation || displayFeature) {\n      const metrics: Protocol.Emulation.SetDeviceMetricsOverrideRequest = {\n        width: pageWidth,\n        height: pageHeight,\n        deviceScaleFactor,\n        mobile,\n        scale,\n        screenWidth: screenSize.width,\n        screenHeight: screenSize.height,\n        positionX,\n        positionY,\n        dontSetVisibleSize: true,\n        displayFeature: undefined,\n        devicePosture: undefined,\n        screenOrientation: undefined,\n      };\n      if (displayFeature) {\n        metrics.displayFeature = displayFeature;\n        metrics.devicePosture = {type: Protocol.Emulation.DevicePostureType.Folded};\n      } else {\n        metrics.devicePosture = {type: Protocol.Emulation.DevicePostureType.Continuous};\n      }\n      if (screenOrientation) {\n        metrics.screenOrientation = {type: screenOrientation, angle: screenOrientationAngle};\n      }\n      void this.#emulationModel.emulateDevice(metrics);\n    } else {\n      void this.#emulationModel.emulateDevice(null);\n    }\n  }\n\n  exitHingeMode(): void {\n    const overlayModel = this.#emulationModel ? this.#emulationModel.overlayModel() : null;\n    if (overlayModel) {\n      overlayModel.showHingeForDualScreen(null);\n    }\n  }\n\n  async captureScreenshot(fullSize: boolean, clip?: Protocol.Page.Viewport): Promise<string|null> {\n    const screenCaptureModel =\n        this.#emulationModel ? this.#emulationModel.target().model(SDK.ScreenCaptureModel.ScreenCaptureModel) : null;\n    if (!screenCaptureModel) {\n      return null;\n    }\n\n    let screenshotMode;\n    if (clip) {\n      screenshotMode = SDK.ScreenCaptureModel.ScreenshotMode.FROM_CLIP;\n    } else if (fullSize) {\n      screenshotMode = SDK.ScreenCaptureModel.ScreenshotMode.FULLPAGE;\n    } else {\n      screenshotMode = SDK.ScreenCaptureModel.ScreenshotMode.FROM_VIEWPORT;\n    }\n\n    const overlayModel = this.#emulationModel ? this.#emulationModel.overlayModel() : null;\n    if (overlayModel) {\n      overlayModel.setShowViewportSizeOnResize(false);\n    }\n\n    const screenshot = await screenCaptureModel.captureScreenshot(\n        Protocol.Page.CaptureScreenshotRequestFormat.Png, 100, screenshotMode, clip);\n\n    const deviceMetrics: Protocol.Page.SetDeviceMetricsOverrideRequest = {\n      width: 0,\n      height: 0,\n      deviceScaleFactor: 0,\n      mobile: false,\n    };\n    if (fullSize && this.#emulationModel) {\n      if (this.#device && this.#mode) {\n        const orientation = this.#device.orientationByName(this.#mode.orientation);\n        deviceMetrics.width = orientation.width;\n        deviceMetrics.height = orientation.height;\n        const dispFeature = this.getDisplayFeature();\n        if (dispFeature) {\n          // @ts-expect-error: displayFeature isn't in protocol.ts but is an\n          // experimental flag:\n          // https://chromedevtools.github.io/devtools-protocol/tot/Emulation/#method-setDeviceMetricsOverride\n          deviceMetrics.displayFeature = dispFeature;\n        }\n      } else {\n        deviceMetrics.width = 0;\n        deviceMetrics.height = 0;\n      }\n      await this.#emulationModel.emulateDevice(deviceMetrics);\n    }\n    this.calculateAndEmulate(false);\n    return screenshot;\n  }\n\n  private applyTouch(touchEnabled: boolean, mobile: boolean): void {\n    this.#touchEnabled = touchEnabled;\n    this.#touchMobile = mobile;\n    for (const emulationModel of SDK.TargetManager.TargetManager.instance().models(SDK.EmulationModel.EmulationModel)) {\n      void emulationModel.emulateTouch(touchEnabled, mobile);\n    }\n  }\n\n  private showHingeIfApplicable(overlayModel: SDK.OverlayModel.OverlayModel): void {\n    const orientation = (this.#device && this.#mode) ? this.#device.orientationByName(this.#mode.orientation) : null;\n    if (orientation?.hinge) {\n      overlayModel.showHingeForDualScreen(orientation.hinge);\n      return;\n    }\n\n    overlayModel.showHingeForDualScreen(null);\n  }\n\n  private getDisplayFeatureOrientation(): Protocol.Emulation.DisplayFeatureOrientation {\n    if (!this.#mode) {\n      throw new Error('Mode required to get display feature orientation.');\n    }\n    switch (this.#mode.orientation) {\n      case VerticalSpanned:\n      case Vertical:\n        return Protocol.Emulation.DisplayFeatureOrientation.Vertical;\n      case HorizontalSpanned:\n      case Horizontal:\n      default:\n        return Protocol.Emulation.DisplayFeatureOrientation.Horizontal;\n    }\n  }\n\n  private getDisplayFeature(): Protocol.Emulation.DisplayFeature|null {\n    if (!this.#device || !this.#mode ||\n        (this.#mode.orientation !== VerticalSpanned && this.#mode.orientation !== HorizontalSpanned)) {\n      return null;\n    }\n\n    const orientation = this.#device.orientationByName(this.#mode.orientation);\n    if (!orientation?.hinge) {\n      return null;\n    }\n\n    const hinge = orientation.hinge;\n    return {\n      orientation: this.getDisplayFeatureOrientation(),\n      offset: (this.#mode.orientation === VerticalSpanned) ? hinge.x : hinge.y,\n      maskLength: (this.#mode.orientation === VerticalSpanned) ? hinge.width : hinge.height,\n    };\n  }\n}\n\nexport class Insets {\n  constructor(public left: number, public top: number, public right: number, public bottom: number) {\n  }\n\n  isEqual(insets: Insets|null): boolean {\n    return insets !== null && this.left === insets.left && this.top === insets.top && this.right === insets.right &&\n        this.bottom === insets.bottom;\n  }\n}\n\nexport class Rect {\n  constructor(public left: number, public top: number, public width: number, public height: number) {\n  }\n\n  isEqual(rect: Rect|null): boolean {\n    return rect !== null && this.left === rect.left && this.top === rect.top && this.width === rect.width &&\n        this.height === rect.height;\n  }\n\n  scale(scale: number): Rect {\n    return new Rect(this.left * scale, this.top * scale, this.width * scale, this.height * scale);\n  }\n\n  relativeTo(origin: Rect): Rect {\n    return new Rect(this.left - origin.left, this.top - origin.top, this.width, this.height);\n  }\n\n  rebaseTo(origin: Rect): Rect {\n    return new Rect(this.left + origin.left, this.top + origin.top, this.width, this.height);\n  }\n}\n\nexport const enum Events {\n  UPDATED = 'Updated',\n}\n\nexport interface EventTypes {\n  [Events.UPDATED]: void;\n}\n\nexport enum Type {\n  /* eslint-disable @typescript-eslint/naming-convention -- Used by web_tests. */\n  None = 'None',\n  Responsive = 'Responsive',\n  Device = 'Device',\n  /* eslint-enable @typescript-eslint/naming-convention */\n}\n\nexport const enum UA {\n  // TODO(crbug.com/1136655): This enum is used for both display and code functionality.\n  // we should refactor this so localization of these strings only happens for user display.\n  MOBILE = 'Mobile',\n  MOBILE_NO_TOUCH = 'Mobile (no touch)',\n  DESKTOP = 'Desktop',\n  DESKTOP_TOUCH = 'Desktop (touch)',\n}\n\nexport const MinDeviceSize = 50;\nexport const MaxDeviceSize = 9999;\nexport const MinDeviceScaleFactor = 0;\nexport const MaxDeviceScaleFactor = 10;\nexport const MaxDeviceNameLength = 50;\n\nconst mobileUserAgent =\n    'Mozilla/5.0 (Linux; Android 6.0; Nexus 5 Build/MRA58N) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/%s Mobile Safari/537.36';\nconst defaultMobileUserAgent =\n    SDK.NetworkManager.MultitargetNetworkManager.patchUserAgentWithChromeVersion(mobileUserAgent);\n\nconst defaultMobileUserAgentMetadata = {\n  platform: 'Android',\n  platformVersion: '6.0',\n  architecture: '',\n  model: 'Nexus 5',\n  mobile: true,\n};\nexport const defaultMobileScaleFactor = 2;\n"]}