{"version":3,"file":"Prototypes.js","sourceRoot":"","sources":["../../../../../../front_end/models/greendev/Prototypes.ts"],"names":[],"mappings":"AAAA,sCAAsC;AACtC,yEAAyE;AACzE,6BAA6B;AAE7B,OAAO,KAAK,MAAM,MAAM,6BAA6B,CAAC;AACtD,OAAO,KAAK,IAAI,MAAM,yBAAyB,CAAC;AAEhD,IAAI,QAAQ,GAAoB,IAAI,CAAC;AASrC,MAAM,OAAO,UAAU;IACrB;IACA,CAAC;IAED,MAAM,CAAC,QAAQ;QACb,IAAI,QAAQ,EAAE,CAAC;YACb,OAAO,QAAQ,CAAC;QAClB,CAAC;QACD,QAAQ,GAAG,IAAI,UAAU,EAAE,CAAC;QAC5B,OAAO,QAAQ,CAAC;IAClB,CAAC;IAED;;OAEG;IACH,SAAS,CAAC,OAA+B;QACvC,MAAM,mBAAmB,GAAG,OAAO,CAAC,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC,kBAAkB,EAAE,OAAO,CAAC,CAAC;QAEzF,OAAO,mBAAmB,IAAI,IAAI,CAAC,QAAQ,EAAE,CAAC,OAAO,CAAC,CAAC,GAAG,EAAE,CAAC;IAC/D,CAAC;IAED,QAAQ;QACN,MAAM,QAAQ,GAAG,MAAM,CAAC,QAAQ,CAAC,QAAQ,CAAC,QAAQ,EAAE,CAAC;QACrD,MAAM,gBAAgB,GAClB,QAAQ,CAAC,aAAa,CAAC,qCAAqC,EAAE,KAAK,yDAA2C,CAAC;QAEnH,MAAM,aAAa,GACf,QAAQ,CAAC,aAAa,CAAC,iCAAiC,EAAE,KAAK,yDAA2C,CAAC;QAE/G,MAAM,aAAa,GAAG,QAAQ,CAAC,aAAa,CACxC,iCAAiC,EACjC,KAAK,yDAER,CAAC;QAEF,MAAM,cAAc,GAChB,QAAQ,CAAC,aAAa,CAAC,kCAAkC,EAAE,KAAK,yDAA2C,CAAC;QAChH,OAAO,EAAC,gBAAgB,EAAE,aAAa,EAAE,aAAa,EAAE,cAAc,EAAC,CAAC;IAC1E,CAAC;CACF","sourcesContent":["// Copyright 2025 The Chromium Authors\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\nimport * as Common from '../../core/common/common.js';\nimport * as Root from '../../core/root/root.js';\n\nlet instance: Prototypes|null = null;\n\nexport interface GreenDevSettings {\n  inDevToolsFloaty: Common.Settings.Setting<boolean>;\n  inlineWidgets: Common.Settings.Setting<boolean>;\n  artifactViewer: Common.Settings.Setting<boolean>;\n  aiAnnotations: Common.Settings.Setting<boolean>;\n}\n\nexport class Prototypes {\n  private constructor() {\n  }\n\n  static instance(): Prototypes {\n    if (instance) {\n      return instance;\n    }\n    instance = new Prototypes();\n    return instance;\n  }\n\n  /**\n   * Returns true if the specific setting is turned on AND the GreenDev flag is enabled\n   */\n  isEnabled(setting: keyof GreenDevSettings): boolean {\n    const greendevFlagEnabled = Boolean(Root.Runtime.hostConfig.devToolsGreenDevUi?.enabled);\n\n    return greendevFlagEnabled && this.settings()[setting].get();\n  }\n\n  settings(): Readonly<GreenDevSettings> {\n    const settings = Common.Settings.Settings.instance();\n    const inDevToolsFloaty =\n        settings.createSetting('greendev-in-devtools-floaty-enabled', false, Common.Settings.SettingStorageType.LOCAL);\n\n    const inlineWidgets =\n        settings.createSetting('greendev-inline-widgets-enabled', false, Common.Settings.SettingStorageType.LOCAL);\n\n    const aiAnnotations = settings.createSetting(\n        'greendev-ai-annotations-enabled',\n        false,\n        Common.Settings.SettingStorageType.LOCAL,\n    );\n\n    const artifactViewer =\n        settings.createSetting('greendev-artifact-viewer-enabled', false, Common.Settings.SettingStorageType.LOCAL);\n    return {inDevToolsFloaty, inlineWidgets, aiAnnotations, artifactViewer};\n  }\n}\n"]}