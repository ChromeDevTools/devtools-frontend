{"version":3,"file":"UISourceCode.js","sourceRoot":"","sources":["../../../../../../front_end/models/workspace/UISourceCode.ts"],"names":[],"mappings":"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","sourcesContent":["// Copyright 2011 The Chromium Authors\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\n/* eslint-disable @typescript-eslint/no-explicit-any */\n\nimport * as Common from '../../core/common/common.js';\nimport * as i18n from '../../core/i18n/i18n.js';\nimport * as Platform from '../../core/platform/platform.js';\nimport * as TextUtils from '../text_utils/text_utils.js';\n\nimport {IgnoreListManager} from './IgnoreListManager.js';\nimport {Events as WorkspaceImplEvents, type Project} from './WorkspaceImpl.js';\n\nconst UIStrings = {\n  /**\n   * @description Text for the index of something\n   */\n  index: '(index)',\n  /**\n   * @description Text in UISource Code of the DevTools local workspace\n   */\n  thisFileWasChangedExternally: 'This file was changed externally. Would you like to reload it?',\n} as const;\nconst str_ = i18n.i18n.registerUIStrings('models/workspace/UISourceCode.ts', UIStrings);\nconst i18nString = i18n.i18n.getLocalizedString.bind(undefined, str_);\n\nexport class UISourceCode extends Common.ObjectWrapper.ObjectWrapper<EventTypes> implements\n    TextUtils.ContentProvider.ContentProvider {\n  readonly #origin: Platform.DevToolsPath.UrlString;\n  readonly #parentURL: Platform.DevToolsPath.UrlString;\n  #project: Project;\n  #url: Platform.DevToolsPath.UrlString;\n  #name: string;\n  #contentType: Common.ResourceType.ResourceType;\n  #requestContentPromise: Promise<TextUtils.ContentData.ContentDataOrError>|null = null;\n  #decorations = new Map<string, any>();\n  #formattedDecorations = new Map<string, any>();\n  #hasCommits = false;\n  #prettied = false;\n  #messages: Set<Message>|null = null;\n  #content: TextUtils.ContentData.ContentDataOrError|null = null;\n  #forceLoadOnCheckContent = false;\n  #checkingContent = false;\n  #lastAcceptedContent: string|null = null;\n  #workingCopy: string|null = null;\n  #workingCopyGetter: (() => string)|null = null;\n  #disableEdit = false;\n  #contentEncoded: boolean|undefined;\n  #isKnownThirdParty = false;\n  #isUnconditionallyIgnoreListed = false;\n  #containsAiChanges = false;\n\n  constructor(project: Project, url: Platform.DevToolsPath.UrlString, contentType: Common.ResourceType.ResourceType) {\n    super();\n    this.#project = project;\n    this.#url = url;\n\n    const parsedURL = Common.ParsedURL.ParsedURL.fromString(url);\n    if (parsedURL) {\n      this.#origin = parsedURL.securityOrigin();\n      this.#parentURL = Common.ParsedURL.ParsedURL.concatenate(this.#origin, parsedURL.folderPathComponents);\n      if (parsedURL.queryParams && !(parsedURL.lastPathComponent && contentType.isFromSourceMap())) {\n        // If there is a query param, display it like a URL. Unless it is from a source map,\n        // in which case the query param is probably a hash that is best left hidden.\n        this.#name = parsedURL.lastPathComponent + '?' + parsedURL.queryParams;\n      } else {\n        // file name looks best decoded\n        try {\n          this.#name = decodeURIComponent(parsedURL.lastPathComponent);\n        } catch {\n          // Decoding might fail.\n          this.#name = parsedURL.lastPathComponent;\n        }\n      }\n    } else {\n      this.#origin = Platform.DevToolsPath.EmptyUrlString;\n      this.#parentURL = Platform.DevToolsPath.EmptyUrlString;\n      this.#name = url;\n    }\n\n    this.#contentType = contentType;\n  }\n\n  requestMetadata(): Promise<UISourceCodeMetadata|null> {\n    return this.#project.requestMetadata(this);\n  }\n\n  name(): string {\n    return this.#name;\n  }\n\n  mimeType(): string {\n    return this.#project.mimeType(this);\n  }\n\n  url(): Platform.DevToolsPath.UrlString {\n    return this.#url;\n  }\n\n  // Identifier used for deduplicating scripts that are considered by the\n  // DevTools UI to be the same script. For now this is just the url but this\n  // is likely to change in the future.\n  canonicalScriptId(): string {\n    return `${this.#contentType.name()},${this.#url}`;\n  }\n\n  parentURL(): Platform.DevToolsPath.UrlString {\n    return this.#parentURL;\n  }\n\n  origin(): Platform.DevToolsPath.UrlString {\n    return this.#origin;\n  }\n\n  fullDisplayName(): string {\n    return this.#project.fullDisplayName(this);\n  }\n\n  displayName(skipTrim?: boolean): string {\n    if (!this.#name) {\n      return i18nString(UIStrings.index);\n    }\n    const name = this.#name;\n    return skipTrim ? name : Platform.StringUtilities.trimEndWithMaxLength(name, 100);\n  }\n\n  canRename(): boolean {\n    return this.#project.canRename();\n  }\n\n  rename(newName: Platform.DevToolsPath.RawPathString): Promise<boolean> {\n    const {resolve, promise} = Promise.withResolvers<boolean>();\n    this.#project.rename(this, newName, innerCallback.bind(this));\n    return promise;\n\n    function innerCallback(\n        this: UISourceCode, success: boolean, newName?: string, newURL?: Platform.DevToolsPath.UrlString,\n        newContentType?: Common.ResourceType.ResourceType): void {\n      if (success) {\n        this.#updateName(\n            newName as Platform.DevToolsPath.RawPathString, newURL as Platform.DevToolsPath.UrlString,\n            newContentType as Common.ResourceType.ResourceType);\n      }\n      resolve(success);\n    }\n  }\n\n  remove(): void {\n    this.#project.deleteFile(this);\n  }\n\n  #updateName(\n      name: Platform.DevToolsPath.RawPathString, url: Platform.DevToolsPath.UrlString,\n      contentType?: Common.ResourceType.ResourceType): void {\n    const oldURL = this.#url;\n    this.#name = name;\n    if (url) {\n      this.#url = url;\n    } else {\n      this.#url = Common.ParsedURL.ParsedURL.relativePathToUrlString(name, oldURL);\n    }\n    if (contentType) {\n      this.#contentType = contentType;\n    }\n    this.dispatchEventToListeners(Events.TitleChanged, this);\n    this.project().workspace().dispatchEventToListeners(\n        WorkspaceImplEvents.UISourceCodeRenamed, {oldURL, uiSourceCode: this});\n  }\n\n  contentURL(): Platform.DevToolsPath.UrlString {\n    return this.url();\n  }\n\n  contentType(): Common.ResourceType.ResourceType {\n    return this.#contentType;\n  }\n\n  project(): Project {\n    return this.#project;\n  }\n\n  requestContentData({cachedWasmOnly}: {cachedWasmOnly?: boolean} = {}):\n      Promise<TextUtils.ContentData.ContentDataOrError> {\n    if (this.#requestContentPromise) {\n      return this.#requestContentPromise;\n    }\n\n    if (this.#content) {\n      return Promise.resolve(this.#content);\n    }\n\n    if (cachedWasmOnly && this.mimeType() === 'application/wasm') {\n      return Promise.resolve(new TextUtils.WasmDisassembly.WasmDisassembly([], [], []));\n    }\n\n    this.#requestContentPromise = this.#requestContent();\n    return this.#requestContentPromise;\n  }\n\n  async #requestContent(): Promise<TextUtils.ContentData.ContentDataOrError> {\n    if (this.#content) {\n      throw new Error('Called UISourceCode#requestContentImpl even though content is available for ' + this.#url);\n    }\n\n    try {\n      this.#content = await this.#project.requestFileContent(this);\n    } catch (err) {\n      this.#content = {error: err ? String(err) : ''};\n    }\n\n    return this.#content;\n  }\n\n  #decodeContent(content: TextUtils.ContentProvider.DeferredContent|null): string|null {\n    if (!content) {\n      return null;\n    }\n    return content.isEncoded && content.content ? window.atob(content.content) : content.content;\n  }\n\n  /** Only used to compare whether content changed */\n  #unsafeDecodeContentData(content: TextUtils.ContentData.ContentDataOrError|null): string|null {\n    if (!content || TextUtils.ContentData.ContentData.isError(content)) {\n      return null;\n    }\n    return content.createdFromBase64 ? window.atob(content.base64) : content.text;\n  }\n\n  async checkContentUpdated(): Promise<void> {\n    if (!this.#content && !this.#forceLoadOnCheckContent) {\n      return;\n    }\n\n    if (!this.#project.canSetFileContent() || this.#checkingContent) {\n      return;\n    }\n\n    this.#checkingContent = true;\n    const updatedContent =\n        TextUtils.ContentData.ContentData.asDeferredContent(await this.#project.requestFileContent(this));\n    if ('error' in updatedContent) {\n      return;\n    }\n    this.#checkingContent = false;\n    if (updatedContent.content === null) {\n      const workingCopy = this.workingCopy();\n      this.#contentCommitted('', false);\n      this.setWorkingCopy(workingCopy);\n      return;\n    }\n    if (this.#lastAcceptedContent === updatedContent.content) {\n      return;\n    }\n\n    if (this.#unsafeDecodeContentData(this.#content) === this.#decodeContent(updatedContent)) {\n      this.#lastAcceptedContent = null;\n      return;\n    }\n\n    if (!this.isDirty() || this.#workingCopy === updatedContent.content) {\n      this.#contentCommitted(updatedContent.content, false);\n      return;\n    }\n\n    await Common.Revealer.reveal(this);\n\n    // Make sure we are in the next frame before stopping the world with confirm\n    await new Promise(resolve => window.setTimeout(resolve, 0));\n\n    const shouldUpdate = window.confirm(i18nString(UIStrings.thisFileWasChangedExternally));\n    if (shouldUpdate) {\n      this.#contentCommitted(updatedContent.content, false);\n    } else {\n      this.#lastAcceptedContent = updatedContent.content;\n    }\n  }\n\n  forceLoadOnCheckContent(): void {\n    this.#forceLoadOnCheckContent = true;\n  }\n\n  #commitContent(content: string): void {\n    if (this.#project.canSetFileContent()) {\n      void this.#project.setFileContent(this, content, false);\n    }\n    this.#contentCommitted(content, true);\n  }\n\n  #contentCommitted(content: string, committedByUser: boolean): void {\n    this.#lastAcceptedContent = null;\n    this.#content = new TextUtils.ContentData.ContentData(content, Boolean(this.#contentEncoded), this.mimeType());\n    this.#requestContentPromise = null;\n\n    this.#hasCommits = true;\n\n    this.#resetWorkingCopy();\n    const data = {uiSourceCode: this, content, encoded: this.#contentEncoded};\n    this.dispatchEventToListeners(Events.WorkingCopyCommitted, data);\n    this.#project.workspace().dispatchEventToListeners(WorkspaceImplEvents.WorkingCopyCommitted, data);\n    if (committedByUser) {\n      this.#project.workspace().dispatchEventToListeners(WorkspaceImplEvents.WorkingCopyCommittedByUser, data);\n    }\n  }\n\n  addRevision(content: string): void {\n    this.#commitContent(content);\n  }\n\n  hasCommits(): boolean {\n    return this.#hasCommits;\n  }\n\n  workingCopy(): string {\n    return this.workingCopyContent().content || '';\n  }\n\n  workingCopyContent(): TextUtils.ContentProvider.DeferredContent {\n    return this.workingCopyContentData().asDeferedContent();\n  }\n\n  workingCopyContentData(): TextUtils.ContentData.ContentData {\n    if (this.#workingCopyGetter) {\n      this.#workingCopy = this.#workingCopyGetter();\n      this.#workingCopyGetter = null;\n    }\n    const contentData = this.#content ? TextUtils.ContentData.ContentData.contentDataOrEmpty(this.#content) :\n                                        TextUtils.ContentData.EMPTY_TEXT_CONTENT_DATA;\n    if (this.#workingCopy !== null) {\n      return new TextUtils.ContentData.ContentData(this.#workingCopy, /* isBase64 */ false, contentData.mimeType);\n    }\n    return contentData;\n  }\n\n  resetWorkingCopy(): void {\n    this.#resetWorkingCopy();\n    this.#workingCopyChanged();\n  }\n\n  #resetWorkingCopy(): void {\n    this.#workingCopy = null;\n    this.#workingCopyGetter = null;\n    this.setContainsAiChanges(false);\n  }\n\n  setWorkingCopy(newWorkingCopy: string): void {\n    this.#workingCopy = newWorkingCopy;\n    this.#workingCopyGetter = null;\n    this.#workingCopyChanged();\n  }\n\n  setContainsAiChanges(containsAiChanges: boolean): void {\n    this.#containsAiChanges = containsAiChanges;\n  }\n\n  containsAiChanges(): boolean {\n    return this.#containsAiChanges;\n  }\n\n  setContent(content: string, isBase64: boolean): void {\n    this.#contentEncoded = isBase64;\n    if (this.#project.canSetFileContent()) {\n      void this.#project.setFileContent(this, content, isBase64);\n    }\n    this.#contentCommitted(content, true);\n  }\n\n  setWorkingCopyGetter(workingCopyGetter: () => string): void {\n    this.#workingCopyGetter = workingCopyGetter;\n    this.#workingCopyChanged();\n  }\n\n  #workingCopyChanged(): void {\n    this.#removeAllMessages();\n    this.dispatchEventToListeners(Events.WorkingCopyChanged, this);\n    this.#project.workspace().dispatchEventToListeners(WorkspaceImplEvents.WorkingCopyChanged, {uiSourceCode: this});\n  }\n\n  removeWorkingCopyGetter(): void {\n    if (!this.#workingCopyGetter) {\n      return;\n    }\n    this.#workingCopy = this.#workingCopyGetter();\n    this.#workingCopyGetter = null;\n  }\n\n  commitWorkingCopy(): void {\n    if (this.isDirty()) {\n      this.#commitContent(this.workingCopy());\n    }\n  }\n\n  isDirty(): boolean {\n    return this.#workingCopy !== null || this.#workingCopyGetter !== null;\n  }\n\n  isKnownThirdParty(): boolean {\n    return this.#isKnownThirdParty;\n  }\n\n  markKnownThirdParty(): void {\n    this.#isKnownThirdParty = true;\n  }\n\n  /**\n   * {@link markAsUnconditionallyIgnoreListed}\n   */\n  isUnconditionallyIgnoreListed(): boolean {\n    return this.#isUnconditionallyIgnoreListed;\n  }\n\n  isFetchXHR(): boolean {\n    return [Common.ResourceType.resourceTypes.XHR, Common.ResourceType.resourceTypes.Fetch].includes(\n        this.contentType());\n  }\n\n  /**\n   * Unconditionally ignore list this UISourcecode, ignoring any user\n   * setting. We use this to mark breakpoint/logpoint condition scripts for now.\n   */\n  markAsUnconditionallyIgnoreListed(): void {\n    this.#isUnconditionallyIgnoreListed = true;\n  }\n\n  extension(): string {\n    return Common.ParsedURL.ParsedURL.extractExtension(this.#name);\n  }\n\n  content(): string {\n    if (!this.#content || 'error' in this.#content) {\n      return '';\n    }\n    return this.#content.text;\n  }\n\n  loadError(): string|null {\n    return (this.#content && 'error' in this.#content && this.#content.error) || null;\n  }\n\n  searchInContent(query: string, caseSensitive: boolean, isRegex: boolean):\n      Promise<TextUtils.ContentProvider.SearchMatch[]> {\n    if (!this.#content || 'error' in this.#content) {\n      return this.#project.searchInFileContent(this, query, caseSensitive, isRegex);\n    }\n    return Promise.resolve(\n        TextUtils.TextUtils.performSearchInContentData(this.#content, query, caseSensitive, isRegex));\n  }\n\n  contentLoaded(): boolean {\n    return Boolean(this.#content);\n  }\n\n  uiLocation(lineNumber: number, columnNumber?: number): UILocation {\n    return new UILocation(this, lineNumber, columnNumber);\n  }\n\n  messages(): Set<Message> {\n    return this.#messages ? new Set(this.#messages) : new Set();\n  }\n\n  addLineMessage(\n      level: Message.Level, text: string, lineNumber: number, columnNumber?: number,\n      clickHandler?: (() => void)): Message {\n    const range = TextUtils.TextRange.TextRange.createFromLocation(lineNumber, columnNumber || 0);\n    const message = new Message(level, text, clickHandler, range);\n    this.addMessage(message);\n    return message;\n  }\n\n  addMessage(message: Message): void {\n    if (!this.#messages) {\n      this.#messages = new Set();\n    }\n    this.#messages.add(message);\n    this.dispatchEventToListeners(Events.MessageAdded, message);\n  }\n\n  removeMessage(message: Message): void {\n    if (this.#messages?.delete(message)) {\n      this.dispatchEventToListeners(Events.MessageRemoved, message);\n    }\n  }\n\n  #removeAllMessages(): void {\n    if (!this.#messages) {\n      return;\n    }\n    for (const message of this.#messages) {\n      this.dispatchEventToListeners(Events.MessageRemoved, message);\n    }\n    this.#messages = null;\n  }\n\n  setDecorationData(type: string, data: any): void {\n    if (data !== this.#decorations.get(type)) {\n      this.#decorations.set(type, data);\n      this.dispatchEventToListeners(Events.DecorationChanged, type);\n    }\n  }\n\n  getDecorationData(type: string): any {\n    if (this.#prettied && this.#formattedDecorations.get(type)) {\n      return this.#formattedDecorations.get(type);\n    }\n    return this.#decorations.get(type);\n  }\n\n  disableEdit(): void {\n    this.#disableEdit = true;\n  }\n\n  editDisabled(): boolean {\n    return this.#disableEdit;\n  }\n\n  formatChanged(format: {originalToFormatted(lineNumber: number, columnNumber?: number): number[]}|null): void {\n    if (this.#prettied === Boolean(format)) {\n      return;\n    }\n    this.#prettied = Boolean(format);\n    if (!format) {\n      this.dispatchEventToListeners(Events.DecorationChanged, DecoratorType.PERFORMANCE);\n      return;\n    }\n    const performanceDecorations = this.#decorations.get(DecoratorType.PERFORMANCE);\n    if (!performanceDecorations) {\n      return;\n    }\n    let formattedPerformanceDecorations: Map<number, Map<number, number>> =\n        this.#formattedDecorations.get(DecoratorType.PERFORMANCE);\n    if (!formattedPerformanceDecorations) {\n      formattedPerformanceDecorations = new Map<number, Map<number, number>>();\n      this.#formattedDecorations.set(DecoratorType.PERFORMANCE, formattedPerformanceDecorations);\n    } else {\n      formattedPerformanceDecorations.clear();\n    }\n\n    for (const [lineNumber, columnData] of performanceDecorations) {\n      for (const [columnNumber, data] of columnData) {\n        const [formattedLineNumber, formattedColumnNumber] =\n            format.originalToFormatted(lineNumber - 1, columnNumber - 1);\n        const oneBasedFormattedLineNumber = formattedLineNumber + 1;\n        const oneBasedFormattedColumnNumber = formattedColumnNumber + 1;\n        let lineData = formattedPerformanceDecorations.get(oneBasedFormattedLineNumber);\n        if (!lineData) {\n          lineData = new Map();\n          formattedPerformanceDecorations.set(oneBasedFormattedLineNumber, lineData);\n        }\n        lineData.set(oneBasedFormattedColumnNumber, (lineData.get(oneBasedFormattedColumnNumber) || 0) + data);\n      }\n    }\n    this.dispatchEventToListeners(Events.DecorationChanged, 'performance');\n  }\n\n  isIgnoreListed(): boolean {\n    return IgnoreListManager.instance().isUserOrSourceMapIgnoreListedUISourceCode(this);\n  }\n}\n\nexport enum Events {\n  /* eslint-disable @typescript-eslint/naming-convention -- Used by web_tests. */\n  WorkingCopyChanged = 'WorkingCopyChanged',\n  WorkingCopyCommitted = 'WorkingCopyCommitted',\n  TitleChanged = 'TitleChanged',\n  MessageAdded = 'MessageAdded',\n  MessageRemoved = 'MessageRemoved',\n  DecorationChanged = 'DecorationChanged',\n  /* eslint-enable @typescript-eslint/naming-convention */\n}\n\nexport interface WorkingCopyCommittedEvent {\n  uiSourceCode: UISourceCode;\n  content: string;\n  encoded: boolean|undefined;\n}\n\nexport interface EventTypes {\n  [Events.WorkingCopyChanged]: UISourceCode;\n  [Events.WorkingCopyCommitted]: WorkingCopyCommittedEvent;\n  [Events.TitleChanged]: UISourceCode;\n  [Events.MessageAdded]: Message;\n  [Events.MessageRemoved]: Message;\n  [Events.DecorationChanged]: string;\n}\n\nexport class UILocation {\n  uiSourceCode: UISourceCode;\n  lineNumber: number;\n  columnNumber: number|undefined;\n  constructor(uiSourceCode: UISourceCode, lineNumber: number, columnNumber?: number) {\n    this.uiSourceCode = uiSourceCode;\n    this.lineNumber = lineNumber;\n    this.columnNumber = columnNumber;\n  }\n\n  linkText(skipTrim = false, showColumnNumber = false): string {\n    const displayName = this.uiSourceCode.displayName(skipTrim);\n    const lineAndColumnText = this.lineAndColumnText(showColumnNumber);\n    let text = lineAndColumnText ? displayName + ':' + lineAndColumnText : displayName;\n    if (this.uiSourceCode.isDirty()) {\n      text = '*' + text;\n    }\n    return text;\n  }\n\n  lineAndColumnText(showColumnNumber = false): string|undefined {\n    let lineAndColumnText;\n    if (this.uiSourceCode.mimeType() === 'application/wasm') {\n      // For WebAssembly locations, we follow the conventions described in\n      // github.com/WebAssembly/design/blob/master/Web.md#developer-facing-display-conventions\n      if (typeof this.columnNumber === 'number') {\n        lineAndColumnText = `0x${this.columnNumber.toString(16)}`;\n      }\n    } else {\n      lineAndColumnText = `${this.lineNumber + 1}`;\n      if (showColumnNumber && typeof this.columnNumber === 'number') {\n        lineAndColumnText += ':' + (this.columnNumber + 1);\n      }\n    }\n    return lineAndColumnText;\n  }\n\n  id(): string {\n    if (typeof this.columnNumber === 'number') {\n      return this.uiSourceCode.project().id() + ':' + this.uiSourceCode.url() + ':' + this.lineNumber + ':' +\n          this.columnNumber;\n    }\n    return this.lineId();\n  }\n\n  lineId(): string {\n    return this.uiSourceCode.project().id() + ':' + this.uiSourceCode.url() + ':' + this.lineNumber;\n  }\n\n  static comparator(location1: UILocation, location2: UILocation): number {\n    return location1.compareTo(location2);\n  }\n\n  compareTo(other: UILocation): number {\n    if (this.uiSourceCode.url() !== other.uiSourceCode.url()) {\n      return this.uiSourceCode.url() > other.uiSourceCode.url() ? 1 : -1;\n    }\n    if (this.lineNumber !== other.lineNumber) {\n      return this.lineNumber - other.lineNumber;\n    }\n    // We consider `undefined` less than an actual column number, since\n    // UI location without a column number corresponds to the whole line.\n    if (this.columnNumber === other.columnNumber) {\n      return 0;\n    }\n    if (typeof this.columnNumber !== 'number') {\n      return -1;\n    }\n    if (typeof other.columnNumber !== 'number') {\n      return 1;\n    }\n    return this.columnNumber - other.columnNumber;\n  }\n\n  isIgnoreListed(): boolean {\n    return this.uiSourceCode.isIgnoreListed();\n  }\n}\n\n/**\n * A text range inside a specific {@link UISourceCode}.\n *\n * We use a class instead of an interface so we can implement a revealer for it.\n */\nexport class UILocationRange {\n  readonly uiSourceCode: UISourceCode;\n  readonly range: TextUtils.TextRange.TextRange;\n\n  constructor(uiSourceCode: UISourceCode, range: TextUtils.TextRange.TextRange) {\n    this.uiSourceCode = uiSourceCode;\n    this.range = range;\n  }\n}\n\n/**\n * A message associated with a range in a `UISourceCode`. The range will be\n * underlined starting at the range's start and ending at the line end (the\n * end of the range is currently disregarded).\n * An icon is going to appear at the end of the line according to the\n * `level` of the Message. This is only the model; displaying is handled\n * where UISourceCode displaying is handled.\n */\nexport class Message {\n  readonly #level: Message.Level;\n  readonly #text: string;\n  range: TextUtils.TextRange.TextRange;\n  readonly #clickHandler?: (() => void);\n\n  constructor(level: Message.Level, text: string, clickHandler?: (() => void), range?: TextUtils.TextRange.TextRange) {\n    this.#level = level;\n    this.#text = text;\n    this.range = range ?? new TextUtils.TextRange.TextRange(0, 0, 0, 0);\n    this.#clickHandler = clickHandler;\n  }\n\n  level(): Message.Level {\n    return this.#level;\n  }\n\n  text(): string {\n    return this.#text;\n  }\n\n  clickHandler(): (() => void)|undefined {\n    return this.#clickHandler;\n  }\n\n  lineNumber(): number {\n    return this.range.startLine;\n  }\n\n  columnNumber(): number|undefined {\n    return this.range.startColumn;\n  }\n\n  isEqual(another: Message): boolean {\n    return this.text() === another.text() && this.level() === another.level() && this.range.equal(another.range);\n  }\n}\n\nexport namespace Message {\n  export const enum Level {\n    ERROR = 'Error',\n    ISSUE = 'Issue',\n    WARNING = 'Warning',\n  }\n}\n\nexport class UISourceCodeMetadata {\n  modificationTime: Date|null;\n  contentSize: number|null;\n\n  constructor(modificationTime: Date|null, contentSize: number|null) {\n    this.modificationTime = modificationTime;\n    this.contentSize = contentSize;\n  }\n}\n\nexport const enum DecoratorType {\n  PERFORMANCE = 'performance',\n  MEMORY = 'memory',\n  COVERAGE = 'coverage',\n}\n"]}