{"version":3,"file":"ExploreWidget.js","sourceRoot":"","sources":["../../../../../../../front_end/panels/ai_assistance/components/ExploreWidget.ts"],"names":[],"mappings":"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","sourcesContent":["\n// Copyright 2025 The Chromium Authors\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\nimport * as i18n from '../../../core/i18n/i18n.js';\nimport * as Root from '../../../core/root/root.js';\nimport * as UI from '../../../ui/legacy/legacy.js';\nimport {html, type LitTemplate, render} from '../../../ui/lit/lit.js';\nimport * as VisualLogging from '../../../ui/visual_logging/visual_logging.js';\n\nimport exploreWidgetStyles from './exploreWidget.css.js';\n\n/*\n* Strings that don't need to be translated at this time.\n*/\nconst UIStringsNotTranslate = {\n  /**\n   * @description Text for the empty state of the AI assistance panel when there is no agent selected.\n   */\n  Explore: 'Explore AI assistance',\n  /**\n   * @description The footer disclaimer that links to more information about the AI feature.\n   */\n  learnAbout: 'Learn about AI in DevTools',\n} as const;\n\nconst lockedString = i18n.i18n.lockedString;\n\ninterface FeatureCard {\n  icon: string;\n  heading: string;\n  jslogContext: string;\n  onClick: () => void;\n  text: string;\n  panelName: string;\n}\n\ninterface ViewProps {\n  featureCards: FeatureCard[];\n}\n\nexport const DEFAULT_VIEW = (\n    input: ViewProps,\n    _output: Record<string, unknown>,\n    target: HTMLElement,\n    ): void => {\n  function renderFeatureCardContent(featureCard: FeatureCard): LitTemplate {\n    // TODO: Open should be part of the string and the button a placeholder\n    // but locked strings don't support it.\n    // clang-format off\n   return html`Open\n     <button\n       class=\"link\"\n       role=\"link\"\n       jslog=${VisualLogging.link(featureCard.jslogContext).track({\n         click: true,\n       })}\n       @click=${featureCard.onClick}\n     >${featureCard.panelName}</button>\n     ${featureCard.text}`;\n    // clang-format on\n  }\n\n  // clang-format off\n  render(\n    html`\n      <style>\n        ${exploreWidgetStyles}\n      </style>\n      <div class=\"ai-assistance-explore-container\">\n        <div class=\"header\">\n          <div class=\"icon\">\n            <devtools-icon name=\"smart-assistant\"></devtools-icon>\n          </div>\n          <h1>${lockedString(UIStringsNotTranslate.Explore)}</h1>\n          <p>\n            To chat about an item, right-click and select${' '}\n            <strong>Ask AI</strong>.\n            <button\n              class=\"link\"\n              role=\"link\"\n              jslog=${VisualLogging.link('open-ai-settings').track({click: true})}\n              @click=${() => { void UI.ViewManager.ViewManager.instance().showView('chrome-ai'); }}\n            >${lockedString(UIStringsNotTranslate.learnAbout)}\n            </button>\n          </p>\n        </div>\n        <div class=\"content\">\n          ${input.featureCards.map(\n            featureCard => html`\n              <div class=\"feature-card\">\n                <div class=\"feature-card-icon\">\n                  <devtools-icon name=${featureCard.icon}></devtools-icon>\n                </div>\n                <div class=\"feature-card-content\">\n                  <h3>${featureCard.heading}</h3>\n                  <p>${renderFeatureCardContent(featureCard)}</p>\n                </div>\n              </div>\n            `,\n          )}\n        </div>\n      </div>\n    `,\n    target,\n  );\n  // clang-format on\n};\n\nexport type View = typeof DEFAULT_VIEW;\n\nexport class ExploreWidget extends UI.Widget.Widget {\n  #view: View;\n  constructor(element?: HTMLElement, view = DEFAULT_VIEW) {\n    super(element);\n    this.#view = view;\n  }\n\n  override wasShown(): void {\n    super.wasShown();\n    void this.requestUpdate();\n  }\n\n  override performUpdate(): Promise<void>|void {\n    const config = Root.Runtime.hostConfig;\n    const featureCards: FeatureCard[] = [];\n    if (config.devToolsFreestyler?.enabled && UI.ViewManager.ViewManager.instance().hasView('elements')) {\n      featureCards.push({\n        icon: 'brush-2',\n        heading: 'CSS styles',\n        jslogContext: 'open-elements-panel',\n        onClick: () => {\n          void UI.ViewManager.ViewManager.instance().showView(\n              'elements',\n          );\n        },\n        panelName: 'Elements',\n        text: 'to ask about CSS styles'\n      });\n    }\n    if (config.devToolsAiAssistanceNetworkAgent?.enabled && UI.ViewManager.ViewManager.instance().hasView('network')) {\n      featureCards.push({\n        icon: 'arrow-up-down',\n        heading: 'Network',\n        jslogContext: 'open-network-panel',\n        onClick: () => {\n          void UI.ViewManager.ViewManager.instance().showView(\n              'network',\n          );\n        },\n        panelName: 'Network',\n        text: 'to ask about a request\\'s details'\n      });\n    }\n    if (config.devToolsAiAssistanceFileAgent?.enabled && UI.ViewManager.ViewManager.instance().hasView('sources')) {\n      featureCards.push({\n        icon: 'document',\n        heading: 'Files',\n        jslogContext: 'open-sources-panel',\n        onClick: () => {\n          void UI.ViewManager.ViewManager.instance().showView(\n              'sources',\n          );\n        },\n        panelName: 'Sources',\n        text: 'to ask about a file\\'s content'\n      });\n    }\n    if (config.devToolsAiAssistancePerformanceAgent?.enabled &&\n        UI.ViewManager.ViewManager.instance().hasView('timeline')) {\n      featureCards.push({\n        icon: 'performance',\n        heading: 'Performance',\n        jslogContext: 'open-performance-panel',\n        onClick: () => {\n          void UI.ViewManager.ViewManager.instance().showView(\n              'timeline',\n          );\n        },\n        panelName: 'Performance',\n        text: 'to ask about a trace item'\n      });\n    }\n\n    this.#view(\n        {\n          featureCards,\n        },\n        {},\n        this.contentElement,\n    );\n  }\n}\n"]}