{"version":3,"file":"AppManifestView.js","sourceRoot":"","sources":["../../../../../../front_end/panels/application/AppManifestView.ts"],"names":[],"mappings":"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","sourcesContent":["// Copyright 2016 The Chromium Authors\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n/* eslint-disable @devtools/no-imperative-dom-api, @devtools/no-lit-render-outside-of-view */\n\nimport '../../ui/legacy/components/inline_editor/inline_editor.js';\nimport '../../ui/components/report_view/report_view.js';\n\nimport * as Common from '../../core/common/common.js';\nimport * as Host from '../../core/host/host.js';\nimport * as i18n from '../../core/i18n/i18n.js';\nimport * as Platform from '../../core/platform/platform.js';\nimport * as SDK from '../../core/sdk/sdk.js';\nimport type * as Protocol from '../../generated/protocol.js';\nimport * as Buttons from '../../ui/components/buttons/buttons.js';\nimport * as Components from '../../ui/legacy/components/utils/utils.js';\nimport * as UI from '../../ui/legacy/legacy.js';\nimport {Directives, html, i18nTemplate, type LitTemplate, nothing, render} from '../../ui/lit/lit.js';\nimport * as VisualLogging from '../../ui/visual_logging/visual_logging.js';\n\nimport appManifestViewStyles from './appManifestView.css.js';\nimport * as ApplicationComponents from './components/components.js';\n\nconst {classMap, ref} = Directives;\nconst {linkifyURL} = Components.Linkifier.Linkifier;\nconst {widgetConfig} = UI.Widget;\n\nconst UIStrings = {\n  /**\n   * @description Text in App Manifest View of the Application panel\n   */\n  noManifestDetected: 'No manifest detected',\n  /**\n   * @description Description text on manifests in App Manifest View of the Application panel which describes the app manifest view tab\n   */\n  manifestDescription:\n      'A manifest defines how your app appears on phone’s home screens and what the app looks like on launch.',\n  /**\n   * @description Text in App Manifest View of the Application panel\n   */\n  appManifest: 'Manifest',\n  /**\n   * @description Text in App Manifest View of the Application panel\n   */\n  errorsAndWarnings: 'Errors and warnings',\n  /**\n   * @description Text in App Manifest View of the Application panel\n   */\n  installability: 'Installability',\n  /**\n   * @description Text in App Manifest View of the Application panel\n   */\n  identity: 'Identity',\n  /**\n   * @description Text in App Manifest View of the Application panel\n   */\n  presentation: 'Presentation',\n  /**\n   * @description Text in App Manifest View of the Application panel\n   */\n  protocolHandlers: 'Protocol Handlers',\n  /**\n   * @description Text in App Manifest View of the Application panel\n   */\n  icons: 'Icons',\n  /**\n   * @description Text in App Manifest View of the Application panel\n   */\n  windowControlsOverlay: 'Window Controls Overlay',\n  /**\n   * @description Label in the App Manifest View for the \"name\" property of web app or shortcut item\n   */\n  name: 'Name',\n  /**\n   * @description Label in the App Manifest View for the \"short_name\" property of web app or shortcut item\n   */\n  shortName: 'Short name',\n  /**\n   * @description Label in the App Manifest View for the \"url\" property of shortcut item\n   */\n  url: 'URL',\n  /**\n   * @description Label in the App Manifest View for the Computed App Id\n   */\n  computedAppId: 'Computed App ID',\n  /**\n   * @description Popup-text explaining what the App Id is used for.\n   */\n  appIdExplainer:\n      'This is used by the browser to know whether the manifest should be updating an existing application, or whether it refers to a new web app that can be installed.',\n  /**\n   * @description Text which is a hyperlink to more documentation\n   */\n  learnMore: 'Learn more',\n  /**\n   * @description Explanation why it is advisable to specify an 'id' field in the manifest.\n   * @example {/index.html} PH1\n   * @example {(button for copying suggested value into clipboard)} PH2\n   */\n  appIdNote:\n      'Note: `id` is not specified in the manifest, `start_url` is used instead. To specify an App ID that matches the current identity, set the `id` field to {PH1} {PH2}.',\n\n  /**\n   * @description Tooltip text that appears when hovering over a button which copies the previous text to the clipboard.\n   */\n  copyToClipboard: 'Copy suggested ID to clipboard',\n  /**\n   * @description Screen reader announcement string when the user clicks the copy to clipboard button.\n   * @example {/index.html} PH1\n   */\n  copiedToClipboard: 'Copied suggested ID {PH1} to clipboard',\n  /**\n   * @description Label in the App Manifest View for the \"description\" property of web app or shortcut item\n   */\n  description: 'Description',\n  /**\n   * @description Text in App Manifest View of the Application panel\n   */\n  startUrl: 'Start URL',\n  /**\n   * @description Text in App Manifest View of the Application panel\n   */\n  themeColor: 'Theme color',\n  /**\n   * @description Text in App Manifest View of the Application panel\n   */\n  backgroundColor: 'Background color',\n  /**\n   * @description Text for the orientation of something\n   */\n  orientation: 'Orientation',\n  /**\n   * @description Title of the display attribute in App Manifest View of the Application panel\n   * The display attribute defines the preferred display mode for the app such fullscreen or\n   * standalone.\n   * For more details see https://www.w3.org/TR/appmanifest/#display-member.\n   */\n  display: 'Display',\n  /**\n   * @description Title of the new_note_url attribute in the Application panel\n   */\n  newNoteUrl: 'New note URL',\n  /**\n   * @description Text in App Manifest View of the Application panel\n   */\n  descriptionMayBeTruncated: 'Description may be truncated.',\n  /**\n   * @description Warning text about too many shortcuts\n   */\n  shortcutsMayBeNotAvailable:\n      'The maximum number of shortcuts is platform dependent. Some shortcuts may be not available.',\n  /**\n   * @description Text in App Manifest View of the Application panel\n   */\n  showOnlyTheMinimumSafeAreaFor: 'Show only the minimum safe area for maskable icons',\n  /**\n   * @description Link text for more information on maskable icons in App Manifest view of the Application panel\n   */\n  documentationOnMaskableIcons: 'documentation on maskable icons',\n  /**\n   * @description Text wrapping a link pointing to more information on maskable icons in App Manifest view of the Application panel\n   * @example {https://web.dev/maskable-icon/} PH1\n   */\n  needHelpReadOurS: 'Need help? Read the {PH1}.',\n  /**\n   * @description Text in App Manifest View of the Application panel\n   * @example {1} PH1\n   */\n  shortcutS: 'Shortcut #{PH1}',\n  /**\n   * @description Text in App Manifest View of the Application panel\n   * @example {1} PH1\n   */\n  shortcutSShouldIncludeAXPixel: 'Shortcut #{PH1} should include a 96×96 pixel icon',\n  /**\n   * @description Text in App Manifest View of the Application panel\n   * @example {1} PH1\n   */\n  screenshotS: 'Screenshot #{PH1}',\n  /**\n   * @description Manifest installability error in the Application panel\n   */\n  pageIsNotLoadedInTheMainFrame: 'Page is not loaded in the main frame',\n  /**\n   * @description Manifest installability error in the Application panel\n   */\n  pageIsNotServedFromASecureOrigin: 'Page is not served from a secure origin',\n  /**\n   * @description Manifest installability error in the Application panel\n   */\n  pageHasNoManifestLinkUrl: 'Page has no manifest <link> `URL`',\n  /**\n   * @description Manifest installability error in the Application panel\n   */\n  manifestCouldNotBeFetchedIsEmpty: 'Manifest could not be fetched, is empty, or could not be parsed',\n  /**\n   * @description Manifest installability error in the Application panel\n   */\n  manifestStartUrlIsNotValid: 'Manifest \\'`start_url`\\' is not valid',\n  /**\n   * @description Manifest installability error in the Application panel\n   */\n  manifestDoesNotContainANameOr: 'Manifest does not contain a \\'`name`\\' or \\'`short_name`\\' field',\n  /**\n   * @description Manifest installability error in the Application panel\n   */\n  manifestDisplayPropertyMustBeOne:\n      'Manifest \\'`display`\\' property must be one of \\'`standalone`\\', \\'`fullscreen`\\', or \\'`minimal-ui`\\'',\n  /**\n   * @description Manifest installability error in the Application panel\n   * @example {100} PH1\n   */\n  manifestDoesNotContainASuitable:\n      'Manifest does not contain a suitable icon—PNG, SVG, or WebP format of at least {PH1}px is required, the \\'`sizes`\\' attribute must be set, and the \\'`purpose`\\' attribute, if set, must include \\'`any`\\'.',\n  /**\n   * @description Manifest installability error in the Application panel\n   */\n  avoidPurposeAnyAndMaskable:\n      'Declaring an icon with \\'`purpose`\\' of \\'`any maskable`\\' is discouraged. It is likely to look incorrect on some platforms due to too much or too little padding.',\n  /**\n   * @description Manifest installability error in the Application panel\n   * @example {100} PH1\n   */\n  noSuppliedIconIsAtLeastSpxSquare:\n      'No supplied icon is at least {PH1} pixels square in `PNG`, `SVG`, or `WebP` format, with the purpose attribute unset or set to \\'`any`\\'.',\n  /**\n   * @description Manifest installability error in the Application panel\n   */\n  couldNotDownloadARequiredIcon: 'Could not download a required icon from the manifest',\n  /**\n   * @description Manifest installability error in the Application panel\n   */\n  downloadedIconWasEmptyOr: 'Downloaded icon was empty or corrupted',\n  /**\n   * @description Manifest installability error in the Application panel\n   */\n  theSpecifiedApplicationPlatform: 'The specified application platform is not supported on Android',\n  /**\n   * @description Manifest installability error in the Application panel\n   */\n  noPlayStoreIdProvided: 'No Play store ID provided',\n  /**\n   * @description Manifest installability error in the Application panel\n   */\n  thePlayStoreAppUrlAndPlayStoreId: 'The Play Store app URL and Play Store ID do not match',\n  /**\n   * @description Manifest installability error in the Application panel\n   */\n  theAppIsAlreadyInstalled: 'The app is already installed',\n  /**\n   * @description Manifest installability error in the Application panel\n   */\n  aUrlInTheManifestContainsA: 'A URL in the manifest contains a username, password, or port',\n  /**\n   * @description Manifest installability error in the Application panel\n   */\n  pageIsLoadedInAnIncognitoWindow: 'Page is loaded in an incognito window',\n  /**\n   * @description Manifest installability error in the Application panel\n   */\n  pageDoesNotWorkOffline: 'Page does not work offline',\n  /**\n   * @description Manifest installability error in the Application panel\n   */\n  couldNotCheckServiceWorker: 'Could not check `service worker` without a \\'`start_url`\\' field in the manifest',\n  /**\n   * @description Manifest installability error in the Application panel\n   */\n  manifestSpecifies: 'Manifest specifies \\'`prefer_related_applications`: true\\'',\n  /**\n   * @description Manifest installability error in the Application panel\n   */\n  preferrelatedapplicationsIsOnly:\n      '\\'`prefer_related_applications`\\' is only supported on `Chrome` Beta and Stable channels on `Android`.',\n  /**\n   * @description Manifest installability error in the Application panel\n   */\n  manifestContainsDisplayoverride:\n      'Manifest contains \\'`display_override`\\' field, and the first supported display mode must be one of \\'`standalone`\\', \\'`fullscreen`\\', or \\'`minimal-ui`\\'',\n  /**\n   * @description Warning message for offline capability check\n   * @example {https://developer.chrome.com/blog/improved-pwa-offline-detection} PH1\n   */\n  pageDoesNotWorkOfflineThePage:\n      'Page does not work offline. Starting in Chrome 93, the installability criteria are changing, and this site will not be installable. See {PH1} for more information.',\n  /**\n   * @description Text to indicate the source of an image\n   * @example {example.com} PH1\n   */\n  imageFromS: 'Image from {PH1}',\n  /**\n   * @description Text for one or a group of screenshots\n   */\n  screenshot: 'Screenshot',\n  /**\n   * @description Label in the App Manifest View for the \"form_factor\" property of screenshot\n   */\n  formFactor: 'Form factor',\n  /**\n   * @description Label in the App Manifest View for the \"label\" property of screenshot\n   */\n  label: 'Label',\n  /**\n   * @description Label in the App Manifest View for the \"platform\" property of screenshot\n   */\n  platform: 'Platform',\n  /**\n   * @description Text in App Manifest View of the Application panel\n   */\n  icon: 'Icon',\n  /**\n   * @description This is a warning message telling the user about a problem where the src attribute\n   * of an image has not be entered/provided correctly. 'src' is part of the DOM API and should not\n   * be translated.\n   * @example {ImageName} PH1\n   */\n  sSrcIsNotSet: '{PH1} \\'`src`\\' is not set',\n  /**\n   * @description Warning message for image resources from the manifest\n   * @example {Screenshot} PH1\n   * @example {https://example.com/image.png} PH2\n   */\n  sUrlSFailedToParse: '{PH1} URL \\'\\'{PH2}\\'\\' failed to parse',\n  /**\n   * @description Warning message for image resources from the manifest\n   * @example {Image} PH1\n   * @example {https://example.com/image.png} PH2\n   */\n  sSFailedToLoad: '{PH1} {PH2} failed to load',\n  /**\n   * @description Warning message for image resources from the manifest\n   * @example {Image} PH1\n   * @example {https://example.com/image.png} PH2\n   */\n  sSDoesNotSpecifyItsSizeInThe: '{PH1} {PH2} does not specify its size in the manifest',\n  /**\n   * @description Warning message for image resources from the manifest\n   * @example {Image} PH1\n   * @example {https://example.com/image.png} PH2\n   */\n  sSShouldSpecifyItsSizeAs: '{PH1} {PH2} should specify its size as `[width]x[height]`',\n  /**\n   * @description Warning message for image resources from the manifest\n   */\n  sSShouldHaveSquareIcon:\n      'Most operating systems require square icons. Please include at least one square icon in the array.',\n  /**\n   * @description Warning message for image resources from the manifest\n   * @example {100} PH1\n   * @example {100} PH2\n   * @example {Image} PH3\n   * @example {https://example.com/image.png} PH4\n   * @example {200} PH5\n   * @example {200} PH6\n   */\n  actualSizeSspxOfSSDoesNotMatch:\n      'Actual size ({PH1}×{PH2})px of {PH3} {PH4} does not match specified size ({PH5}×{PH6}px)',\n  /**\n   * @description Warning message for image resources from the manifest\n   * @example {100} PH1\n   * @example {Image} PH2\n   * @example {https://example.com/image.png} PH3\n   * @example {200} PH4\n   */\n  actualWidthSpxOfSSDoesNotMatch: 'Actual width ({PH1}px) of {PH2} {PH3} does not match specified width ({PH4}px)',\n  /**\n   * @description Warning message for image resources from the manifest\n   * @example {100} PH1\n   * @example {Image} PH2\n   * @example {https://example.com/image.png} PH3\n   * @example {100} PH4\n   */\n  actualHeightSpxOfSSDoesNotMatch: 'Actual height ({PH1}px) of {PH2} {PH3} does not match specified height ({PH4}px)',\n  /**\n   * @description Warning message for image resources from the manifest\n   * @example {Image} PH1\n   * @example {https://example.com/image.png} PH2\n   */\n  sSSizeShouldBeAtLeast320: '{PH1} {PH2} size should be at least 320×320',\n  /**\n   * @description Warning message for image resources from the manifest\n   * @example {Image} PH1\n   * @example {https://example.com/image.png} PH2\n   */\n  sSSizeShouldBeAtMost3840: '{PH1} {PH2} size should be at most 3840×3840',\n  /**\n   * @description Warning message for image resources from the manifest\n   * @example {Image} PH1\n   * @example {https://example.com/image.png} PH2\n   */\n  sSWidthDoesNotComplyWithRatioRequirement: '{PH1} {PH2} width can\\'t be more than 2.3 times as long as the height',\n  /**\n   * @description Warning message for image resources from the manifest\n   * @example {Image} PH1\n   * @example {https://example.com/image.png} PH2\n   */\n  sSHeightDoesNotComplyWithRatioRequirement: '{PH1} {PH2} height can\\'t be more than 2.3 times as long as the width',\n  /**\n   * @description Manifest installability error in the Application panel\n   * @example {https://example.com/image.png} url\n   */\n  screenshotPixelSize:\n      'Screenshot {url} should specify a pixel size `[width]x[height]` instead of `any` as first size.',\n  /**\n   * @description Warning text about screenshots for Richer PWA Install UI on desktop\n   */\n  noScreenshotsForRicherPWAInstallOnDesktop:\n      'Richer PWA Install UI won’t be available on desktop. Please add at least one screenshot with the `form_factor` set to `wide`.',\n  /**\n   * @description Warning text about screenshots for Richer PWA Install UI on mobile\n   */\n  noScreenshotsForRicherPWAInstallOnMobile:\n      'Richer PWA Install UI won’t be available on mobile. Please add at least one screenshot for which `form_factor` is not set or set to a value other than `wide`.',\n  /**\n   * @description Warning text about too many screenshots for desktop\n   */\n  tooManyScreenshotsForDesktop: 'No more than 8 screenshots will be displayed on desktop. The rest will be ignored.',\n  /**\n   * @description Warning text about too many screenshots for mobile\n   */\n  tooManyScreenshotsForMobile: 'No more than 5 screenshots will be displayed on mobile. The rest will be ignored.',\n  /**\n   * @description Warning text about not all screenshots matching the appropriate form factor have the same aspect ratio\n   */\n  screenshotsMustHaveSameAspectRatio:\n      'All screenshots with the same `form_factor` must have the same aspect ratio as the first screenshot with that `form_factor`. Some screenshots will be ignored.',\n  /**\n   * @description Message for Window Controls Overlay value succsessfully found with links to documnetation\n   * @example {window-controls-overlay} PH1\n   * @example {https://developer.mozilla.org/en-US/docs/Web/Manifest/display_override} PH2\n   * @example {https://developer.mozilla.org/en-US/docs/Web/Manifest} PH3\n   */\n  wcoFound: 'Chrome has successfully found the {PH1} value for the {PH2} field in the {PH3}.',\n  /**\n   * @description Message for Windows Control Overlay value not found with link to documentation\n   * @example {https://developer.mozilla.org/en-US/docs/Web/Manifest/display_override} PH1\n   */\n  wcoNotFound:\n      'Define {PH1} in the manifest to use the Window Controls Overlay API and customize your app\\'s title bar.',\n  /**\n   * @description Link text for more information on customizing Window Controls Overlay title bar in the Application panel\n   */\n  customizePwaTitleBar: 'Customize the window controls overlay of your PWA\\'s title bar',\n  /**\n   * @description Text wrapping link to documentation on how to customize WCO title bar\n   * @example {https://learn.microsoft.com/en-us/microsoft-edge/progressive-web-apps-chromium/how-to/window-controls-overlay} PH1\n   */\n  wcoNeedHelpReadMore: 'Need help? Read {PH1}.',\n  /**\n   * @description Text for emulation OS selection dropdown\n   */\n  selectWindowControlsOverlayEmulationOs: 'Emulate the Window Controls Overlay on',\n  /**\n   * @description Alert message for screen reader to announce which subsection is being scrolled to\n   * @example {\"Identity\"} PH1\n   */\n  onInvokeAlert: 'Scrolled to {PH1}',\n} as const;\nconst str_ = i18n.i18n.registerUIStrings('panels/application/AppManifestView.ts', UIStrings);\nconst i18nString = i18n.i18n.getLocalizedString.bind(undefined, str_);\n\nexport type ParsedSize = {\n  any: 'any',\n  formatted: string,\n}|{\n  width: number,\n  height: number,\n  formatted: string,\n};\n\ninterface Screenshot {\n  src: string;\n  type?: string;\n  sizes?: string;\n  label?: string;\n  form_factor?: string;  // eslint-disable-line @typescript-eslint/naming-convention\n  platform?: string;\n}\n\n/* eslint-disable @typescript-eslint/naming-convention */\ninterface Manifest {\n  background_color?: string;\n  description?: string;\n  display?: string;\n  display_override?: string[];\n  icons?: Array<{\n    src: string,\n    sizes?: string,\n    type?: string,\n    purpose?: string,\n  }>;\n  id?: string;\n  name?: string;\n  note_taking?: {\n    new_note_url?: string,\n  };\n  orientation?: string;\n  protocol_handlers?: Protocol.Page.ProtocolHandler[];\n  screenshots?: Screenshot[];\n  short_name?: string;\n  shortcuts?: Array<{\n    name: string,\n    url: string,\n    description?: string,\n    short_name?: string,\n    icons?: Array<{\n           src: string,\n           sizes?: string,\n           type?: string,\n           purpose?: string,\n         }>,\n  }>;\n  start_url?: string;\n  theme_color?: string;\n}\n/* eslint-enable @typescript-eslint/naming-convention */\n\ninterface ReportSectionItem {\n  content: LitTemplate|LitTemplate[]|string|HTMLElement;\n  title?: string;\n  label?: string;\n  flexed?: boolean;\n}\n\ninterface IdentitySectionData {\n  name: string;\n  shortName: string;\n  description: string;\n  appId: string|null;\n  recommendedId: string|null;\n  hasId: boolean;\n  warnings: Platform.UIString.LocalizedString[];\n}\n\ninterface PresentationSectionData {\n  startUrl: string;\n  completeStartUrl: Platform.DevToolsPath.UrlString|null;\n  themeColor: Common.Color.Color|null;\n  backgroundColor: Common.Color.Color|null;\n  orientation: string;\n  display: string;\n  newNoteUrl?: string;\n  hasNewNoteUrl: boolean;\n  completeNewNoteUrl: Platform.DevToolsPath.UrlString|null;\n}\n\ninterface ProtocolHandlersSectionData {\n  protocolHandlers: Protocol.Page.ProtocolHandler[];\n  manifestLink: Platform.DevToolsPath.UrlString;\n}\n\ninterface IconsSectionData {\n  icons: Map<string, ProcessedImageResource[]>;\n  imageResourceErrors: Platform.UIString.LocalizedString[];\n}\n\ninterface ProcessedShortcut {\n  name: string;\n  shortName?: string;\n  description?: string;\n  url: string;\n  shortcutUrl: Platform.DevToolsPath.UrlString;\n  icons: Map<string, ProcessedImageResource[]>;\n}\n\ninterface ShortcutsSectionData {\n  shortcuts: ProcessedShortcut[];\n  warnings: Platform.UIString.LocalizedString[];\n  imageResourceErrors: Platform.UIString.LocalizedString[];\n}\n\ninterface ProcessedScreenshot {\n  screenshot: Screenshot;\n  processedImage: ProcessedImageResource;\n}\n\ninterface ScreenshotsSectionData {\n  screenshots: ProcessedScreenshot[];\n  warnings: Platform.UIString.LocalizedString[];\n  imageResourceErrors: Platform.UIString.LocalizedString[];\n}\n\ninterface WindowControlsSectionData {\n  hasWco: boolean;\n  themeColor: string;\n  wcoStyleSheetText: boolean;\n  url: Platform.DevToolsPath.UrlString;\n}\n\ntype ProcessedImageResource = {\n  imageResourceErrors: Platform.UIString.LocalizedString[],\n  imageUrl?: string,\n  squareSizedIconAvailable?: boolean,\n}|{\n  imageResourceErrors: Platform.UIString.LocalizedString[],\n  imageUrl: string,\n  squareSizedIconAvailable: boolean,\n  title: string,\n  naturalWidth: number,\n  naturalHeight: number,\n  imageSrc: string,\n};\n\nfunction renderSectionHeader(text: Platform.UIString.LocalizedString, output?: ViewOutput): LitTemplate {\n  // clang-format off\n  return html`\n    <devtools-report-section-header\n        ${ref(e => { if (output && e instanceof HTMLElement) {\n            output.scrollToSection.set(text, () => { e.scrollIntoView(); });\n          }})}>\n      ${text}\n    </devtools-report-section-header>`;\n  // clang-format on\n}\n\nfunction renderErrors(\n    errorsSection: UI.ReportView.Section, warnings?: Platform.UIString.LocalizedString[],\n    manifestErrors?: Protocol.Page.AppManifestError[], imageErrors?: Platform.UIString.LocalizedString[]): void {\n  errorsSection.clearContent();\n  errorsSection.element.classList.toggle(\n      'hidden', !manifestErrors?.length && !warnings?.length && !imageErrors?.length);\n\n  for (const error of manifestErrors ?? []) {\n    const icon = UI.UIUtils.createIconLabel({\n      title: error.message,\n      iconName: error.critical ? 'cross-circle-filled' : 'warning-filled',\n      color: error.critical ? 'var(--icon-error)' : 'var(--icon-warning)',\n    });\n    errorsSection.appendRow().appendChild(icon);\n  }\n\n  for (const warning of warnings ?? []) {\n    const msgElement = document.createTextNode(warning);\n    errorsSection.appendRow().appendChild(msgElement);\n  }\n  for (const error of imageErrors ?? []) {\n    const msgElement = document.createTextNode(error);\n    errorsSection.appendRow().appendChild(msgElement);\n  }\n}\n\nfunction renderIdentity(identitySection: UI.ReportView.Section, identityData: IdentitySectionData): void {\n  const {name, shortName, description, appId, recommendedId, hasId} = identityData;\n  const fields: ReportSectionItem[] = [];\n  fields.push({title: i18nString(UIStrings.name), content: name});\n  fields.push({title: i18nString(UIStrings.shortName), content: shortName});\n  fields.push({title: i18nString(UIStrings.description), content: description});\n\n  if (appId && recommendedId) {\n    const onCopy = (): void => {\n      UI.ARIAUtils.LiveAnnouncer.alert(i18nString(UIStrings.copiedToClipboard, {PH1: recommendedId}));\n      Host.InspectorFrontendHost.InspectorFrontendHostInstance.copyText(recommendedId);\n    };\n    // clang-format off\n    fields.push({title: i18nString(UIStrings.computedAppId), label: 'App Id', content: html`\n      ${appId}\n      <devtools-icon class=\"inline-icon\" name=\"help\" title=${i18nString(UIStrings.appIdExplainer)}\n          jslog=${VisualLogging.action('help').track({hover: true})}>\n      </devtools-icon>\n      <devtools-link href=\"https://developer.chrome.com/blog/pwa-manifest-id/\"\n                    .jslogContext=${'learn-more'}>\n        ${i18nString(UIStrings.learnMore)}\n      </devtools-link>\n      ${!hasId ? html`\n        <div class=\"multiline-value\">\n          ${i18nTemplate(str_, UIStrings.appIdNote, {\n            PH1: html`<code>${recommendedId}</code>`,\n            PH2: html`<devtools-button class=\"inline-button\" @click=${onCopy}\n                        .iconName=${'copy'}\n                        .variant=${Buttons.Button.Variant.ICON}\n                        .size=${Buttons.Button.Size.SMALL}\n                        .jslogContext=${'manifest.copy-id'}\n                        .title=${i18nString(UIStrings.copyToClipboard)}>\n                      </devtools-button>`,\n          })}\n      </div>` : nothing}`});\n    // clang-format on\n  } else {\n    identitySection.removeField(i18nString(UIStrings.computedAppId));\n  }\n  setSectionContents(fields, identitySection);\n}\n\nfunction renderPresentation(\n    presentationSection: UI.ReportView.Section, presentationData: PresentationSectionData): void {\n  const {\n    startUrl,\n    completeStartUrl,\n    themeColor,\n    backgroundColor,\n    orientation,\n    display,\n    newNoteUrl,\n    hasNewNoteUrl,\n    completeNewNoteUrl,\n  } = presentationData;\n  const fields: ReportSectionItem[] = [\n    {\n      title: i18nString(UIStrings.startUrl),\n      label: i18nString(UIStrings.startUrl),\n      content: completeStartUrl ? Components.Linkifier.Linkifier.linkifyURL(\n                                      completeStartUrl, ({text: startUrl, tabStop: true, jslogContext: 'start-url'})) :\n                                  nothing,\n    },\n    {\n      title: i18nString(UIStrings.themeColor),\n      content: themeColor ? html`<devtools-color-swatch .color=${themeColor}></devtools-color-swatch>` : nothing,\n    },\n    {\n      title: i18nString(UIStrings.backgroundColor),\n      content: backgroundColor ? html`<devtools-color-swatch .color=${backgroundColor}></devtools-color-swatch>` :\n                                 nothing,\n    },\n    {title: i18nString(UIStrings.orientation), content: orientation},\n    {title: i18nString(UIStrings.display), content: display},\n  ];\n  if (completeNewNoteUrl) {\n    fields.push({\n      title: i18nString(UIStrings.newNoteUrl),\n      content: hasNewNoteUrl ?\n          Components.Linkifier.Linkifier.linkifyURL(completeNewNoteUrl, ({text: newNoteUrl, tabStop: true})) :\n          nothing,\n    });\n  }\n  setSectionContents(fields, presentationSection);\n}\n\nfunction renderProtocolHandlers(data: ProtocolHandlersSectionData, output: ViewOutput): LitTemplate {\n  // clang-format off\n  return html`${renderSectionHeader(i18nString(UIStrings.protocolHandlers), output)}\n    <div class=\"report-row\">\n      <devtools-widget .widgetConfig=${widgetConfig(\n        ApplicationComponents.ProtocolHandlersView.ProtocolHandlersView,\n        {protocolHandlers: data.protocolHandlers, manifestLink: data.manifestLink})}\n        ${ref(setFocusOnSection(i18nString(UIStrings.protocolHandlers), output))}>\n      </devtools-widget>\n    </div>\n    <devtools-report-divider></devtools-report-divider>`;\n  // clang-format on\n}\n\nfunction renderImage(imageSrc: string, imageUrl: string, naturalWidth: number): LitTemplate {\n  // clang-format off\n  return html`\n    <div class=\"image-wrapper\">\n      <img src=${imageSrc} alt=${i18nString(UIStrings.imageFromS, {PH1: imageUrl})}\n          width=${naturalWidth}>\n    </div>`;\n  // clang-format on\n}\n\nfunction setFocusOnSection(section: Platform.UIString.LocalizedString, output: ViewOutput): (e: Element|undefined) =>\n    void {\n  return (e: Element|undefined) => {\n    if (e instanceof HTMLElement) {\n      output.focusOnSection.set(section, () => e.focus());\n    }\n  };\n}\n\nfunction renderIcons(\n    data: IconsSectionData, maskedIcons: boolean, onToggleIconMasked: (value: boolean) => void,\n    output: ViewOutput): LitTemplate {\n  // clang-format off\n  return html`${renderSectionHeader(i18nString(UIStrings.icons), output)}\n    <div class=\"report-section\" jslog=${VisualLogging.section('icons')}>\n      <div class=\"report-row\">\n        <devtools-checkbox class=\"mask-checkbox\"\n            jslog=${VisualLogging.toggle('show-minimal-safe-area-for-maskable-icons')\n                                  .track({change: true})}\n            @click=${(event: Event) => onToggleIconMasked((event.target as HTMLInputElement).checked)}\n            ${ref(setFocusOnSection(i18nString(UIStrings.icons), output))}>\n          ${i18nString(UIStrings.showOnlyTheMinimumSafeAreaFor)}\n        </devtools-checkbox>\n      </div>\n      <div class=\"report-row\">\n        ${i18nTemplate(str_, UIStrings.needHelpReadOurS, {\n          PH1: html`\n            <devtools-link href=\"https://web.dev/maskable-icon/\" .jslogContext=${'learn-more'}>\n              ${i18nString(UIStrings.documentationOnMaskableIcons)}\n            </devtools-link>`,\n        })}\n      </div>\n      ${Array.from(data.icons).map(([title, images]: [string, ProcessedImageResource[]]) => {\n        return html`\n        <devtools-report-key>${title}</devtools-report-key>\n        <devtools-report-value class=${classMap({'show-mask': Boolean(maskedIcons)})}>\n          ${images.filter(icon => 'imageSrc' in icon)\n              .map(icon => renderImage(icon.imageSrc, icon.imageUrl, icon.naturalWidth))}\n        </devtools-report-value>\n      `;})}\n    </div>`;\n  // clang-format on\n}\n\nfunction renderShortcuts(data: ShortcutsSectionData): LitTemplate {\n  // clang-format off\n  return html`${data.shortcuts.map((shortcut, index) => html`\n    ${renderSectionHeader(i18nString(UIStrings.shortcutS, {PH1: index + 1}))}\n    <div class=\"report-section\" jslog=${VisualLogging.section('shortcuts')}>\n      <devtools-report-key>${i18nString(UIStrings.name)}</devtools-report-key>\n      <devtools-report-value>${shortcut.name}</devtools-report-value>\n      ${shortcut.shortName ? html`\n        <devtools-report-key>${i18nString(UIStrings.shortName)}</devtools-report-key>\n        <devtools-report-value>${shortcut.shortName}</devtools-report-value>\n      ` : nothing}\n      ${shortcut.description ? html`\n        <devtools-report-key>${i18nString(UIStrings.description)}</devtools-report-key>\n        <devtools-report-value>${shortcut.description}</devtools-report-value>\n      ` : nothing}\n      <devtools-report-key>${i18nString(UIStrings.url)}</devtools-report-key>\n      <devtools-report-value>\n        ${linkifyURL(shortcut.shortcutUrl, {text: shortcut.url, tabStop: true, jslogContext: 'shortcut'})}\n      </devtools-report-value>\n      ${Array.from(shortcut.icons).map(([title, images]) => html`\n        <devtools-report-key>${title}</devtools-report-key>\n        <devtools-report-value>\n          ${images.filter(icon => 'imageSrc' in icon)\n            .map(icon => renderImage(icon.imageSrc, icon.imageUrl, icon.naturalWidth))}\n        </devtools-report-value>\n      `)}\n    </div>`)}`;\n  // clang-format on\n}\n\nfunction renderScreenshots(data: ScreenshotsSectionData): LitTemplate {\n  // clang-format off\n  return html`${data.screenshots.map(({screenshot, processedImage}, index) => html`\n    ${renderSectionHeader(i18nString(UIStrings.screenshotS, {PH1: index + 1}))}\n    <div class=\"report-section\" jslog=${VisualLogging.section('screenshots')}>\n      ${screenshot.form_factor\n        ? html`<devtools-report-key>${i18nString(UIStrings.formFactor)}</devtools-report-key>\n          <devtools-report-value>${screenshot.form_factor}</devtools-report-value>`\n        : nothing}\n      ${screenshot.label\n        ? html`<devtools-report-key>${i18nString(UIStrings.label)}</devtools-report-key>\n          <devtools-report-value>${screenshot.label}</devtools-report-value>`\n        : nothing}\n      ${screenshot.platform\n        ? html`<devtools-report-key>${i18nString(UIStrings.platform)}</devtools-report-key>\n          <devtools-report-value>${screenshot.platform}</devtools-report-value>`\n        : nothing}\n      ${'imageSrc' in processedImage ? html`\n        <devtools-report-key>${processedImage.title}</devtools-report-key>\n        <devtools-report-value>\n          ${renderImage(processedImage.imageSrc, processedImage.imageUrl, processedImage.naturalWidth)}\n        </devtools-report-value>`\n        : nothing}\n    </div>\n  `)}`;\n  // clang-format on\n}\n\nfunction renderInstallability(\n    installabilitySection: UI.ReportView.Section, installabilityErrors: Protocol.Page.InstallabilityError[]): void {\n  installabilitySection.clearContent();\n  installabilitySection.element.classList.toggle('hidden', !installabilityErrors.length);\n  const errorMessages = getInstallabilityErrorMessages(installabilityErrors);\n  setSectionContents(errorMessages.map(content => ({content})), installabilitySection);\n}\n\nfunction renderWindowControlsSection(\n    data: WindowControlsSectionData, selectedPlatform: string|undefined,\n    onSelectOs: ((selectedOS: SDK.OverlayModel.EmulatedOSType) => Promise<void>)|undefined,\n    onToggleWcoToolbar: ((enabled: boolean) => Promise<void>)|undefined, output: ViewOutput): LitTemplate {\n  // clang-format off\n  return html`\n    ${renderSectionHeader(i18nString(UIStrings.windowControlsOverlay), output)}\n    <div class=\"report-section\" jslog=${VisualLogging.section('window-controls-overlay')}>\n      ${data?.hasWco && output ? html`\n        <div class=\"report-row\">\n          <devtools-icon class=\"inline-icon\" name=\"check-circle\"></devtools-icon>\n          ${i18nTemplate(str_, UIStrings.wcoFound, {\n            PH1: html`<code class=\"wco\">window-controls-overlay</code>`,\n            PH2: html`<code>\n              <devtools-link\n                href=\"https://developer.mozilla.org/en-US/docs/Web/Manifest/display_override\"\n                .jslogContext=${'display-override'}\n                ${ref(setFocusOnSection(i18nString(UIStrings.windowControlsOverlay), output))}>\n                display-override\n              </devtools-link>\n            </code>`,\n            PH3: html`${Components.Linkifier.Linkifier.linkifyURL(data.url)}`,\n          })}\n        </div>\n        ${selectedPlatform && onSelectOs && onToggleWcoToolbar ?\n            renderWindowControls(selectedPlatform, onSelectOs, onToggleWcoToolbar) :\n            nothing}` : html`\n          <div class=\"report-row\">\n            <devtools-icon class=\"inline-icon\" name=\"info\"></devtools-icon>\n            ${i18nTemplate(str_, UIStrings.wcoNotFound, {PH1: html`<code>\n                <devtools-link\n                    href=\"https://developer.mozilla.org/en-US/docs/Web/Manifest/display_override\"\n                    .jslogContext=${'display-override'}\n                    ${ref(setFocusOnSection(i18nString(UIStrings.windowControlsOverlay), output))}>\n                  display-override\n                </devtools-link>\n              </code>`})}\n          </div>`}\n        <div class=\"report-row\">\n          ${i18nTemplate(str_, UIStrings.wcoNeedHelpReadMore, {PH1: html`<devtools-link\n              href=\"https://learn.microsoft.com/en-us/microsoft-edge/progressive-web-apps-chromium/how-to/window-controls-overlay\"\n              .jslogContext=${'customize-pwa-tittle-bar'}>\n            ${i18nString(UIStrings.customizePwaTitleBar)}\n          </devtools-link>`})}\n        </div>\n    </div>`;\n  // clang-format on\n}\n\nfunction getInstallabilityErrorMessages(installabilityErrors: Protocol.Page.InstallabilityError[]): string[] {\n  const errorMessages = [];\n  for (const installabilityError of installabilityErrors) {\n    let errorMessage;\n    switch (installabilityError.errorId) {\n      case 'not-in-main-frame':\n        errorMessage = i18nString(UIStrings.pageIsNotLoadedInTheMainFrame);\n        break;\n      case 'not-from-secure-origin':\n        errorMessage = i18nString(UIStrings.pageIsNotServedFromASecureOrigin);\n        break;\n      case 'no-manifest':\n        errorMessage = i18nString(UIStrings.pageHasNoManifestLinkUrl);\n        break;\n      case 'manifest-empty':\n        errorMessage = i18nString(UIStrings.manifestCouldNotBeFetchedIsEmpty);\n        break;\n      case 'start-url-not-valid':\n        errorMessage = i18nString(UIStrings.manifestStartUrlIsNotValid);\n        break;\n      case 'manifest-missing-name-or-short-name':\n        errorMessage = i18nString(UIStrings.manifestDoesNotContainANameOr);\n        break;\n      case 'manifest-display-not-supported':\n        errorMessage = i18nString(UIStrings.manifestDisplayPropertyMustBeOne);\n        break;\n      case 'manifest-missing-suitable-icon':\n        if (installabilityError.errorArguments.length !== 1 ||\n            installabilityError.errorArguments[0].name !== 'minimum-icon-size-in-pixels') {\n          console.error('Installability error does not have the correct errorArguments');\n          break;\n        }\n        errorMessage =\n            i18nString(UIStrings.manifestDoesNotContainASuitable, {PH1: installabilityError.errorArguments[0].value});\n        break;\n      case 'no-acceptable-icon':\n        if (installabilityError.errorArguments.length !== 1 ||\n            installabilityError.errorArguments[0].name !== 'minimum-icon-size-in-pixels') {\n          console.error('Installability error does not have the correct errorArguments');\n          break;\n        }\n        errorMessage =\n            i18nString(UIStrings.noSuppliedIconIsAtLeastSpxSquare, {PH1: installabilityError.errorArguments[0].value});\n        break;\n      case 'cannot-download-icon':\n        errorMessage = i18nString(UIStrings.couldNotDownloadARequiredIcon);\n        break;\n      case 'no-icon-available':\n        errorMessage = i18nString(UIStrings.downloadedIconWasEmptyOr);\n        break;\n      case 'platform-not-supported-on-android':\n        errorMessage = i18nString(UIStrings.theSpecifiedApplicationPlatform);\n        break;\n      case 'no-id-specified':\n        errorMessage = i18nString(UIStrings.noPlayStoreIdProvided);\n        break;\n      case 'ids-do-not-match':\n        errorMessage = i18nString(UIStrings.thePlayStoreAppUrlAndPlayStoreId);\n        break;\n      case 'already-installed':\n        errorMessage = i18nString(UIStrings.theAppIsAlreadyInstalled);\n        break;\n      case 'url-not-supported-for-webapk':\n        errorMessage = i18nString(UIStrings.aUrlInTheManifestContainsA);\n        break;\n      case 'in-incognito':\n        errorMessage = i18nString(UIStrings.pageIsLoadedInAnIncognitoWindow);\n        break;\n      case 'not-offline-capable':\n        errorMessage = i18nString(UIStrings.pageDoesNotWorkOffline);\n        break;\n      case 'no-url-for-service-worker':\n        errorMessage = i18nString(UIStrings.couldNotCheckServiceWorker);\n        break;\n      case 'prefer-related-applications':\n        errorMessage = i18nString(UIStrings.manifestSpecifies);\n        break;\n      case 'prefer-related-applications-only-beta-stable':\n        errorMessage = i18nString(UIStrings.preferrelatedapplicationsIsOnly);\n        break;\n      case 'manifest-display-override-not-supported':\n        errorMessage = i18nString(UIStrings.manifestContainsDisplayoverride);\n        break;\n      case 'warn-not-offline-capable':\n        errorMessage = i18nString(\n            UIStrings.pageDoesNotWorkOfflineThePage,\n            {PH1: 'https://developer.chrome.com/blog/improved-pwa-offline-detection/'});\n        break;\n      default:\n        console.error(`Installability error id '${installabilityError.errorId}' is not recognized`);\n        break;\n    }\n    if (errorMessage) {\n      errorMessages.push(errorMessage);\n    }\n  }\n  return errorMessages;\n}\n\nfunction renderWindowControls(\n    selectedPlatform: string, onSelectOs: (selectedOS: SDK.OverlayModel.EmulatedOSType) => Promise<void>,\n    onToggleWcoToolbar: (enabled: boolean) => Promise<void>): LitTemplate {\n  // clang-format off\n    return html`<div class=\"report-row\">\n      <devtools-checkbox @click=${(event: Event) => onToggleWcoToolbar((event.target as HTMLInputElement).checked)}\n          title=${i18nString(UIStrings.selectWindowControlsOverlayEmulationOs)}>\n        ${i18nString(UIStrings.selectWindowControlsOverlayEmulationOs)}\n      </devtools-checkbox>\n      <select value=${selectedPlatform}\n              @change=${(event: Event): void => {\n                const target = event.target as HTMLSelectElement;\n                const selectedOS = target.options[target.selectedIndex].value;\n                void onSelectOs(selectedOS as SDK.OverlayModel.EmulatedOSType);\n              }}\n             .selectedIndex=${0}>\n        <option value=${SDK.OverlayModel.EmulatedOSType.WINDOWS}\n                jslog=${VisualLogging.item('windows').track({click: true})}>\n          Windows\n        </option>\n        <option value=${SDK.OverlayModel.EmulatedOSType.MAC}\n                jslog=${VisualLogging.item('macos').track({click: true })}>\n          macOS\n        </option>\n        <option value=${SDK.OverlayModel.EmulatedOSType.LINUX}\n                jslog=${VisualLogging.item('linux').track({click: true})}>\n          Linux\n        </option>\n      </select>\n    </div>`;\n  // clang-format on\n}\n\nfunction setSectionContents(items: ReportSectionItem[], section: UI.ReportView.Section): void {\n  for (const item of items) {\n    if (!item.title) {\n      render(item.content, section.appendRow());\n      continue;\n    }\n    const element = item.flexed ? section.appendFlexedField(item.title) : section.appendField(item.title);\n    if (item.label) {\n      UI.ARIAUtils.setLabel(element, item.label);\n    }\n    render(item.content, element);\n  }\n}\n\ninterface ViewInput {\n  emptyView: UI.EmptyWidget.EmptyWidget;\n  reportView: UI.ReportView.ReportView;\n  errorsSection?: UI.ReportView.Section;\n  installabilitySection?: UI.ReportView.Section;\n  identitySection?: UI.ReportView.Section;\n  presentationSection?: UI.ReportView.Section;\n  iconsSection?: UI.ReportView.Section;\n  maskedIcons?: boolean;\n  windowControlsSection?: UI.ReportView.Section;\n  shortcutSections?: UI.ReportView.Section[];\n  screenshotsSections?: UI.ReportView.Section[];\n  parsedManifest?: Manifest;\n  url?: Platform.DevToolsPath.UrlString;\n  identityData?: IdentitySectionData;\n  presentationData?: PresentationSectionData;\n  protocolHandlersData?: ProtocolHandlersSectionData;\n  iconsData?: IconsSectionData;\n  shortcutsData?: ShortcutsSectionData;\n  screenshotsData?: ScreenshotsSectionData;\n  installabilityErrors?: Protocol.Page.InstallabilityError[];\n  warnings?: Platform.UIString.LocalizedString[];\n  errors?: Protocol.Page.AppManifestError[];\n  imageErrors?: Platform.UIString.LocalizedString[];\n  windowControlsData?: WindowControlsSectionData;\n  selectedPlatform?: string;\n  onSelectOs?: (selectedOS: SDK.OverlayModel.EmulatedOSType) => Promise<void>;\n  onToggleWcoToolbar?: (enabled: boolean) => Promise<void>;\n  onToggleIconMasked?: (masked: boolean) => void;\n}\n\ninterface ViewOutput {\n  scrollToSection: Map<string, () => void>;\n  focusOnSection: Map<string, () => void>;\n}\n\ntype View = (input: ViewInput, output: ViewOutput, target: HTMLElement) => void;\n\nexport const DEFAULT_VIEW: View = (input, output, target) => {\n  const {\n    errorsSection,\n    installabilitySection,\n    identitySection,\n    presentationSection,\n    identityData,\n    presentationData,\n    protocolHandlersData,\n    iconsData,\n    shortcutsData,\n    screenshotsData,\n    installabilityErrors,\n    warnings,\n    errors,\n    imageErrors,\n    maskedIcons,\n    windowControlsData,\n    selectedPlatform,\n    onSelectOs,\n    onToggleWcoToolbar,\n    onToggleIconMasked,\n  } = input;\n  if (identitySection && identityData) {\n    renderIdentity(identitySection, identityData);\n  }\n  if (presentationSection && presentationData) {\n    renderPresentation(presentationSection, presentationData);\n  }\n  if (installabilitySection && installabilityErrors) {\n    renderInstallability(installabilitySection, installabilityErrors);\n  }\n  if (errorsSection) {\n    renderErrors(errorsSection, warnings, errors, imageErrors);\n  }\n  // clang-format off\n  render(html`\n    <style>${appManifestViewStyles}</style>\n    <devtools-report>\n      ${protocolHandlersData ? renderProtocolHandlers(protocolHandlersData, output) : nothing}\n      ${iconsData && onToggleIconMasked && maskedIcons ?\n          renderIcons(iconsData, maskedIcons, onToggleIconMasked, output) : nothing}\n      ${windowControlsData && output ? renderWindowControlsSection(\n          windowControlsData, selectedPlatform, onSelectOs, onToggleWcoToolbar, output) : nothing}\n      ${shortcutsData ? renderShortcuts(shortcutsData) : nothing}\n      ${screenshotsData ? renderScreenshots(screenshotsData) : nothing}\n    </devtools-report>`, target);\n  // clang-format on\n};\n\nexport class AppManifestView extends Common.ObjectWrapper.eventMixin<EventTypes, typeof UI.Widget.VBox>(UI.Widget.VBox)\n    implements SDK.TargetManager.Observer {\n  private readonly emptyView: UI.EmptyWidget.EmptyWidget;\n  private readonly reportView: UI.ReportView.ReportView;\n  private readonly errorsSection: UI.ReportView.Section;\n  private readonly installabilitySection: UI.ReportView.Section;\n  private readonly identitySection: UI.ReportView.Section;\n  private readonly presentationSection: UI.ReportView.Section;\n  private registeredListeners: Common.EventTarget.EventDescriptor[];\n  private target?: SDK.Target.Target;\n  private resourceTreeModel?: SDK.ResourceTreeModel.ResourceTreeModel|null;\n  private serviceWorkerManager?: SDK.ServiceWorkerManager.ServiceWorkerManager|null;\n  private overlayModel?: SDK.OverlayModel.OverlayModel|null;\n  private manifestUrl: Platform.DevToolsPath.UrlString;\n  private manifestData: string|null;\n  private manifestErrors: Protocol.Page.AppManifestError[];\n  private installabilityErrors: Protocol.Page.InstallabilityError[];\n  private appIdResponse: Protocol.Page.GetAppIdResponse|null;\n  private wcoToolbarEnabled = false;\n  private maskedIcons = false;\n  private readonly view: View;\n  private readonly output: ViewOutput = {scrollToSection: new Map(), focusOnSection: new Map()};\n\n  constructor(view: View = DEFAULT_VIEW) {\n    super({\n      jslog: `${VisualLogging.pane('manifest')}`,\n      useShadowDom: true,\n    });\n    this.view = view;\n\n    this.contentElement.classList.add('manifest-container');\n\n    this.emptyView = new UI.EmptyWidget.EmptyWidget(\n        i18nString(UIStrings.noManifestDetected), i18nString(UIStrings.manifestDescription));\n    this.emptyView.link = 'https://web.dev/add-manifest/' as Platform.DevToolsPath.UrlString;\n\n    this.emptyView.show(this.contentElement);\n    this.emptyView.hideWidget();\n\n    this.reportView = new UI.ReportView.ReportView(i18nString(UIStrings.appManifest));\n    this.reportView.registerRequiredCSS(appManifestViewStyles);\n    this.reportView.element.classList.add('manifest-view-header');\n    this.reportView.show(this.contentElement);\n    this.reportView.hideWidget();\n\n    this.errorsSection =\n        this.reportView.appendSection(i18nString(UIStrings.errorsAndWarnings), undefined, 'errors-and-warnings');\n    this.installabilitySection =\n        this.reportView.appendSection(i18nString(UIStrings.installability), undefined, 'installability');\n    this.identitySection = this.reportView.appendSection(i18nString(UIStrings.identity), 'undefined,identity');\n    this.presentationSection =\n        this.reportView.appendSection(i18nString(UIStrings.presentation), 'undefined,presentation');\n\n    SDK.TargetManager.TargetManager.instance().observeTargets(this);\n    this.registeredListeners = [];\n\n    this.manifestUrl = Platform.DevToolsPath.EmptyUrlString;\n    this.manifestData = null;\n    this.manifestErrors = [];\n    this.installabilityErrors = [];\n    this.appIdResponse = null;\n  }\n\n  scrollToSection(sectionTitle: string): void {\n    const handler = this.output.scrollToSection.get(sectionTitle);\n    if (handler) {\n      handler();\n    } else {\n      const section = this.getManifestSections().find(s => s.title() === sectionTitle);\n      if (section) {\n        section.getTitleElement().scrollIntoView();\n      }\n    }\n    UI.ARIAUtils.LiveAnnouncer.alert(i18nString(UIStrings.onInvokeAlert, {PH1: sectionTitle}));\n  }\n\n  getFieldElementForSection(sectionTitle: string): HTMLElement|null {\n    const section = this.getManifestSections().find(s => s.title() === sectionTitle);\n    return section ? section.getFieldElement() : null;\n  }\n\n  focusOnSection(sectionTitle: string): boolean {\n    const handler = this.output.focusOnSection.get(sectionTitle);\n    if (handler) {\n      handler();\n      return true;\n    }\n    const sectionFieldElement = this.getFieldElementForSection(sectionTitle);\n    if (!sectionFieldElement) {\n      return false;\n    }\n    const checkBoxElement = sectionFieldElement.querySelector('.mask-checkbox');\n    let focusableElement: HTMLElement|null = sectionFieldElement.querySelector('[tabindex=\"0\"]');\n    if (checkBoxElement?.shadowRoot) {\n      focusableElement = checkBoxElement.shadowRoot.querySelector('input') || null;\n    }\n    if (focusableElement) {\n      focusableElement.focus();\n      return true;\n    }\n    return false;\n  }\n\n  private getManifestSections(): UI.ReportView.Section[] {\n    return [\n      this.identitySection,\n      this.presentationSection,\n    ];\n  }\n  getStaticSections(): Array<{title: string, jslogContext: string|undefined}> {\n    return [\n      {title: i18nString(UIStrings.identity), jslogContext: 'identity'},\n      {title: i18nString(UIStrings.presentation), jslogContext: 'presentation'},\n      {title: i18nString(UIStrings.protocolHandlers), jslogContext: 'protocol-handlers'},\n      {title: i18nString(UIStrings.icons), jslogContext: 'icons'},\n      {title: i18nString(UIStrings.windowControlsOverlay), jslogContext: 'window-controls'},\n    ];\n  }\n\n  getManifestElement(): Element {\n    return this.reportView.getHeaderElement();\n  }\n\n  targetAdded(target: SDK.Target.Target): void {\n    if (target !== SDK.TargetManager.TargetManager.instance().primaryPageTarget()) {\n      return;\n    }\n    this.target = target;\n    this.resourceTreeModel = target.model(SDK.ResourceTreeModel.ResourceTreeModel);\n    this.serviceWorkerManager = target.model(SDK.ServiceWorkerManager.ServiceWorkerManager);\n    this.overlayModel = target.model(SDK.OverlayModel.OverlayModel);\n    if (!this.resourceTreeModel || !this.serviceWorkerManager || !this.overlayModel) {\n      return;\n    }\n\n    void this.updateManifest(true);\n\n    this.registeredListeners = [\n      this.resourceTreeModel.addEventListener(\n          SDK.ResourceTreeModel.Events.DOMContentLoaded,\n          () => {\n            void this.updateManifest(true);\n          }),\n      this.serviceWorkerManager.addEventListener(\n          SDK.ServiceWorkerManager.Events.REGISTRATION_UPDATED,\n          () => {\n            void this.updateManifest(false);\n          }),\n    ];\n  }\n\n  targetRemoved(target: SDK.Target.Target): void {\n    if (this.target !== target) {\n      return;\n    }\n    if (!this.resourceTreeModel || !this.serviceWorkerManager || !this.overlayModel) {\n      return;\n    }\n    delete this.resourceTreeModel;\n    delete this.serviceWorkerManager;\n    delete this.overlayModel;\n    Common.EventTarget.removeEventListeners(this.registeredListeners);\n  }\n\n  private async updateManifest(immediately: boolean): Promise<void> {\n    if (!this.resourceTreeModel) {\n      return;\n    }\n    const [{url, data, errors}, installabilityErrors, appId] = await Promise.all([\n      this.resourceTreeModel.fetchAppManifest(),\n      this.resourceTreeModel.getInstallabilityErrors(),\n      this.resourceTreeModel.getAppId(),\n    ]);\n\n    this.manifestUrl = url;\n    this.manifestData = data;\n    this.manifestErrors = errors;\n    this.installabilityErrors = installabilityErrors;\n    this.appIdResponse = appId;\n\n    if (immediately) {\n      await this.performUpdate();\n    } else {\n      await this.requestUpdate();\n    }\n  }\n\n  override async performUpdate(): Promise<void> {\n    const url = this.manifestUrl;\n    let data = this.manifestData;\n    const errors = this.manifestErrors;\n    const installabilityErrors = this.installabilityErrors;\n    const appIdResponse = this.appIdResponse;\n\n    const appId = appIdResponse?.appId || null;\n    const recommendedId = appIdResponse?.recommendedId || null;\n    if ((!data || data === '{}') && !errors.length) {\n      this.emptyView.showWidget();\n      this.reportView.hideWidget();\n      this.view({emptyView: this.emptyView, reportView: this.reportView}, this.output, this.contentElement);\n      this.dispatchEventToListeners(Events.MANIFEST_DETECTED, false);\n      return;\n    }\n    this.emptyView.hideWidget();\n    this.reportView.showWidget();\n    this.dispatchEventToListeners(Events.MANIFEST_DETECTED, true);\n\n    const link = Components.Linkifier.Linkifier.linkifyURL(url, {tabStop: true});\n    this.reportView.setURL(link);\n\n    if (!data) {\n      this.view(\n          {emptyView: this.emptyView, reportView: this.reportView, errorsSection: this.errorsSection, errors},\n          this.output, this.contentElement);\n      return;\n    }\n\n    if (data.charCodeAt(0) === 0xFEFF) {\n      data = data.slice(1);\n    }  // Trim the BOM as per https://tools.ietf.org/html/rfc7159#section-8.1.\n\n    const parsedManifest = JSON.parse(data);\n\n    const identityData = this.processIdentity(parsedManifest, appId, recommendedId);\n\n    const presentationData = this.processPresentation(parsedManifest, url);\n    const protocolHandlersData = this.processProtocolHandlers(parsedManifest, url);\n\n    const iconsData = await this.processIcons(parsedManifest, url);\n    const shortcutsData = await this.processShortcuts(parsedManifest, url);\n\n    const screenshotsData = await this.processScreenshots(parsedManifest, url);\n\n    const warnings = [\n      ...identityData.warnings,\n      ...shortcutsData.warnings,\n      ...screenshotsData.warnings,\n    ];\n\n    const imageErrors = [\n      ...iconsData.imageResourceErrors,\n      ...shortcutsData.imageResourceErrors,\n      ...screenshotsData.imageResourceErrors,\n    ];\n\n    const windowControlsData = await this.processWindowControls(parsedManifest, url);\n    const selectedPlatform = this.overlayModel?.getWindowControlsConfig().selectedPlatform;\n    const onSelectOs = this.overlayModel ?\n        (selectedOS: SDK.OverlayModel.EmulatedOSType) => this.onSelectOs(selectedOS, windowControlsData.themeColor) :\n        undefined;\n    const onToggleWcoToolbar = this.overlayModel ? (enabled: boolean) => this.onToggleWcoToolbar(enabled) : undefined;\n    const onToggleIconMasked = (masked: boolean): void => {\n      this.maskedIcons = masked;\n      this.requestUpdate();\n    };\n    this.view(\n        {\n          emptyView: this.emptyView,\n          reportView: this.reportView,\n          errorsSection: this.errorsSection,\n          installabilitySection: this.installabilitySection,\n          identitySection: this.identitySection,\n          presentationSection: this.presentationSection,\n          maskedIcons: this.maskedIcons,\n          parsedManifest,\n          url,\n          identityData,\n          presentationData,\n          protocolHandlersData,\n          iconsData,\n          shortcutsData,\n          screenshotsData,\n          installabilityErrors,\n          warnings,\n          errors,\n          imageErrors,\n          windowControlsData,\n          selectedPlatform,\n          onSelectOs,\n          onToggleWcoToolbar,\n          onToggleIconMasked,\n        },\n        this.output, this.contentElement);\n  }\n\n  private stringProperty(parsedManifest: Manifest, name: keyof Manifest): string {\n    const value = parsedManifest[name];\n    if (typeof value !== 'string') {\n      return '';\n    }\n    return value;\n  }\n\n  private async loadImage(url: Platform.DevToolsPath.UrlString): Promise<{\n    naturalWidth: number,\n    naturalHeight: number,\n    src: string,\n  }|null> {\n    const frameId = this.resourceTreeModel?.mainFrame?.id;\n    if (!this.target) {\n      throw new Error('no target');\n    }\n    if (!frameId) {\n      throw new Error('no main frame found');\n    }\n    const {content} = await SDK.PageResourceLoader.PageResourceLoader.instance().loadResource(\n        url, {\n          target: this.target,\n          frameId,\n          initiatorUrl: this.target.inspectedURL(),\n        },\n        /* isBinary=*/ true);\n    const image = document.createElement('img');\n    const result = new Promise((resolve, reject) => {\n      image.onload = resolve;\n      image.onerror = reject;\n    });\n    // Octet-stream seems to work for most cases. If it turns out it\n    // does not work, we can parse mimeType out of the response headers\n    // using front_end/core/platform/MimeType.ts.\n    image.src = 'data:application/octet-stream;base64,' + await Common.Base64.encode(content);\n    try {\n      await result;\n      return {naturalWidth: image.naturalWidth, naturalHeight: image.naturalHeight, src: image.src};\n    } catch {\n    }\n    return null;\n  }\n\n  parseSizes(\n      sizes: string, resourceName: Platform.UIString.LocalizedString, imageUrl: string,\n      imageResourceErrors: Platform.UIString.LocalizedString[]): ParsedSize[] {\n    const rawSizeArray = sizes ? sizes.split(/\\s+/) : [];\n    const parsedSizes: ParsedSize[] = [];\n    for (const size of rawSizeArray) {\n      if (size === 'any') {\n        if (!parsedSizes.find(x => 'any' in x)) {\n          parsedSizes.push({any: 'any', formatted: 'any'});\n        }\n        continue;\n      }\n      const match = size.match(/^(?<width>\\d+)[xX](?<height>\\d+)$/);\n      if (match) {\n        const width = parseInt(match.groups?.width || '', 10);\n        const height = parseInt(match.groups?.height || '', 10);\n        const formatted = `${width}×${height}px`;\n        parsedSizes.push({width, height, formatted});\n      } else {\n        imageResourceErrors.push(i18nString(UIStrings.sSShouldSpecifyItsSizeAs, {PH1: resourceName, PH2: imageUrl}));\n      }\n    }\n    return parsedSizes;\n  }\n\n  checkSizeProblem(\n      size: ParsedSize, naturalWidth: number, naturalHeight: number, resourceName: Platform.UIString.LocalizedString,\n      imageUrl: string): {hasSquareSize: boolean, error?: Platform.UIString.LocalizedString} {\n    if ('any' in size) {\n      return {hasSquareSize: naturalWidth === naturalHeight};\n    }\n    const hasSquareSize = size.width === size.height;\n    if (naturalWidth !== size.width && naturalHeight !== size.height) {\n      return {\n        error: i18nString(UIStrings.actualSizeSspxOfSSDoesNotMatch, {\n          PH1: naturalWidth,\n          PH2: naturalHeight,\n          PH3: resourceName,\n          PH4: imageUrl,\n          PH5: size.width,\n          PH6: size.height,\n        }),\n        hasSquareSize,\n      };\n    }\n    if (naturalWidth !== size.width) {\n      return {\n        error: i18nString(\n            UIStrings.actualWidthSpxOfSSDoesNotMatch,\n            {PH1: naturalWidth, PH2: resourceName, PH3: imageUrl, PH4: size.width}),\n        hasSquareSize,\n      };\n    }\n    if (naturalHeight !== size.height) {\n      return {\n        error: i18nString(\n            UIStrings.actualHeightSpxOfSSDoesNotMatch,\n            {PH1: naturalHeight, PH2: resourceName, PH3: imageUrl, PH4: size.height}),\n        hasSquareSize,\n      };\n    }\n    return {hasSquareSize};\n  }\n\n  private async processImageResource(\n      baseUrl: Platform.DevToolsPath.UrlString,\n      imageResource: any,  // eslint-disable-line @typescript-eslint/no-explicit-any\n      isScreenshot: boolean): Promise<ProcessedImageResource> {\n    const imageResourceErrors: Platform.UIString.LocalizedString[] = [];\n    const resourceName = isScreenshot ? i18nString(UIStrings.screenshot) : i18nString(UIStrings.icon);\n    if (!imageResource.src) {\n      imageResourceErrors.push(i18nString(UIStrings.sSrcIsNotSet, {PH1: resourceName}));\n      return {imageResourceErrors};\n    }\n    const imageUrl = Common.ParsedURL.ParsedURL.completeURL(baseUrl, imageResource['src']);\n    if (!imageUrl) {\n      imageResourceErrors.push(\n          i18nString(UIStrings.sUrlSFailedToParse, {PH1: resourceName, PH2: imageResource['src']}));\n      return {imageResourceErrors, imageUrl: imageResource['src']};\n    }\n    const result = await this.loadImage(imageUrl);\n    if (!result) {\n      imageResourceErrors.push(i18nString(UIStrings.sSFailedToLoad, {PH1: resourceName, PH2: imageUrl}));\n      return {imageResourceErrors, imageUrl};\n    }\n    const {src, naturalWidth, naturalHeight} = result;\n    const sizes = this.parseSizes(imageResource['sizes'], resourceName, imageUrl, imageResourceErrors);\n    const title = sizes.map(x => x.formatted).join(' ') + '\\n' + (imageResource['type'] || '');\n    let squareSizedIconAvailable = false;\n    if (!imageResource.sizes) {\n      imageResourceErrors.push(i18nString(UIStrings.sSDoesNotSpecifyItsSizeInThe, {PH1: resourceName, PH2: imageUrl}));\n    } else {\n      if (isScreenshot && sizes.length > 0 && 'any' in sizes[0]) {\n        imageResourceErrors.push(i18nString(UIStrings.screenshotPixelSize, {url: imageUrl}));\n      }\n      for (const size of sizes) {\n        const {error, hasSquareSize} = this.checkSizeProblem(size, naturalWidth, naturalHeight, resourceName, imageUrl);\n        squareSizedIconAvailable = squareSizedIconAvailable || hasSquareSize;\n        if (error) {\n          imageResourceErrors.push(error);\n        } else if (isScreenshot) {\n          const width = 'any' in size ? naturalWidth : size.width;\n          const height = 'any' in size ? naturalHeight : size.height;\n          if (width < 320 || height < 320) {\n            imageResourceErrors.push(\n                i18nString(UIStrings.sSSizeShouldBeAtLeast320, {PH1: resourceName, PH2: imageUrl}));\n          } else if (width > 3840 || height > 3840) {\n            imageResourceErrors.push(\n                i18nString(UIStrings.sSSizeShouldBeAtMost3840, {PH1: resourceName, PH2: imageUrl}));\n          } else if (width > (height * 2.3)) {\n            imageResourceErrors.push(\n                i18nString(UIStrings.sSWidthDoesNotComplyWithRatioRequirement, {PH1: resourceName, PH2: imageUrl}));\n          } else if (height > (width * 2.3)) {\n            imageResourceErrors.push(\n                i18nString(UIStrings.sSHeightDoesNotComplyWithRatioRequirement, {PH1: resourceName, PH2: imageUrl}));\n          }\n        }\n      }\n    }\n\n    const purpose = typeof imageResource['purpose'] === 'string' ? imageResource['purpose'].toLowerCase() : '';\n    if (purpose.includes('any') && purpose.includes('maskable')) {\n      imageResourceErrors.push(i18nString(UIStrings.avoidPurposeAnyAndMaskable));\n    }\n\n    return {\n      imageResourceErrors,\n      squareSizedIconAvailable,\n      naturalWidth,\n      naturalHeight,\n      title,\n      imageSrc: src,\n      imageUrl,\n    };\n  }\n\n  private async onToggleWcoToolbar(enabled: boolean): Promise<void> {\n    this.wcoToolbarEnabled = enabled;\n    if (this.overlayModel) {\n      await this.overlayModel.toggleWindowControlsToolbar(this.wcoToolbarEnabled);\n    }\n  }\n\n  private async onSelectOs(selectedOS: SDK.OverlayModel.EmulatedOSType, themeColor: string): Promise<void> {\n    if (this.overlayModel) {\n      this.overlayModel.setWindowControlsPlatform(selectedOS);\n      this.overlayModel.setWindowControlsThemeColor(themeColor);\n      await this.overlayModel.toggleWindowControlsToolbar(this.wcoToolbarEnabled);\n    }\n  }\n\n  private processIdentity(parsedManifest: Manifest, appId: string|null, recommendedId: string|null):\n      IdentitySectionData {\n    const description = this.stringProperty(parsedManifest, 'description');\n    const warnings: Platform.UIString.LocalizedString[] = [];\n    // See https://crbug.com/1354304 for details.\n    if (description.length > 300) {\n      warnings.push(i18nString(UIStrings.descriptionMayBeTruncated));\n    }\n    return {\n      name: this.stringProperty(parsedManifest, 'name'),\n      shortName: this.stringProperty(parsedManifest, 'short_name'),\n      description: this.stringProperty(parsedManifest, 'description'),\n      appId,\n      recommendedId,\n      hasId: Boolean(this.stringProperty(parsedManifest, 'id')),\n      warnings,\n    };\n  }\n\n  private async processIcons(parsedManifest: Manifest, url: Platform.DevToolsPath.UrlString):\n      Promise<IconsSectionData> {\n    const icons = parsedManifest['icons'] || [];\n    const imageErrors: Platform.UIString.LocalizedString[] = [];\n    const processedIcons: ProcessedImageResource[] = [];\n    let squareSizedIconAvailable = false;\n\n    for (const icon of icons) {\n      const result = await this.processImageResource(url, icon, /** isScreenshot= */ false);\n      processedIcons.push(result);\n      imageErrors.push(...result.imageResourceErrors);\n\n      if (result.squareSizedIconAvailable) {\n        squareSizedIconAvailable = true;\n      }\n    }\n\n    const processedIconsByTitle = Map.groupBy(\n        processedIcons.filter((icon): icon is ProcessedImageResource&{title: string} => 'title' in icon),\n        img => img.title,\n    );\n\n    if (!squareSizedIconAvailable) {\n      imageErrors.push(i18nString(UIStrings.sSShouldHaveSquareIcon));\n    }\n    return {icons: processedIconsByTitle, imageResourceErrors: imageErrors};\n  }\n\n  private async processShortcuts(parsedManifest: Manifest, url: Platform.DevToolsPath.UrlString):\n      Promise<ShortcutsSectionData> {\n    const shortcuts = parsedManifest['shortcuts'] || [];\n    const processedShortcuts: ProcessedShortcut[] = [];\n\n    const warnings: Platform.UIString.LocalizedString[] = [];\n    const imageErrors: Platform.UIString.LocalizedString[] = [];\n\n    if (shortcuts.length > 4) {\n      warnings.push(i18nString(UIStrings.shortcutsMayBeNotAvailable));\n    }\n\n    let shortcutIndex = 1;\n    for (const shortcut of shortcuts) {\n      const shortcutUrl = Common.ParsedURL.ParsedURL.completeURL(url, shortcut.url) as Platform.DevToolsPath.UrlString;\n      const shortcutIcons = shortcut.icons || [];\n      const processedIcons: ProcessedImageResource[] = [];\n      let hasShortcutIconLargeEnough = false;\n\n      for (const shortcutIcon of shortcutIcons) {\n        const result = await this.processImageResource(url, shortcutIcon, /** isScreenshot= */ false);\n        processedIcons.push(result);\n        imageErrors.push(...result.imageResourceErrors);\n\n        if (!hasShortcutIconLargeEnough && shortcutIcon.sizes) {\n          const shortcutIconSize = shortcutIcon.sizes.match(/^(\\d+)x(\\d+)$/);\n          if (shortcutIconSize && Number(shortcutIconSize[1]) >= 96 && Number(shortcutIconSize[2]) >= 96) {\n            hasShortcutIconLargeEnough = true;\n          }\n        }\n      }\n\n      const iconsByTitle = Map.groupBy(\n          processedIcons.filter(icon => 'title' in icon),\n          img => img.title,\n      );\n\n      processedShortcuts.push({\n        name: shortcut.name,\n        shortName: shortcut.short_name,\n        description: shortcut.description,\n        url: shortcut.url,\n        shortcutUrl,\n        icons: iconsByTitle,\n      });\n\n      if (!hasShortcutIconLargeEnough) {\n        imageErrors.push(i18nString(UIStrings.shortcutSShouldIncludeAXPixel, {PH1: shortcutIndex}));\n      }\n      shortcutIndex++;\n    }\n    return {shortcuts: processedShortcuts, warnings, imageResourceErrors: imageErrors};\n  }\n\n  private async processScreenshots(parsedManifest: Manifest, url: Platform.DevToolsPath.UrlString):\n      Promise<ScreenshotsSectionData> {\n    const screenshots: Screenshot[] = parsedManifest['screenshots'] || [];\n    const processedScreenshots: ProcessedScreenshot[] = [];\n\n    const warnings: Platform.UIString.LocalizedString[] = [];\n    const imageErrors: Platform.UIString.LocalizedString[] = [];\n\n    let haveScreenshotsDifferentAspectRatio = false;\n    const formFactorScreenshotDimensions = new Map<string, {width: number, height: number}>();\n    for (const screenshot of screenshots) {\n      const result = await this.processImageResource(url, screenshot, /** isScreenshot= */ true);\n      processedScreenshots.push({screenshot, processedImage: result});\n      imageErrors.push(...result.imageResourceErrors);\n\n      if (screenshot.form_factor && 'naturalWidth' in result) {\n        const width = result.naturalWidth;\n        const height = result.naturalHeight;\n        formFactorScreenshotDimensions.has(screenshot.form_factor) ||\n            formFactorScreenshotDimensions.set(screenshot.form_factor, {width, height});\n        const formFactorFirstScreenshotDimensions = formFactorScreenshotDimensions.get(screenshot.form_factor);\n        if (formFactorFirstScreenshotDimensions) {\n          haveScreenshotsDifferentAspectRatio = haveScreenshotsDifferentAspectRatio ||\n              (width * formFactorFirstScreenshotDimensions.height !==\n               height * formFactorFirstScreenshotDimensions.width);\n        }\n      }\n    }\n\n    if (haveScreenshotsDifferentAspectRatio) {\n      warnings.push(i18nString(UIStrings.screenshotsMustHaveSameAspectRatio));\n    }\n\n    const screenshotsForDesktop = screenshots.filter(screenshot => screenshot.form_factor === 'wide');\n    const screenshotsForMobile = screenshots.filter(screenshot => screenshot.form_factor !== 'wide');\n\n    if (screenshotsForDesktop.length < 1) {\n      warnings.push(i18nString(UIStrings.noScreenshotsForRicherPWAInstallOnDesktop));\n    }\n    if (screenshotsForMobile.length < 1) {\n      warnings.push(i18nString(UIStrings.noScreenshotsForRicherPWAInstallOnMobile));\n    }\n    if (screenshotsForDesktop.length > 8) {\n      warnings.push(i18nString(UIStrings.tooManyScreenshotsForDesktop));\n    }\n    if (screenshotsForMobile.length > 5) {\n      warnings.push(i18nString(UIStrings.tooManyScreenshotsForMobile));\n    }\n\n    return {screenshots: processedScreenshots, warnings, imageResourceErrors: imageErrors};\n  }\n\n  private async processWindowControls(parsedManifest: Manifest, url: Platform.DevToolsPath.UrlString):\n      Promise<WindowControlsSectionData> {\n    const displayOverride = parsedManifest['display_override'] || [];\n    const hasWco = displayOverride.includes('window-controls-overlay');\n    const themeColor = this.stringProperty(parsedManifest, 'theme_color');\n    let wcoStyleSheetText = false;\n    if (this.overlayModel) {\n      wcoStyleSheetText = await this.overlayModel.hasStyleSheetText(url);\n    }\n    return {\n      hasWco,\n      themeColor,\n      wcoStyleSheetText,\n      url,\n    };\n  }\n\n  private processPresentation(parsedManifest: Manifest, url: Platform.DevToolsPath.UrlString): PresentationSectionData {\n    const startURL = this.stringProperty(parsedManifest, 'start_url');\n    const completeURL = startURL ? Common.ParsedURL.ParsedURL.completeURL(url, startURL) : null;\n    const themeColorString = this.stringProperty(parsedManifest, 'theme_color');\n    const themeColor = themeColorString ? Common.Color.parse(themeColorString) ?? Common.Color.parse('white') : null;\n    const backgroundColorString = this.stringProperty(parsedManifest, 'background_color');\n    const backgroundColor =\n        backgroundColorString ? Common.Color.parse(backgroundColorString) ?? Common.Color.parse('white') : null;\n    const noteTaking = parsedManifest['note_taking'] || {};\n    const newNoteUrl = noteTaking['new_note_url'];\n    const hasNewNoteUrl = typeof newNoteUrl === 'string';\n    const completeNewNoteUrl = hasNewNoteUrl ?\n        (Common.ParsedURL.ParsedURL.completeURL(url, newNoteUrl) as Platform.DevToolsPath.UrlString) :\n        null;\n\n    return {\n      startUrl: startURL,\n      completeStartUrl: completeURL,\n      themeColor,\n      backgroundColor,\n      orientation: this.stringProperty(parsedManifest, 'orientation'),\n      display: this.stringProperty(parsedManifest, 'display'),\n      newNoteUrl,\n      hasNewNoteUrl,\n      completeNewNoteUrl,\n    };\n  }\n\n  private processProtocolHandlers(parsedManifest: Manifest, url: Platform.DevToolsPath.UrlString):\n      ProtocolHandlersSectionData {\n    return {\n      protocolHandlers: parsedManifest['protocol_handlers'] || [],\n      manifestLink: url,\n    };\n  }\n}\n\nexport const enum Events {\n  MANIFEST_DETECTED = 'ManifestDetected',\n}\n\nexport interface EventTypes {\n  [Events.MANIFEST_DETECTED]: boolean;\n}\n"]}