{"version":3,"file":"PreloadingDetailsReportView.js","sourceRoot":"","sources":["../../../../../../../../front_end/panels/application/preloading/components/PreloadingDetailsReportView.ts"],"names":[],"mappings":"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","sourcesContent":["// Copyright 2022 The Chromium Authors\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n/* eslint-disable @devtools/no-lit-render-outside-of-view */\n\nimport '../../../../ui/components/report_view/report_view.js';\nimport '../../../../ui/components/request_link_icon/request_link_icon.js';\nimport '../../../../ui/legacy/components/utils/utils.js';\n\nimport * as Common from '../../../../core/common/common.js';\nimport * as i18n from '../../../../core/i18n/i18n.js';\nimport type * as Platform from '../../../../core/platform/platform.js';\nimport {assertNotNullOrUndefined} from '../../../../core/platform/platform.js';\nimport * as SDK from '../../../../core/sdk/sdk.js';\nimport * as Protocol from '../../../../generated/protocol.js';\nimport * as Logs from '../../../../models/logs/logs.js';\nimport * as Buttons from '../../../../ui/components/buttons/buttons.js';\nimport * as UI from '../../../../ui/legacy/legacy.js';\nimport * as Lit from '../../../../ui/lit/lit.js';\nimport * as VisualLogging from '../../../../ui/visual_logging/visual_logging.js';\nimport * as PreloadingHelper from '../helper/helper.js';\n\nimport preloadingDetailsReportViewStyles from './preloadingDetailsReportView.css.js';\nimport * as PreloadingString from './PreloadingString.js';\nimport {prefetchFailureReason, prerenderFailureReason, ruleSetLocationShort} from './PreloadingString.js';\n\nconst {html} = Lit;\n\nconst UIStrings = {\n  /**\n   * @description Text in PreloadingDetailsReportView of the Application panel if no element is selected. An element here is an item in a\n   * table of target URLs and additional prefetching states. https://developer.chrome.com/docs/devtools/application/debugging-speculation-rules\n   */\n  noElementSelected: 'No element selected',\n  /**\n   * @description Text in PreloadingDetailsReportView of the Application panel to prompt user to select an element in a table. An element here is an item in a\n   * table of target URLs and additional prefetching states. https://developer.chrome.com/docs/devtools/application/debugging-speculation-rules\n   */\n  selectAnElementForMoreDetails: 'Select an element for more details',\n  /**\n   * @description Text in details\n   */\n  detailsDetailedInformation: 'Detailed information',\n  /**\n   * @description Text in details\n   */\n  detailsAction: 'Action',\n  /**\n   * @description Text in details\n   */\n  detailsStatus: 'Status',\n  /**\n   * @description Text in details\n   */\n  detailsTargetHint: 'Target hint',\n  /**\n   * @description Text in details\n   */\n  detailsFailureReason: 'Failure reason',\n  /**\n   * @description Header of rule set\n   */\n  detailsRuleSet: 'Rule set',\n  /**\n   * @description Description: status\n   */\n  automaticallyFellBackToPrefetch: '(automatically fell back to prefetch)',\n  /**\n   * @description Description: status\n   */\n  detailedStatusNotTriggered: 'Speculative load attempt is not yet triggered.',\n  /**\n   * @description Description: status\n   */\n  detailedStatusPending: 'Speculative load attempt is eligible but pending.',\n  /**\n   * @description Description: status\n   */\n  detailedStatusRunning: 'Speculative load is running.',\n  /**\n   * @description Description: status\n   */\n  detailedStatusReady: 'Speculative load finished and the result is ready for the next navigation.',\n  /**\n   * @description Description: status\n   */\n  detailedStatusSuccess: 'Speculative load finished and used for a navigation.',\n  /**\n   * @description Description: status\n   */\n  detailedStatusFailure: 'Speculative load failed.',\n  /**\n   * @description Description: status\n   */\n  detailedStatusFallbackToPrefetch: 'Speculative load failed, but fallback to prefetch succeeded.',\n  /**\n   * @description button: Contents of button to inspect prerendered page\n   */\n  buttonInspect: 'Inspect',\n  /**\n   * @description button: Title of button to inspect prerendered page\n   */\n  buttonClickToInspect: 'Click to inspect prerendered page',\n  /**\n   * @description button: Title of button to reveal rule set\n   */\n  buttonClickToRevealRuleSet: 'Click to reveal rule set',\n} as const;\nconst str_ =\n    i18n.i18n.registerUIStrings('panels/application/preloading/components/PreloadingDetailsReportView.ts', UIStrings);\nconst i18nString = i18n.i18n.getLocalizedString.bind(undefined, str_);\n\nclass PreloadingUIUtils {\n  static detailedStatus({status}: SDK.PreloadingModel.PreloadingAttempt): string {\n    // See content/public/browser/preloading.h PreloadingAttemptOutcome.\n    switch (status) {\n      case SDK.PreloadingModel.PreloadingStatus.NOT_TRIGGERED:\n        return i18nString(UIStrings.detailedStatusNotTriggered);\n      case SDK.PreloadingModel.PreloadingStatus.PENDING:\n        return i18nString(UIStrings.detailedStatusPending);\n      case SDK.PreloadingModel.PreloadingStatus.RUNNING:\n        return i18nString(UIStrings.detailedStatusRunning);\n      case SDK.PreloadingModel.PreloadingStatus.READY:\n        return i18nString(UIStrings.detailedStatusReady);\n      case SDK.PreloadingModel.PreloadingStatus.SUCCESS:\n        return i18nString(UIStrings.detailedStatusSuccess);\n      case SDK.PreloadingModel.PreloadingStatus.FAILURE:\n        return i18nString(UIStrings.detailedStatusFailure);\n      // NotSupported is used to handle unreachable case. For example,\n      // there is no code path for\n      // PreloadingTriggeringOutcome::kTriggeredButPending in prefetch,\n      // which is mapped to NotSupported. So, we regard it as an\n      // internal error.\n      case SDK.PreloadingModel.PreloadingStatus.NOT_SUPPORTED:\n        return i18n.i18n.lockedString('Internal error');\n    }\n  }\n\n  static detailedTargetHint(key: Protocol.Preload.PreloadingAttemptKey): string {\n    assertNotNullOrUndefined(key.targetHint);\n    switch (key.targetHint) {\n      case Protocol.Preload.SpeculationTargetHint.Blank:\n        return '_blank';\n      case Protocol.Preload.SpeculationTargetHint.Self:\n        return '_self';\n    }\n  }\n}\n\nexport type PreloadingDetailsReportViewData = PreloadingDetailsReportViewDataInternal|null;\ninterface PreloadingDetailsReportViewDataInternal {\n  pipeline: SDK.PreloadingModel.PreloadPipeline;\n  ruleSets: Protocol.Preload.RuleSet[];\n  pageURL: Platform.DevToolsPath.UrlString;\n  requestResolver?: Logs.RequestResolver.RequestResolver;\n}\n\nexport interface ViewInput {\n  data: PreloadingDetailsReportViewData;\n  onRevealRuleSet: (ruleSet: Protocol.Preload.RuleSet) => void;\n}\nexport type ViewOutput = unknown;\nexport type View = (input: ViewInput, output: ViewOutput, target: HTMLElement) => void;\n\nfunction url(data: PreloadingDetailsReportViewDataInternal): Lit.LitTemplate {\n  const attempt = data.pipeline.getOriginallyTriggered();\n\n  const prefetchStatus = data.pipeline.getPrefetch()?.status;\n\n  let value;\n  if (attempt.action === Protocol.Preload.SpeculationAction.Prefetch && attempt.requestId !== undefined &&\n      prefetchStatus !== SDK.PreloadingModel.PreloadingStatus.NOT_TRIGGERED) {\n    // Disabled until https://crbug.com/1079231 is fixed.\n    // clang-format off\n    const {requestId, key: {url}} = attempt;\n    const affectedRequest: {requestId?: Protocol.Network.RequestId, url?: string} = {requestId, url};\n    value = html`\n        <devtools-request-link-icon\n          .data=${\n            {\n              affectedRequest,\n              requestResolver: data.requestResolver || new Logs.RequestResolver.RequestResolver(),\n              displayURL: true,\n              urlToDisplay: url,\n            }\n          }\n        >\n        </devtools-request-link-icon>\n    `;\n  } else {\n    value = html`<div class=\"text-ellipsis\" title=${attempt.key.url}>${attempt.key.url}</div>`;\n  }\n\n  // Disabled until https://crbug.com/1079231 is fixed.\n  // clang-format off\n  return html`\n      <devtools-report-key>${i18n.i18n.lockedString('URL')}</devtools-report-key>\n      <devtools-report-value>\n        ${value}\n      </devtools-report-value>\n  `;\n  // clang-format on\n}\n\nfunction isPrerenderLike(speculationAction: Protocol.Preload.SpeculationAction): boolean {\n  return [\n    Protocol.Preload.SpeculationAction.Prerender, Protocol.Preload.SpeculationAction.PrerenderUntilScript\n  ].includes(speculationAction);\n}\n\nfunction action(data: PreloadingDetailsReportViewDataInternal, isFallbackToPrefetch: boolean): Lit.LitTemplate {\n  const attempt = data.pipeline.getOriginallyTriggered();\n\n  const action = PreloadingString.capitalizedAction(attempt.action);\n\n  let maybeFallback: Lit.LitTemplate = Lit.nothing;\n  if (isFallbackToPrefetch) {\n    maybeFallback = html`${i18nString(UIStrings.automaticallyFellBackToPrefetch)}`;\n  }\n\n  let maybeInspectButton: Lit.LitTemplate = Lit.nothing;\n  (() => {\n    if (!isPrerenderLike(attempt.action)) {\n      return;\n    }\n\n    const target = SDK.TargetManager.TargetManager.instance().primaryPageTarget();\n    if (target === null) {\n      return;\n    }\n\n    const prerenderTarget = SDK.TargetManager.TargetManager.instance().targets().find(\n        child => child.targetInfo()?.subtype === 'prerender' && child.inspectedURL() === attempt.key.url);\n\n    const disabled = (prerenderTarget === undefined);\n    const inspect = (): void => {\n      if (prerenderTarget === undefined) {\n        return;\n      }\n      UI.Context.Context.instance().setFlavor(SDK.Target.Target, prerenderTarget);\n    };\n    // Disabled until https://crbug.com/1079231 is fixed.\n    // clang-format off\n    maybeInspectButton = html`\n        <devtools-button\n          @click=${inspect}\n          .title=${i18nString(UIStrings.buttonClickToInspect)}\n          .size=${Buttons.Button.Size.SMALL}\n          .variant=${Buttons.Button.Variant.OUTLINED}\n          .disabled=${disabled}\n          jslog=${VisualLogging.action('inspect-prerendered-page').track({click: true})}\n        >\n          ${i18nString(UIStrings.buttonInspect)}\n        </devtools-button>\n    `;\n    // clang-format on\n  })();\n\n  // Disabled until https://crbug.com/1079231 is fixed.\n  // clang-format off\n  return html`\n      <devtools-report-key>${i18nString(UIStrings.detailsAction)}</devtools-report-key>\n      <devtools-report-value>\n        <div class=\"text-ellipsis\" title=\"\">\n          ${action} ${maybeFallback} ${maybeInspectButton}\n        </div>\n      </devtools-report-value>\n  `;\n  // clang-format on\n}\n\nfunction status(data: PreloadingDetailsReportViewDataInternal, isFallbackToPrefetch: boolean): Lit.LitTemplate {\n  const attempt = data.pipeline.getOriginallyTriggered();\n\n  const detailedStatus = isFallbackToPrefetch ? i18nString(UIStrings.detailedStatusFallbackToPrefetch) :\n                                                PreloadingUIUtils.detailedStatus(attempt);\n\n  return html`\n      <devtools-report-key>${i18nString(UIStrings.detailsStatus)}</devtools-report-key>\n      <devtools-report-value>\n        ${detailedStatus}\n      </devtools-report-value>\n  `;\n}\n\nfunction maybePrefetchFailureReason(data: PreloadingDetailsReportViewDataInternal): Lit.LitTemplate {\n  const attempt = data.pipeline.getOriginallyTriggered();\n\n  if (attempt.action !== Protocol.Preload.SpeculationAction.Prefetch) {\n    return Lit.nothing;\n  }\n\n  const failureDescription = prefetchFailureReason(attempt);\n  if (failureDescription === null) {\n    return Lit.nothing;\n  }\n\n  return html`\n      <devtools-report-key>${i18nString(UIStrings.detailsFailureReason)}</devtools-report-key>\n      <devtools-report-value>\n        ${failureDescription}\n      </devtools-report-value>\n  `;\n}\n\nfunction targetHint(data: PreloadingDetailsReportViewDataInternal): Lit.LitTemplate {\n  const attempt = data.pipeline.getOriginallyTriggered();\n  const hasTargetHint = isPrerenderLike(attempt.action) && attempt.key.targetHint !== undefined;\n  if (!hasTargetHint) {\n    return Lit.nothing;\n  }\n\n  return html`\n      <devtools-report-key>${i18nString(UIStrings.detailsTargetHint)}</devtools-report-key>\n      <devtools-report-value>\n        ${PreloadingUIUtils.detailedTargetHint(attempt.key)}\n      </devtools-report-value>\n  `;\n}\n\nfunction maybePrerenderFailureReason(data: PreloadingDetailsReportViewDataInternal): Lit.LitTemplate {\n  const attempt = data.pipeline.getOriginallyTriggered();\n\n  if (!isPrerenderLike(attempt.action)) {\n    return Lit.nothing;\n  }\n\n  const failureReason = prerenderFailureReason(\n      attempt as SDK.PreloadingModel.PrerenderAttempt | SDK.PreloadingModel.PrerenderUntilScriptAttempt);\n  if (failureReason === null) {\n    return Lit.nothing;\n  }\n\n  return html`\n      <devtools-report-key>${i18nString(UIStrings.detailsFailureReason)}</devtools-report-key>\n      <devtools-report-value>\n        ${failureReason}\n      </devtools-report-value>\n  `;\n}\n\nconst DEFAULT_VIEW: View = ({data, onRevealRuleSet}, _, target) => {\n  if (data === null) {\n    // Disabled until https://crbug.com/1079231 is fixed.\n    // clang-format off\n    Lit.render(html`\n      <style>${preloadingDetailsReportViewStyles}</style>\n      <style>${UI.inspectorCommonStyles}</style>\n      <div class=\"empty-state\">\n        <span class=\"empty-state-header\">${i18nString(UIStrings.noElementSelected)}</span>\n        <span class=\"empty-state-description\">${i18nString(UIStrings.selectAnElementForMoreDetails)}</span>\n      </div>\n    `, target, {host: target});\n    // clang-format on\n    return;\n  }\n\n  const pipeline = data.pipeline;\n  const pageURL = data.pageURL;\n  const isFallbackToPrefetch = pipeline.getPrerender()?.status === SDK.PreloadingModel.PreloadingStatus.FAILURE &&\n      (pipeline.getPrefetch()?.status === SDK.PreloadingModel.PreloadingStatus.READY ||\n       pipeline.getPrefetch()?.status === SDK.PreloadingModel.PreloadingStatus.SUCCESS);\n\n  // Disabled until https://crbug.com/1079231 is fixed.\n  // clang-format off\n  Lit.render(html`\n    <style>${preloadingDetailsReportViewStyles}</style>\n    <style>${UI.inspectorCommonStyles}</style>\n    <devtools-report\n      .data=${{reportTitle: 'Speculative Loading Attempt'}}\n      jslog=${VisualLogging.section('preloading-details')}>\n      <devtools-report-section-header>${i18nString(UIStrings.detailsDetailedInformation)}</devtools-report-section-header>\n\n      ${url(data)}\n      ${action(data, isFallbackToPrefetch)}\n      ${status(data, isFallbackToPrefetch)}\n      ${targetHint(data)}\n      ${maybePrefetchFailureReason(data)}\n      ${maybePrerenderFailureReason(data)}\n\n      ${data.ruleSets.map(ruleSet => {\n        const location = ruleSetLocationShort(ruleSet, pageURL);\n        return html`\n          <devtools-report-key>${i18nString(UIStrings.detailsRuleSet)}</devtools-report-key>\n          <devtools-report-value>\n            <div class=\"text-ellipsis\" title=\"\">\n              <button class=\"link\" role=\"link\"\n                @click=${() => onRevealRuleSet(ruleSet)}\n                title=${i18nString(UIStrings.buttonClickToRevealRuleSet)}\n                style=${Lit.Directives.styleMap({\n                  color: 'var(--sys-color-primary)',\n                  'text-decoration': 'underline',\n                })}\n                jslog=${VisualLogging.action('reveal-rule-set').track({click: true})}\n              >\n                ${location}\n              </button>\n            </div>\n          </devtools-report-value>\n        `;\n      })}\n    </devtools-report>\n  `, target, {host: target});\n  // clang-format on\n};\nexport class PreloadingDetailsReportView extends UI.Widget.VBox {\n  #view: View;\n  #data: PreloadingDetailsReportViewData = null;\n\n  constructor(view: View = DEFAULT_VIEW) {\n    super();\n    this.#view = view;\n  }\n\n  set data(data: PreloadingDetailsReportViewData) {\n    this.#data = data;\n    this.requestUpdate();\n  }\n\n  override performUpdate(): void {\n    this.#view(\n        {\n          data: this.#data,\n          onRevealRuleSet: (ruleSet: Protocol.Preload.RuleSet) => {\n            void Common.Revealer.reveal(new PreloadingHelper.PreloadingForward.RuleSetView(ruleSet.id));\n          },\n        },\n        undefined,\n        this.contentElement,\n    );\n  }\n}\n"]}