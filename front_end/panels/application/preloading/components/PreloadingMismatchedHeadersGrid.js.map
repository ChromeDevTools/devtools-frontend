{"version":3,"file":"PreloadingMismatchedHeadersGrid.js","sourceRoot":"","sources":["../../../../../../../../front_end/panels/application/preloading/components/PreloadingMismatchedHeadersGrid.ts"],"names":[],"mappings":"AAAA,sCAAsC;AACtC,yEAAyE;AACzE,6BAA6B;AAC7B,4DAA4D;AAE5D,OAAO,yDAAyD,CAAC;AAEjE,OAAO,KAAK,IAAI,MAAM,+BAA+B,CAAC;AAEtD,OAAO,KAAK,aAAa,MAAM,4DAA4D,CAAC;AAE5F,OAAO,KAAK,GAAG,MAAM,2BAA2B,CAAC;AAEjD,OAAO,oBAAoB,MAAM,yBAAyB,CAAC;AAE3D,MAAM,SAAS,GAAG;IAChB;;OAEG;IACH,UAAU,EAAE,aAAa;IACzB;;OAEG;IACH,sBAAsB,EAAE,6BAA6B;IACrD;;OAEG;IACH,yBAAyB,EAAE,gCAAgC;IAC3D;;OAEG;IACH,OAAO,EAAE,WAAW;CACZ,CAAC;AACX,MAAM,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC,iBAAiB,CACpC,6EAA6E,EAAE,SAAS,CAAC,CAAC;AAC9F,MAAM,CAAC,MAAM,UAAU,GAAG,IAAI,CAAC,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,CAAC;AAE7E,MAAM,EAAC,MAAM,EAAE,IAAI,EAAC,GAAG,GAAG,CAAC;AAE3B,MAAM,OAAO,+BAAgC,SAAQ,aAAa,CAAC,aAAa,CAAC,kBAAkC;IACxG,OAAO,GAAG,IAAI,CAAC,YAAY,CAAC,EAAC,IAAI,EAAE,MAAM,EAAC,CAAC,CAAC;IACrD,KAAK,GAA8F,IAAI,CAAC;IACxG,iBAAiB;QACf,IAAI,CAAC,OAAO,EAAE,CAAC;IACjB,CAAC;IAED,IAAI,IAAI,CAAC,IAA0F;QACjG,IAAI,IAAI,CAAC,iBAAiB,KAAK,IAAI,EAAE,CAAC;YACpC,OAAO;QACT,CAAC;QACD,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC;QAClB,IAAI,CAAC,OAAO,EAAE,CAAC;IACjB,CAAC;IAED,OAAO;QACL,IAAI,CAAC,IAAI,CAAC,KAAK,EAAE,iBAAiB,EAAE,CAAC;YACnC,OAAO;QACT,CAAC;QAED,qDAAqD;QACrD,mBAAmB;QACjB,MAAM,CAAC,IAAI,CAAA;iBACA,oBAAoB;;;;;;oBAMjB,UAAU,CAAC,SAAS,CAAC,UAAU,CAAC;;;oBAGhC,UAAU,CAAC,SAAS,CAAC,sBAAsB,CAAC;;;oBAG5C,UAAU,CAAC,SAAS,CAAC,yBAAyB,CAAC;;;gBAGnD,IAAI,CAAC,KAAK,CAAC,iBAAiB,CAAC,GAAG,CAAC,iBAAiB,CAAC,EAAE,CAAC,IAAI,CAAA;;wBAElD,iBAAiB,CAAC,UAAU;wBAC5B,iBAAiB,CAAC,YAAY,IAAI,UAAU,CAAC,SAAS,CAAC,OAAO,CAAC;wBAC/D,iBAAiB,CAAC,eAAe,IAAI,UAAU,CAAC,SAAS,CAAC,OAAO,CAAC;;eAE3E,CAAC;;;;OAIT,EAAE,IAAI,CAAC,OAAO,EAAE,EAAC,IAAI,EAAE,IAAI,EAAC,CAAC,CAAC;QACjC,kBAAkB;IACpB,CAAC;CACF;AAED,cAAc,CAAC,MAAM,CAAC,uDAAuD,EAAE,+BAA+B,CAAC,CAAC","sourcesContent":["// Copyright 2023 The Chromium Authors\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n/* eslint-disable @devtools/no-lit-render-outside-of-view */\n\nimport '../../../../ui/legacy/components/data_grid/data_grid.js';\n\nimport * as i18n from '../../../../core/i18n/i18n.js';\nimport type * as SDK from '../../../../core/sdk/sdk.js';\nimport * as LegacyWrapper from '../../../../ui/components/legacy_wrapper/legacy_wrapper.js';\nimport type * as UI from '../../../../ui/legacy/legacy.js';\nimport * as Lit from '../../../../ui/lit/lit.js';\n\nimport preloadingGridStyles from './preloadingGrid.css.js';\n\nconst UIStrings = {\n  /**\n   * @description The name of the HTTP request header.\n   */\n  headerName: 'Header name',\n  /**\n   * @description The value of the HTTP request header in initial navigation.\n   */\n  initialNavigationValue: 'Value in initial navigation',\n  /**\n   * @description The value of the HTTP request header in activation navigation.\n   */\n  activationNavigationValue: 'Value in activation navigation',\n  /**\n   * @description The string to indicate the value of the header is missing.\n   */\n  missing: '(missing)',\n} as const;\nconst str_ = i18n.i18n.registerUIStrings(\n    'panels/application/preloading/components/PreloadingMismatchedHeadersGrid.ts', UIStrings);\nexport const i18nString = i18n.i18n.getLocalizedString.bind(undefined, str_);\n\nconst {render, html} = Lit;\n\nexport class PreloadingMismatchedHeadersGrid extends LegacyWrapper.LegacyWrapper.WrappableComponent<UI.Widget.VBox> {\n  readonly #shadow = this.attachShadow({mode: 'open'});\n  #data: SDK.PreloadingModel.PrerenderAttempt|SDK.PreloadingModel.PrerenderUntilScriptAttempt|null = null;\n  connectedCallback(): void {\n    this.#render();\n  }\n\n  set data(data: SDK.PreloadingModel.PrerenderAttempt|SDK.PreloadingModel.PrerenderUntilScriptAttempt) {\n    if (data.mismatchedHeaders === null) {\n      return;\n    }\n    this.#data = data;\n    this.#render();\n  }\n\n  #render(): void {\n    if (!this.#data?.mismatchedHeaders) {\n      return;\n    }\n\n    // Disabled until https://crbug.com/1079231 is fixed.\n    // clang-format off\n      render(html`\n        <style>${preloadingGridStyles}</style>\n        <div class=\"preloading-container\">\n          <devtools-data-grid striped inline>\n            <table>\n              <tr>\n                <th id=\"header-name\" weight=\"30\" sortable>\n                  ${i18nString(UIStrings.headerName)}\n                </th>\n                <th id=\"initial-value\" weight=\"30\" sortable>\n                  ${i18nString(UIStrings.initialNavigationValue)}\n                </th>\n                <th id=\"activation-value\" weight=\"30\" sortable>\n                  ${i18nString(UIStrings.activationNavigationValue)}\n                </th>\n              </tr>\n              ${this.#data.mismatchedHeaders.map(mismatchedHeaders => html`\n                <tr>\n                  <td>${mismatchedHeaders.headerName}</td>\n                  <td>${mismatchedHeaders.initialValue ?? i18nString(UIStrings.missing)}</td>\n                  <td>${mismatchedHeaders.activationValue ?? i18nString(UIStrings.missing)}</td>\n                </tr>\n              `)}\n            </table>\n          </devtools-data-grid>\n        </div>\n      `, this.#shadow, {host: this});\n    // clang-format on\n  }\n}\n\ncustomElements.define('devtools-resources-preloading-mismatched-headers-grid', PreloadingMismatchedHeadersGrid);\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    'devtools-resources-preloading-mismatched-headers-grid': PreloadingMismatchedHeadersGrid;\n  }\n}\n"]}