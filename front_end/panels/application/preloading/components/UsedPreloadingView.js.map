{"version":3,"file":"UsedPreloadingView.js","sourceRoot":"","sources":["../../../../../../../../front_end/panels/application/preloading/components/UsedPreloadingView.ts"],"names":[],"mappings":"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","sourcesContent":["// Copyright 2023 The Chromium Authors\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n/* eslint-disable @devtools/no-lit-render-outside-of-view */\n\nimport '../../../../ui/kit/kit.js';\nimport '../../../../ui/components/report_view/report_view.js';\nimport './MismatchedPreloadingGrid.js';\n\nimport * as Common from '../../../../core/common/common.js';\nimport * as i18n from '../../../../core/i18n/i18n.js';\nimport type * as Platform from '../../../../core/platform/platform.js';\nimport {assertNotNullOrUndefined} from '../../../../core/platform/platform.js';\nimport * as SDK from '../../../../core/sdk/sdk.js';\nimport * as Protocol from '../../../../generated/protocol.js';\nimport * as LegacyWrapper from '../../../../ui/components/legacy_wrapper/legacy_wrapper.js';\nimport * as RenderCoordinator from '../../../../ui/components/render_coordinator/render_coordinator.js';\nimport * as UI from '../../../../ui/legacy/legacy.js';\nimport * as Lit from '../../../../ui/lit/lit.js';\nimport * as VisualLogging from '../../../../ui/visual_logging/visual_logging.js';\nimport * as PreloadingHelper from '../helper/helper.js';\n\nimport * as MismatchedPreloadingGrid from './MismatchedPreloadingGrid.js';\nimport preloadingGridStyles from './preloadingGrid.css.js';\nimport {prefetchFailureReason, prerenderFailureReason} from './PreloadingString.js';\nimport usedPreloadingStyles from './usedPreloadingView.css.js';\n\nconst {html} = Lit;\n\nconst UIStrings = {\n  /**\n   * @description Header for preloading status.\n   */\n  speculativeLoadingStatusForThisPage: 'Speculative loading status for this page',\n  /**\n   * @description Label for failure reason of preloading\n   */\n  detailsFailureReason: 'Failure reason',\n  /**\n   * @description Message that tells this page was prerendered.\n   */\n  downgradedPrefetchUsed:\n      'The initiating page attempted to prerender this page\\'s URL. The prerender failed, but the resulting response body was still used as a prefetch.',\n  /**\n   * @description Message that tells this page was prefetched.\n   */\n  prefetchUsed: 'This page was successfully prefetched.',\n  /**\n   * @description Message that tells this page was prerendered.\n   */\n  prerenderUsed: 'This page was successfully prerendered.',\n  /**\n   * @description Message that tells this page was prefetched.\n   */\n  prefetchFailed:\n      'The initiating page attempted to prefetch this page\\'s URL, but the prefetch failed, so a full navigation was performed instead.',\n  /**\n   * @description Message that tells this page was prerendered.\n   */\n  prerenderFailed:\n      'The initiating page attempted to prerender this page\\'s URL, but the prerender failed, so a full navigation was performed instead.',\n  /**\n   * @description Message that tells this page was not preloaded.\n   */\n  noPreloads: 'The initiating page did not attempt to speculatively load this page\\'s URL.',\n  /**\n   * @description Header for current URL.\n   */\n  currentURL: 'Current URL',\n  /**\n   * @description Header for mismatched preloads.\n   */\n  preloadedURLs: 'URLs being speculatively loaded by the initiating page',\n  /**\n   * @description Header for summary.\n   */\n  speculationsInitiatedByThisPage: 'Speculations initiated by this page',\n  /**\n   * @description Link text to reveal rules.\n   */\n  viewAllRules: 'View all speculation rules',\n  /**\n   * @description Link text to reveal preloads.\n   */\n  viewAllSpeculations: 'View all speculations',\n  /**\n   * @description Link to learn more about Preloading\n   */\n  learnMore: 'Learn more: Speculative loading on developer.chrome.com',\n  /**\n   * @description Header for the table of mismatched network request header.\n   */\n  mismatchedHeadersDetail: 'Mismatched HTTP request headers',\n  /**\n   * @description Label for badge, indicating speculative load successfully used for this page.\n   */\n  badgeSuccess: 'Success',\n  /**\n   * @description Label for badge, indicating speculative load failed for this page.\n   */\n  badgeFailure: 'Failure',\n  /**\n   * @description Label for badge, indicating no speculative loads used for this page.\n   */\n  badgeNoSpeculativeLoads: 'No speculative loads',\n  /**\n   * @description Label for badge, indicating how many not triggered speculations there are.\n   */\n  badgeNotTriggeredWithCount: '{n, plural, =1 {# not triggered} other {# not triggered}}',\n  /**\n   * @description Label for badge, indicating how many in progress speculations there are.\n   */\n  badgeInProgressWithCount: '{n, plural, =1 {# in progress} other {# in progress}}',\n  /**\n   * @description Label for badge, indicating how many succeeded speculations there are.\n   */\n  badgeSuccessWithCount: '{n, plural, =1 {# success} other {# success}}',\n  /**\n   * @description Label for badge, indicating how many failed speculations there are.\n   */\n  badgeFailureWithCount: '{n, plural, =1 {# failure} other {# failures}}',\n  /**\n   * @description The name of the HTTP request header.\n   */\n  headerName: 'Header name',\n  /**\n   * @description The value of the HTTP request header in initial navigation.\n   */\n  initialNavigationValue: 'Value in initial navigation',\n  /**\n   * @description The value of the HTTP request header in activation navigation.\n   */\n  activationNavigationValue: 'Value in activation navigation',\n  /**\n   * @description The string to indicate the value of the header is missing.\n   */\n  missing: '(missing)',\n} as const;\nconst str_ = i18n.i18n.registerUIStrings('panels/application/preloading/components/UsedPreloadingView.ts', UIStrings);\nconst i18nString = i18n.i18n.getLocalizedString.bind(undefined, str_);\n\nexport interface UsedPreloadingViewData {\n  pageURL: Platform.DevToolsPath.UrlString;\n  previousAttempts: SDK.PreloadingModel.PreloadingAttempt[];\n  currentAttempts: SDK.PreloadingModel.PreloadingAttempt[];\n}\n\nexport const enum UsedKind {\n  DOWNGRADED_PRERENDER_TO_PREFETCH_AND_USED = 'DowngradedPrerenderToPrefetchAndUsed',\n  PREFETCH_USED = 'PrefetchUsed',\n  PRERENDER_USED = 'PrerenderUsed',\n  PREFETCH_FAILED = 'PrefetchFailed',\n  PRERENDER_FAILED = 'PrerenderFailed',\n  NO_PRELOADS = 'NoPreloads',\n}\n\n/**\n * TODO(kenoss): Rename this class and file once https://crrev.com/c/4933567 landed.\n * This also shows summary of speculations initiated by this page.\n **/\nexport class UsedPreloadingView extends LegacyWrapper.LegacyWrapper.WrappableComponent<UI.Widget.VBox> {\n  readonly #shadow = this.attachShadow({mode: 'open'});\n  #data: UsedPreloadingViewData = {\n    pageURL: '' as Platform.DevToolsPath.UrlString,\n    previousAttempts: [],\n    currentAttempts: [],\n  };\n\n  set data(data: UsedPreloadingViewData) {\n    this.#data = data;\n    void this.#render();\n  }\n\n  async #render(): Promise<void> {\n    await RenderCoordinator.write('UsedPreloadingView render', () => {\n      Lit.render(this.#renderTemplate(), this.#shadow, {host: this});\n    });\n  }\n\n  #renderTemplate(): Lit.LitTemplate {\n    // Disabled until https://crbug.com/1079231 is fixed.\n    // clang-format off\n    return html`\n      <style>${usedPreloadingStyles}</style>\n      <devtools-report>\n        ${this.#speculativeLoadingStatusForThisPageSections()}\n\n        <devtools-report-divider></devtools-report-divider>\n\n        ${this.#speculationsInitiatedByThisPageSummarySections()}\n\n        <devtools-report-divider></devtools-report-divider>\n\n        <devtools-report-section>\n          <x-link\n            class=\"link devtools-link\"\n            href=${'https://developer.chrome.com/blog/prerender-pages/'}\n            jslog=${VisualLogging.link()\n                    .track({ click: true, keydown: 'Enter|Space' })\n                    .context('learn-more')}\n          >${i18nString(UIStrings.learnMore)}</x-link>\n        </devtools-report-section>\n      </devtools-report>\n    `;\n    // clang-format on\n  }\n\n  #isPrerenderLike(speculationAction: Protocol.Preload.SpeculationAction): boolean {\n    return [\n      Protocol.Preload.SpeculationAction.Prerender, Protocol.Preload.SpeculationAction.PrerenderUntilScript\n    ].includes(speculationAction);\n  }\n\n  #isPrerenderAttempt(attempt: SDK.PreloadingModel.PreloadingAttempt):\n      attempt is SDK.PreloadingModel.PrerenderAttempt|SDK.PreloadingModel.PrerenderUntilScriptAttempt {\n    return this.#isPrerenderLike(attempt.action);\n  }\n\n  #speculativeLoadingStatusForThisPageSections(): Lit.LitTemplate {\n    const pageURL = Common.ParsedURL.ParsedURL.urlWithoutHash(this.#data.pageURL);\n    const forThisPage = this.#data.previousAttempts.filter(\n        attempt => Common.ParsedURL.ParsedURL.urlWithoutHash(attempt.key.url) === pageURL);\n    const prefetch =\n        forThisPage.filter(attempt => attempt.key.action === Protocol.Preload.SpeculationAction.Prefetch)[0];\n    const prerenderLike = forThisPage.filter(attempt => this.#isPrerenderLike(attempt.action))[0];\n\n    let kind = UsedKind.NO_PRELOADS;\n    // Prerender -> prefetch downgrade case\n    //\n    // This code does not handle the case SpecRules designate these preloads rather than prerenderer automatically downgrade prerendering.\n    // TODO(https://crbug.com/1410709): Improve this logic once automatic downgrade implemented.\n    if (prerenderLike?.status === SDK.PreloadingModel.PreloadingStatus.FAILURE &&\n        prefetch?.status === SDK.PreloadingModel.PreloadingStatus.SUCCESS) {\n      kind = UsedKind.DOWNGRADED_PRERENDER_TO_PREFETCH_AND_USED;\n    } else if (prefetch?.status === SDK.PreloadingModel.PreloadingStatus.SUCCESS) {\n      kind = UsedKind.PREFETCH_USED;\n    } else if (prerenderLike?.status === SDK.PreloadingModel.PreloadingStatus.SUCCESS) {\n      kind = UsedKind.PRERENDER_USED;\n    } else if (prefetch?.status === SDK.PreloadingModel.PreloadingStatus.FAILURE) {\n      kind = UsedKind.PREFETCH_FAILED;\n    } else if (prerenderLike?.status === SDK.PreloadingModel.PreloadingStatus.FAILURE) {\n      kind = UsedKind.PRERENDER_FAILED;\n    } else {\n      kind = UsedKind.NO_PRELOADS;\n    }\n\n    let badge;\n    let basicMessage;\n    switch (kind) {\n      case UsedKind.DOWNGRADED_PRERENDER_TO_PREFETCH_AND_USED:\n        badge = this.#badgeSuccess();\n        basicMessage = html`${i18nString(UIStrings.downgradedPrefetchUsed)}`;\n        break;\n      case UsedKind.PREFETCH_USED:\n        badge = this.#badgeSuccess();\n        basicMessage = html`${i18nString(UIStrings.prefetchUsed)}`;\n        break;\n      case UsedKind.PRERENDER_USED:\n        badge = this.#badgeSuccess();\n        basicMessage = html`${i18nString(UIStrings.prerenderUsed)}`;\n        break;\n      case UsedKind.PREFETCH_FAILED:\n        badge = this.#badgeFailure();\n        basicMessage = html`${i18nString(UIStrings.prefetchFailed)}`;\n        break;\n      case UsedKind.PRERENDER_FAILED:\n        badge = this.#badgeFailure();\n        basicMessage = html`${i18nString(UIStrings.prerenderFailed)}`;\n        break;\n      case UsedKind.NO_PRELOADS:\n        badge = this.#badgeNeutral(i18nString(UIStrings.badgeNoSpeculativeLoads));\n        basicMessage = html`${i18nString(UIStrings.noPreloads)}`;\n        break;\n    }\n\n    let maybeFailureReasonMessage;\n    if (kind === UsedKind.PREFETCH_FAILED) {\n      assertNotNullOrUndefined(prefetch);\n      maybeFailureReasonMessage = prefetchFailureReason(prefetch as SDK.PreloadingModel.PrefetchAttempt);\n    } else if (kind === UsedKind.PRERENDER_FAILED || kind === UsedKind.DOWNGRADED_PRERENDER_TO_PREFETCH_AND_USED) {\n      assertNotNullOrUndefined(prerenderLike);\n      maybeFailureReasonMessage = prerenderFailureReason(\n          prerenderLike as SDK.PreloadingModel.PrerenderAttempt | SDK.PreloadingModel.PrerenderUntilScriptAttempt);\n    }\n\n    let maybeFailureReason: Lit.LitTemplate = Lit.nothing;\n    if (maybeFailureReasonMessage !== undefined) {\n      // Disabled until https://crbug.com/1079231 is fixed.\n      // clang-format off\n      maybeFailureReason = html`\n      <devtools-report-section-header>${i18nString(UIStrings.detailsFailureReason)}</devtools-report-section-header>\n      <devtools-report-section>\n        ${maybeFailureReasonMessage}\n      </devtools-report-section>\n      `;\n      // clang-format on\n    }\n\n    // Disabled until https://crbug.com/1079231 is fixed.\n    // clang-format off\n    return html`\n      <devtools-report-section-header>${i18nString(UIStrings.speculativeLoadingStatusForThisPage)}</devtools-report-section-header>\n      <devtools-report-section>\n        <div>\n          <div class=\"status-badge-container\">\n            ${badge}\n          </div>\n          <div>\n            ${basicMessage}\n          </div>\n        </div>\n      </devtools-report-section>\n\n      ${maybeFailureReason}\n\n      ${this.#maybeMismatchedSections(kind)}\n      ${this.#maybeMismatchedHTTPHeadersSections()}\n    `;\n    // clang-format on\n  }\n\n  #maybeMismatchedSections(kind: UsedKind): Lit.LitTemplate {\n    if (kind !== UsedKind.NO_PRELOADS || this.#data.previousAttempts.length === 0) {\n      return Lit.nothing;\n    }\n\n    const rows = this.#data.previousAttempts.map(attempt => {\n      return {\n        url: attempt.key.url,\n        action: attempt.key.action,\n        status: attempt.status,\n      };\n    });\n    const data = {\n      pageURL: this.#data.pageURL,\n      rows,\n    };\n\n    // Disabled until https://crbug.com/1079231 is fixed.\n    // clang-format off\n    return html`\n      <devtools-report-section-header>${i18nString(UIStrings.currentURL)}</devtools-report-section-header>\n      <devtools-report-section>\n        <x-link\n          class=\"link devtools-link\"\n          href=${this.#data.pageURL}\n          jslog=${VisualLogging.link()\n                  .track({ click: true, keydown: 'Enter|Space' })\n                  .context('current-url')}\n        >${this.#data.pageURL}</x-link>\n      </devtools-report-section>\n\n      <devtools-report-section-header>${i18nString(UIStrings.preloadedURLs)}</devtools-report-section-header>\n      <devtools-report-section\n      jslog=${VisualLogging.section('preloaded-urls')}>\n        <devtools-widget\n          .widgetConfig=${UI.Widget.widgetConfig(MismatchedPreloadingGrid.MismatchedPreloadingGrid, {data})}\n        ></devtools-widget>\n      </devtools-report-section>\n    `;\n    // clang-format on\n  }\n\n  #maybeMismatchedHTTPHeadersSections(): Lit.LitTemplate {\n    const attempt = this.#data.previousAttempts.find(\n                        attempt => this.#isPrerenderAttempt(attempt) && attempt.mismatchedHeaders !== null) as\n            SDK.PreloadingModel.PrerenderAttempt |\n        SDK.PreloadingModel.PrerenderUntilScriptAttempt | undefined;\n    if (!attempt?.mismatchedHeaders) {\n      return Lit.nothing;\n    }\n\n    if (attempt.key.url !== this.#data.pageURL) {\n      // This place should never be reached since mismatched headers is reported only if the activation is attempted.\n      // TODO(crbug.com/1456673): remove this check once DevTools support embedder-triggered prerender or prerender\n      // supports non-vary-search.\n      throw new Error('unreachable');\n    }\n\n    // Disabled until https://crbug.com/1079231 is fixed.\n    // clang-format off\n    return html`\n      <devtools-report-section-header>${i18nString(UIStrings.mismatchedHeadersDetail)}</devtools-report-section-header>\n      <devtools-report-section>\n        <style>${preloadingGridStyles}</style>\n        <div class=\"preloading-container\">\n          <devtools-data-grid striped inline>\n            <table>\n              <tr>\n                <th id=\"header-name\" weight=\"30\" sortable>\n                  ${i18nString(UIStrings.headerName)}\n                </th>\n                <th id=\"initial-value\" weight=\"30\" sortable>\n                  ${i18nString(UIStrings.initialNavigationValue)}\n                </th>\n                <th id=\"activation-value\" weight=\"30\" sortable>\n                  ${i18nString(UIStrings.activationNavigationValue)}\n                </th>\n              </tr>\n              ${attempt.mismatchedHeaders.map(mismatchedHeaders => html`\n                <tr>\n                  <td>${mismatchedHeaders.headerName}</td>\n                  <td>${mismatchedHeaders.initialValue ?? i18nString(UIStrings.missing)}</td>\n                  <td>${mismatchedHeaders.activationValue ?? i18nString(UIStrings.missing)}</td>\n                </tr>\n              `)}\n            </table>\n          </devtools-data-grid>\n        </div>\n      </devtools-report-section>\n    `;\n    // clang-format on\n  }\n\n  #speculationsInitiatedByThisPageSummarySections(): Lit.LitTemplate {\n    const count = this.#data.currentAttempts.reduce((acc, attempt) => {\n      acc.set(attempt.status, (acc.get(attempt.status) ?? 0) + 1);\n      return acc;\n    }, new Map());\n    const notTriggeredCount = count.get(SDK.PreloadingModel.PreloadingStatus.NOT_TRIGGERED) ?? 0;\n    const readyCount = count.get(SDK.PreloadingModel.PreloadingStatus.READY) ?? 0;\n    const failureCount = count.get(SDK.PreloadingModel.PreloadingStatus.FAILURE) ?? 0;\n    const inProgressCount = (count.get(SDK.PreloadingModel.PreloadingStatus.PENDING) ?? 0) +\n        (count.get(SDK.PreloadingModel.PreloadingStatus.RUNNING) ?? 0);\n    const badges = [];\n    if (this.#data.currentAttempts.length === 0) {\n      badges.push(this.#badgeNeutral(i18nString(UIStrings.badgeNoSpeculativeLoads)));\n    }\n    if (notTriggeredCount > 0) {\n      badges.push(this.#badgeNeutral(i18nString(UIStrings.badgeNotTriggeredWithCount, {n: notTriggeredCount})));\n    }\n    if (inProgressCount > 0) {\n      badges.push(this.#badgeNeutral(i18nString(UIStrings.badgeInProgressWithCount, {n: inProgressCount})));\n    }\n    if (readyCount > 0) {\n      badges.push(this.#badgeSuccess(readyCount));\n    }\n    if (failureCount > 0) {\n      badges.push(this.#badgeFailure(failureCount));\n    }\n\n    const revealRuleSetView = (): void => {\n      void Common.Revealer.reveal(new PreloadingHelper.PreloadingForward.RuleSetView(null));\n    };\n    const revealAttemptViewWithFilter = (): void => {\n      void Common.Revealer.reveal(new PreloadingHelper.PreloadingForward.AttemptViewWithFilter(null));\n    };\n\n    // Disabled until https://crbug.com/1079231 is fixed.\n    // clang-format off\n    return html`\n      <devtools-report-section-header>${i18nString(UIStrings.speculationsInitiatedByThisPage)}</devtools-report-section-header>\n      <devtools-report-section>\n        <div>\n          <div class=\"status-badge-container\">\n            ${badges}\n          </div>\n\n          <div class=\"reveal-links\">\n            <button class=\"link devtools-link\" @click=${revealRuleSetView}\n            jslog=${VisualLogging.action('view-all-rules').track({click: true})}>\n              ${i18nString(UIStrings.viewAllRules)}\n            </button>\n           ãƒ»\n            <button class=\"link devtools-link\" @click=${revealAttemptViewWithFilter}\n            jslog=${VisualLogging.action('view-all-speculations').track({click: true})}>\n             ${i18nString(UIStrings.viewAllSpeculations)}\n            </button>\n          </div>\n        </div>\n      </devtools-report-section>\n    `;\n    // clang-format on\n  }\n\n  #badgeSuccess(count?: number): Lit.LitTemplate {\n    let message;\n    if (count === undefined) {\n      message = i18nString(UIStrings.badgeSuccess);\n    } else {\n      message = i18nString(UIStrings.badgeSuccessWithCount, {n: count});\n    }\n    return this.#badge('status-badge status-badge-success', 'check-circle', message);\n  }\n\n  #badgeFailure(count?: number): Lit.LitTemplate {\n    let message;\n    if (count === undefined) {\n      message = i18nString(UIStrings.badgeFailure);\n    } else {\n      message = i18nString(UIStrings.badgeFailureWithCount, {n: count});\n    }\n    return this.#badge('status-badge status-badge-failure', 'cross-circle', message);\n  }\n\n  #badgeNeutral(message: string): Lit.LitTemplate {\n    return this.#badge('status-badge status-badge-neutral', 'clear', message);\n  }\n\n  #badge(klass: string, iconName: string, message: string): Lit.LitTemplate {\n    // Disabled until https://crbug.com/1079231 is fixed.\n    // clang-format off\n    return html`\n      <span class=${klass}>\n        <devtools-icon name=${iconName}></devtools-icon>\n        <span>\n          ${message}\n        </span>\n      </span>\n    `;\n    // clang-format on\n  }\n}\n\ncustomElements.define('devtools-resources-used-preloading-view', UsedPreloadingView);\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    'devtools-resources-used-preloading-view': UsedPreloadingView;\n  }\n}\n"]}