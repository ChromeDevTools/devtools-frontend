{"version":3,"file":"TopLayerContainer.js","sourceRoot":"","sources":["../../../../../../front_end/panels/elements/TopLayerContainer.ts"],"names":[],"mappings":"AAAA,sCAAsC;AACtC,yEAAyE;AACzE,6BAA6B;AAG7B,OAAO,KAAK,GAAG,MAAM,uBAAuB,CAAC;AAC7C,OAAO,KAAK,EAAE,MAAM,2BAA2B,CAAC;AAGhD,OAAO,EAAC,mBAAmB,EAAC,MAAM,0BAA0B,CAAC;AAE7D,MAAM,OAAO,iBAAkB,SAAQ,EAAE,CAAC,WAAW,CAAC,WAAW;IAC/D,IAAI,CAAsB;IAC1B,QAAQ,CAA2B;IAEnC,YAAY,IAAyB,EAAE,QAAkC;QACvE,KAAK,CAAC,YAAY,CAAC,CAAC;QACpB,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC;QACzB,IAAI,CAAC,QAAQ,CAAC,QAAQ,EAAE,CAAC,gBAAgB,CACrC,GAAG,CAAC,QAAQ,CAAC,MAAM,CAAC,uBAAuB,EAAE,IAAI,CAAC,uBAAuB,EAAE,IAAI,CAAC,CAAC;QACrF,IAAI,CAAC,uBAAuB,CAAC;YAC3B,IAAI,EAAE;gBACJ,QAAQ;gBACR,iBAAiB,EAAE,EAAE;aACtB;SACF,CAAC,CAAC;IACL,CAAC;IAED,uBAAuB,CACnB,KAA8F;QAChG,IAAI,IAAI,CAAC,QAAQ,KAAK,KAAK,CAAC,IAAI,CAAC,QAAQ,EAAE,CAAC;YAC1C,OAAO;QACT,CAAC;QACD,IAAI,CAAC,cAAc,EAAE,CAAC;QACtB,MAAM,SAAS,GAAG,KAAK,CAAC,IAAI,CAAC,iBAAiB,CAAC;QAC/C,IAAI,CAAC,MAAM,GAAG,SAAS,CAAC,MAAM,KAAK,CAAC,CAAC;QACrC,KAAK,MAAM,QAAQ,IAAI,SAAS,EAAE,CAAC;YACjC,MAAM,OAAO,GAAG,IAAI,mBAAmB,CAAC,QAAQ,CAAC,CAAC;YAClD,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,CAAC;YAC1B,KAAK,MAAM,KAAK,IAAI,QAAQ,CAAC,cAAc,EAAE,CAAC;gBAC5C,OAAO,CAAC,WAAW,CAAC,IAAI,mBAAmB,CAAC,KAAK,CAAC,CAAC,CAAC;YACtD,CAAC;QACH,CAAC;IACH,CAAC;IAED,gBAAgB,CAAC,IAA0B;QACzC,IAAI,CAAC,QAAQ,EAAE,CAAC,OAAO,CAAC,KAAK,CAAC,EAAE;YAC9B,IAAI,KAAK,YAAY,mBAAmB,IAAI,KAAK,CAAC,YAAY,EAAE,CAAC,aAAa,EAAE,KAAK,IAAI,CAAC,aAAa,EAAE,EAAE,CAAC;gBAC1G,KAAK,CAAC,eAAe,EAAE,CAAC;YAC1B,CAAC;QACH,CAAC,CAAC,CAAC;IACL,CAAC;CACF","sourcesContent":["// Copyright 2022 The Chromium Authors\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\nimport type * as Common from '../../core/common/common.js';\nimport * as SDK from '../../core/sdk/sdk.js';\nimport * as UI from '../../ui/legacy/legacy.js';\n\nimport type {ElementsTreeOutline} from './ElementsTreeOutline.js';\nimport {ShortcutTreeElement} from './ShortcutTreeElement.js';\n\nexport class TopLayerContainer extends UI.TreeOutline.TreeElement {\n  tree: ElementsTreeOutline;\n  document: SDK.DOMModel.DOMDocument;\n\n  constructor(tree: ElementsTreeOutline, document: SDK.DOMModel.DOMDocument) {\n    super('#top-layer');\n    this.tree = tree;\n    this.document = document;\n    this.document.domModel().addEventListener(\n        SDK.DOMModel.Events.TopLayerElementsChanged, this.topLayerElementsChanged, this);\n    this.topLayerElementsChanged({\n      data: {\n        document,\n        documentShortcuts: [],\n      },\n    });\n  }\n\n  topLayerElementsChanged(\n      event: Common.EventTarget.EventTargetEvent<SDK.DOMModel.EventTypes['TopLayerElementsChanged']>): void {\n    if (this.document !== event.data.document) {\n      return;\n    }\n    this.removeChildren();\n    const shortcuts = event.data.documentShortcuts;\n    this.hidden = shortcuts.length === 0;\n    for (const shortcut of shortcuts) {\n      const element = new ShortcutTreeElement(shortcut);\n      this.appendChild(element);\n      for (const child of shortcut.childShortcuts) {\n        element.appendChild(new ShortcutTreeElement(child));\n      }\n    }\n  }\n\n  revealInTopLayer(node: SDK.DOMModel.DOMNode): void {\n    this.children().forEach(child => {\n      if (child instanceof ShortcutTreeElement && child.deferredNode().backendNodeId() === node.backendNodeId()) {\n        child.revealAndSelect();\n      }\n    });\n  }\n}\n"]}