{"version":3,"file":"MediaQueryInspector.js","sourceRoot":"","sources":["../../../../../../front_end/panels/emulation/MediaQueryInspector.ts"],"names":[],"mappings":"AAAA,sCAAsC;AACtC,yEAAyE;AACzE,6BAA6B;AAE7B,OAAO,KAAK,MAAM,MAAM,6BAA6B,CAAC;AACtD,OAAO,KAAK,IAAI,MAAM,yBAAyB,CAAC;AAChD,OAAO,KAAK,QAAQ,MAAM,iCAAiC,CAAC;AAC5D,OAAO,KAAK,GAAG,MAAM,uBAAuB,CAAC;AAC7C,OAAO,KAAK,QAAQ,MAAM,mCAAmC,CAAC;AAE9D,OAAO,EAAC,UAAU,EAAE,IAAI,EAAE,OAAO,EAAE,MAAM,EAAC,MAAM,8BAA8B,CAAC;AAC/E,OAAO,KAAK,EAAE,MAAM,2BAA2B,CAAC;AAEhD,OAAO,KAAK,aAAa,MAAM,2CAA2C,CAAC;AAE3E,OAAO,yBAAyB,MAAM,8BAA8B,CAAC;AAErE,MAAM,SAAS,GAAG;IAChB;;;OAGG;IACH,kBAAkB,EAAE,uBAAuB;CACnC,CAAC;AACX,MAAM,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,yCAAyC,EAAE,SAAS,CAAC,CAAC;AAC/F,MAAM,UAAU,GAAG,IAAI,CAAC,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,CAAC;AAEtE,MAAM,EAAC,QAAQ,EAAC,GAAG,UAAU,CAAC;AAe9B,MAAM,CAAC,MAAM,YAAY,GAAG,CAAC,KAAgB,EAAE,OAAe,EAAE,MAAmB,EAAQ,EAAE;IAC3F,MAAM,iBAAiB,GAAG,CAAC,MAAwB,EAA2B,EAAE,CAAC,CAAC;QAChF,qBAAqB,EAAE,IAAI;QAC3B,iCAAiC,EAAE,CAAC,MAAM,CAAC,MAAM;KAClD,CAAC,CAAC;IACH,mBAAmB;IACnB,MAAM,CAAC,IAAI,CAAA;aACA,yBAAyB;;MAEhC,KAAK,CAAC,OAAO,CAAC,OAAO,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,OAAO,EAAE,OAAO,CAAC,EAAE,EAAE,CAAC,IAAI,CAAA;;UAEpD,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC,EAAE,CAAC,IAAI,CAAA;;sBAEd,QAAQ,CAAC,iBAAiB,CAAC,MAAM,CAAC,CAAC;uBAClC,GAAG,EAAE,CAAC,KAAK,CAAC,mBAAmB,CAAC,MAAM,CAAC,KAAK,CAAC;6BACvC,CAAC,KAAY,EAAE,EAAE,CAAC,KAAK,CAAC,aAAa,CAAC,KAAK,EAAE,MAAM,CAAC,SAAS,CAAC;;cAE7E,OAAO,wBAAgB;QACvB,CAAC,CAAC,gBAAgB,CAAC,KAAK,CAAC,UAAU,EAAE,MAAM,CAAC,KAAK,CAAC;QAClD,CAAC,CAAC,OAAO,4BAAoB;YAC3B,CAAC,CAAC,mBAAmB,CAAC,KAAK,CAAC,UAAU,EAAE,MAAM,CAAC,KAAK,CAAC;YACrD,CAAC,CAAC,gBAAgB,CAAC,KAAK,CAAC,UAAU,EAAE,MAAM,CAAC,KAAK,CAAC;;SAEzD,CAAC;;KAEL,CAAC,CAAC,OAAO,EAAE;WACL,EAAE,MAAM,CAAC,CAAC;IACnB,kBAAkB;AACpB,CAAC,CAAC;AAEF,SAAS,gBAAgB,CAAC,UAAkB,EAAE,KAAwB;IACpE,mBAAmB;IACnB,OAAO,IAAI,CAAA;;;;gBAIG,SAAS,GAAG,KAAK,CAAC,aAAa,CAAC,UAAU,CAAC,GAAG,IAAI;gBAClD,KAAK,CAAC,SAAS,EAAE;;QAEzB,WAAW,CAAC,KAAK,CAAC,kBAAkB,EAAE,EAAE,KAAK,EAAE,KAAK,CAAC;QACrD,WAAW,CAAC,KAAK,CAAC,kBAAkB,EAAE,EAAE,IAAI,EAAE,IAAI,CAAC;;;GAGxD,CAAC;IACF,kBAAkB;AACpB,CAAC;AAED,SAAS,mBAAmB,CAAC,UAAkB,EAAE,KAAwB;IACvE,MAAM,KAAK,GAAG,CAAC,KAAK,CAAC,aAAa,CAAC,UAAU,CAAC,GAAG,KAAK,CAAC,aAAa,CAAC,UAAU,CAAC,CAAC,GAAG,GAAG,CAAC;IACxF,mBAAmB;IACnB,OAAO,IAAI,CAAA;;;;gBAIG,SAAS,GAAG,KAAK,GAAG,IAAI;gBACxB,KAAK,CAAC,SAAS,EAAE;;QAEzB,WAAW,CAAC,KAAK,CAAC,kBAAkB,EAAE,EAAE,IAAI,EAAE,KAAK,CAAC;QACpD,WAAW,CAAC,KAAK,CAAC,kBAAkB,EAAE,EAAE,KAAK,EAAE,IAAI,CAAC;;uDAEL,YAAY,GAAG,KAAK,CAAC,aAAa,CAAC,UAAU,CAAC,GAAG,IAAI;;;gBAG5F,SAAS,GAAG,KAAK,GAAG,IAAI;gBACxB,KAAK,CAAC,SAAS,EAAE;;QAEzB,WAAW,CAAC,KAAK,CAAC,kBAAkB,EAAE,EAAE,IAAI,EAAE,KAAK,CAAC;QACpD,WAAW,CAAC,KAAK,CAAC,kBAAkB,EAAE,EAAE,KAAK,EAAE,IAAI,CAAC;;;GAGzD,CAAC;IACF,kBAAkB;AACpB,CAAC;AAED,SAAS,gBAAgB,CAAC,UAAkB,EAAE,KAAwB;IACpE,mBAAmB;IACnB,OAAO,IAAI,CAAA;;;gBAGG,KAAK,CAAC,SAAS,EAAE;OAC1B,WAAW,CAAC,KAAK,CAAC,kBAAkB,EAAE,EAAE,KAAK,EAAE,KAAK,CAAC;uDACL,YAAY,GAAG,KAAK,CAAC,aAAa,CAAC,UAAU,CAAC,GAAG,IAAI;;;gBAG5F,KAAK,CAAC,SAAS,EAAE;OAC1B,WAAW,CAAC,KAAK,CAAC,kBAAkB,EAAE,EAAE,IAAI,EAAE,IAAI,CAAC;GACvD,CAAC;IACF,kBAAkB;AACpB,CAAC;AAED,SAAS,WAAW,CAChB,UAAqD,EAAE,MAAe,EAAE,SAAkB;IAC5F,IAAI,CAAC,UAAU,EAAE,CAAC;QAChB,OAAO,OAAO,CAAC;IACjB,CAAC;IAED,MAAM,iBAAiB,GAAG;QACxB,wCAAwC,EAAE,IAAI;QAC9C,6CAA6C,EAAE,MAAM;QACrD,8CAA8C,EAAE,CAAC,MAAM;KACxD,CAAC;IACF,MAAM,aAAa,GAAG;QACpB,8BAA8B,EAAE,IAAI;QACpC,4BAA4B,EAAE,SAAS;QACvC,6BAA6B,EAAE,CAAC,SAAS;KAC1C,CAAC;IAEF,mBAAmB;IACnB,OAAO,IAAI,CAAA;iBACI,QAAQ,CAAC,iBAAiB,CAAC;oBACxB,QAAQ,CAAC,aAAa,CAAC,IAAI,UAAU,CAAC,KAAK,EAAE,GAAG,UAAU,CAAC,IAAI,EAAE;;GAElF,CAAC;IACF,kBAAkB;AACpB,CAAC;AAED,MAAM,OAAO,mBAAoB,SAAQ,EAAE,CAAC,MAAM,CAAC,MAAM;IAEtC,IAAI,CAAsB;IAC1B,cAAc,CAA6B;IAC3C,gBAAgB,CAAe;IAC/B,gBAAgB,CAAyB;IAClD,KAAK,CAAS;IACd,QAAQ,CAAyB;IACjC,iBAAiB,CAAuB;IAEhD,YACI,gBAA8B,EAAE,gBAAwC,EACxE,cAA0C,EAAE,IAAI,GAAG,YAAY;QACjE,KAAK,CAAC;YACJ,KAAK,EAAE,GAAG,aAAa,CAAC,kBAAkB,EAAE,CAAC,KAAK,CAAC,EAAC,KAAK,EAAE,IAAI,EAAC,CAAC,EAAE;YACnE,YAAY,EAAE,IAAI;SACnB,CAAC,CAAC;QACH,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,cAAc,GAAG,cAAc,CAAC;QAErC,IAAI,CAAC,gBAAgB,GAAG,gBAAgB,CAAC;QACzC,IAAI,CAAC,gBAAgB,GAAG,gBAAgB,CAAC;QACzC,IAAI,CAAC,KAAK,GAAG,CAAC,CAAC;QAEf,GAAG,CAAC,aAAa,CAAC,aAAa,CAAC,QAAQ,EAAE,CAAC,aAAa,CAAC,GAAG,CAAC,QAAQ,CAAC,QAAQ,EAAE,IAAI,CAAC,CAAC;QACtF,EAAE,CAAC,WAAW,CAAC,WAAW,CAAC,QAAQ,EAAE,CAAC,gBAAgB,yDACd,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,IAAI,CAAC,CAAC;IAC/E,CAAC;IAED,UAAU,CAAC,QAA+B;QACxC,yCAAyC;QACzC,IAAI,QAAQ,CAAC,MAAM,EAAE,KAAK,GAAG,CAAC,aAAa,CAAC,aAAa,CAAC,QAAQ,EAAE,CAAC,iBAAiB,EAAE,EAAE,CAAC;YACzF,OAAO;QACT,CAAC;QACD,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC;QACzB,IAAI,CAAC,QAAQ,CAAC,gBAAgB,CAAC,GAAG,CAAC,QAAQ,CAAC,MAAM,CAAC,eAAe,EAAE,IAAI,CAAC,0BAA0B,EAAE,IAAI,CAAC,CAAC;QAC3G,IAAI,CAAC,QAAQ,CAAC,gBAAgB,CAAC,GAAG,CAAC,QAAQ,CAAC,MAAM,CAAC,iBAAiB,EAAE,IAAI,CAAC,0BAA0B,EAAE,IAAI,CAAC,CAAC;QAC7G,IAAI,CAAC,QAAQ,CAAC,gBAAgB,CAAC,GAAG,CAAC,QAAQ,CAAC,MAAM,CAAC,iBAAiB,EAAE,IAAI,CAAC,0BAA0B,EAAE,IAAI,CAAC,CAAC;QAC7G,IAAI,CAAC,QAAQ,CAAC,gBAAgB,CAAC,GAAG,CAAC,QAAQ,CAAC,MAAM,CAAC,uBAAuB,EAAE,IAAI,CAAC,0BAA0B,EAAE,IAAI,CAAC,CAAC;IACrH,CAAC;IAED,YAAY,CAAC,QAA+B;QAC1C,IAAI,QAAQ,KAAK,IAAI,CAAC,QAAQ,EAAE,CAAC;YAC/B,OAAO;QACT,CAAC;QACD,IAAI,CAAC,QAAQ,CAAC,mBAAmB,CAAC,GAAG,CAAC,QAAQ,CAAC,MAAM,CAAC,eAAe,EAAE,IAAI,CAAC,0BAA0B,EAAE,IAAI,CAAC,CAAC;QAC9G,IAAI,CAAC,QAAQ,CAAC,mBAAmB,CAAC,GAAG,CAAC,QAAQ,CAAC,MAAM,CAAC,iBAAiB,EAAE,IAAI,CAAC,0BAA0B,EAAE,IAAI,CAAC,CAAC;QAChH,IAAI,CAAC,QAAQ,CAAC,mBAAmB,CAAC,GAAG,CAAC,QAAQ,CAAC,MAAM,CAAC,iBAAiB,EAAE,IAAI,CAAC,0BAA0B,EAAE,IAAI,CAAC,CAAC;QAChH,IAAI,CAAC,QAAQ,CAAC,mBAAmB,CAC7B,GAAG,CAAC,QAAQ,CAAC,MAAM,CAAC,uBAAuB,EAAE,IAAI,CAAC,0BAA0B,EAAE,IAAI,CAAC,CAAC;QACxF,OAAO,IAAI,CAAC,QAAQ,CAAC;IACvB,CAAC;IAED,gBAAgB,CAAC,KAAa;QAC5B,IAAI,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC,GAAG,IAAI,EAAE,CAAC;YACxC,OAAO;QACT,CAAC;QACD,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;QACnB,IAAI,CAAC,aAAa,EAAE,CAAC;IACvB,CAAC;IAEO,mBAAmB,CAAC,KAAwB;QAClD,MAAM,aAAa,GAAG,KAAK,CAAC,kBAAkB,EAAE,CAAC;QACjD,MAAM,aAAa,GAAG,KAAK,CAAC,kBAAkB,EAAE,CAAC;QAEjD,IAAI,KAAK,CAAC,OAAO,EAAE,wBAAgB,EAAE,CAAC;YACpC,IAAI,CAAC,gBAAgB,CAAC,aAAa,CAAC,CAAC,CAAC,aAAa,CAAC,cAAc,EAAE,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YAC/E,OAAO;QACT,CAAC;QACD,IAAI,KAAK,CAAC,OAAO,EAAE,wBAAgB,EAAE,CAAC;YACpC,IAAI,CAAC,gBAAgB,CAAC,aAAa,CAAC,CAAC,CAAC,aAAa,CAAC,cAAc,EAAE,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YAC/E,OAAO;QACT,CAAC;QACD,MAAM,YAAY,GAAG,IAAI,CAAC,gBAAgB,EAAE,CAAC;QAC7C,IAAI,aAAa,IAAI,YAAY,KAAK,aAAa,CAAC,cAAc,EAAE,EAAE,CAAC;YACrE,IAAI,CAAC,gBAAgB,CAAC,aAAa,CAAC,cAAc,EAAE,IAAI,CAAC,CAAC,CAAC;QAC7D,CAAC;aAAM,CAAC;YACN,IAAI,CAAC,gBAAgB,CAAC,aAAa,CAAC,CAAC,CAAC,aAAa,CAAC,cAAc,EAAE,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACjF,CAAC;IACH,CAAC;IAEO,aAAa,CAAC,KAAY,EAAE,SAAqC;QACvE,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE,SAAS,EAAE,EAAE,CAAC;YAChC,OAAO;QACT,CAAC;QAED,MAAM,WAAW,GAAG,IAAI,GAAG,EAA6C,CAAC;QACzE,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,SAAS,CAAC,MAAM,EAAE,EAAE,CAAC,EAAE,CAAC;YAC1C,MAAM,UAAU,GACZ,QAAQ,CAAC,mBAAmB,CAAC,mBAAmB,CAAC,QAAQ,EAAE,CAAC,uBAAuB,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC;YACtG,IAAI,CAAC,UAAU,EAAE,CAAC;gBAChB,SAAS;YACX,CAAC;YACD,MAAM,UAAU,GAAG,OAAO,UAAU,CAAC,YAAY,KAAK,QAAQ,CAAC,CAAC;gBAC5D,QAAQ,CAAC,eAAe,CAAC,OAAO,CAC5B,UAAU,EAAE,UAAU,CAAC,YAAY,CAAC,GAAG,EAAE,EAAE,UAAU,CAAC,UAAU,GAAG,CAAC,EAAE,UAAU,CAAC,YAAY,GAAG,CAAC,CAAC,CAAC,CAAC;gBACxG,QAAQ,CAAC,eAAe,CAAC,OAAO,CAAC,OAAO,EAAE,UAAU,CAAC,YAAY,CAAC,GAAG,EAAE,EAAE,UAAU,CAAC,UAAU,GAAG,CAAC,CAAC,CAAC;YACxG,WAAW,CAAC,GAAG,CAAC,UAAU,EAAE,UAAU,CAAC,CAAC;QAC1C,CAAC;QAED,MAAM,gBAAgB,GAAG,CAAC,GAAG,WAAW,CAAC,IAAI,EAAE,CAAC,CAAC,IAAI,EAAE,CAAC;QACxD,MAAM,WAAW,GAAG,IAAI,EAAE,CAAC,WAAW,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;QAC1D,MAAM,WAAW,GAAG,WAAW,CAAC,cAAc,EAAE,CAAC,iBAAiB,CAC9D,UAAU,CAAC,SAAS,CAAC,kBAAkB,CAAC,EAAE,SAAS,EAAE,uBAAuB,CAAC,CAAC;QAClF,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,gBAAgB,CAAC,MAAM,EAAE,EAAE,CAAC,EAAE,CAAC;YACjD,MAAM,KAAK,GAAG,gBAAgB,CAAC,CAAC,CAAC,CAAC;YAClC,WAAW,CAAC,cAAc,EAAE,CAAC,UAAU,CACnC,KAAK,EAAE,IAAI,CAAC,oBAAoB,CAAC,IAAI,CAAC,IAAI,EAAG,WAAW,CAAC,GAAG,CAAC,KAAK,CAAuC,CAAC,EAC1G,EAAC,YAAY,EAAE,kBAAkB,EAAC,CAAC,CAAC;QAC1C,CAAC;QACD,KAAK,WAAW,CAAC,IAAI,EAAE,CAAC;IAC1B,CAAC;IAEO,oBAAoB,CAAC,QAA2C;QACtE,KAAK,MAAM,CAAC,QAAQ,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC;IACxC,CAAC;IAEO,0BAA0B;QAChC,IAAI,CAAC,IAAI,CAAC,SAAS,EAAE,EAAE,CAAC;YACtB,OAAO;QACT,CAAC;QACD,KAAK,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;IACzE,CAAC;IAEO,mBAAmB;QACzB,IAAI,CAAC,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE,CAAC;YACxC,OAAO,OAAO,CAAC,OAAO,EAAE,CAAC;QAC3B,CAAC;QAED,OAAO,IAAI,CAAC,QAAQ,CAAC,eAAe,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;IACnF,CAAC;IAEO,mBAAmB,CAAC,MAA2B;QACrD,MAAM,QAAQ,GAAG,EAAE,CAAC;QACpB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,MAAM,CAAC,MAAM,EAAE,EAAE,CAAC,EAAE,CAAC;YACvC,MAAM,IAAI,GAAG,QAAQ,CAAC,QAAQ,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;YAC3C,IAAI,CAAC,IAAI,EAAE,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;gBAC7B,QAAQ,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;YAC3B,CAAC;QACH,CAAC;QACD,OAAO,QAAQ,CAAC;IAClB,CAAC;IAEO,mBAAmB,CAAC,SAAkC;QAC5D,IAAI,WAAW,GAAwB,EAAE,CAAC;QAC1C,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,SAAS,CAAC,MAAM,EAAE,EAAE,CAAC,EAAE,CAAC;YAC1C,MAAM,QAAQ,GAAG,SAAS,CAAC,CAAC,CAAC,CAAC;YAC9B,IAAI,CAAC,QAAQ,CAAC,SAAS,EAAE,CAAC;gBACxB,SAAS;YACX,CAAC;YACD,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,QAAQ,CAAC,SAAS,CAAC,MAAM,EAAE,EAAE,CAAC,EAAE,CAAC;gBACnD,MAAM,UAAU,GAAG,QAAQ,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;gBACzC,MAAM,UAAU,GAAG,iBAAiB,CAAC,oBAAoB,CAAC,QAAQ,EAAE,UAAU,CAAC,CAAC;gBAChF,IAAI,UAAU,EAAE,CAAC;oBACf,WAAW,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;gBAC/B,CAAC;YACH,CAAC;QACH,CAAC;QACD,WAAW,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;QAChC,WAAW,GAAG,IAAI,CAAC,mBAAmB,CAAC,WAAW,CAAC,CAAC;QAEpD,IAAI,QAAQ,GAAwB,IAAI,CAAC,iBAAiB,IAAI,IAAI,CAAC,iBAAiB,CAAC,MAAM,KAAK,WAAW,CAAC,MAAM,CAAC;QACnH,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,QAAQ,IAAI,CAAC,GAAG,WAAW,CAAC,MAAM,EAAE,EAAE,CAAC,EAAE,CAAC;YACxD,QAAQ,GAAG,QAAQ,IAAI,IAAI,CAAC,iBAAiB,EAAE,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,CAAC;QAC5E,CAAC;QACD,IAAI,QAAQ,EAAE,CAAC;YACb,OAAO;QACT,CAAC;QACD,IAAI,CAAC,iBAAiB,GAAG,WAAW,CAAC;QACrC,IAAI,CAAC,aAAa,EAAE,CAAC;QAErB,SAAS,aAAa,CAAC,MAAyB,EAAE,MAAyB;YACzE,OAAO,MAAM,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;QAClC,CAAC;IACH,CAAC;IAEO,sBAAsB;QAC5B,IAAI,CAAC,IAAI,CAAC,iBAAiB,EAAE,CAAC;YAC5B,OAAO,EAAE,CAAC;QACZ,CAAC;QAED,MAAM,OAAO,GAAuB,EAAE,CAAC;QACvC,IAAI,UAAU,GAA0B,IAAI,CAAC;QAC7C,KAAK,MAAM,KAAK,IAAI,IAAI,CAAC,iBAAiB,EAAE,CAAC;YAC3C,IAAI,UAAU,EAAE,KAAK,CAAC,eAAe,CAAC,KAAK,CAAC,EAAE,CAAC;gBAC7C,UAAU,CAAC,MAAM,GAAG,UAAU,CAAC,MAAM,IAAI,KAAK,CAAC,MAAM,EAAE,CAAC;YAC1D,CAAC;iBAAM,CAAC;gBACN,UAAU,GAAG;oBACX,MAAM,EAAE,KAAK,CAAC,MAAM,EAAE;oBACtB,KAAK;oBACL,SAAS,EAAE,EAAE;iBACd,CAAC;gBACF,OAAO,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;YAC3B,CAAC;YACD,MAAM,WAAW,GAAG,KAAK,CAAC,WAAW,EAAE,CAAC;YACxC,IAAI,WAAW,EAAE,CAAC;gBAChB,UAAU,CAAC,SAAS,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;YACzC,CAAC;QACH,CAAC;QAED,OAAO,OAAO,CAAC;IACjB,CAAC;IAEO,UAAU;QAChB,OAAO,EAAE,CAAC,WAAW,CAAC,WAAW,CAAC,QAAQ,EAAE,CAAC,UAAU,EAAE,GAAG,IAAI,CAAC,KAAK,CAAC;IACzE,CAAC;IAEQ,QAAQ;QACf,KAAK,CAAC,QAAQ,EAAE,CAAC;QACjB,IAAI,CAAC,0BAA0B,EAAE,CAAC;QAClC,IAAI,CAAC,aAAa,EAAE,CAAC,CAAE,+EAA+E;IACxG,CAAC;IAEQ,aAAa;QACpB,MAAM,OAAO,GAAG,GAAG,CAAC,OAAO,CAAC,IAAI,CAAC,sBAAsB,EAAE,EAAE,MAAM,CAAC,EAAE,CAAC,MAAM,CAAC,KAAK,CAAC,OAAO,EAAE,CAAC,CAAC;QAE7F,IAAI,CAAC,IAAI,CACL;YACE,UAAU,EAAE,IAAI,CAAC,UAAU,EAAE;YAC7B,OAAO;YACP,mBAAmB,EAAE,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,IAAI,CAAC;YACxD,aAAa,EAAE,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,IAAI,CAAC;SAC7C,EACD,EAAE,EAAE,IAAI,CAAC,cAAc,CAAC,CAAC;IAC/B,CAAC;CACF;AAQD,MAAM,OAAO,iBAAiB;IACpB,QAAQ,CAAwB;IAC/B,mBAAmB,CAA4C;IAC/D,mBAAmB,CAA4C;IAC/D,OAAO,CAAU;IACjB,QAAQ,CAAU;IAC3B,YAAY,CAAiC;IAC7C,YACI,QAA+B,EAAE,kBAA6D,EAC9F,kBAA6D,EAAE,MAAe;QAChF,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC;QACzB,IAAI,CAAC,mBAAmB,GAAG,kBAAkB,CAAC;QAC9C,IAAI,CAAC,mBAAmB,GAAG,kBAAkB,CAAC;QAC9C,IAAI,CAAC,OAAO,GAAG,MAAM,CAAC;QACtB,IAAI,kBAAkB,IAAI,CAAC,kBAAkB,EAAE,CAAC;YAC9C,IAAI,CAAC,QAAQ,sBAAc,CAAC;QAC9B,CAAC;aAAM,IAAI,kBAAkB,IAAI,kBAAkB,EAAE,CAAC;YACpD,IAAI,CAAC,QAAQ,0BAAkB,CAAC;QAClC,CAAC;aAAM,CAAC;YACN,IAAI,CAAC,QAAQ,sBAAc,CAAC;QAC9B,CAAC;IACH,CAAC;IAED,MAAM,CAAC,oBAAoB,CAAC,QAA+B,EAAE,UAAsC;QAEjG,IAAI,kBAAkB,GAA8C,IAAI,CAAC;QACzE,IAAI,cAAc,GAAW,MAAM,CAAC,SAAS,CAAC;QAC9C,IAAI,kBAAkB,GAA8C,IAAI,CAAC;QACzE,IAAI,cAAc,GAAW,MAAM,CAAC,SAAS,CAAC;QAC9C,MAAM,WAAW,GAAG,UAAU,CAAC,WAAW,EAAE,CAAC;QAC7C,IAAI,CAAC,WAAW,EAAE,CAAC;YACjB,OAAO,IAAI,CAAC;QACd,CAAC;QAED,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,WAAW,CAAC,MAAM,EAAE,EAAE,CAAC,EAAE,CAAC;YAC5C,MAAM,UAAU,GAAG,WAAW,CAAC,CAAC,CAAC,CAAC;YAClC,MAAM,OAAO,GAAG,UAAU,CAAC,OAAO,EAAE,CAAC;YACrC,IAAI,OAAO,CAAC,OAAO,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC;gBACpC,SAAS;YACX,CAAC;YACD,MAAM,MAAM,GAAG,UAAU,CAAC,cAAc,EAAE,CAAC;YAC3C,IAAI,OAAO,CAAC,UAAU,CAAC,MAAM,CAAC,IAAI,MAAM,IAAI,MAAM,GAAG,cAAc,EAAE,CAAC;gBACpE,kBAAkB,GAAG,UAAU,CAAC;gBAChC,cAAc,GAAG,MAAM,CAAC;YAC1B,CAAC;iBAAM,IAAI,OAAO,CAAC,UAAU,CAAC,MAAM,CAAC,IAAI,MAAM,IAAI,MAAM,GAAG,cAAc,EAAE,CAAC;gBAC3E,kBAAkB,GAAG,UAAU,CAAC;gBAChC,cAAc,GAAG,MAAM,CAAC;YAC1B,CAAC;QACH,CAAC;QACD,IAAI,cAAc,GAAG,cAAc,IAAI,CAAC,CAAC,kBAAkB,IAAI,CAAC,kBAAkB,CAAC,EAAE,CAAC;YACpF,OAAO,IAAI,CAAC;QACd,CAAC;QAED,OAAO,IAAI,iBAAiB,CAAC,QAAQ,EAAE,kBAAkB,EAAE,kBAAkB,EAAE,UAAU,CAAC,MAAM,EAAE,CAAC,CAAC;IACtG,CAAC;IAED,MAAM,CAAC,KAAwB;QAC7B,OAAO,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;IACrC,CAAC;IAED,eAAe,CAAC,KAAwB;QACtC,MAAM,sBAAsB,GAAG,IAAI,CAAC,kBAAkB,EAAE,CAAC;QACzD,MAAM,uBAAuB,GAAG,KAAK,CAAC,kBAAkB,EAAE,CAAC;QAC3D,MAAM,sBAAsB,GAAG,IAAI,CAAC,kBAAkB,EAAE,CAAC;QACzD,MAAM,uBAAuB,GAAG,KAAK,CAAC,kBAAkB,EAAE,CAAC;QAE3D,MAAM,aAAa,GAAG,IAAI,CAAC,OAAO,EAAE,KAAK,KAAK,CAAC,OAAO,EAAE,CAAC;QACzD,0HAA0H;QAC1H,MAAM,aAAa,GAAG,CAAC,sBAAsB;YACzC,sBAAsB,CAAC,cAAc,EAAE,KAAK,uBAAuB,EAAE,cAAc,EAAE,CAAC;QAC1F,MAAM,aAAa,GAAG,CAAC,sBAAsB;YACzC,sBAAsB,CAAC,cAAc,EAAE,KAAK,uBAAuB,EAAE,cAAc,EAAE,CAAC;QAE1F,OAAO,aAAa,IAAI,aAAa,IAAI,aAAa,CAAC;IACzD,CAAC;IAED,SAAS,CAAC,KAAwB;QAChC,IAAI,IAAI,CAAC,OAAO,EAAE,KAAK,KAAK,CAAC,OAAO,EAAE,EAAE,CAAC;YACvC,OAAO,IAAI,CAAC,OAAO,EAAE,GAAG,KAAK,CAAC,OAAO,EAAE,CAAC;QAC1C,CAAC;QACD,IAAI,IAAI,CAAC,eAAe,CAAC,KAAK,CAAC,EAAE,CAAC;YAChC,MAAM,UAAU,GAAG,IAAI,CAAC,WAAW,EAAE,CAAC;YACtC,MAAM,aAAa,GAAG,KAAK,CAAC,WAAW,EAAE,CAAC;YAC1C,IAAI,CAAC,UAAU,IAAI,CAAC,aAAa,EAAE,CAAC;gBAClC,OAAO,QAAQ,CAAC,eAAe,CAAC,OAAO,CAAC,IAAI,CAAC,SAAS,EAAE,EAAE,KAAK,CAAC,SAAS,EAAE,CAAC,CAAC;YAC/E,CAAC;YACD,IAAI,UAAU,IAAI,CAAC,aAAa,EAAE,CAAC;gBACjC,OAAO,CAAC,CAAC;YACX,CAAC;YACD,IAAI,CAAC,UAAU,IAAI,aAAa,EAAE,CAAC;gBACjC,OAAO,CAAC,CAAC,CAAC;YACZ,CAAC;YACD,IAAI,IAAI,CAAC,MAAM,EAAE,KAAK,KAAK,CAAC,MAAM,EAAE,EAAE,CAAC;gBACrC,OAAO,IAAI,CAAC,MAAM,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YAChC,CAAC;YAED,IAAI,CAAC,UAAU,IAAI,CAAC,aAAa,EAAE,CAAC;gBAClC,kEAAkE;gBAClE,iEAAiE;gBACjE,4BAA4B;gBAC5B,OAAO,CAAC,CAAC;YACX,CAAC;YAED,OAAO,QAAQ,CAAC,eAAe,CAAC,OAAO,CAAC,UAAU,CAAC,GAAG,EAAE,aAAa,CAAC,GAAG,CAAC;gBACtE,UAAU,CAAC,UAAU,GAAG,aAAa,CAAC,UAAU,IAAI,UAAU,CAAC,YAAY,GAAG,aAAa,CAAC,YAAY,CAAC;QAC/G,CAAC;QAED,MAAM,sBAAsB,GAAG,IAAI,CAAC,kBAAkB,EAAE,CAAC;QACzD,MAAM,uBAAuB,GAAG,KAAK,CAAC,kBAAkB,EAAE,CAAC;QAC3D,MAAM,aAAa,GAAG,sBAAsB,CAAC,CAAC,CAAC,sBAAsB,CAAC,cAAc,EAAE,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QAChG,MAAM,cAAc,GAAG,uBAAuB,CAAC,CAAC,CAAC,uBAAuB,CAAC,cAAc,EAAE,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QAEnG,MAAM,sBAAsB,GAAG,IAAI,CAAC,kBAAkB,EAAE,CAAC;QACzD,MAAM,uBAAuB,GAAG,KAAK,CAAC,kBAAkB,EAAE,CAAC;QAC3D,MAAM,aAAa,GAAG,sBAAsB,CAAC,CAAC,CAAC,sBAAsB,CAAC,cAAc,EAAE,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QAChG,MAAM,cAAc,GAAG,uBAAuB,CAAC,CAAC,CAAC,uBAAuB,CAAC,cAAc,EAAE,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QAEnG,IAAI,IAAI,CAAC,OAAO,EAAE,wBAAgB,EAAE,CAAC;YACnC,OAAO,cAAc,GAAG,aAAa,CAAC;QACxC,CAAC;QACD,IAAI,IAAI,CAAC,OAAO,EAAE,wBAAgB,EAAE,CAAC;YACnC,OAAO,aAAa,GAAG,cAAc,CAAC;QACxC,CAAC;QACD,OAAO,aAAa,GAAG,cAAc,IAAI,cAAc,GAAG,aAAa,CAAC;IAC1E,CAAC;IAED,OAAO;QACL,OAAO,IAAI,CAAC,QAAQ,CAAC;IACvB,CAAC;IAED,SAAS;QACP,OAAO,IAAI,CAAC,QAAQ,CAAC,IAAI,IAAI,EAAE,CAAC;IAClC,CAAC;IAED,WAAW;QACT,IAAI,CAAC,IAAI,CAAC,YAAY,EAAE,CAAC;YACvB,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,QAAQ,CAAC,WAAW,EAAE,CAAC;QAClD,CAAC;QACD,OAAO,IAAI,CAAC,YAAY,CAAC;IAC3B,CAAC;IAED,kBAAkB;QAChB,OAAO,IAAI,CAAC,mBAAmB,CAAC;IAClC,CAAC;IAED,kBAAkB;QAChB,OAAO,IAAI,CAAC,mBAAmB,CAAC;IAClC,CAAC;IAED,aAAa,CAAC,UAAkB;QAC9B,MAAM,kBAAkB,GAAG,IAAI,CAAC,kBAAkB,EAAE,CAAC;QACrD,OAAO,kBAAkB,CAAC,CAAC,CAAC,CAAC,kBAAkB,CAAC,cAAc,EAAE,IAAI,CAAC,CAAC,GAAG,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC;IAC1F,CAAC;IAED,aAAa,CAAC,UAAkB;QAC9B,MAAM,kBAAkB,GAAG,IAAI,CAAC,kBAAkB,EAAE,CAAC;QACrD,OAAO,kBAAkB,CAAC,CAAC,CAAC,CAAC,kBAAkB,CAAC,cAAc,EAAE,IAAI,CAAC,CAAC,GAAG,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC;IAC1F,CAAC;IAED,MAAM;QACJ,OAAO,IAAI,CAAC,OAAO,CAAC;IACtB,CAAC;CACF","sourcesContent":["// Copyright 2014 The Chromium Authors\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\nimport * as Common from '../../core/common/common.js';\nimport * as i18n from '../../core/i18n/i18n.js';\nimport * as Platform from '../../core/platform/platform.js';\nimport * as SDK from '../../core/sdk/sdk.js';\nimport * as Bindings from '../../models/bindings/bindings.js';\nimport type * as Workspace from '../../models/workspace/workspace.js';\nimport {Directives, html, nothing, render} from '../../third_party/lit/lit.js';\nimport * as UI from '../../ui/legacy/legacy.js';\nimport type {LitTemplate} from '../../ui/lit/lit.js';\nimport * as VisualLogging from '../../ui/visual_logging/visual_logging.js';\n\nimport mediaQueryInspectorStyles from './mediaQueryInspector.css.js';\n\nconst UIStrings = {\n  /**\n   * @description A context menu item/command in the Media Query Inspector of the Device Toolbar.\n   * Takes the user to the source code where this media query actually came from.\n   */\n  revealInSourceCode: 'Reveal in source code',\n} as const;\nconst str_ = i18n.i18n.registerUIStrings('panels/emulation/MediaQueryInspector.ts', UIStrings);\nconst i18nString = i18n.i18n.getLocalizedString.bind(undefined, str_);\n\nconst {classMap} = Directives;\n\nexport interface ViewInput {\n  zoomFactor: number;\n  markers: Map<Section, MediaQueryMarker[]>;\n  onMediaQueryClicked: (model: MediaQueryUIModel) => void;\n  onContextMenu: (event: Event, locations: SDK.CSSModel.CSSLocation[]) => void;\n}\n\nexport interface MediaQueryMarker {\n  active: boolean;\n  model: MediaQueryUIModel;\n  locations: SDK.CSSModel.CSSLocation[];\n}\n\nexport const DEFAULT_VIEW = (input: ViewInput, _output: object, target: HTMLElement): void => {\n  const createBarClassMap = (marker: MediaQueryMarker): Record<string, boolean> => ({\n    'media-inspector-bar': true,\n    'media-inspector-marker-inactive': !marker.active,\n  });\n  // clang-format off\n  render(html`\n    <style>${mediaQueryInspectorStyles}</style>\n    <div class='media-inspector-view'>\n    ${input.markers.entries().map(([section, markers]) => html`\n      <div class='media-inspector-marker-container'>\n        ${markers.map(marker => html`\n          <div\n              class=${classMap(createBarClassMap(marker))}\n              @click=${() => input.onMediaQueryClicked(marker.model)}\n              @contextmenu=${(event: Event) => input.onContextMenu(event, marker.locations)}\n          >\n            ${section === Section.MAX\n              ? renderMaxSection(input.zoomFactor, marker.model)\n              : section === Section.MIN_MAX\n                ? renderMinMaxSection(input.zoomFactor, marker.model)\n                : renderMinSection(input.zoomFactor, marker.model)}\n          </div>\n        `)}\n      </div>\n    `).toArray()}\n    </div>`, target);\n  // clang-format on\n};\n\nfunction renderMaxSection(zoomFactor: number, model: MediaQueryUIModel): LitTemplate {\n  // clang-format off\n  return html`\n    <div class='media-inspector-marker-spacer'></div>\n    <div\n        class='media-inspector-marker media-inspector-marker-max-width'\n        style=${'width: ' + model.maxWidthValue(zoomFactor) + 'px'}\n        title=${model.mediaText()}\n    >\n      ${renderLabel(model.maxWidthExpression(), false, false)}\n      ${renderLabel(model.maxWidthExpression(), true, true)}\n    </div>\n    <div class='media-inspector-marker-spacer'></div>\n  `;\n  // clang-format on\n}\n\nfunction renderMinMaxSection(zoomFactor: number, model: MediaQueryUIModel): LitTemplate {\n  const width = (model.maxWidthValue(zoomFactor) - model.minWidthValue(zoomFactor)) * 0.5;\n  // clang-format off\n  return html`\n    <div class='media-inspector-marker-spacer'></div>\n    <div\n        class='media-inspector-marker media-inspector-marker-min-max-width'\n        style=${'width: ' + width + 'px'}\n        title=${model.mediaText()}\n    >\n      ${renderLabel(model.maxWidthExpression(), true, false)}\n      ${renderLabel(model.minWidthExpression(), false, true)}\n    </div>\n    <div class='media-inspector-marker-spacer' style=${'flex: 0 0 ' + model.minWidthValue(zoomFactor) + 'px'}></div>\n    <div\n        class='media-inspector-marker media-inspector-marker-min-max-width'\n        style=${'width: ' + width + 'px'}\n        title=${model.mediaText()}\n    >\n      ${renderLabel(model.minWidthExpression(), true, false)}\n      ${renderLabel(model.maxWidthExpression(), false, true)}\n    </div>\n    <div class='media-inspector-marker-spacer'></div>\n  `;\n  // clang-format on\n}\n\nfunction renderMinSection(zoomFactor: number, model: MediaQueryUIModel): LitTemplate {\n  // clang-format off\n  return html`\n    <div\n        class='media-inspector-marker media-inspector-marker-min-width media-inspector-marker-min-width-left'\n        title=${model.mediaText()}\n    >${renderLabel(model.minWidthExpression(), false, false)}</div>\n    <div class='media-inspector-marker-spacer' style=${'flex: 0 0 ' + model.minWidthValue(zoomFactor) + 'px'}></div>\n    <div\n        class='media-inspector-marker media-inspector-marker-min-width media-inspector-marker-min-width-right'\n        title=${model.mediaText()}\n    >${renderLabel(model.minWidthExpression(), true, true)}</div>\n  `;\n  // clang-format on\n}\n\nfunction renderLabel(\n    expression: SDK.CSSMedia.CSSMediaQueryExpression|null, atLeft: boolean, leftAlign: boolean): LitTemplate {\n  if (!expression) {\n    return nothing;\n  }\n\n  const containerClassMap = {\n    'media-inspector-marker-label-container': true,\n    'media-inspector-marker-label-container-left': atLeft,\n    'media-inspector-marker-label-container-right': !atLeft\n  };\n  const labelClassMap = {\n    'media-inspector-marker-label': true,\n    'media-inspector-label-left': leftAlign,\n    'media-inspector-label-right': !leftAlign\n  };\n\n  // clang-format off\n  return html`\n    <div class=${classMap(containerClassMap)}>\n      <span class=${classMap(labelClassMap)}>${expression.value()}${expression.unit()}</span>\n    </div>\n  `;\n  // clang-format on\n}\n\nexport class MediaQueryInspector extends UI.Widget.Widget implements\n    SDK.TargetManager.SDKModelObserver<SDK.CSSModel.CSSModel> {\n  private readonly view: typeof DEFAULT_VIEW;\n  private readonly mediaThrottler: Common.Throttler.Throttler;\n  private readonly getWidthCallback: () => number;\n  private readonly setWidthCallback: (arg0: number) => void;\n  private scale: number;\n  private cssModel?: SDK.CSSModel.CSSModel;\n  private cachedQueryModels?: MediaQueryUIModel[];\n\n  constructor(\n      getWidthCallback: () => number, setWidthCallback: (arg0: number) => void,\n      mediaThrottler: Common.Throttler.Throttler, view = DEFAULT_VIEW) {\n    super({\n      jslog: `${VisualLogging.mediaInspectorView().track({click: true})}`,\n      useShadowDom: true,\n    });\n    this.view = view;\n    this.mediaThrottler = mediaThrottler;\n\n    this.getWidthCallback = getWidthCallback;\n    this.setWidthCallback = setWidthCallback;\n    this.scale = 1;\n\n    SDK.TargetManager.TargetManager.instance().observeModels(SDK.CSSModel.CSSModel, this);\n    UI.ZoomManager.ZoomManager.instance().addEventListener(\n        UI.ZoomManager.Events.ZOOM_CHANGED, this.requestUpdate.bind(this), this);\n  }\n\n  modelAdded(cssModel: SDK.CSSModel.CSSModel): void {\n    // FIXME: adapt this to multiple targets.\n    if (cssModel.target() !== SDK.TargetManager.TargetManager.instance().primaryPageTarget()) {\n      return;\n    }\n    this.cssModel = cssModel;\n    this.cssModel.addEventListener(SDK.CSSModel.Events.StyleSheetAdded, this.scheduleMediaQueriesUpdate, this);\n    this.cssModel.addEventListener(SDK.CSSModel.Events.StyleSheetRemoved, this.scheduleMediaQueriesUpdate, this);\n    this.cssModel.addEventListener(SDK.CSSModel.Events.StyleSheetChanged, this.scheduleMediaQueriesUpdate, this);\n    this.cssModel.addEventListener(SDK.CSSModel.Events.MediaQueryResultChanged, this.scheduleMediaQueriesUpdate, this);\n  }\n\n  modelRemoved(cssModel: SDK.CSSModel.CSSModel): void {\n    if (cssModel !== this.cssModel) {\n      return;\n    }\n    this.cssModel.removeEventListener(SDK.CSSModel.Events.StyleSheetAdded, this.scheduleMediaQueriesUpdate, this);\n    this.cssModel.removeEventListener(SDK.CSSModel.Events.StyleSheetRemoved, this.scheduleMediaQueriesUpdate, this);\n    this.cssModel.removeEventListener(SDK.CSSModel.Events.StyleSheetChanged, this.scheduleMediaQueriesUpdate, this);\n    this.cssModel.removeEventListener(\n        SDK.CSSModel.Events.MediaQueryResultChanged, this.scheduleMediaQueriesUpdate, this);\n    delete this.cssModel;\n  }\n\n  setAxisTransform(scale: number): void {\n    if (Math.abs(this.scale - scale) < 1e-8) {\n      return;\n    }\n    this.scale = scale;\n    this.performUpdate();\n  }\n\n  private onMediaQueryClicked(model: MediaQueryUIModel): void {\n    const modelMaxWidth = model.maxWidthExpression();\n    const modelMinWidth = model.minWidthExpression();\n\n    if (model.section() === Section.MAX) {\n      this.setWidthCallback(modelMaxWidth ? modelMaxWidth.computedLength() || 0 : 0);\n      return;\n    }\n    if (model.section() === Section.MIN) {\n      this.setWidthCallback(modelMinWidth ? modelMinWidth.computedLength() || 0 : 0);\n      return;\n    }\n    const currentWidth = this.getWidthCallback();\n    if (modelMinWidth && currentWidth !== modelMinWidth.computedLength()) {\n      this.setWidthCallback(modelMinWidth.computedLength() || 0);\n    } else {\n      this.setWidthCallback(modelMaxWidth ? modelMaxWidth.computedLength() || 0 : 0);\n    }\n  }\n\n  private onContextMenu(event: Event, locations: SDK.CSSModel.CSSLocation[]): void {\n    if (!this.cssModel?.isEnabled()) {\n      return;\n    }\n\n    const uiLocations = new Map<string, Workspace.UISourceCode.UILocation>();\n    for (let i = 0; i < locations.length; ++i) {\n      const uiLocation =\n          Bindings.CSSWorkspaceBinding.CSSWorkspaceBinding.instance().rawLocationToUILocation(locations[i]);\n      if (!uiLocation) {\n        continue;\n      }\n      const descriptor = typeof uiLocation.columnNumber === 'number' ?\n          Platform.StringUtilities.sprintf(\n              '%s:%d:%d', uiLocation.uiSourceCode.url(), uiLocation.lineNumber + 1, uiLocation.columnNumber + 1) :\n          Platform.StringUtilities.sprintf('%s:%d', uiLocation.uiSourceCode.url(), uiLocation.lineNumber + 1);\n      uiLocations.set(descriptor, uiLocation);\n    }\n\n    const contextMenuItems = [...uiLocations.keys()].sort();\n    const contextMenu = new UI.ContextMenu.ContextMenu(event);\n    const subMenuItem = contextMenu.defaultSection().appendSubMenuItem(\n        i18nString(UIStrings.revealInSourceCode), undefined, 'reveal-in-source-list');\n    for (let i = 0; i < contextMenuItems.length; ++i) {\n      const title = contextMenuItems[i];\n      subMenuItem.defaultSection().appendItem(\n          title, this.revealSourceLocation.bind(this, (uiLocations.get(title) as Workspace.UISourceCode.UILocation)),\n          {jslogContext: 'reveal-in-source'});\n    }\n    void contextMenu.show();\n  }\n\n  private revealSourceLocation(location: Workspace.UISourceCode.UILocation): void {\n    void Common.Revealer.reveal(location);\n  }\n\n  private scheduleMediaQueriesUpdate(): void {\n    if (!this.isShowing()) {\n      return;\n    }\n    void this.mediaThrottler.schedule(this.refetchMediaQueries.bind(this));\n  }\n\n  private refetchMediaQueries(): Promise<void> {\n    if (!this.isShowing() || !this.cssModel) {\n      return Promise.resolve();\n    }\n\n    return this.cssModel.getMediaQueries().then(this.rebuildMediaQueries.bind(this));\n  }\n\n  private squashAdjacentEqual(models: MediaQueryUIModel[]): MediaQueryUIModel[] {\n    const filtered = [];\n    for (let i = 0; i < models.length; ++i) {\n      const last = filtered[filtered.length - 1];\n      if (!last?.equals(models[i])) {\n        filtered.push(models[i]);\n      }\n    }\n    return filtered;\n  }\n\n  private rebuildMediaQueries(cssMedias: SDK.CSSMedia.CSSMedia[]): void {\n    let queryModels: MediaQueryUIModel[] = [];\n    for (let i = 0; i < cssMedias.length; ++i) {\n      const cssMedia = cssMedias[i];\n      if (!cssMedia.mediaList) {\n        continue;\n      }\n      for (let j = 0; j < cssMedia.mediaList.length; ++j) {\n        const mediaQuery = cssMedia.mediaList[j];\n        const queryModel = MediaQueryUIModel.createFromMediaQuery(cssMedia, mediaQuery);\n        if (queryModel) {\n          queryModels.push(queryModel);\n        }\n      }\n    }\n    queryModels.sort(compareModels);\n    queryModels = this.squashAdjacentEqual(queryModels);\n\n    let allEqual: (boolean|undefined) = this.cachedQueryModels && this.cachedQueryModels.length === queryModels.length;\n    for (let i = 0; allEqual && i < queryModels.length; ++i) {\n      allEqual = allEqual && this.cachedQueryModels?.[i].equals(queryModels[i]);\n    }\n    if (allEqual) {\n      return;\n    }\n    this.cachedQueryModels = queryModels;\n    this.requestUpdate();\n\n    function compareModels(model1: MediaQueryUIModel, model2: MediaQueryUIModel): number {\n      return model1.compareTo(model2);\n    }\n  }\n\n  private buildMediaQueryMarkers(): MediaQueryMarker[] {\n    if (!this.cachedQueryModels) {\n      return [];\n    }\n\n    const markers: MediaQueryMarker[] = [];\n    let lastMarker: MediaQueryMarker|null = null;\n    for (const model of this.cachedQueryModels) {\n      if (lastMarker?.model.dimensionsEqual(model)) {\n        lastMarker.active = lastMarker.active || model.active();\n      } else {\n        lastMarker = {\n          active: model.active(),\n          model,\n          locations: [],\n        };\n        markers.push(lastMarker);\n      }\n      const rawLocation = model.rawLocation();\n      if (rawLocation) {\n        lastMarker.locations.push(rawLocation);\n      }\n    }\n\n    return markers;\n  }\n\n  private zoomFactor(): number {\n    return UI.ZoomManager.ZoomManager.instance().zoomFactor() / this.scale;\n  }\n\n  override wasShown(): void {\n    super.wasShown();\n    this.scheduleMediaQueriesUpdate();\n    this.performUpdate();  // Trigger a manual update eagerly, DeviceModeView needs to measure our height.\n  }\n\n  override performUpdate(): void {\n    const markers = Map.groupBy(this.buildMediaQueryMarkers(), marker => marker.model.section());\n\n    this.view(\n        {\n          zoomFactor: this.zoomFactor(),\n          markers,\n          onMediaQueryClicked: this.onMediaQueryClicked.bind(this),\n          onContextMenu: this.onContextMenu.bind(this),\n        },\n        {}, this.contentElement);\n  }\n}\n\nexport const enum Section {\n  MAX = 0,\n  MIN_MAX = 1,\n  MIN = 2,\n}\n\nexport class MediaQueryUIModel {\n  private cssMedia: SDK.CSSMedia.CSSMedia;\n  readonly #minWidthExpression: SDK.CSSMedia.CSSMediaQueryExpression|null;\n  readonly #maxWidthExpression: SDK.CSSMedia.CSSMediaQueryExpression|null;\n  readonly #active: boolean;\n  readonly #section: Section;\n  #rawLocation?: SDK.CSSModel.CSSLocation|null;\n  constructor(\n      cssMedia: SDK.CSSMedia.CSSMedia, minWidthExpression: SDK.CSSMedia.CSSMediaQueryExpression|null,\n      maxWidthExpression: SDK.CSSMedia.CSSMediaQueryExpression|null, active: boolean) {\n    this.cssMedia = cssMedia;\n    this.#minWidthExpression = minWidthExpression;\n    this.#maxWidthExpression = maxWidthExpression;\n    this.#active = active;\n    if (maxWidthExpression && !minWidthExpression) {\n      this.#section = Section.MAX;\n    } else if (minWidthExpression && maxWidthExpression) {\n      this.#section = Section.MIN_MAX;\n    } else {\n      this.#section = Section.MIN;\n    }\n  }\n\n  static createFromMediaQuery(cssMedia: SDK.CSSMedia.CSSMedia, mediaQuery: SDK.CSSMedia.CSSMediaQuery):\n      MediaQueryUIModel|null {\n    let maxWidthExpression: SDK.CSSMedia.CSSMediaQueryExpression|null = null;\n    let maxWidthPixels: number = Number.MAX_VALUE;\n    let minWidthExpression: SDK.CSSMedia.CSSMediaQueryExpression|null = null;\n    let minWidthPixels: number = Number.MIN_VALUE;\n    const expressions = mediaQuery.expressions();\n    if (!expressions) {\n      return null;\n    }\n\n    for (let i = 0; i < expressions.length; ++i) {\n      const expression = expressions[i];\n      const feature = expression.feature();\n      if (feature.indexOf('width') === -1) {\n        continue;\n      }\n      const pixels = expression.computedLength();\n      if (feature.startsWith('max-') && pixels && pixels < maxWidthPixels) {\n        maxWidthExpression = expression;\n        maxWidthPixels = pixels;\n      } else if (feature.startsWith('min-') && pixels && pixels > minWidthPixels) {\n        minWidthExpression = expression;\n        minWidthPixels = pixels;\n      }\n    }\n    if (minWidthPixels > maxWidthPixels || (!maxWidthExpression && !minWidthExpression)) {\n      return null;\n    }\n\n    return new MediaQueryUIModel(cssMedia, minWidthExpression, maxWidthExpression, mediaQuery.active());\n  }\n\n  equals(other: MediaQueryUIModel): boolean {\n    return this.compareTo(other) === 0;\n  }\n\n  dimensionsEqual(other: MediaQueryUIModel): boolean {\n    const thisMinWidthExpression = this.minWidthExpression();\n    const otherMinWidthExpression = other.minWidthExpression();\n    const thisMaxWidthExpression = this.maxWidthExpression();\n    const otherMaxWidthExpression = other.maxWidthExpression();\n\n    const sectionsEqual = this.section() === other.section();\n    // If there isn't an other min width expression, they aren't equal, so the optional chaining operator is safe to use here.\n    const minWidthEqual = !thisMinWidthExpression ||\n        thisMinWidthExpression.computedLength() === otherMinWidthExpression?.computedLength();\n    const maxWidthEqual = !thisMaxWidthExpression ||\n        thisMaxWidthExpression.computedLength() === otherMaxWidthExpression?.computedLength();\n\n    return sectionsEqual && minWidthEqual && maxWidthEqual;\n  }\n\n  compareTo(other: MediaQueryUIModel): number {\n    if (this.section() !== other.section()) {\n      return this.section() - other.section();\n    }\n    if (this.dimensionsEqual(other)) {\n      const myLocation = this.rawLocation();\n      const otherLocation = other.rawLocation();\n      if (!myLocation && !otherLocation) {\n        return Platform.StringUtilities.compare(this.mediaText(), other.mediaText());\n      }\n      if (myLocation && !otherLocation) {\n        return 1;\n      }\n      if (!myLocation && otherLocation) {\n        return -1;\n      }\n      if (this.active() !== other.active()) {\n        return this.active() ? -1 : 1;\n      }\n\n      if (!myLocation || !otherLocation) {\n        // This conditional never runs, because it's dealt with above, but\n        // TypeScript can't follow that by this point both myLocation and\n        // otherLocation must exist.\n        return 0;\n      }\n\n      return Platform.StringUtilities.compare(myLocation.url, otherLocation.url) ||\n          myLocation.lineNumber - otherLocation.lineNumber || myLocation.columnNumber - otherLocation.columnNumber;\n    }\n\n    const thisMaxWidthExpression = this.maxWidthExpression();\n    const otherMaxWidthExpression = other.maxWidthExpression();\n    const thisMaxLength = thisMaxWidthExpression ? thisMaxWidthExpression.computedLength() || 0 : 0;\n    const otherMaxLength = otherMaxWidthExpression ? otherMaxWidthExpression.computedLength() || 0 : 0;\n\n    const thisMinWidthExpression = this.minWidthExpression();\n    const otherMinWidthExpression = other.minWidthExpression();\n    const thisMinLength = thisMinWidthExpression ? thisMinWidthExpression.computedLength() || 0 : 0;\n    const otherMinLength = otherMinWidthExpression ? otherMinWidthExpression.computedLength() || 0 : 0;\n\n    if (this.section() === Section.MAX) {\n      return otherMaxLength - thisMaxLength;\n    }\n    if (this.section() === Section.MIN) {\n      return thisMinLength - otherMinLength;\n    }\n    return thisMinLength - otherMinLength || otherMaxLength - thisMaxLength;\n  }\n\n  section(): Section {\n    return this.#section;\n  }\n\n  mediaText(): string {\n    return this.cssMedia.text || '';\n  }\n\n  rawLocation(): SDK.CSSModel.CSSLocation|null {\n    if (!this.#rawLocation) {\n      this.#rawLocation = this.cssMedia.rawLocation();\n    }\n    return this.#rawLocation;\n  }\n\n  minWidthExpression(): SDK.CSSMedia.CSSMediaQueryExpression|null {\n    return this.#minWidthExpression;\n  }\n\n  maxWidthExpression(): SDK.CSSMedia.CSSMediaQueryExpression|null {\n    return this.#maxWidthExpression;\n  }\n\n  minWidthValue(zoomFactor: number): number {\n    const minWidthExpression = this.minWidthExpression();\n    return minWidthExpression ? (minWidthExpression.computedLength() || 0) / zoomFactor : 0;\n  }\n\n  maxWidthValue(zoomFactor: number): number {\n    const maxWidthExpression = this.maxWidthExpression();\n    return maxWidthExpression ? (maxWidthExpression.computedLength() || 0) / zoomFactor : 0;\n  }\n\n  active(): boolean {\n    return this.#active;\n  }\n}\n"]}