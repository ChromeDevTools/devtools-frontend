{"version":3,"file":"ThrottlingSettingsTab.js","sourceRoot":"","sources":["../../../../../../front_end/panels/mobile_throttling/ThrottlingSettingsTab.ts"],"names":[],"mappings":"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","sourcesContent":["// Copyright 2017 The Chromium Authors\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n/* eslint-disable @devtools/no-imperative-dom-api */\n\nimport '../../ui/kit/kit.js';\n\nimport * as Common from '../../core/common/common.js';\nimport * as i18n from '../../core/i18n/i18n.js';\nimport * as SDK from '../../core/sdk/sdk.js';\nimport * as Buttons from '../../ui/components/buttons/buttons.js';\nimport {type Card, createIcon} from '../../ui/kit/kit.js';\nimport * as UI from '../../ui/legacy/legacy.js';\nimport * as VisualLogging from '../../ui/visual_logging/visual_logging.js';\n\nimport {CalibrationController} from './CalibrationController.js';\nimport throttlingSettingsTabStyles from './throttlingSettingsTab.css.js';\n\nconst UIStrings = {\n  /**\n   * @description Text in Throttling Settings Tab of the Network panel\n   */\n  networkThrottlingProfiles: 'Network throttling profiles',\n  /**\n   * @description Text of add conditions button in Throttling Settings Tab of the Network panel\n   */\n  addCustomProfile: 'Add profile',\n  /**\n   * @description A value in milliseconds\n   * @example {3} PH1\n   */\n  dms: '{PH1} `ms`',\n  /**\n   * @description Text in Throttling Settings Tab of the Network panel\n   */\n  profileName: 'Profile Name',\n  /**\n   * @description Label for a textbox that sets the download speed in the Throttling Settings Tab.\n   * Noun, short for 'download speed'.\n   */\n  download: 'Download',\n  /**\n   * @description Label for a textbox that sets the upload speed in the Throttling Settings Tab.\n   * Noun, short for 'upload speed'.\n   */\n  upload: 'Upload',\n  /**\n   * @description Label for a textbox that sets the latency in the Throttling Settings Tab.\n   */\n  latency: 'Latency',\n  /**\n   * @description Label for a textbox that sets the packet loss percentage for real-time networks in the Throttling Settings Tab.\n   */\n  packetLoss: 'Packet Loss',\n  /**\n   * @description Label for a textbox that sets the maximum packet queue length for real-time networks in the Throttling Settings Tab.\n   */\n  packetQueueLength: 'Packet Queue Length',\n  /**\n   * @description Label for a checkbox that allows packet reordering in the Throttling Settings Tab.\n   */\n  packetReordering: 'Packet Reordering',\n  /**\n   * @description Label for a textbox serving as a unit in the Throttling Settings Tab for the field Packet Queue Length column.\n   */\n  packet: 'packet',\n  /**\n   * @description Text in Throttling Settings Tab of the Network panel\n   */\n  optional: 'optional',\n  /**\n   * @description Error message for Profile Name input in Throtting pane of the Settings\n   * @example {49} PH1\n   */\n  profileNameCharactersLengthMust: 'Profile Name characters length must be between 1 to {PH1} inclusive',\n  /**\n   * @description Error message for Download and Upload inputs in Throttling pane of the Settings\n   * @example {Download} PH1\n   * @example {0} PH2\n   * @example {10000000} PH3\n   */\n  sMustBeANumberBetweenSkbsToSkbs: '{PH1} must be a number between {PH2} `kbit/s` to {PH3} `kbit/s` inclusive',\n  /**\n   * @description Error message for Latency input in Throttling pane of the Settings\n   * @example {0} PH1\n   * @example {1000000} PH2\n   */\n  latencyMustBeAnIntegerBetweenSms: 'Latency must be an integer between {PH1} `ms` to {PH2} `ms` inclusive',\n  /**\n   * @description Error message for Packet Loss input in Throttling pane of the Settings\n   * @example {0} PH1\n   * @example {100} PH2\n   */\n  packetLossMustBeAnIntegerBetweenSpct: 'Packet Loss must be a number between {PH1} `%` to {PH2} `%` inclusive',\n  /**\n   * @description Error message for Packet Queue Length input in Throttling pane of the Settings\n   */\n  packetQueueLengthMustBeAnIntegerGreaterOrEqualToZero: 'Packet Queue Length must be greater or equal to 0',\n  /**\n   * @description Text in Throttling Settings Tab of the Network panel, indicating the download or\n   * upload speed that will be applied in kilobits per second.\n   * @example {25} PH1\n   */\n  dskbits: '{PH1} `kbit/s`',\n  /**\n   * @description Text in Throttling Settings Tab of the Network panel, indicating the download or\n   * upload speed that will be applied in megabits per second.\n   * @example {25.4} PH1\n   */\n  fsmbits: '{PH1} `Mbit/s`',\n  /**\n   * @description Label for the column Packet Reordering to indicate it is enabled in the Throttling Settings Tab.\n   */\n  on: 'On',\n  /**\n   * @description Label for the column Packet Reordering to indicate it is disabled in the Throttling Settings Tab.\n   */\n  off: 'Off',\n\n  /**\n   * @description Text in Throttling Settings Tab of the Settings panel\n   */\n  cpuThrottlingPresets: 'CPU throttling presets',\n  /**\n   * @description Button text to prompt the user to run the CPU calibration process.\n   */\n  calibrate: 'Calibrate',\n  /**\n   * @description Button text to prompt the user to re-run the CPU calibration process.\n   */\n  recalibrate: 'Recalibrate',\n  /**\n   * @description Button text to prompt the user if they wish to continue with the CPU calibration process.\n   */\n  continue: 'Continue',\n  /**\n   * @description Button text to allow the user to cancel the CPU calibration process.\n   */\n  cancel: 'Cancel',\n  /**\n   * @description Text to use to indicate that a CPU calibration has not been run yet.\n   */\n  needsCalibration: 'Needs calibration',\n  /**\n   * @description Text to explain why the user should run the CPU calibration process.\n   */\n  calibrationCTA:\n      'To use the CPU throttling presets, run the calibration process to determine the ideal throttling rate for your device.',\n  /**\n   * @description Text to explain what CPU throttling presets are.\n   */\n  cpuCalibrationDescription:\n      'These presets throttle your CPU to approximate the performance of typical low or mid-tier mobile devices.',\n  /**\n   * @description Text to explain how the CPU calibration process will work.\n   */\n  calibrationConfirmationPrompt:\n      'Calibration will take ~5 seconds, and temporarily navigate away from your current page. Do you wish to continue?',\n  /**\n   * @description Text to explain an issue that may impact the CPU calibration process.\n   */\n  calibrationWarningHighCPU: 'CPU utilization is too high',\n  /**\n   * @description Text to explain an issue that may impact the CPU calibration process.\n   */\n  calibrationWarningRunningOnBattery: 'Device is running on battery, please plug in charger for best results',\n  /**\n   * @description Text to explain an issue that may impact the CPU calibration process.\n   */\n  calibrationWarningLowBattery: 'Device battery is low (<20%), results may be impacted by CPU throttling',\n  /**\n   * @description Text label for a menu item indicating that a specific slowdown multiplier is applied.\n   * @example {2} PH1\n   */\n  dSlowdown: '{PH1}Ã— slowdown',\n} as const;\nconst str_ = i18n.i18n.registerUIStrings('panels/mobile_throttling/ThrottlingSettingsTab.ts', UIStrings);\nconst i18nString = i18n.i18n.getLocalizedString.bind(undefined, str_);\n\n/**\n * This promise resolves after the first compute pressure record is observed.\n * The object it returns is always up-to-date with the most recent record observed.\n */\nfunction createComputePressurePromise(): Promise<{state: string}> {\n  const result = {state: ''};\n\n  return new Promise(resolve => {\n    // @ts-expect-error typescript/lib version needs to be updated.\n    const observer = new PressureObserver(records => {\n      result.state = records.at(-1).state;\n      resolve(result);\n    });\n    observer.observe('cpu', {\n      sampleInterval: 1000,\n    });\n  });\n}\n\nexport class CPUThrottlingCard {\n  element: Card;\n\n  private readonly setting: Common.Settings.Setting<SDK.CPUThrottlingManager.CalibratedCPUThrottling>;\n  private computePressurePromise?: ReturnType<typeof createComputePressurePromise>;\n  private controller?: CalibrationController;\n\n  // UI stuff.\n  private lowTierMobileDeviceEl: HTMLElement;\n  private midTierMobileDeviceEl: HTMLElement;\n  private calibrateEl: HTMLElement;\n  private textEl: HTMLElement;\n  private calibrateButton: Buttons.Button.Button;\n  private cancelButton: Buttons.Button.Button;\n  private progress: UI.ProgressIndicator.ProgressIndicator;\n  private state: 'cta'|'prompting'|'calibrating' = 'cta';\n  private warnings: string[] = [];\n\n  constructor() {\n    this.setting = Common.Settings.Settings.instance().createSetting<SDK.CPUThrottlingManager.CalibratedCPUThrottling>(\n        'calibrated-cpu-throttling', {}, Common.Settings.SettingStorageType.GLOBAL);\n\n    this.element = document.createElement('devtools-card');\n    this.element.heading = i18nString(UIStrings.cpuThrottlingPresets);\n\n    const descriptionEl = this.element.createChild('span');\n    descriptionEl.textContent = i18nString(UIStrings.cpuCalibrationDescription);\n\n    this.lowTierMobileDeviceEl = this.element.createChild('div', 'cpu-preset-section');\n    this.lowTierMobileDeviceEl.append('Low-tier mobile device');\n    this.lowTierMobileDeviceEl.createChild('div', 'cpu-preset-result');\n\n    this.midTierMobileDeviceEl = this.element.createChild('div', 'cpu-preset-section');\n    this.midTierMobileDeviceEl.append('Mid-tier mobile device');\n    this.midTierMobileDeviceEl.createChild('div', 'cpu-preset-result');\n\n    this.calibrateEl = this.element.createChild('div', 'cpu-preset-section cpu-preset-calibrate');\n\n    const buttonContainerEl = this.calibrateEl.createChild('div', 'button-container');\n\n    this.calibrateButton = new Buttons.Button.Button();\n    this.calibrateButton.classList.add('calibrate-button');\n    this.calibrateButton.data = {\n      variant: Buttons.Button.Variant.PRIMARY,\n      jslogContext: 'throttling.calibrate',\n    };\n    this.calibrateButton.addEventListener('click', () => this.calibrateButtonClicked());\n    buttonContainerEl.append(this.calibrateButton);\n\n    this.cancelButton = new Buttons.Button.Button();\n    this.cancelButton.classList.add('cancel-button');\n    this.cancelButton.data = {\n      variant: Buttons.Button.Variant.OUTLINED,\n      jslogContext: 'throttling.calibrate-cancel',\n    };\n    this.cancelButton.textContent = i18nString(UIStrings.cancel);\n    this.cancelButton.addEventListener('click', () => this.cancelButtonClicked());\n    buttonContainerEl.append(this.cancelButton);\n\n    this.textEl = this.calibrateEl.createChild('div', 'text-container');\n\n    this.progress = this.calibrateEl.createChild('devtools-progress');\n    this.progress.setAttribute('no-stop-button', '');\n\n    this.updateState();\n  }\n\n  wasShown(): void {\n    this.computePressurePromise = createComputePressurePromise();\n    this.state = 'cta';\n    this.updateState();\n  }\n\n  willHide(): void {\n    this.computePressurePromise = undefined;\n    if (this.controller) {\n      this.controller.abort();\n    }\n  }\n\n  private updateState(): void {\n    if (this.state !== 'calibrating') {\n      this.controller = undefined;\n    }\n\n    const result = this.setting.get();\n    const hasCalibrated = result.low || result.mid;\n\n    this.calibrateButton.style.display = 'none';\n    this.textEl.style.display = 'none';\n    this.cancelButton.style.display = 'none';\n    this.progress.style.display = 'none';\n\n    if (this.state === 'cta') {\n      this.calibrateButton.style.display = '';\n      this.calibrateButton.textContent =\n          hasCalibrated ? i18nString(UIStrings.recalibrate) : i18nString(UIStrings.calibrate);\n\n      if (!hasCalibrated) {\n        this.textEl.style.display = '';\n        this.textEl.textContent = '';\n        this.textEl.append(this.createTextWithIcon(i18nString(UIStrings.calibrationCTA), 'info'));\n      }\n    } else if (this.state === 'prompting') {\n      this.calibrateButton.style.display = '';\n      this.calibrateButton.textContent = i18nString(UIStrings.continue);\n\n      this.cancelButton.style.display = '';\n\n      this.textEl.style.display = '';\n      this.textEl.textContent = '';\n      for (const warning of this.warnings) {\n        this.textEl.append(this.createTextWithIcon(warning, 'warning'));\n      }\n      this.textEl.append(this.createTextWithIcon(i18nString(UIStrings.calibrationConfirmationPrompt), 'info'));\n    } else if (this.state === 'calibrating') {\n      this.cancelButton.style.display = '';\n      this.progress.style.display = '';\n    }\n\n    const resultToString = (result: number|SDK.CPUThrottlingManager.CalibrationError|undefined): string => {\n      if (result === undefined) {\n        return i18nString(UIStrings.needsCalibration);\n      }\n\n      if (typeof result === 'string') {\n        return SDK.CPUThrottlingManager.calibrationErrorToString(result);\n      }\n\n      // Shouldn't happen, but let's not throw an error (.toFixed) if the setting\n      // somehow was saved with a non-number.\n      if (typeof result !== 'number') {\n        return `Invalid: ${result}`;\n      }\n\n      return i18nString(UIStrings.dSlowdown, {PH1: result.toFixed(1)});\n    };\n\n    const setPresetResult =\n        (element: HTMLElement|null, result: number|SDK.CPUThrottlingManager.CalibrationError|undefined): void => {\n          if (!element) {\n            throw new Error('expected HTMLElement');\n          }\n\n          element.textContent = resultToString(result);\n          element.classList.toggle('not-calibrated', result === undefined);\n        };\n\n    setPresetResult(this.lowTierMobileDeviceEl.querySelector('.cpu-preset-result'), result.low);\n    setPresetResult(this.midTierMobileDeviceEl.querySelector('.cpu-preset-result'), result.mid);\n  }\n\n  private createTextWithIcon(text: string, icon: string): HTMLElement {\n    const el = document.createElement('div');\n    el.classList.add('text-with-icon');\n    el.append(createIcon(icon));\n    el.append(text);\n    return el;\n  }\n\n  private async getCalibrationWarnings(): Promise<string[]> {\n    const warnings = [];\n\n    if (this.computePressurePromise) {\n      const computePressure = await this.computePressurePromise;\n      if (computePressure.state === 'critical' || computePressure.state === 'serious') {\n        warnings.push(i18nString(UIStrings.calibrationWarningHighCPU));\n      }\n    }\n\n    // @ts-expect-error typescript/lib version needs to be updated.\n    const battery = await navigator.getBattery();\n    if (!battery.charging) {\n      warnings.push(i18nString(UIStrings.calibrationWarningRunningOnBattery));\n    } else if (battery.level < 0.2) {\n      warnings.push(i18nString(UIStrings.calibrationWarningLowBattery));\n    }\n\n    return warnings;\n  }\n\n  private async calibrateButtonClicked(): Promise<void> {\n    if (this.state === 'cta') {\n      this.warnings = await this.getCalibrationWarnings();\n      this.state = 'prompting';\n      this.updateState();\n    } else if (this.state === 'prompting') {\n      this.state = 'calibrating';\n      this.updateState();\n      void this.runCalibration();\n    }\n  }\n\n  private cancelButtonClicked(): void {\n    if (this.controller) {\n      this.controller.abort();\n    } else {\n      this.state = 'cta';\n      this.updateState();\n    }\n  }\n\n  private async runCalibration(): Promise<void> {\n    this.progress.worked = 0;\n    this.progress.totalWork = 1;\n\n    this.controller = new CalibrationController();\n\n    try {\n      if (!await this.controller.start()) {\n        console.error('Calibration failed to start');\n        return;\n      }\n\n      for await (const result of this.controller.iterator()) {\n        this.progress.worked = result.progress;\n      }\n    } catch (e) {\n      console.error(e);\n    } finally {\n      await this.controller.end();\n    }\n\n    const result = this.controller.result();\n    if (result && (result.low || result.mid)) {\n      this.setting.set(result);\n      // Let the user bask in the glory of a 100% progress bar, for a bit.\n      this.progress.worked = 1;\n      await new Promise(resolve => setTimeout(resolve, 200));\n    }\n\n    this.state = 'cta';\n    this.updateState();\n  }\n}\n\nfunction extractCustomSettingIndex(key: SDK.NetworkManager.UserDefinedThrottlingConditionKey): number {\n  const match = key.match(/USER_CUSTOM_SETTING_(\\d+)/);\n  if (match?.[1]) {\n    return parseInt(match[1], 10);\n  }\n  return 0;\n}\n\nexport class ThrottlingSettingsTab extends UI.Widget.VBox implements\n    UI.ListWidget.Delegate<SDK.NetworkManager.Conditions> {\n  private readonly list: UI.ListWidget.ListWidget<SDK.NetworkManager.Conditions>;\n  private readonly customUserConditions: Common.Settings.Setting<SDK.NetworkManager.Conditions[]>;\n  private editor?: UI.ListWidget.Editor<SDK.NetworkManager.Conditions>;\n  private cpuThrottlingCard: CPUThrottlingCard;\n  /**\n   * We store how many custom conditions the user has defined when we load up\n   * DevTools. This is because when the user creates a new one, we need to\n   * generate a unique key. We take this value, increment it, and use that as part of the unique key.\n   * This means that we are resilient to the user adding & then deleting a\n   * profile; we always use this counter which is only ever incremented.\n   */\n  #customUserConditionsCount: number;\n\n  constructor() {\n    super({\n      jslog: `${VisualLogging.pane('throttling-conditions')}`,\n      useShadowDom: true,\n    });\n    this.registerRequiredCSS(throttlingSettingsTabStyles);\n\n    const settingsContent =\n        this.contentElement.createChild('div', 'settings-card-container-wrapper').createChild('div');\n    settingsContent.classList.add('settings-card-container', 'throttling-conditions-settings');\n\n    this.cpuThrottlingCard = new CPUThrottlingCard();\n    settingsContent.append(this.cpuThrottlingCard.element);\n\n    const addButton = new Buttons.Button.Button();\n    addButton.classList.add('add-conditions-button');\n    addButton.data = {\n      variant: Buttons.Button.Variant.OUTLINED,\n      iconName: 'plus',\n      jslogContext: 'network.add-conditions',\n    };\n    addButton.textContent = i18nString(UIStrings.addCustomProfile);\n    addButton.addEventListener('click', () => this.addButtonClicked());\n\n    const card = settingsContent.createChild('devtools-card');\n    card.heading = i18nString(UIStrings.networkThrottlingProfiles);\n    const container = card.createChild('div');\n\n    this.list = new UI.ListWidget.ListWidget(this);\n    this.list.element.classList.add('conditions-list');\n    this.list.registerRequiredCSS(throttlingSettingsTabStyles);\n    this.list.show(container);\n    container.appendChild(addButton);\n\n    this.customUserConditions = SDK.NetworkManager.customUserNetworkConditionsSetting();\n    this.customUserConditions.addChangeListener(this.conditionsUpdated, this);\n\n    const customConditions = this.customUserConditions.get();\n    // We need to parse out the current max condition key index. If the last\n    // one added is USER_CUSTOM_SETTING_9, then we need to set the\n    // customUserConditionsCount property to 9, so that the next item added\n    // gets index 10.\n    // Because we always increment the index and append it to the list, we\n    // know that the last item in the list will have the largest custom key\n    // index, hence why we can just pluck the last item rather than search for\n    // the one with the largest index.\n    const lastCondition = customConditions.at(-1);\n    const key = lastCondition?.key;\n    if (key && SDK.NetworkManager.keyIsCustomUser(key)) {\n      const maxIndex = extractCustomSettingIndex(key);\n      this.#customUserConditionsCount = maxIndex;\n    } else {\n      this.#customUserConditionsCount = 0;\n    }\n  }\n\n  override wasShown(): void {\n    super.wasShown();\n    this.cpuThrottlingCard.wasShown();\n    this.conditionsUpdated();\n  }\n\n  override willHide(): void {\n    super.willHide();\n    this.cpuThrottlingCard.willHide();\n  }\n\n  private conditionsUpdated(): void {\n    this.list.clear();\n\n    const conditions = this.customUserConditions.get();\n    for (let i = 0; i < conditions.length; ++i) {\n      this.list.appendItem(conditions[i], true);\n    }\n\n    this.list.appendSeparator();\n  }\n\n  private addButtonClicked(): void {\n    this.#customUserConditionsCount++;\n    this.list.addNewItem(this.customUserConditions.get().length, {\n      key: `USER_CUSTOM_SETTING_${this.#customUserConditionsCount}`,\n      title: () => '',\n      download: -1,\n      upload: -1,\n      latency: 0,\n      packetLoss: 0,\n      packetReordering: false\n    });\n  }\n\n  renderItem(conditions: SDK.NetworkManager.Conditions, _editable: boolean): Element {\n    const element = document.createElement('div');\n    element.classList.add('conditions-list-item');\n    const title = element.createChild('div', 'conditions-list-text conditions-list-title');\n    const titleText = title.createChild('div', 'conditions-list-title-text');\n    const castedTitle = this.retrieveOptionsTitle(conditions);\n    titleText.textContent = castedTitle;\n    UI.Tooltip.Tooltip.install(titleText, castedTitle);\n    element.createChild('div', 'conditions-list-separator');\n    element.createChild('div', 'conditions-list-text').textContent = throughputText(conditions.download);\n    element.createChild('div', 'conditions-list-separator');\n    element.createChild('div', 'conditions-list-text').textContent = throughputText(conditions.upload);\n    element.createChild('div', 'conditions-list-separator');\n    element.createChild('div', 'conditions-list-text').textContent =\n        i18nString(UIStrings.dms, {PH1: conditions.latency});\n    element.createChild('div', 'conditions-list-separator');\n    element.createChild('div', 'conditions-list-text').textContent = percentText(conditions.packetLoss ?? 0);\n    element.createChild('div', 'conditions-list-separator');\n    element.createChild('div', 'conditions-list-text').textContent = String(conditions.packetQueueLength ?? 0);\n    element.createChild('div', 'conditions-list-separator');\n    element.createChild('div', 'conditions-list-text').textContent =\n        conditions.packetReordering ? i18nString(UIStrings.on) : i18nString(UIStrings.off);\n\n    return element;\n  }\n\n  removeItemRequested(_item: SDK.NetworkManager.Conditions, index: number): void {\n    const list = this.customUserConditions.get();\n    list.splice(index, 1);\n    this.customUserConditions.set(list);\n  }\n\n  retrieveOptionsTitle(conditions: SDK.NetworkManager.Conditions): string {\n    // The title is usually an i18nLazyString except for custom values that are stored in the local storage in the form of a string.\n    const castedTitle = typeof conditions.title === 'function' ? conditions.title() : conditions.title;\n    return castedTitle;\n  }\n\n  commitEdit(\n      conditions: SDK.NetworkManager.Conditions, editor: UI.ListWidget.Editor<SDK.NetworkManager.Conditions>,\n      isNew: boolean): void {\n    conditions.title = editor.control('title').value.trim();\n    const download = editor.control('download').value.trim();\n    conditions.download = download ? parseInt(download, 10) * (1000 / 8) : -1;\n    const upload = editor.control('upload').value.trim();\n    conditions.upload = upload ? parseInt(upload, 10) * (1000 / 8) : -1;\n    const latency = editor.control('latency').value.trim();\n    conditions.latency = latency ? parseInt(latency, 10) : 0;\n    const packetLoss = editor.control('packetLoss').value.trim();\n    conditions.packetLoss = packetLoss ? parseFloat(packetLoss) : 0;\n    const packetQueueLength = editor.control('packetQueueLength').value.trim();\n    conditions.packetQueueLength = packetQueueLength ? parseFloat(packetQueueLength) : 0;\n    const packetReordering = (editor.control('packetReordering') as HTMLInputElement).checked;\n    conditions.packetReordering = packetReordering;\n\n    const list = this.customUserConditions.get();\n    if (isNew) {\n      list.push(conditions);\n    }\n\n    this.customUserConditions.set(list);\n  }\n\n  beginEdit(conditions: SDK.NetworkManager.Conditions): UI.ListWidget.Editor<SDK.NetworkManager.Conditions> {\n    const editor = this.createEditor();\n    editor.control('title').value = this.retrieveOptionsTitle(conditions);\n    editor.control('download').value = conditions.download <= 0 ? '' : String(conditions.download / (1000 / 8));\n    editor.control('upload').value = conditions.upload <= 0 ? '' : String(conditions.upload / (1000 / 8));\n    editor.control('latency').value = conditions.latency ? String(conditions.latency) : '';\n    editor.control('packetLoss').value = conditions.packetLoss ? String(conditions.packetLoss) : '';\n    editor.control('packetQueueLength').value =\n        conditions.packetQueueLength ? String(conditions.packetQueueLength) : '';\n    (editor.control('packetReordering') as HTMLInputElement).checked = conditions.packetReordering ?? false;\n    return editor;\n  }\n\n  private createEditor(): UI.ListWidget.Editor<SDK.NetworkManager.Conditions> {\n    if (this.editor) {\n      return this.editor;\n    }\n\n    // Define the settings configuration\n    const settings = [\n      {\n        name: 'title',\n        labelText: i18nString(UIStrings.profileName),\n        inputType: 'text',\n        placeholder: '',\n        validator: titleValidator,\n        isOptional: false,\n      },\n      {\n        name: 'download',\n        labelText: i18nString(UIStrings.download),\n        inputType: 'text',\n        placeholder: i18n.i18n.lockedString('kbit/s'),\n        validator: throughputValidator,\n      },\n      {\n        name: 'upload',\n        labelText: i18nString(UIStrings.upload),\n        inputType: 'text',\n        placeholder: i18n.i18n.lockedString('kbit/s'),\n        validator: throughputValidator,\n      },\n      {\n        name: 'latency',\n        labelText: i18nString(UIStrings.latency),\n        inputType: 'text',\n        placeholder: i18n.i18n.lockedString('ms'),\n        validator: latencyValidator,\n      },\n      {\n        name: 'packetLoss',\n        labelText: i18nString(UIStrings.packetLoss),\n        inputType: 'text',\n        placeholder: i18n.i18n.lockedString('percent'),\n        validator: packetLossValidator,\n      },\n      {\n        name: 'packetQueueLength',\n        labelText: i18nString(UIStrings.packetQueueLength),\n        inputType: 'text',\n        placeholder: i18nString(UIStrings.packet),\n        validator: packetQueueLengthValidator,\n      },\n      {\n        name: 'packetReordering',\n        labelText: i18nString(UIStrings.packetReordering),\n        inputType: 'checkbox',\n        placeholder: '',\n        validator: packetReorderingValidator,\n        isOptional: false,\n      },\n    ];\n\n    const editor = new UI.ListWidget.Editor<SDK.NetworkManager.Conditions>();\n    this.editor = editor;\n    const content = editor.contentElement();\n\n    const settingsContainer = content.createChild('div', 'settings-container');\n\n    const createSettingField = (\n        name: string,\n        labelText: Common.UIString.LocalizedString,\n        inputType: string,\n        placeholder: Common.UIString.LocalizedString|string,\n        validator: (item: SDK.NetworkManager.Conditions, index: number, input: UI.ListWidget.EditorControl) =>\n            UI.ListWidget.ValidatorResult,\n        isOptional = true,\n        ): void => {\n      const settingElement = settingsContainer.createChild('div', 'setting');\n      // Create title element\n      const titleContainer = settingElement.createChild('div');\n      titleContainer.textContent = labelText;\n      // Create input element\n      const inputElement = settingElement.createChild('div');\n      const input = editor.createInput(name, inputType, placeholder, validator);\n      input.classList.add('input');\n      UI.ARIAUtils.setLabel(input, labelText);\n      inputElement.appendChild(input);\n\n      const optionalTextElement = inputElement.createChild('div');\n      const optionalStr = i18nString(UIStrings.optional);\n      optionalTextElement.textContent = optionalStr;\n      UI.ARIAUtils.setDescription(input, optionalStr);\n      if (!isOptional) {\n        optionalTextElement.style.visibility = 'hidden';\n      }\n    };\n\n    // Iterate over settings and create components\n    settings.forEach(setting => {\n      createSettingField(\n          setting.name, setting.labelText, setting.inputType, setting.placeholder, setting.validator,\n          setting.isOptional);\n    });\n\n    return editor;\n\n    function titleValidator(_item: SDK.NetworkManager.Conditions, _index: number, input: UI.ListWidget.EditorControl):\n        UI.ListWidget.ValidatorResult {\n      const maxLength = 49;\n      const value = input.value.trim();\n      const valid = value.length > 0 && value.length <= maxLength;\n      if (!valid) {\n        const errorMessage = i18nString(UIStrings.profileNameCharactersLengthMust, {PH1: maxLength});\n        return {valid, errorMessage};\n      }\n      return {valid, errorMessage: undefined};\n    }\n\n    function throughputValidator(\n        _item: SDK.NetworkManager.Conditions, _index: number,\n        input: UI.ListWidget.EditorControl): UI.ListWidget.ValidatorResult {\n      const minThroughput = 0;\n      const maxThroughput = 10000000;\n      const value = input.value.trim();\n      const parsedValue = Number(value);\n      const throughput = input.getAttribute('aria-label');\n      const valid = !Number.isNaN(parsedValue) && parsedValue >= minThroughput && parsedValue <= maxThroughput;\n      if (!valid) {\n        const errorMessage = i18nString(\n            UIStrings.sMustBeANumberBetweenSkbsToSkbs,\n            {PH1: String(throughput), PH2: minThroughput, PH3: maxThroughput});\n        return {valid, errorMessage};\n      }\n      return {valid, errorMessage: undefined};\n    }\n\n    function latencyValidator(_item: SDK.NetworkManager.Conditions, _index: number, input: UI.ListWidget.EditorControl):\n        UI.ListWidget.ValidatorResult {\n      const minLatency = 0;\n      const maxLatency = 1000000;\n      const value = input.value.trim();\n      const parsedValue = Number(value);\n      const valid = Number.isInteger(parsedValue) && parsedValue >= minLatency && parsedValue <= maxLatency;\n      if (!valid) {\n        const errorMessage = i18nString(UIStrings.latencyMustBeAnIntegerBetweenSms, {PH1: minLatency, PH2: maxLatency});\n        return {valid, errorMessage};\n      }\n      return {valid, errorMessage: undefined};\n    }\n\n    function packetLossValidator(\n        _item: SDK.NetworkManager.Conditions, _index: number,\n        input: UI.ListWidget.EditorControl): UI.ListWidget.ValidatorResult {\n      const minPacketLoss = 0;\n      const maxPacketLoss = 100;\n      const value = input.value.trim();\n      const parsedValue = Number(value);\n      const valid = parsedValue >= minPacketLoss && parsedValue <= maxPacketLoss;\n      if (!valid) {\n        const errorMessage =\n            i18nString(UIStrings.packetLossMustBeAnIntegerBetweenSpct, {PH1: minPacketLoss, PH2: maxPacketLoss});\n        return {valid, errorMessage};\n      }\n      return {valid, errorMessage: undefined};\n    }\n\n    function packetQueueLengthValidator(\n        _item: SDK.NetworkManager.Conditions, _index: number,\n        input: UI.ListWidget.EditorControl): UI.ListWidget.ValidatorResult {\n      const minPacketQueueLength = 0;\n      const value = input.value.trim();\n      const parsedValue = Number(value);\n      const valid = parsedValue >= minPacketQueueLength;\n      if (!valid) {\n        const errorMessage = i18nString(UIStrings.packetQueueLengthMustBeAnIntegerGreaterOrEqualToZero);\n        return {valid, errorMessage};\n      }\n      return {valid, errorMessage: undefined};\n    }\n\n    function packetReorderingValidator(\n        _item: SDK.NetworkManager.Conditions, _index: number,\n        _input: UI.ListWidget.EditorControl): UI.ListWidget.ValidatorResult {\n      return {valid: true, errorMessage: undefined};\n    }\n  }\n}\n\nfunction throughputText(throughput: number): string {\n  if (throughput < 0) {\n    return '';\n  }\n  const throughputInKbps = throughput / (1000 / 8);\n  if (throughputInKbps < 1000) {\n    return i18nString(UIStrings.dskbits, {PH1: throughputInKbps});\n  }\n  if (throughputInKbps < 1000 * 10) {\n    const formattedResult = (throughputInKbps / 1000).toFixed(1);\n    return i18nString(UIStrings.fsmbits, {PH1: formattedResult});\n  }\n  // TODO(petermarshall): Figure out if there is a difference we need to tell i18n about\n  // for these two versions: one with decimal places and one without.\n  return i18nString(UIStrings.fsmbits, {PH1: (throughputInKbps / 1000) | 0});\n}\n\nfunction percentText(percent: number): string {\n  if (percent < 0) {\n    return '';\n  }\n  return String(percent) + '%';\n}\n"]}