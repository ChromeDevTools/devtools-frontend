{"version":3,"file":"RequestCookiesView.js","sourceRoot":"","sources":["../../../../../../front_end/panels/network/RequestCookiesView.ts"],"names":[],"mappings":"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","sourcesContent":["// Copyright 2011 The Chromium Authors\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\nimport * as Common from '../../core/common/common.js';\nimport * as i18n from '../../core/i18n/i18n.js';\nimport * as SDK from '../../core/sdk/sdk.js';\nimport * as Protocol from '../../generated/protocol.js';\nimport * as uiI18n from '../../ui/i18n/i18n.js';\nimport * as CookieTable from '../../ui/legacy/components/cookie_table/cookie_table.js';\nimport * as UI from '../../ui/legacy/legacy.js';\nimport * as Lit from '../../ui/lit/lit.js';\nimport * as VisualLogging from '../../ui/visual_logging/visual_logging.js';\n\nimport requestCookiesViewStyles from './requestCookiesView.css.js';\nconst {render, html} = Lit;\n\nconst UIStrings = {\n  /**\n   * @description Text in Request Cookies View of the Network panel\n   */\n  thisRequestHasNoCookies: 'This request has no cookies.',\n  /**\n   * @description Title for a table which shows all of the cookies associated with a selected network\n   * request, in the Network panel. Noun phrase.\n   */\n  requestCookies: 'Request Cookies',\n  /**\n   * @description Tooltip to explain what request cookies are\n   */\n  cookiesThatWereSentToTheServerIn: 'Cookies that were sent to the server in the \\'cookie\\' header of the request',\n  /**\n   * @description Label for showing request cookies that were not actually sent\n   */\n  showFilteredOutRequestCookies: 'show filtered out request cookies',\n  /**\n   * @description Text in Request Headers View of the Network Panel\n   */\n  noRequestCookiesWereSent: 'No request cookies were sent.',\n  /**\n   * @description Text in Request Cookies View of the Network panel\n   */\n  responseCookies: 'Response Cookies',\n  /**\n   * @description Tooltip to explain what response cookies are\n   */\n  cookiesThatWereReceivedFromThe:\n      'Cookies that were received from the server in the \\'`set-cookie`\\' header of the response',\n  /**\n   * @description Label for response cookies with invalid syntax\n   */\n  malformedResponseCookies: 'Malformed Response Cookies',\n  /**\n   * @description Tooltip to explain what malformed response cookies are. Malformed cookies are\n   * cookies that did not match the expected format and could not be interpreted, and are invalid.\n   */\n  cookiesThatWereReceivedFromTheServer:\n      'Cookies that were received from the server in the \\'`set-cookie`\\' header of the response but were malformed',\n\n  /**\n   * @description Informational text to explain that there were other cookies\n   * that were not used and not shown in the list.\n   * @example {Learn more} PH1\n   *\n   */\n  siteHasCookieInOtherPartition:\n      'This site has cookies in another partition, that were not sent with this request. {PH1}',\n  /**\n   * @description Title of a link to the developer documentation.\n   */\n  learnMore: 'Learn more',\n} as const;\nconst str_ = i18n.i18n.registerUIStrings('panels/network/RequestCookiesView.ts', UIStrings);\nconst i18nString = i18n.i18n.getLocalizedString.bind(undefined, str_);\n\ninterface ViewInput {\n  requestCookies: CookieTable.CookiesTable.CookiesTableData;\n  responseCookies: CookieTable.CookiesTable.CookiesTableData;\n  malformedResponseCookies: SDK.NetworkRequest.BlockedSetCookieWithReason[];\n  showFilteredOutCookies: boolean;\n  hasBlockedCookies: boolean;\n  gotCookies: boolean;\n  onShowFilteredOutCookiesChange: (checked: boolean) => void;\n  siteHasCookieInOtherPartition: boolean;\n}\n\ntype ViewFunction = (input: ViewInput, output: undefined, target: HTMLElement) => void;\n\nexport const DEFAULT_VIEW: ViewFunction = (input, _output, target) => {\n  // clang-format off\n  render(\n    html`\n    <style>${requestCookiesViewStyles}</style>\n    <style>${UI.inspectorCommonStyles}</style>\n    <div class=\"request-cookies-view\">\n      ${input.gotCookies ? Lit.nothing : html`\n        <devtools-widget .widgetConfig=${UI.Widget.widgetConfig(UI.EmptyWidget.EmptyWidget, {\n          header: i18nString(UIStrings.thisRequestHasNoCookies)})}></devtools-widget>\n      `}\n\n      <div class=${input.requestCookies.cookies.length || input.hasBlockedCookies ? '' : 'hidden'}>\n        <span class=\"request-cookies-title\" title=${i18nString(UIStrings.cookiesThatWereSentToTheServerIn)}>\n          ${i18nString(UIStrings.requestCookies)}\n        </span>\n        <devtools-checkbox\n          @change=${(e: Event) => input.onShowFilteredOutCookiesChange((e.target as HTMLInputElement).checked)}\n          .checked=${input.showFilteredOutCookies}>\n          ${i18nString(UIStrings.showFilteredOutRequestCookies)}\n        </devtools-checkbox>\n      </div>\n\n      <div class=\"cookies-panel-item ${!input.requestCookies.cookies.length && input.hasBlockedCookies ? '' : 'hidden'}\">\n        ${i18nString(UIStrings.noRequestCookiesWereSent)}\n      </div>\n\n      ${input.requestCookies.cookies.length > 0 ? html`\n        <devtools-widget .widgetConfig=${UI.Widget.widgetConfig(CookieTable.CookiesTable.CookiesTable, {\n          cookiesData: input.requestCookies,\n          inline: true\n        })} class=\"cookie-table cookies-panel-item\"></devtools-widget>\n      ` : Lit.nothing}\n\n      <div class=\"cookies-panel-item site-has-cookies-in-other-partition ${input.siteHasCookieInOtherPartition ? '' : 'hidden'}\">\n        ${uiI18n.getFormatLocalizedString(str_, UIStrings.siteHasCookieInOtherPartition, {\n          PH1: UI.XLink.XLink.create(\n            'https://developer.chrome.com/en/docs/privacy-sandbox/chips/', i18nString(UIStrings.learnMore), undefined,\n            undefined, 'learn-more'),})}\n      </div>\n\n      <div class=\"request-cookies-title ${input.responseCookies.cookies.length ? '' : 'hidden'}\"\n        title=${i18nString(UIStrings.cookiesThatWereReceivedFromThe)}>\n          ${i18nString(UIStrings.responseCookies)}\n      </div>\n\n      ${input.responseCookies.cookies.length ? html`\n        <devtools-widget .widgetConfig=${UI.Widget.widgetConfig(CookieTable.CookiesTable.CookiesTable, {\n          cookiesData: input.responseCookies,\n          inline: true })} class=\"cookie-table cookies-panel-item\"></devtools-widget>\n      ` : Lit.nothing}\n\n      <div class=\"request-cookies-title ${input.malformedResponseCookies.length ? '' : 'hidden'}\" title=${i18nString(UIStrings.cookiesThatWereReceivedFromTheServer)}>\n        ${i18nString(UIStrings.malformedResponseCookies)}\n      </div>\n\n      <div class=${input.malformedResponseCookies.length ? '' : 'hidden'}>\n        ${input.malformedResponseCookies.map(malformedCookie => html`\n          <span class=\"cookie-line source-code\" title=${getMalformedCookieTooltip(malformedCookie)}>\n            <devtools-icon class=\"cookie-warning-icon small\" .name=${'cross-circle-filled'}></devtools-icon>\n            ${malformedCookie.cookieLine}\n          </span>\n        `)}\n      </div>\n    </div>\n  `,\n  target);\n  // clang-format on\n};\n\nfunction getMalformedCookieTooltip(malformedCookie: SDK.NetworkRequest.BlockedSetCookieWithReason): string {\n  if (malformedCookie.blockedReasons.includes(Protocol.Network.SetCookieBlockedReason.NameValuePairExceedsMaxSize)) {\n    return SDK.NetworkRequest.setCookieBlockedReasonToUiString(\n        Protocol.Network.SetCookieBlockedReason.NameValuePairExceedsMaxSize);\n  }\n  return SDK.NetworkRequest.setCookieBlockedReasonToUiString(Protocol.Network.SetCookieBlockedReason.SyntaxError);\n}\n\nexport class RequestCookiesView extends UI.Widget.Widget {\n  private request: SDK.NetworkRequest.NetworkRequest;\n  private readonly showFilteredOutCookiesSetting: Common.Settings.Setting<boolean>;\n  private readonly view: ViewFunction;\n\n  constructor(request: SDK.NetworkRequest.NetworkRequest, view: ViewFunction = DEFAULT_VIEW) {\n    super({jslog: `${VisualLogging.pane('cookies').track({resize: true})}`});\n    this.request = request;\n    this.showFilteredOutCookiesSetting = Common.Settings.Settings.instance().createSetting(\n        'show-filtered-out-request-cookies', /* defaultValue */ false);\n    this.view = view;\n  }\n\n  private getRequestCookies(): {\n    requestCookies: SDK.Cookie.Cookie[],\n    requestCookieToBlockedReasons: Map<SDK.Cookie.Cookie, SDK.CookieModel.BlockedReason[]>,\n    requestCookieToExemptionReason: Map<SDK.Cookie.Cookie, SDK.CookieModel.ExemptionReason>,\n  } {\n    const requestCookieToBlockedReasons = new Map<SDK.Cookie.Cookie, SDK.CookieModel.BlockedReason[]>();\n    const requestCookieToExemptionReason = new Map<SDK.Cookie.Cookie, SDK.CookieModel.ExemptionReason>();\n    const requestCookies =\n        this.request.includedRequestCookies().map(includedRequestCookie => includedRequestCookie.cookie);\n\n    if (this.showFilteredOutCookiesSetting.get()) {\n      for (const blockedCookie of this.request.blockedRequestCookies()) {\n        requestCookieToBlockedReasons.set(blockedCookie.cookie, blockedCookie.blockedReasons.map(blockedReason => {\n          return {\n            attribute: SDK.NetworkRequest.cookieBlockedReasonToAttribute(blockedReason),\n            uiString: SDK.NetworkRequest.cookieBlockedReasonToUiString(blockedReason),\n          };\n        }));\n        requestCookies.push(blockedCookie.cookie);\n      }\n    }\n    for (const includedCookie of this.request.includedRequestCookies()) {\n      if (includedCookie.exemptionReason) {\n        requestCookieToExemptionReason.set(includedCookie.cookie, {\n          uiString: SDK.NetworkRequest.cookieExemptionReasonToUiString(includedCookie.exemptionReason),\n        });\n      }\n    }\n    return {requestCookies, requestCookieToBlockedReasons, requestCookieToExemptionReason};\n  }\n\n  private getResponseCookies(): {\n    responseCookies: SDK.Cookie.Cookie[],\n    responseCookieToBlockedReasons: Map<SDK.Cookie.Cookie, SDK.CookieModel.BlockedReason[]>,\n    responseCookieToExemptionReason: Map<SDK.Cookie.Cookie, SDK.CookieModel.ExemptionReason>,\n    malformedResponseCookies: SDK.NetworkRequest.BlockedSetCookieWithReason[],\n  } {\n    let responseCookies: SDK.Cookie.Cookie[] = [];\n    const responseCookieToBlockedReasons = new Map<SDK.Cookie.Cookie, SDK.CookieModel.BlockedReason[]>();\n    const responseCookieToExemptionReason = new Map<SDK.Cookie.Cookie, SDK.CookieModel.ExemptionReason>();\n    const malformedResponseCookies: SDK.NetworkRequest.BlockedSetCookieWithReason[] = [];\n\n    if (this.request.responseCookies.length) {\n      responseCookies = this.request.nonBlockedResponseCookies();\n      for (const blockedCookie of this.request.blockedResponseCookies()) {\n        const parsedCookies = SDK.CookieParser.CookieParser.parseSetCookie(blockedCookie.cookieLine);\n        if ((parsedCookies && !parsedCookies.length) ||\n            blockedCookie.blockedReasons.includes(Protocol.Network.SetCookieBlockedReason.SyntaxError) ||\n            blockedCookie.blockedReasons.includes(\n                Protocol.Network.SetCookieBlockedReason.NameValuePairExceedsMaxSize)) {\n          malformedResponseCookies.push(blockedCookie);\n          continue;\n        }\n\n        let cookie: SDK.Cookie.Cookie|(SDK.Cookie.Cookie | null) = blockedCookie.cookie;\n        if (!cookie && parsedCookies) {\n          cookie = parsedCookies[0];\n        }\n        if (cookie) {\n          responseCookieToBlockedReasons.set(cookie, blockedCookie.blockedReasons.map(blockedReason => {\n            return {\n              attribute: SDK.NetworkRequest.setCookieBlockedReasonToAttribute(blockedReason),\n              uiString: SDK.NetworkRequest.setCookieBlockedReasonToUiString(blockedReason),\n            };\n          }));\n          responseCookies.push(cookie);\n        }\n      }\n      for (const exemptedCookie of this.request.exemptedResponseCookies()) {\n        // `responseCookies` are generated from `Set-Cookie` header, which should include the exempted cookies, whereas\n        // exempted cookies are received via CDP as objects of type cookie. Therefore they are different objects in\n        // DevTools and need to be matched here in order for the rendering logic to be able to lookup a potential\n        // exemption reason for a cookie.\n        const matchedResponseCookie =\n            responseCookies.find(responseCookie => exemptedCookie.cookieLine === responseCookie.getCookieLine());\n        if (matchedResponseCookie) {\n          responseCookieToExemptionReason.set(matchedResponseCookie, {\n            uiString: SDK.NetworkRequest.cookieExemptionReasonToUiString(exemptedCookie.exemptionReason),\n          });\n        }\n      }\n    }\n\n    return {responseCookies, responseCookieToBlockedReasons, responseCookieToExemptionReason, malformedResponseCookies};\n  }\n\n  override performUpdate(): void {\n    if (!this.isShowing()) {\n      return;\n    }\n    const {requestCookies, requestCookieToBlockedReasons, requestCookieToExemptionReason} = this.getRequestCookies();\n    const {responseCookies, responseCookieToBlockedReasons, responseCookieToExemptionReason, malformedResponseCookies} =\n        this.getResponseCookies();\n\n    const input: ViewInput = {\n      gotCookies: this.request.hasRequestCookies() || this.request.responseCookies.length > 0,\n      requestCookies: {\n        cookies: requestCookies,\n        cookieToBlockedReasons: requestCookieToBlockedReasons,\n        cookieToExemptionReason: requestCookieToExemptionReason,\n      },\n      responseCookies: {\n        cookies: responseCookies,\n        cookieToBlockedReasons: responseCookieToBlockedReasons,\n        cookieToExemptionReason: responseCookieToExemptionReason,\n      },\n      malformedResponseCookies,\n      showFilteredOutCookies: this.showFilteredOutCookiesSetting.get(),\n      onShowFilteredOutCookiesChange: (checked: boolean) => {\n        this.showFilteredOutCookiesSetting.set(checked);\n        this.requestUpdate();\n      },\n      siteHasCookieInOtherPartition: this.request.siteHasCookieInOtherPartition(),\n      hasBlockedCookies: this.request.blockedRequestCookies().length > 0,\n    };\n\n    this.view(input, undefined, this.contentElement);\n  }\n\n  override wasShown(): void {\n    super.wasShown();\n    this.request.addEventListener(SDK.NetworkRequest.Events.REQUEST_HEADERS_CHANGED, this.requestUpdate, this);\n    this.request.addEventListener(SDK.NetworkRequest.Events.RESPONSE_HEADERS_CHANGED, this.requestUpdate, this);\n\n    this.requestUpdate();\n  }\n\n  override willHide(): void {\n    super.willHide();\n    this.request.removeEventListener(SDK.NetworkRequest.Events.REQUEST_HEADERS_CHANGED, this.requestUpdate, this);\n    this.request.removeEventListener(SDK.NetworkRequest.Events.RESPONSE_HEADERS_CHANGED, this.requestUpdate, this);\n  }\n}\n"]}