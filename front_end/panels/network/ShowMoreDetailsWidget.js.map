{"version":3,"file":"ShowMoreDetailsWidget.js","sourceRoot":"","sources":["../../../../../../front_end/panels/network/ShowMoreDetailsWidget.ts"],"names":[],"mappings":"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","sourcesContent":["// Copyright 2026 The Chromium Authors\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\nimport * as i18n from '../../core/i18n/i18n.js';\nimport * as Buttons from '../../ui/components/buttons/buttons.js';\nimport * as UI from '../../ui/legacy/legacy.js';\nimport * as Lit from '../../ui/lit/lit.js';\nconst UIStrings = {\n  /**\n   * @description Text to show more content\n   */\n  showMore: 'Show more',\n} as const;\nconst str_ = i18n.i18n.registerUIStrings('panels/network/ShowMoreDetailsWidget.ts', UIStrings);\nconst i18nString = i18n.i18n.getLocalizedString.bind(undefined, str_);\n\nconst {render, html} = Lit;\ninterface ViewInput {\n  text: string;\n  showMore: boolean;\n  onToggle: () => void;\n  copy: CopyMenuItem|null;\n}\ntype View = (input: ViewInput, output: object, target: HTMLElement) => void;\nconst MAX_LENGTH = 3000;\n\nexport const DEFAULT_VIEW: View = (input, output, target) => {\n  const onContextMenuShowMore = (event: Event): void => {\n    const contextMenu = new UI.ContextMenu.ContextMenu(event);\n    if (input.copy) {\n      contextMenu.clipboardSection().appendItem(input.copy.menuItem, input.copy.handler);\n    }\n    if (!input.showMore) {\n      contextMenu.newSection().appendItem(i18nString(UIStrings.showMore), input.onToggle, {jslogContext: 'show-more'});\n    }\n    void contextMenu.show();\n  };\n\n  render(html`<span\n            @contextmenu=${onContextMenuShowMore}\n            >${input.showMore ? input.text : input.text.substr(0, MAX_LENGTH)}</span>\n          ${\n             !input.showMore && input.text.length > MAX_LENGTH ? html`<devtools-button\n            .variant=${Buttons.Button.Variant.OUTLINED}\n            .jslogContext=${'show-more'}\n            @click=${input.onToggle}>\n            ${i18nString(UIStrings.showMore)}\n          </devtools-button>` :\n                                                                 Lit.nothing}`,\n         target);\n};\n\ninterface CopyMenuItem {\n  menuItem: UI.ContextMenu.Item;\n  handler: () => void;\n}\n\nexport class ShowMoreDetailsWidget extends UI.Widget.Widget {\n  readonly #view: View;\n  #text = '';\n  #showMore = false;\n  #copy: CopyMenuItem|null = null;\n  constructor(target?: HTMLElement, view = DEFAULT_VIEW) {\n    super(target);\n    this.#view = view;\n  }\n\n  get text(): string {\n    return this.#text;\n  }\n\n  set text(text: string) {\n    this.#text = text;\n    this.requestUpdate();\n  }\n\n  set copy(copy: CopyMenuItem) {\n    this.#copy = copy;\n    this.requestUpdate();\n  }\n\n  override performUpdate(): void {\n    this.#view(\n        {\n          copy: this.#copy,\n          text: this.#text,\n          showMore: this.#showMore,\n          onToggle: () => {\n            this.#showMore = true;\n            this.requestUpdate();\n          },\n        },\n        {}, this.contentElement);\n  }\n}\n"]}