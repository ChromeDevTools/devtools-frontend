{"version":3,"file":"ProfileView.js","sourceRoot":"","sources":["../../../../../../front_end/panels/profiler/ProfileView.ts"],"names":[],"mappings":"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","sourcesContent":["// Copyright 2016 The Chromium Authors\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n/* eslint-disable @devtools/no-imperative-dom-api */\n\nimport * as Common from '../../core/common/common.js';\nimport * as Host from '../../core/host/host.js';\nimport * as i18n from '../../core/i18n/i18n.js';\nimport * as Platform from '../../core/platform/platform.js';\nimport type * as SDK from '../../core/sdk/sdk.js';\nimport type * as Protocol from '../../generated/protocol.js';\nimport * as Bindings from '../../models/bindings/bindings.js';\nimport type * as CPUProfile from '../../models/cpu_profile/cpu_profile.js';\nimport * as DataGrid from '../../ui/legacy/components/data_grid/data_grid.js';\nimport * as PerfUI from '../../ui/legacy/components/perf_ui/perf_ui.js';\nimport * as Components from '../../ui/legacy/components/utils/utils.js';\nimport * as UI from '../../ui/legacy/legacy.js';\n\nimport {BottomUpProfileDataGridTree} from './BottomUpProfileDataGrid.js';\nimport {type Formatter, type ProfileDataGridNode, ProfileDataGridTree} from './ProfileDataGrid.js';\nimport {ProfileFlameChart, type ProfileFlameChartDataProvider} from './ProfileFlameChartDataProvider.js';\nimport {type DataDisplayDelegate, ProfileHeader, type ProfileType} from './ProfileHeader.js';\nimport {ProfileSidebarTreeElement} from './ProfileSidebarTreeElement.js';\nimport {TopDownProfileDataGridTree} from './TopDownProfileDataGrid.js';\n\nconst UIStrings = {\n  /**\n   * @description Text in Profile View of a profiler tool\n   */\n  profile: 'Profile',\n  /**\n   * @description Placeholder text in the search box of the JavaScript profiler tool. Users can search\n   *the results by the cost in milliseconds, the name of the function, or the file name.\n   */\n  findByCostMsNameOrFile: 'Find by cost (>50ms), name or file',\n  /**\n   * @description Text for a programming function\n   */\n  function: 'Function',\n  /**\n   * @description Title of the Profiler tool\n   */\n  profiler: 'Profiler',\n  /**\n   * @description Aria-label for profiles view combobox in memory tool\n   */\n  profileViewMode: 'Profile view mode',\n  /**\n   * @description Tooltip text that appears when hovering over the largeicon visibility button in the Profile View of a profiler tool\n   */\n  focusSelectedFunction: 'Focus selected function',\n  /**\n   * @description Tooltip text that appears when hovering over the largeicon delete button in the Profile View of a profiler tool\n   */\n  excludeSelectedFunction: 'Exclude selected function',\n  /**\n   * @description Tooltip text that appears when hovering over the largeicon refresh button in the Profile View of a profiler tool\n   */\n  restoreAllFunctions: 'Restore all functions',\n  /**\n   * @description Text in Profile View of a profiler tool\n   */\n  chart: 'Chart',\n  /**\n   * @description Text in Profile View of a profiler tool\n   */\n  heavyBottomUp: 'Heavy (Bottom Up)',\n  /**\n   * @description Text for selecting different profile views in the JS profiler tool. This option is a tree view.\n   */\n  treeTopDown: 'Tree (Top Down)',\n  /**\n   * @description Name of a profile\n   * @example {2} PH1\n   */\n  profileD: 'Profile {PH1}',\n  /**\n   * @description Text in Profile View of a profiler tool\n   * @example {4 MB} PH1\n   */\n  loadingD: 'Loading… {PH1}%',\n  /**\n   * @description Text in Profile View of a profiler tool\n   * @example {example.file} PH1\n   * @example {cannot open file} PH2\n   */\n  fileSReadErrorS: 'File \\'\\'{PH1}\\'\\' read error: {PH2}',\n  /**\n   * @description Text when something is loading\n   */\n  loading: 'Loading…',\n  /**\n   * @description Text in Profile View of a profiler tool\n   */\n  failedToReadFile: 'Failed to read file',\n  /**\n   * @description Text in Profile View of a profiler tool\n   */\n  parsing: 'Parsing…',\n  /**\n   * @description Status indicator in the JS Profiler to show that a file has been successfully loaded\n   * from file, as opposed to a profile that has been captured locally.\n   */\n  loaded: 'Loaded',\n} as const;\nconst str_ = i18n.i18n.registerUIStrings('panels/profiler/ProfileView.ts', UIStrings);\nconst i18nString = i18n.i18n.getLocalizedString.bind(undefined, str_);\nexport class ProfileView extends UI.View.SimpleView implements UI.SearchableView.Searchable {\n  profileInternal: CPUProfile.ProfileTreeModel.ProfileTreeModel|null;\n  searchableViewInternal: UI.SearchableView.SearchableView;\n  dataGrid: DataGrid.DataGrid.DataGridImpl<unknown>;\n  viewSelectComboBox: UI.Toolbar.ToolbarComboBox;\n  focusButton: UI.Toolbar.ToolbarButton;\n  excludeButton: UI.Toolbar.ToolbarButton;\n  resetButton: UI.Toolbar.ToolbarButton;\n  readonly linkifierInternal: Components.Linkifier.Linkifier;\n  nodeFormatter!: Formatter;\n  viewType!: Common.Settings.Setting<ViewTypes>;\n  adjustedTotal!: number;\n  profileHeader!: WritableProfileHeader;\n  bottomUpProfileDataGridTree?: BottomUpProfileDataGridTree|null;\n  topDownProfileDataGridTree?: TopDownProfileDataGridTree|null;\n  currentSearchResultIndex?: number;\n  dataProvider?: ProfileFlameChartDataProvider;\n  flameChart?: ProfileFlameChart;\n  visibleView?: ProfileFlameChart|DataGrid.DataGrid.DataGridWidget<unknown>;\n  searchableElement?: ProfileDataGridTree|ProfileFlameChart;\n  profileDataGridTree?: ProfileDataGridTree;\n  constructor() {\n    super({\n      title: i18nString(UIStrings.profile),\n      viewId: 'profile',\n    });\n\n    this.profileInternal = null;\n\n    this.searchableViewInternal = new UI.SearchableView.SearchableView(this, null);\n    this.searchableViewInternal.setPlaceholder(i18nString(UIStrings.findByCostMsNameOrFile));\n    this.searchableViewInternal.show(this.element);\n\n    const columns = ([] as DataGrid.DataGrid.ColumnDescriptor[]);\n    columns.push({\n      id: 'self',\n      title: this.columnHeader('self'),\n      width: '120px',\n      fixedWidth: true,\n      sortable: true,\n      sort: DataGrid.DataGrid.Order.Descending,\n      titleDOMFragment: undefined,\n      align: undefined,\n      editable: undefined,\n      nonSelectable: undefined,\n      longText: undefined,\n      disclosure: undefined,\n      weight: undefined,\n      allowInSortByEvenWhenHidden: undefined,\n      dataType: undefined,\n      defaultWeight: undefined,\n    });\n    columns.push({\n      id: 'total',\n      title: this.columnHeader('total'),\n      width: '120px',\n      fixedWidth: true,\n      sortable: true,\n      sort: undefined,\n      titleDOMFragment: undefined,\n      align: undefined,\n      editable: undefined,\n      nonSelectable: undefined,\n      longText: undefined,\n      disclosure: undefined,\n      weight: undefined,\n      allowInSortByEvenWhenHidden: undefined,\n      dataType: undefined,\n      defaultWeight: undefined,\n    });\n    columns.push({\n      id: 'function',\n      title: i18nString(UIStrings.function),\n      disclosure: true,\n      sortable: true,\n      sort: undefined,\n      titleDOMFragment: undefined,\n      align: undefined,\n      editable: undefined,\n      nonSelectable: undefined,\n      longText: undefined,\n      weight: undefined,\n      allowInSortByEvenWhenHidden: undefined,\n      dataType: undefined,\n      defaultWeight: undefined,\n      width: undefined,\n      fixedWidth: undefined,\n    });\n\n    this.dataGrid = new DataGrid.DataGrid.DataGridImpl({\n      displayName: i18nString(UIStrings.profiler),\n      columns,\n      deleteCallback: undefined,\n      refreshCallback: undefined,\n    });\n    this.dataGrid.addEventListener(DataGrid.DataGrid.Events.SORTING_CHANGED, this.sortProfile, this);\n    this.dataGrid.addEventListener(DataGrid.DataGrid.Events.SELECTED_NODE, this.nodeSelected.bind(this, true));\n    this.dataGrid.addEventListener(DataGrid.DataGrid.Events.DESELECTED_NODE, this.nodeSelected.bind(this, false));\n    this.dataGrid.setRowContextMenuCallback(this.populateContextMenu.bind(this));\n\n    this.viewSelectComboBox = new UI.Toolbar.ToolbarComboBox(\n        this.changeView.bind(this), i18nString(UIStrings.profileViewMode), undefined, 'profile-view.selected-view');\n\n    this.focusButton = new UI.Toolbar.ToolbarButton(\n        i18nString(UIStrings.focusSelectedFunction), 'eye', undefined, 'profile-view.focus-selected-function');\n    this.focusButton.setEnabled(false);\n    this.focusButton.addEventListener(UI.Toolbar.ToolbarButton.Events.CLICK, this.focusClicked, this);\n\n    this.excludeButton = new UI.Toolbar.ToolbarButton(\n        i18nString(UIStrings.excludeSelectedFunction), 'cross', undefined, 'profile-view.exclude-selected-function');\n    this.excludeButton.setEnabled(false);\n    this.excludeButton.addEventListener(UI.Toolbar.ToolbarButton.Events.CLICK, this.excludeClicked, this);\n\n    this.resetButton = new UI.Toolbar.ToolbarButton(\n        i18nString(UIStrings.restoreAllFunctions), 'refresh', undefined, 'profile-view.restore-all-functions');\n    this.resetButton.setEnabled(false);\n    this.resetButton.addEventListener(UI.Toolbar.ToolbarButton.Events.CLICK, this.resetClicked, this);\n\n    this.linkifierInternal = new Components.Linkifier.Linkifier(maxLinkLength);\n  }\n\n  static buildPopoverTable(popoverInfo: Array<{\n    title: string,\n    value: string,\n  }>): Element {\n    const table = document.createElement('table');\n    for (const entry of popoverInfo) {\n      const row = table.createChild('tr');\n      row.createChild('td').textContent = entry.title;\n      row.createChild('td').textContent = entry.value;\n    }\n    return table;\n  }\n\n  setProfile(profile: CPUProfile.ProfileTreeModel.ProfileTreeModel): void {\n    this.profileInternal = profile;\n    this.bottomUpProfileDataGridTree = null;\n    this.topDownProfileDataGridTree = null;\n    this.changeView();\n    this.refresh();\n  }\n\n  profile(): CPUProfile.ProfileTreeModel.ProfileTreeModel|null {\n    return this.profileInternal;\n  }\n\n  initialize(nodeFormatter: Formatter): void {\n    this.nodeFormatter = nodeFormatter;\n\n    this.viewType = Common.Settings.Settings.instance().createSetting('profile-view', ViewTypes.HEAVY);\n    const viewTypes = [ViewTypes.FLAME, ViewTypes.HEAVY, ViewTypes.TREE];\n\n    const optionNames = new Map([\n      [ViewTypes.FLAME, i18nString(UIStrings.chart)],\n      [ViewTypes.HEAVY, i18nString(UIStrings.heavyBottomUp)],\n      [ViewTypes.TREE, i18nString(UIStrings.treeTopDown)],\n    ]);\n\n    const options = new Map(\n        viewTypes.map(type => [type, this.viewSelectComboBox.createOption((optionNames.get(type) as string), type)]));\n    const optionName = this.viewType.get() || viewTypes[0];\n    const option = options.get(optionName) || options.get(viewTypes[0]);\n    this.viewSelectComboBox.select((option as Element));\n\n    this.changeView();\n    if (this.flameChart) {\n      this.flameChart.update();\n    }\n  }\n\n  override focus(): void {\n    if (this.flameChart) {\n      this.flameChart.focus();\n    } else {\n      super.focus();\n    }\n  }\n\n  columnHeader(_columnId: string): Common.UIString.LocalizedString {\n    throw new Error('Not implemented');\n  }\n\n  selectRange(timeLeft: number, timeRight: number): void {\n    if (!this.flameChart) {\n      return;\n    }\n    this.flameChart.selectRange(timeLeft, timeRight);\n  }\n\n  override async toolbarItems(): Promise<UI.Toolbar.ToolbarItem[]> {\n    return [this.viewSelectComboBox, this.focusButton, this.excludeButton, this.resetButton];\n  }\n\n  getBottomUpProfileDataGridTree(): ProfileDataGridTree {\n    if (!this.bottomUpProfileDataGridTree) {\n      this.bottomUpProfileDataGridTree = new BottomUpProfileDataGridTree(\n          this.nodeFormatter, this.searchableViewInternal,\n          (this.profileInternal as CPUProfile.ProfileTreeModel.ProfileTreeModel).root, this.adjustedTotal);\n    }\n    return this.bottomUpProfileDataGridTree;\n  }\n\n  getTopDownProfileDataGridTree(): ProfileDataGridTree {\n    if (!this.topDownProfileDataGridTree) {\n      this.topDownProfileDataGridTree = new TopDownProfileDataGridTree(\n          this.nodeFormatter, this.searchableViewInternal,\n          (this.profileInternal as CPUProfile.ProfileTreeModel.ProfileTreeModel).root, this.adjustedTotal);\n    }\n    return this.topDownProfileDataGridTree;\n  }\n\n  populateContextMenu(contextMenu: UI.ContextMenu.ContextMenu, gridNode: DataGrid.DataGrid.DataGridNode<unknown>):\n      void {\n    const node = (gridNode as ProfileDataGridNode);\n    if (node.linkElement) {\n      contextMenu.appendApplicableItems(node.linkElement);\n    }\n  }\n\n  override willHide(): void {\n    super.willHide();\n    this.currentSearchResultIndex = -1;\n  }\n\n  refresh(): void {\n    if (!this.profileDataGridTree) {\n      return;\n    }\n    const selectedProfileNode =\n        this.dataGrid.selectedNode ? (this.dataGrid.selectedNode as ProfileDataGridNode).profileNode : null;\n\n    this.dataGrid.rootNode().removeChildren();\n\n    const children = this.profileDataGridTree.children;\n    const count = children.length;\n\n    for (let index = 0; index < count; ++index) {\n      this.dataGrid.rootNode().appendChild(children[index]);\n    }\n\n    if (selectedProfileNode) {\n      // TODO(crbug.com/1011811): Cleanup the added `selected` property to this SDK class.\n      // @ts-expect-error\n      selectedProfileNode.selected = true;\n    }\n  }\n\n  refreshVisibleData(): void {\n    let child: (DataGrid.DataGrid.DataGridNode<unknown>|null) = this.dataGrid.rootNode().children[0];\n    while (child) {\n      child.refresh();\n      child = child.traverseNextNode(false, null, true);\n    }\n  }\n\n  searchableView(): UI.SearchableView.SearchableView {\n    return this.searchableViewInternal;\n  }\n\n  supportsCaseSensitiveSearch(): boolean {\n    return true;\n  }\n\n  supportsWholeWordSearch(): boolean {\n    return false;\n  }\n\n  supportsRegexSearch(): boolean {\n    return false;\n  }\n\n  onSearchCanceled(): void {\n    if (this.searchableElement) {\n      this.searchableElement.onSearchCanceled();\n    }\n  }\n\n  performSearch(searchConfig: UI.SearchableView.SearchConfig, shouldJump: boolean, jumpBackwards?: boolean): void {\n    if (this.searchableElement) {\n      this.searchableElement.performSearch(searchConfig, shouldJump, jumpBackwards);\n    }\n  }\n\n  jumpToNextSearchResult(): void {\n    if (this.searchableElement) {\n      this.searchableElement.jumpToNextSearchResult();\n    }\n  }\n\n  jumpToPreviousSearchResult(): void {\n    if (this.searchableElement) {\n      this.searchableElement.jumpToPreviousSearchResult();\n    }\n  }\n\n  linkifier(): Components.Linkifier.Linkifier {\n    return this.linkifierInternal;\n  }\n\n  createFlameChartDataProvider(): ProfileFlameChartDataProvider {\n    throw new Error('Not implemented');\n  }\n\n  ensureFlameChartCreated(): void {\n    if (this.flameChart) {\n      return;\n    }\n    this.dataProvider = this.createFlameChartDataProvider();\n    this.flameChart = new ProfileFlameChart(this.searchableViewInternal, this.dataProvider);\n    this.flameChart.addEventListener(PerfUI.FlameChart.Events.ENTRY_INVOKED, event => {\n      void this.onEntryInvoked(event);\n    });\n  }\n\n  async onEntryInvoked(event: Common.EventTarget.EventTargetEvent<number>): Promise<void> {\n    if (!this.dataProvider) {\n      return;\n    }\n    const entryIndex = event.data;\n    const node = this.dataProvider.entryNodes[entryIndex];\n    const debuggerModel = this.profileHeader.debuggerModel;\n    if (!node || !node.scriptId || !debuggerModel) {\n      return;\n    }\n    const script = debuggerModel.scriptForId(node.scriptId);\n    if (!script) {\n      return;\n    }\n    const location = (debuggerModel.createRawLocation(script, node.lineNumber, node.columnNumber));\n    const uiLocation =\n        await Bindings.DebuggerWorkspaceBinding.DebuggerWorkspaceBinding.instance().rawLocationToUILocation(location);\n    void Common.Revealer.reveal(uiLocation);\n  }\n\n  changeView(): void {\n    if (!this.profileInternal) {\n      return;\n    }\n\n    this.searchableViewInternal.closeSearch();\n\n    if (this.visibleView) {\n      this.visibleView.detach();\n    }\n    this.viewType.set((this.viewSelectComboBox.selectedOption() as HTMLOptionElement).value as ViewTypes);\n    switch (this.viewType.get()) {\n      case ViewTypes.FLAME:\n        this.ensureFlameChartCreated();\n        this.visibleView = this.flameChart;\n        this.searchableElement = this.flameChart;\n        break;\n      case ViewTypes.TREE:\n        this.profileDataGridTree = this.getTopDownProfileDataGridTree();\n        this.sortProfile();\n        this.visibleView = this.dataGrid.asWidget();\n        this.searchableElement = this.profileDataGridTree;\n        break;\n      case ViewTypes.HEAVY:\n        this.profileDataGridTree = this.getBottomUpProfileDataGridTree();\n        this.sortProfile();\n        this.visibleView = this.dataGrid.asWidget();\n        this.searchableElement = this.profileDataGridTree;\n        break;\n    }\n\n    const isFlame = this.viewType.get() === ViewTypes.FLAME;\n    this.focusButton.setVisible(!isFlame);\n    this.excludeButton.setVisible(!isFlame);\n    this.resetButton.setVisible(!isFlame);\n\n    if (this.visibleView) {\n      this.visibleView.show(this.searchableViewInternal.element);\n    }\n  }\n\n  nodeSelected(selected: boolean): void {\n    this.focusButton.setEnabled(selected);\n    this.excludeButton.setEnabled(selected);\n  }\n\n  focusClicked(): void {\n    if (!this.dataGrid.selectedNode) {\n      return;\n    }\n\n    this.resetButton.setEnabled(true);\n    (this.resetButton.element as HTMLElement).focus();\n    if (this.profileDataGridTree) {\n      this.profileDataGridTree.focus((this.dataGrid.selectedNode as ProfileDataGridNode));\n    }\n    this.refresh();\n    this.refreshVisibleData();\n    Host.userMetrics.actionTaken(Host.UserMetrics.Action.CpuProfileNodeFocused);\n  }\n\n  excludeClicked(): void {\n    const selectedNode = this.dataGrid.selectedNode;\n\n    if (!selectedNode) {\n      return;\n    }\n\n    this.resetButton.setEnabled(true);\n    (this.resetButton.element as HTMLElement).focus();\n\n    selectedNode.deselect();\n\n    if (this.profileDataGridTree) {\n      this.profileDataGridTree.exclude((selectedNode as ProfileDataGridNode));\n    }\n    this.refresh();\n    this.refreshVisibleData();\n    Host.userMetrics.actionTaken(Host.UserMetrics.Action.CpuProfileNodeExcluded);\n  }\n\n  resetClicked(): void {\n    this.viewSelectComboBox.element.focus();\n    this.resetButton.setEnabled(false);\n    if (this.profileDataGridTree) {\n      this.profileDataGridTree.restore();\n    }\n    this.linkifierInternal.reset();\n    this.refresh();\n    this.refreshVisibleData();\n  }\n\n  sortProfile(): void {\n    if (!this.profileDataGridTree) {\n      return;\n    }\n    const sortAscending = this.dataGrid.isSortOrderAscending();\n    const sortColumnId = this.dataGrid.sortColumnId();\n    const sortProperty = sortColumnId === 'function' ? 'functionName' : sortColumnId || '';\n    this.profileDataGridTree.sort(ProfileDataGridTree.propertyComparator(sortProperty, sortAscending), false);\n\n    this.refresh();\n  }\n}\n\nexport const maxLinkLength = 30;\n\nexport const enum ViewTypes {\n  FLAME = 'Flame',\n  TREE = 'Tree',\n  HEAVY = 'Heavy',\n}\n\nexport class WritableProfileHeader extends ProfileHeader implements Common.StringOutputStream.OutputStream {\n  readonly debuggerModel: SDK.DebuggerModel.DebuggerModel|null;\n  fileName?: Platform.DevToolsPath.RawPathString;\n  jsonifiedProfile?: string|null;\n  profile?: Protocol.Profiler.Profile;\n  protocolProfileInternal?: Protocol.Profiler.Profile;\n  #profileReceivedPromise = Promise.withResolvers<void>();\n\n  constructor(debuggerModel: SDK.DebuggerModel.DebuggerModel|null, type: ProfileType, title?: string) {\n    super(type, title || i18nString(UIStrings.profileD, {PH1: type.nextProfileUid()}));\n    this.debuggerModel = debuggerModel;\n  }\n\n  onChunkTransferred(_reader: Bindings.FileUtils.ChunkedReader): void {\n    if (this.jsonifiedProfile) {\n      // TODO(l10n): Is the '%' at the end of this string correct? 4MB% looks wrong\n      this.updateStatus(\n          i18nString(UIStrings.loadingD, {PH1: i18n.ByteUtilities.bytesToString(this.jsonifiedProfile.length)}));\n    }\n  }\n\n  onError(reader: Bindings.FileUtils.ChunkedReader): void {\n    const error = (reader.error() as Error);\n    if (error) {\n      this.updateStatus(i18nString(UIStrings.fileSReadErrorS, {PH1: reader.fileName(), PH2: error.message}));\n    }\n  }\n\n  async write(text: string): Promise<void> {\n    this.jsonifiedProfile += text;\n  }\n\n  async close(): Promise<void> {\n  }\n\n  override dispose(): void {\n    this.removeTempFile();\n  }\n\n  override createSidebarTreeElement(panel: DataDisplayDelegate): ProfileSidebarTreeElement {\n    return new ProfileSidebarTreeElement(panel, this, 'profile-sidebar-tree-item');\n  }\n\n  override canSaveToFile(): boolean {\n    return !this.fromFile();\n  }\n\n  override async saveToFile(): Promise<void> {\n    await this.#profileReceivedPromise.promise;\n    const fileOutputStream = new Bindings.FileUtils.FileOutputStream();\n    if (!this.fileName) {\n      const now = Platform.DateUtilities.toISO8601Compact(new Date());\n      const fileExtension = this.profileType().fileExtension();\n\n      this.fileName = `${this.profileType().typeName()}-${now}${fileExtension}` as Platform.DevToolsPath.RawPathString;\n    }\n\n    const accepted = await fileOutputStream.open(this.fileName);\n    if (!accepted || !this.tempFile) {\n      return;\n    }\n    const data = await this.tempFile.read();\n    if (data) {\n      await fileOutputStream.write(data);\n    }\n    void fileOutputStream.close();\n  }\n\n  override async loadFromFile(file: File): Promise<Error|null> {\n    this.updateStatus(i18nString(UIStrings.loading), true);\n    const fileReader = new Bindings.FileUtils.ChunkedFileReader(file, 10000000, this.onChunkTransferred.bind(this));\n    this.jsonifiedProfile = '';\n\n    const success = await fileReader.read(this);\n    if (!success) {\n      this.onError(fileReader);\n      return new Error(i18nString(UIStrings.failedToReadFile));\n    }\n\n    this.updateStatus(i18nString(UIStrings.parsing), true);\n    let error = null;\n    try {\n      this.profile = (JSON.parse(this.jsonifiedProfile) as Protocol.Profiler.Profile);\n      this.setProfile((this.profile));\n      this.updateStatus(i18nString(UIStrings.loaded), false);\n    } catch (e) {\n      error = e;\n      this.profileType().removeProfile(this);\n    }\n    this.jsonifiedProfile = null;\n\n    if (this.profileType().profileBeingRecorded() === this) {\n      this.profileType().setProfileBeingRecorded(null);\n    }\n    return error;\n  }\n\n  setProtocolProfile(profile: Protocol.Profiler.Profile): void {\n    this.setProfile(profile);\n    this.protocolProfileInternal = profile;\n    this.tempFile = new Bindings.TempFile.TempFile();\n    this.tempFile.write([JSON.stringify(profile)]);\n    this.#profileReceivedPromise.resolve();\n  }\n}\n"]}