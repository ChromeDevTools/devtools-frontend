{"version":3,"file":"SecurityPanelSidebar.js","sourceRoot":"","sources":["../../../../../../front_end/panels/security/SecurityPanelSidebar.ts"],"names":[],"mappings":"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","sourcesContent":["// Copyright 2024 The Chromium Authors\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n/* eslint-disable @devtools/no-imperative-dom-api */\n\nimport * as Common from '../../core/common/common.js';\nimport * as i18n from '../../core/i18n/i18n.js';\nimport * as Platform from '../../core/platform/platform.js';\nimport * as Root from '../../core/root/root.js';\nimport * as Protocol from '../../generated/protocol.js';\nimport type {Icon} from '../../ui/kit/kit.js';\nimport * as UI from '../../ui/legacy/legacy.js';\n\nimport {CookieControlsTreeElement} from './CookieControlsTreeElement.js';\nimport {CookieReportTreeElement} from './CookieReportTreeElement.js';\nimport lockIconStyles from './lockIcon.css.js';\nimport {OriginTreeElement} from './OriginTreeElement.js';\nimport {\n  createHighlightedUrl,\n  getSecurityStateIconForDetailedView,\n  getSecurityStateIconForOverview,\n  OriginGroup,\n} from './SecurityPanel.js';\nimport type {SecurityPanelSidebarTreeElement} from './SecurityPanelSidebarTreeElement.js';\nimport sidebarStyles from './sidebar.css.js';\n\nconst UIStrings = {\n  /**\n   * @description Section title for the the Security Panel's sidebar\n   */\n  security: 'Security',\n  /**\n   * @description Section title for the the Security Panel's sidebar\n   */\n  privacy: 'Privacy',\n  /**\n   * @description Sidebar element text in the Security panel\n   */\n  cookieReport: 'Third-party cookies',\n  /**\n   * @description Sidebar element text in the Security panel\n   */\n  flagControls: 'Controls',\n  /**\n   * @description Text in Security Panel of the Security panel\n   */\n  mainOrigin: 'Main origin',\n  /**\n   * @description Text in Security Panel of the Security panel\n   */\n  nonsecureOrigins: 'Non-secure origins',\n  /**\n   * @description Text in Security Panel of the Security panel\n   */\n  secureOrigins: 'Secure origins',\n  /**\n   * @description Text in Security Panel of the Security panel\n   */\n  unknownCanceled: 'Unknown / canceled',\n  /**\n   * @description Title text content in Security Panel of the Security panel\n   */\n  overview: 'Overview',\n  /**\n   * @description Text in Security Panel of the Security panel\n   */\n  reloadToViewDetails: 'Reload to view details',\n} as const;\n\nconst str_ = i18n.i18n.registerUIStrings('panels/security/SecurityPanelSidebar.ts', UIStrings);\nconst i18nString = i18n.i18n.getLocalizedString.bind(undefined, str_);\n\nexport class SecurityPanelSidebar extends UI.Widget.VBox {\n  readonly #securitySidebarLastItemSetting: Common.Settings.Setting<string>;\n  readonly sidebarTree: UI.TreeOutline.TreeOutlineInShadow;\n  readonly #originGroupTitles: Map<OriginGroup, {title: string, icon?: Icon}>;\n  #originGroups: Map<OriginGroup, UI.TreeOutline.TreeElement>;\n  securityOverviewElement: OriginTreeElement;\n  readonly #cookieControlsTreeElement: CookieControlsTreeElement|undefined;\n  readonly cookieReportTreeElement: CookieReportTreeElement|undefined;\n  readonly #elementsByOrigin: Map<string, OriginTreeElement>;\n  readonly #mainViewReloadMessage: UI.TreeOutline.TreeElement;\n  #mainOrigin: string|null;\n\n  constructor(element?: HTMLElement) {\n    super(element);\n\n    this.#securitySidebarLastItemSetting =\n        Common.Settings.Settings.instance().createSetting('security-last-selected-element-path', '');\n    this.#mainOrigin = null;\n\n    this.sidebarTree = new UI.TreeOutline.TreeOutlineInShadow(UI.TreeOutline.TreeVariant.NAVIGATION_TREE);\n    this.sidebarTree.registerRequiredCSS(lockIconStyles, sidebarStyles);\n    this.sidebarTree.element.classList.add('security-sidebar');\n    this.contentElement.appendChild(this.sidebarTree.element);\n\n    if (Root.Runtime.hostConfig.devToolsPrivacyUI?.enabled) {\n      const privacyTreeSection = this.#addSidebarSection(i18nString(UIStrings.privacy), 'privacy');\n      this.#cookieControlsTreeElement =\n          new CookieControlsTreeElement(i18nString(UIStrings.flagControls), 'cookie-flag-controls');\n      privacyTreeSection.appendChild(this.#cookieControlsTreeElement);\n      this.cookieReportTreeElement = new CookieReportTreeElement(i18nString(UIStrings.cookieReport), 'cookie-report');\n      privacyTreeSection.appendChild(this.cookieReportTreeElement);\n\n      // If this if the first time this setting is set, go to the controls tool\n      if (this.#securitySidebarLastItemSetting.get() === '') {\n        this.#securitySidebarLastItemSetting.set(this.#cookieControlsTreeElement.elemId);\n      }\n    }\n\n    const securitySectionTitle = i18nString(UIStrings.security);\n    const securityTreeSection = this.#addSidebarSection(securitySectionTitle, 'security');\n\n    this.securityOverviewElement =\n        new OriginTreeElement('security-main-view-sidebar-tree-item', this.#renderTreeElement);\n    this.securityOverviewElement.tooltip = i18nString(UIStrings.overview);\n    securityTreeSection.appendChild(this.securityOverviewElement);\n\n    this.#originGroupTitles = new Map([\n      [OriginGroup.MainOrigin, {title: i18nString(UIStrings.mainOrigin)}],\n      [\n        OriginGroup.NonSecure,\n        {\n          title: i18nString(UIStrings.nonsecureOrigins),\n          icon: getSecurityStateIconForDetailedView(\n              Protocol.Security.SecurityState.Insecure,\n              `lock-icon lock-icon-${Protocol.Security.SecurityState.Insecure}`),\n        },\n      ],\n      [\n        OriginGroup.Secure,\n        {\n          title: i18nString(UIStrings.secureOrigins),\n          icon: getSecurityStateIconForDetailedView(\n              Protocol.Security.SecurityState.Secure, `lock-icon lock-icon-${Protocol.Security.SecurityState.Secure}`),\n        },\n      ],\n      [\n        OriginGroup.Unknown,\n        {\n          title: i18nString(UIStrings.unknownCanceled),\n          icon: getSecurityStateIconForDetailedView(\n              Protocol.Security.SecurityState.Unknown,\n              `lock-icon lock-icon-${Protocol.Security.SecurityState.Unknown}`),\n        },\n      ],\n    ]);\n\n    this.#originGroups = new Map();\n    for (const group of Object.values(OriginGroup)) {\n      const element = this.#createOriginGroupElement(\n          this.#originGroupTitles.get(group)?.title as string, this.#originGroupTitles.get(group)?.icon);\n      this.#originGroups.set(group, element);\n      securityTreeSection.appendChild(element);\n    }\n\n    this.#mainViewReloadMessage = new UI.TreeOutline.TreeElement(i18nString(UIStrings.reloadToViewDetails));\n    this.#mainViewReloadMessage.selectable = false;\n    this.#mainViewReloadMessage.listItemElement.classList.add('security-main-view-reload-message');\n    const treeElement = this.#originGroups.get(OriginGroup.MainOrigin);\n    (treeElement as UI.TreeOutline.TreeElement).appendChild(this.#mainViewReloadMessage);\n\n    this.#clearOriginGroups();\n\n    this.#elementsByOrigin = new Map();\n\n    this.element.addEventListener('update-sidebar-selection', (event: Event) => {\n      const id: string = (event as CustomEvent).detail.id;\n      this.#securitySidebarLastItemSetting.set(id);\n    });\n    this.showLastSelectedElement();\n  }\n\n  showLastSelectedElement(): void {\n    if (this.#cookieControlsTreeElement &&\n        this.#securitySidebarLastItemSetting.get() === this.#cookieControlsTreeElement.elemId) {\n      this.#cookieControlsTreeElement.select();\n      this.#cookieControlsTreeElement.showElement();\n    } else if (this.#securitySidebarLastItemSetting.get() === this.cookieReportTreeElement?.elemId) {\n      this.cookieReportTreeElement.select();\n      this.cookieReportTreeElement.showElement();\n    } else {\n      this.securityOverviewElement.select();\n      this.securityOverviewElement.showElement();\n    }\n  }\n\n  #addSidebarSection(title: string, jslogContext: string): UI.TreeOutline.TreeElement {\n    const treeElement = new UI.TreeOutline.TreeElement(title, true, jslogContext);\n    treeElement.listItemElement.classList.add('security-group-list-item');\n    treeElement.setCollapsible(false);\n    treeElement.selectable = false;\n    this.sidebarTree.appendChild(treeElement);\n    UI.ARIAUtils.markAsHeading(treeElement.listItemElement, 3);\n    UI.ARIAUtils.setLabel(treeElement.childrenListElement, title);\n    return treeElement;\n  }\n\n  #originGroupTitle(originGroup: OriginGroup): string {\n    return this.#originGroupTitles.get(originGroup)?.title as string;\n  }\n\n  #originGroupElement(originGroup: OriginGroup): UI.TreeOutline.TreeElement {\n    return this.#originGroups.get(originGroup) as UI.TreeOutline.TreeElement;\n  }\n\n  #createOriginGroupElement(originGroupTitle: string, originGroupIcon?: Icon): UI.TreeOutline.TreeElement {\n    const originGroup = new UI.TreeOutline.TreeElement(originGroupTitle, true);\n    originGroup.selectable = false;\n    originGroup.expand();\n    originGroup.listItemElement.classList.add('security-sidebar-origins');\n    if (originGroupIcon) {\n      originGroup.setLeadingIcons([originGroupIcon]);\n    }\n    UI.ARIAUtils.setLabel(originGroup.childrenListElement, originGroupTitle);\n    return originGroup;\n  }\n\n  toggleOriginsList(hidden: boolean): void {\n    for (const element of this.#originGroups.values()) {\n      element.hidden = hidden;\n    }\n  }\n\n  addOrigin(origin: Platform.DevToolsPath.UrlString, securityState: Protocol.Security.SecurityState): void {\n    this.#mainViewReloadMessage.hidden = true;\n    const originElement = new OriginTreeElement('security-sidebar-tree-item', this.#renderTreeElement, origin);\n    originElement.tooltip = origin;\n    this.#elementsByOrigin.set(origin, originElement);\n    this.updateOrigin(origin, securityState);\n  }\n\n  setMainOrigin(origin: string): void {\n    this.#mainOrigin = origin;\n  }\n\n  get mainOrigin(): string|null {\n    return this.#mainOrigin;\n  }\n\n  get originGroups(): Map<OriginGroup, UI.TreeOutline.TreeElement> {\n    return this.#originGroups;\n  }\n\n  updateOrigin(origin: string, securityState: Protocol.Security.SecurityState): void {\n    const originElement = this.#elementsByOrigin.get(origin) as OriginTreeElement;\n    originElement.setSecurityState(securityState);\n\n    let newParent: UI.TreeOutline.TreeElement;\n    if (origin === this.#mainOrigin) {\n      newParent = this.#originGroups.get(OriginGroup.MainOrigin) as UI.TreeOutline.TreeElement;\n      newParent.title = i18nString(UIStrings.mainOrigin);\n      if (securityState === Protocol.Security.SecurityState.Secure) {\n        newParent.setLeadingIcons(\n            [getSecurityStateIconForOverview(securityState, `lock-icon lock-icon-${securityState}`)]);\n      } else {\n        newParent.setLeadingIcons(\n            [getSecurityStateIconForOverview(securityState, `lock-icon lock-icon-${securityState}`)]);\n      }\n      UI.ARIAUtils.setLabel(newParent.childrenListElement, newParent.title);\n    } else {\n      switch (securityState) {\n        case Protocol.Security.SecurityState.Secure:\n          newParent = this.#originGroupElement(OriginGroup.Secure);\n          break;\n        case Protocol.Security.SecurityState.Unknown:\n          newParent = this.#originGroupElement(OriginGroup.Unknown);\n          break;\n        default:\n          newParent = this.#originGroupElement(OriginGroup.NonSecure);\n          break;\n      }\n    }\n\n    const oldParent = originElement.parent;\n    if (oldParent !== newParent) {\n      if (oldParent) {\n        oldParent.removeChild(originElement);\n        if (oldParent.childCount() === 0) {\n          oldParent.hidden = true;\n        }\n      }\n      newParent.appendChild(originElement);\n      newParent.hidden = false;\n    }\n  }\n\n  #clearOriginGroups(): void {\n    for (const [originGroup, originGroupElement] of this.#originGroups) {\n      if (originGroup === OriginGroup.MainOrigin) {\n        for (let i = originGroupElement.childCount() - 1; i > 0; i--) {\n          originGroupElement.removeChildAtIndex(i);\n        }\n        originGroupElement.title = this.#originGroupTitle(OriginGroup.MainOrigin);\n        originGroupElement.hidden = false;\n        this.#mainViewReloadMessage.hidden = false;\n      } else {\n        originGroupElement.removeChildren();\n        originGroupElement.hidden = true;\n      }\n    }\n  }\n\n  clearOrigins(): void {\n    this.#clearOriginGroups();\n    this.#elementsByOrigin.clear();\n  }\n\n  override focus(): void {\n    this.sidebarTree.focus();\n  }\n\n  #renderTreeElement(element: SecurityPanelSidebarTreeElement): void {\n    if (element instanceof OriginTreeElement) {\n      const securityState = element.securityState() ?? Protocol.Security.SecurityState.Unknown;\n\n      const isOverviewElement = element.listItemElement.classList.contains('security-main-view-sidebar-tree-item');\n\n      const icon = isOverviewElement ?\n          getSecurityStateIconForOverview(securityState, `lock-icon lock-icon-${securityState}`) :\n          getSecurityStateIconForDetailedView(securityState, `security-property security-property-${securityState}`);\n      const elementTitle = isOverviewElement ? ((): Element => {\n        const title = document.createElement('span');\n        title.classList.add('title');\n        title.textContent = i18nString(UIStrings.overview);\n        return title;\n      })() : createHighlightedUrl(element.origin() ?? Platform.DevToolsPath.EmptyUrlString, securityState);\n\n      element.setLeadingIcons([icon]);\n      if (element.listItemElement.lastChild) {\n        element.listItemElement.removeChild(element.listItemElement.lastChild);\n      }\n      element.listItemElement.appendChild(elementTitle);\n    }\n  }\n}\n"]}