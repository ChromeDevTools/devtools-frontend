{
  "version": 3,
  "sources": ["../../../../../../front_end/panels/security/CookieControlsView.ts", "cookieControlsView.css.js", "../../../../../../front_end/panels/security/CookieReportView.ts", "cookieReportView.css.js", "../../../../../../front_end/panels/security/SecurityModel.ts", "../../../../../../front_end/panels/security/SecurityPanel.ts", "lockIcon.css.js", "mainView.css.js", "../../../../../../front_end/panels/security/SecurityPanelSidebarTreeElement.ts", "../../../../../../front_end/panels/security/OriginTreeElement.ts", "originView.css.js", "../../../../../../front_end/panels/security/SecurityPanelSidebar.ts", "../../../../../../front_end/panels/security/CookieControlsTreeElement.ts", "../../../../../../front_end/panels/security/CookieReportTreeElement.ts", "sidebar.css.js"],
  "sourcesContent": ["// Copyright 2024 The Chromium Authors\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\nimport '../../ui/components/switch/switch.js';\nimport '../../ui/components/cards/cards.js';\nimport '../../ui/components/chrome_link/chrome_link.js';\n\nimport * as Common from '../../core/common/common.js';\nimport * as Host from '../../core/host/host.js';\nimport * as i18n from '../../core/i18n/i18n.js';\nimport type * as Platform from '../../core/platform/platform.js';\nimport * as Root from '../../core/root/root.js';\nimport * as SDK from '../../core/sdk/sdk.js';\nimport * as Buttons from '../../ui/components/buttons/buttons.js';\nimport * as Input from '../../ui/components/input/input.js';\nimport * as uiI18n from '../../ui/i18n/i18n.js';\nimport * as UI from '../../ui/legacy/legacy.js';\nimport {Directives, html, nothing, render, type TemplateResult} from '../../ui/lit/lit.js';\nimport * as VisualLogging from '../../ui/visual_logging/visual_logging.js';\n\nimport cookieControlsViewStyles from './cookieControlsView.css.js';\n\nconst {ref} = Directives;\n\nconst UIStrings = {\n  /**\n   * @description Title in the view's header for the controls tool in the Privacy & Security panel\n   */\n  viewTitle: 'Controls',\n  /**\n   * @description Explanation in the view's header about the purpose of this controls tool\n   */\n  viewExplanation: 'Test how this site will perform if third-party cookies are limited in Chrome',\n  /**\n   * @description Title in the card within the controls tool\n   */\n  cardTitle: 'Temporarily limit third-party cookies',\n  /**\n   * @description Disclaimer beneath the card title to tell the user that the controls will only persist while devtools is open\n   */\n  cardDisclaimer: 'Only when DevTools is open',\n  /**\n   * @description Message as part of the banner that prompts the user to reload the page to see the changes take effect. This appears when the user makes any change within the tool\n   */\n  siteReloadMessage: 'To apply your updated controls, reload the page',\n  /**\n   * @description Title of controls section. These are exceptions that the user will be able to override to test their site\n   */\n  exceptions: 'Exceptions',\n  /**\n   * @description Explanation of what exceptions are in this context\n   */\n  exceptionsExplanation: 'Scenarios that grant access to third-party cookies',\n  /**\n   * @description Title for the grace period exception control\n   */\n  gracePeriodTitle: 'Third-party cookie grace period',\n  /**\n   * @description Explanation of the grace period and a link to learn more\n   * @example {grace period} PH1\n   */\n  gracePeriodExplanation:\n      'If this site or a site embedded on it is enrolled in the {PH1}, then the site can access third-party cookies',\n  /**\n   * @description Text shown when a site and its embedded resources are not enrolled in a grace period.\n   * @example {grace period} PH1\n   */\n  enrollGracePeriod: 'To use this, enroll this site or sites embedded on it in the {PH1}',\n  /**\n   * @description Text used for link within gracePeriodExplanation and enrollGracePeriod to let the user learn more about the grace period\n   */\n  gracePeriod: 'grace period',\n  /**\n   * @description Title for the heuristic exception control\n   */\n  heuristicTitle: 'Heuristics based exception',\n  /**\n   * @description Explanation of the heuristics with a link to learn more about the scenarios in which they apply\n   * @example {predefined scenarios} PH1\n   */\n  heuristicExplanation:\n      'In {PH1} like pop-ups or redirects, a site embedded on this site can access third-party cookies',\n  /**\n   * @description Text used for link within the heuristicExplanation to let the user learn more about the heuristic exception\n   */\n  scenarios: 'predefined scenarios',\n  /**\n   * @description Note at the bottom of the controls tool telling the user that their organization has an enterprise policy that controls cookies. This may disable the tool\n   */\n  enterpriseDisclaimer: 'Your organization manages third-party cookie access for this site',\n  /**\n   * @description Tooltip that appears when the user hovers over the card's enterprise icon\n   */\n  enterpriseTooltip: 'This setting is managed by your organization',\n  /**\n   * +*@description Button with the enterpise disclaimer that takes the user to the relevant enterprise cookie chrome setting\n   */\n  viewDetails: 'View details',\n  /**\n   * @description Text shown when the Third-party Cookie Metadata Grants flag or Third-party Cookie Heuristics Grants flag is disabled with a link to the flag in chrome://flags/.\n   * @example {#tpcd-heuristics-grants} PH1\n   */\n  enableFlag: 'To use this, set {PH1} to Default',\n  /**\n   * @description Text used for link within the enableFlag to show users where they can enable the Third-party Cookie Metadata Grants flag.\n   */\n  tpcdMetadataGrants: '#tpcd-metadata-grants',\n  /**\n   * @description Text used for link within the enableFlag to show users where they can enable the Third-party Cookie Heuristics Grants flag.\n   */\n  tpcdHeuristicsGrants: '#tpcd-heuristics-grants',\n} as const;\n\nconst str_ = i18n.i18n.registerUIStrings('panels/security/CookieControlsView.ts', UIStrings);\nexport const i18nString = i18n.i18n.getLocalizedString.bind(undefined, str_);\nexport const i18nFormatString = uiI18n.getFormatLocalizedString.bind(undefined, str_);\n\nexport interface ViewInput {\n  thirdPartyControlsDict: Root.Runtime.HostConfig['thirdPartyCookieControls'];\n  isGracePeriodActive: boolean;\n  inputChanged: (newValue: boolean, setting: Common.Settings.Setting<boolean>) => void;\n  openChromeCookieSettings: () => void;\n}\n\nexport type View = (input: ViewInput, output: object, target: HTMLElement) => void;\n\nfunction getChromeFlagsLink(flag: string): TemplateResult {\n  return html`\n    <devtools-chrome-link href=\"chrome://flags/#${flag}\" tabindex=\"0\">\n     ${flag}\n    </devtools-chrome-link>`;\n}\nconst DEFAULT_VIEW: View = (input: ViewInput, _output: object, target: HTMLElement): void => {\n  // createSetting() allows us to initialize the settings with the UI binding values the first\n  // time that the browser starts, and use the existing setting value for all subsequent uses.\n  const enterpriseEnabledSetting = Common.Settings.Settings.instance().createSetting(\n      'enterprise-enabled',\n      input.thirdPartyControlsDict && input.thirdPartyControlsDict.managedBlockThirdPartyCookies &&\n              typeof input.thirdPartyControlsDict.managedBlockThirdPartyCookies === 'boolean' ?\n          input.thirdPartyControlsDict.managedBlockThirdPartyCookies :\n          false,\n      Common.Settings.SettingStorageType.GLOBAL);\n  const toggleEnabledSetting = Common.Settings.Settings.instance().createSetting(\n      'cookie-control-override-enabled',\n      input.thirdPartyControlsDict?.thirdPartyCookieRestrictionEnabled ?\n          input.thirdPartyControlsDict.thirdPartyCookieRestrictionEnabled :\n          false,\n      Common.Settings.SettingStorageType.GLOBAL);\n  const gracePeriodDisabledSetting = Common.Settings.Settings.instance().createSetting(\n      'grace-period-mitigation-disabled',\n      input.thirdPartyControlsDict?.thirdPartyCookieMetadataEnabled ?\n          input.thirdPartyControlsDict.thirdPartyCookieMetadataEnabled :\n          true,\n      Common.Settings.SettingStorageType.GLOBAL);\n  const heuristicsDisabledSetting = Common.Settings.Settings.instance().createSetting(\n      'heuristic-mitigation-disabled',\n      input.thirdPartyControlsDict?.thirdPartyCookieHeuristicsEnabled ?\n          input.thirdPartyControlsDict.thirdPartyCookieHeuristicsEnabled :\n          true,\n      Common.Settings.SettingStorageType.GLOBAL);\n\n  // clang-format off\n    const cardHeader = html `\n      <div class=\"card-header\">\n        <div class=\"lhs\">\n          <div class=\"text\">\n            <h2 class=\"main-text\">${i18nString(UIStrings.cardTitle)}</h2>\n            <div class=\"body subtext\">${i18nString(UIStrings.cardDisclaimer)}</div>\n          </div>\n          ${Boolean(enterpriseEnabledSetting.get()) ? html `\n            <devtools-icon\n              tabindex=\"0\"\n              name=\"domain\"\n              ${ref((el: Element|undefined) => {\n                UI.Tooltip.Tooltip.install(el as HTMLElement, i18nString(UIStrings.enterpriseTooltip));\n                (el as HTMLElement).role = 'img';\n              })}>\n            </devtools-icon>` : nothing\n          }\n        </div>\n        <div>\n          <devtools-switch\n            .checked=${Boolean(toggleEnabledSetting.get())}\n            .disabled=${Boolean(enterpriseEnabledSetting.get())}\n            .label=${'Temporarily limit third-party cookies, only when DevTools is open'}\n            data-testid=\"cookie-control-override\"\n            @switchchange=${()=>{input.inputChanged(!toggleEnabledSetting.get(), toggleEnabledSetting);}}\n            jslog=${VisualLogging.toggle(toggleEnabledSetting.name).track({click: true})}\n          >\n          </devtools-switch>\n        </div>\n      </div>\n    `;\n\n    const gracePeriodControlDisabled =\n        (input.thirdPartyControlsDict ? (!input.thirdPartyControlsDict.thirdPartyCookieMetadataEnabled) : false) ||\n        enterpriseEnabledSetting.get() || !toggleEnabledSetting.get() || !input.isGracePeriodActive;\n    const gracePeriodControl = html`\n      <div class=\"card-row\">\n        <label class='checkbox-label'>\n          <input type='checkbox'\n            .disabled=${gracePeriodControlDisabled}\n            .checked=${!gracePeriodControlDisabled && !Boolean(gracePeriodDisabledSetting.get())}\n            @change=${()=>{input.inputChanged(!gracePeriodDisabledSetting.get(), gracePeriodDisabledSetting);}}\n            jslog=${VisualLogging.toggle(gracePeriodDisabledSetting.name).track({click: true})}\n          >\n          <div class=\"text\">\n            <div class=\"body main-text\">${i18nString(UIStrings.gracePeriodTitle)}</div>\n            <div class=\"body subtext\">\n              ${Boolean(enterpriseEnabledSetting.get()) ?\n                  i18nFormatString(UIStrings.gracePeriodExplanation, {\n                    PH1: i18nString(UIStrings.gracePeriod),\n                  }) :\n                (input.thirdPartyControlsDict ? !input.thirdPartyControlsDict?.thirdPartyCookieMetadataEnabled: false) ?\n                  i18nFormatString(UIStrings.enableFlag, {\n                    PH1: getChromeFlagsLink(UIStrings.tpcdMetadataGrants),\n                  }) :\n                i18nFormatString(input.isGracePeriodActive ? UIStrings.gracePeriodExplanation : UIStrings.enrollGracePeriod, {\n                  PH1: UI.Fragment.html`<x-link class=\"devtools-link\" href=\"https://developers.google.com/privacy-sandbox/cookies/temporary-exceptions/grace-period\" jslog=${VisualLogging.link('grace-period-link').track({click: true})}>${i18nString(UIStrings.gracePeriod)}</x-link>`,\n                })\n              }\n            </div>\n          </div>\n        </label>\n      </div>\n    `;\n\n    const heuristicsControlDisabled =\n        (input.thirdPartyControlsDict ? (!input.thirdPartyControlsDict.thirdPartyCookieHeuristicsEnabled) : false) ||\n        enterpriseEnabledSetting.get() || !toggleEnabledSetting.get();\n    const heuristicControl = html`\n      <div class=\"card-row\">\n        <label class='checkbox-label'>\n          <input type='checkbox'\n            .disabled=${heuristicsControlDisabled}\n            .checked=${!heuristicsControlDisabled && !Boolean(heuristicsDisabledSetting.get())}\n            @change=${()=>{input.inputChanged(!heuristicsDisabledSetting.get(), heuristicsDisabledSetting);}}\n            jslog=${VisualLogging.toggle(heuristicsDisabledSetting.name).track({click: true})}\n          >\n          <div class='text'>\n            <div class=\"body main-text\">${i18nString(UIStrings.heuristicTitle)}</div>\n            <div class=\"body subtext\">\n              ${Boolean(enterpriseEnabledSetting.get()) ?\n                i18nFormatString(UIStrings.heuristicExplanation, {\n                  PH1: i18nString(UIStrings.scenarios),\n                }) :\n                (input.thirdPartyControlsDict ? !input.thirdPartyControlsDict.thirdPartyCookieHeuristicsEnabled: false) ?\n                  i18nFormatString(UIStrings.enableFlag, {\n                    PH1: getChromeFlagsLink(UIStrings.tpcdHeuristicsGrants),\n                  }) :\n                i18nFormatString(UIStrings.heuristicExplanation, {\n                  PH1: UI.Fragment.html`<x-link class=\"devtools-link\" href=\"https://developers.google.com/privacy-sandbox/cookies/temporary-exceptions/heuristics-based-exceptions\" jslog=${VisualLogging.link('heuristic-link').track({click: true})}>${i18nString(UIStrings.scenarios)}</x-link>`,\n                })\n              }\n            </div>\n          </div>\n        </label>\n      </div>\n    `;\n\n    const enterpriseDisclaimer = html`\n      <div class=\"enterprise\">\n        <div class=\"text body\">${i18nString(UIStrings.enterpriseDisclaimer)}</div>\n          <div class=\"anchor\">\n            <devtools-icon\n            name=\"domain\"\n            ></devtools-icon>\n            <devtools-button\n            @click=${input.openChromeCookieSettings}\n            aria-label=\"View details of third-party cookie access in Settings\"\n            .variant=${Buttons.Button.Variant.OUTLINED}\n            jslog=${VisualLogging.action('view-details').track({click: true})}>\n            ${i18nString(UIStrings.viewDetails)}\n          </devtools-button>\n        </div>\n      </div>\n    `;\n\n    render(html `\n      <div class=\"overflow-auto\">\n        <div class=\"controls\">\n          <div class=\"header\">\n            <h1>${i18nString(UIStrings.viewTitle)}</h1>\n            <div class=\"body\">${i18nString(UIStrings.viewExplanation)}</div>\n          </div>\n          <devtools-card class=\"card-container\">\n            <div class=${Boolean(enterpriseEnabledSetting.get()) ? 'card enterprise-disabled' : 'card'}>\n              ${cardHeader}\n              <div>\n                <div class=\"card-row text\">\n                  <h3 class=\"main-text\">${i18nString(UIStrings.exceptions)}</h3>\n                  <div class=\"body subtext\">${i18nString(UIStrings.exceptionsExplanation)}</div>\n                </div>\n                ${gracePeriodControl}\n                ${heuristicControl}\n              </div>\n            </div>\n          </devtools-card>\n          ${Boolean(enterpriseEnabledSetting.get()) ? enterpriseDisclaimer : nothing}\n        </div>\n      </div>\n    `, target);\n  // clang-format on\n};\n\nexport function showInfobar(): void {\n  UI.InspectorView.InspectorView.instance().displayDebuggedTabReloadRequiredWarning(\n      i18nString(UIStrings.siteReloadMessage));\n}\n\nexport class CookieControlsView extends UI.Widget.VBox {\n  #view: View;\n  #isGracePeriodActive: boolean;\n  #thirdPartyControlsDict: Root.Runtime.HostConfig['thirdPartyCookieControls'];\n\n  constructor(element?: HTMLElement, view: View = DEFAULT_VIEW) {\n    super(element, {useShadowDom: true});\n    this.#view = view;\n    this.#isGracePeriodActive = false;\n    this.#thirdPartyControlsDict = Root.Runtime.hostConfig.thirdPartyCookieControls;\n    this.registerRequiredCSS(Input.checkboxStyles, cookieControlsViewStyles);\n\n    SDK.TargetManager.TargetManager.instance().addModelListener(\n        SDK.ResourceTreeModel.ResourceTreeModel, SDK.ResourceTreeModel.Events.PrimaryPageChanged,\n        this.#onPrimaryPageChanged, this);\n\n    SDK.TargetManager.TargetManager.instance().addModelListener(\n        SDK.ResourceTreeModel.ResourceTreeModel, SDK.ResourceTreeModel.Events.ResourceAdded,\n        this.checkGracePeriodActive, this);\n\n    this.checkGracePeriodActive().catch(error => {\n      console.error(error);\n    });\n    this.requestUpdate();\n  }\n\n  override performUpdate(): void {\n    this.#view(\n        {\n          thirdPartyControlsDict: this.#thirdPartyControlsDict,\n          isGracePeriodActive: this.#isGracePeriodActive,\n          inputChanged: this.inputChanged.bind(this),\n          openChromeCookieSettings: this.openChromeCookieSettings.bind(this),\n        },\n        this, this.contentElement);\n  }\n\n  inputChanged(newValue: boolean, setting: Common.Settings.Setting<boolean>): void {\n    setting.set(newValue);\n    showInfobar();\n    this.requestUpdate();\n  }\n\n  openChromeCookieSettings(): void {\n    const rootTarget = SDK.TargetManager.TargetManager.instance().rootTarget();\n    if (rootTarget === null) {\n      return;\n    }\n    const url = 'chrome://settings/cookies' as Platform.DevToolsPath.UrlString;\n    void rootTarget.targetAgent().invoke_createTarget({url}).then(result => {\n      if (result.getError()) {\n        Host.InspectorFrontendHost.InspectorFrontendHostInstance.openInNewTab(url);\n      }\n    });\n  }\n\n  #onPrimaryPageChanged(): void {\n    this.#isGracePeriodActive = false;\n    this.checkGracePeriodActive().catch(error => {\n      console.error(error);\n    });\n  }\n\n  async checkGracePeriodActive(event?: Common.EventTarget.EventTargetEvent<SDK.Resource.Resource>): Promise<void> {\n    if (!this.#thirdPartyControlsDict || !this.#thirdPartyControlsDict.thirdPartyCookieMetadataEnabled) {\n      return;\n    }\n\n    if (this.#isGracePeriodActive) {\n      return;\n    }\n\n    const mainTarget = SDK.TargetManager.TargetManager.instance().primaryPageTarget();\n    if (!mainTarget) {\n      return;\n    }\n\n    const urls: string[] = [];\n    if (!event) {\n      for (const resourceTreeModel of SDK.TargetManager.TargetManager.instance().models(\n               SDK.ResourceTreeModel.ResourceTreeModel)) {\n        resourceTreeModel.forAllResources(r => {\n          urls.push(r.url);\n          return true;\n        });\n      }\n    } else {\n      urls.push(event.data.url);\n    }\n\n    const result = await mainTarget.storageAgent().invoke_getAffectedUrlsForThirdPartyCookieMetadata(\n        {firstPartyUrl: mainTarget.inspectedURL(), thirdPartyUrls: urls});\n    if (result.matchedUrls && result.matchedUrls.length > 0) {\n      this.#isGracePeriodActive = true;\n      this.requestUpdate();\n    }\n  }\n}\n", "// Copyright 2025 The Chromium Authors\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n// IMPORTANT: this file is auto generated. Please do not edit this file.\n/* istanbul ignore file */\nexport default `/*\n * Copyright 2024 The Chromium Authors\n * Use of this source code is governed by a BSD-style license that can be\n * found in the LICENSE file.\n */\n\n.overflow-auto {\n  height: 100%;\n}\n\n.controls {\n  display: flex;\n  flex-direction: column;\n  padding: var(--sys-size-5) var(--sys-size-3) var(--sys-size-5) var(--sys-size-5);\n  min-width: var(--sys-size-33);\n}\n\n.header {\n  display: flex;\n  flex-direction: column;\n  gap: var(--sys-size-2);\n  padding-left: var(--sys-size-5);\n}\n\nh1 {\n  margin: 0;\n  font: var(--sys-typescale-headline4);\n}\n\n.card-container {\n  max-width: 100%;\n}\n\n.card {\n  display: flex;\n  flex-direction: column;\n  padding: var(--sys-size-6) var(--sys-size-8);\n  gap: var(--sys-size-6);\n\n  &.enterprise-disabled {\n    color: var(--sys-color-token-subtle);\n  }\n}\n\n.card-header {\n  display: flex;\n  align-items: center;\n}\n\n.card-header > .lhs {\n  width: 100%;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding-right: var(--sys-size-9);\n\n  & > devtools-icon {\n    height: var(--sys-size-11);\n    width: var(--sys-size-11);\n  }\n}\n\n.text {\n  display: flex;\n  flex-direction: column;\n  gap: var(--sys-size-2);\n}\n\nh2 {\n  font: var(--sys-typescale-headline5);\n  margin: 0;\n}\n\n.body {\n  font: var(--sys-typescale-body4-regular);\n}\n\n.checkbox-label {\n  gap: var(--sys-size-8);\n  display: flex;\n  align-items: center;\n}\n\n.card-row {\n  padding-top: var(--sys-size-4);\n  padding-bottom: var(--sys-size-4);\n  padding-left: var(--sys-size-8);\n}\n\nh3 {\n  font: var(--sys-typescale-body4-medium);\n  margin: 0;\n}\n\n.x-link {\n  color: var(--sys-color-primary);\n  text-decoration-line: underline;\n  cursor: pointer;\n}\n\n.enterprise {\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  gap: var(--sys-size-9);\n  padding: var(--sys-size-6) var(--sys-size-8) var(--sys-size-6) var(--sys-size-11);\n  align-items: center;\n\n  > .anchor{\n    display: flex;\n    flex-direction: row;\n    gap: var(--sys-size-9);\n  }\n}\n\ninput[type=\"checkbox\"] {\n  flex-shrink: 0;\n}\n\n.main-text {\n  color: var(--sys-color-on-surface);\n}\n\n.subtext {\n  color: var(--sys-color-on-surface-subtle);\n}\n\n/*# sourceURL=${import.meta.resolve('./cookieControlsView.css')} */`;", "// Copyright 2024 The Chromium Authors\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n/* eslint-disable @devtools/no-lit-render-outside-of-view */\n\nimport '../../ui/legacy/components/data_grid/data_grid.js';\n\nimport * as Common from '../../core/common/common.js';\nimport * as i18n from '../../core/i18n/i18n.js';\nimport * as Platform from '../../core/platform/platform.js';\nimport * as SDK from '../../core/sdk/sdk.js';\nimport * as Protocol from '../../generated/protocol.js';\nimport * as IssuesManager from '../../models/issues_manager/issues_manager.js';\nimport type * as TextUtils from '../../models/text_utils/text_utils.js';\nimport * as uiI18n from '../../ui/i18n/i18n.js';\nimport * as UI from '../../ui/legacy/legacy.js';\nimport * as Lit from '../../ui/lit/lit.js';\nimport * as VisualLogging from '../../ui/visual_logging/visual_logging.js';\nimport * as NetworkForward from '../network/forward/forward.js';\n\nimport cookieReportViewStyles from './cookieReportView.css.js';\n\nconst {render, html, Directives: {ref}} = Lit;\n\nconst UIStrings = {\n  /**\n   * @description Title in the header for the third-party cookie report in the Security & Privacy Panel\n   */\n  title: 'Third-party cookies',\n  /**\n   * @description Explanation in the header about the cookies listed in the report\n   */\n  body: 'This site might not work if third-party cookies and other cookies are limited in Chrome.',\n  /**\n   * @description A link the user can follow to learn more about third party cookie usage\n   */\n  learnMoreLink: 'Learn more about how third-party cookies are used',\n  /**\n   * @description Column header for Cookie Report table. This column will contain the name of the cookie\n   */\n  name: 'Name',\n  /**\n   * @description Column header for Cookie Report table. This column will contain the domain of the cookie\n   */\n  domain: 'Domain',\n  /**\n   * @description Column header for Cookie Report table. This column will contain the type of the cookie. E.g. Advertisement, Marketing, etc.\n   */\n  type: 'Type',\n  /**\n   * @description Column header for Cookie Report table. This column will contain the third-party of the cookie. E.g. Amazon Analytics, etc.\n   */\n  platform: 'Platform',\n  /**\n   * @description Column header for Cookie Report table, This column will contain the actionable step the user can take (if any) for the cookie\n   */\n  recommendation: 'Recommendation',\n  /**\n   * @description Column header for Cookie Report table. This column will contain the blocked or allowed status of the cookie. See status strings below for more information on the different statuses\n   */\n  status: 'Status',\n  /**\n   * @description Status string in the cookie report for a third-party cookie that is allowed without any sort of exception. This is also used as filter chip text to allow the user to filter the table based on cookie status\n   */\n  allowed: 'Allowed',\n  /**\n   * @description Status string in the cookie report for a third-party cookie that is allowed due to a grace period or heuristic exception. Otherwise, this would have been blocked. This is also used as filter chip text to allow the user to filter the table based on cookie status\n   */\n  allowedByException: 'Allowed by exception',\n  /**\n   * @description Status string in the cookie report for a third-party cookie that was blocked. This is also used as filter chip text to allow the user to filter the table based on cookie status\n   */\n  blocked: 'Blocked',\n  /**\n   * @description String in the Cookie Report table. This is used when any data could not be fetched and that cell is unknown\n   */\n  unknown: 'Unknown',\n  /**\n   * @description Display name for the Cookie Report table. This string is used by the data grid for accessibility.\n   */\n  report: 'Third-Party Cookie Report',\n  /**\n   * @description The main string the user sees when there are no cookie issues to show. This will take place of the table\n   */\n  emptyReport: 'Not a crumb left',\n  /**\n   * @description Explanation to the user that there were no third-party cookie related issues found which is why they are not seeing the table/report\n   */\n  emptyReportExplanation: 'No issues with third-party cookies found',\n  /**\n   * @description String in Cookie Report table. This is used when a cookie's domain has an entry in the third-party cookie migration readiness list GitHub.\n   * @example {guidance} PH1\n   */\n  gitHubResource: 'Review {PH1} from third-party site',\n  /**\n   * @description Label for a link to an entry in the third-party cookie migration readiness list GitHub.\n   */\n  guidance: 'guidance',\n  /**\n   * @description String in Cookie Report table. This is used when a cookie has a grace period exception.\n   * @example {reported issues} PH1\n   */\n  gracePeriod: 'Review {PH1}. Grace period exception is active.',\n  /**\n   * @description Label for a link to third-party cookie site compatibility look-up.\n   */\n  reportedIssues: 'reported issues',\n  /**\n   * @description String in Cookie Report table. This is used when a cookie has a heuristics exception.\n   */\n  heuristics: 'Action needed later. Heuristics based exception is active.',\n  /**\n   * @description String in Cookie Report table. This is used when a cookie's domain does not have an entry in the third-party cookie migration readiness list Github nor a grace period nor heuristics exception.\n   */\n  other: 'Contact third-party site for more info',\n  /**\n   * @description String representing the Advertising cookie type. Used to format 'ad' category from the Third Party Web dataset.\n   */\n  adCookieTypeString: 'Advertising',\n  /**\n   * @description String representing the Analytics cookie type. Used to format 'analytics' category from the Third Party Web dataset.\n   */\n  analyticsCookieTypeString: 'Analytics',\n  /**\n   * @description String representing the Social cookie type. Used to format 'social' category from the Third Party Web dataset.\n   */\n  socialCookieTypeString: 'Social',\n  /**\n   * @description String representing the Video cookie type. Used to format 'video' category from the Third Party Web dataset.\n   */\n  videoCookieTypeString: 'Video',\n  /**\n   * @description String representing the Utility cookie type. Used to format 'utility' category from the Third Party Web dataset.\n   */\n  utilityCookieTypeString: 'Utility',\n  /**\n   * @description String representing the Hosting cookie type. Used to format 'hosting' category from the Third Party Web dataset.\n   */\n  hostingCookieTypeString: 'Hosting',\n  /**\n   * @description String representing the Marketing cookie type. Used to format 'marketing' category from the Third Party Web dataset.\n   */\n  marketingCookieTypeString: 'Marketing',\n  /**\n   * @description String representing the Customer Success cookie type. Used to format 'customer-success' category from the Third Party Web dataset.\n   */\n  customerSuccessCookieTypeString: 'Customer Success',\n  /**\n   * @description String representing the Content cookie type. Used to format 'content' category from the Third Party Web dataset.\n   */\n  contentCookieTypeString: 'Content',\n  /**\n   * @description String representing the CDN cookie type. Used to format 'cdn' category from the Third Party Web dataset.\n   */\n  cdnCookieTypeString: 'CDN',\n  /**\n   * @description String representing the Tag Manager cookie type. Used to format 'tag-manager' category from the Third Party Web dataset.\n   */\n  tagManagerCookieTypeString: 'Tag Manager',\n  /**\n   * @description String representing the Consent Provider cookie type. Used to format 'consent-provider' category from the Third Party Web dataset.\n   */\n  consentProviderCookieTypeString: 'Consent Provider',\n  /**\n   * @description String representing the Other cookie type. Used to format 'other' category from the Third Party Web dataset.\n   */\n  otherCookieTypeString: 'Other',\n  /**\n   * @description String that shows up in the context menu when right clicking one of the entries in the cookie report.\n   */\n  showRequestsWithThisCookie: 'Show requests with this cookie',\n} as const;\nconst str_ = i18n.i18n.registerUIStrings('panels/security/CookieReportView.ts', UIStrings);\nexport const i18nString = i18n.i18n.getLocalizedString.bind(undefined, str_);\n\nexport interface ViewInput {\n  cookieRows: IssuesManager.CookieIssue.CookieReportInfo[];\n  filterItems: UI.FilterBar.Item[];\n  filters: TextUtils.TextUtils.ParsedFilter[];\n  searchText: string;\n  onSearchFilterChanged: (e: CustomEvent<string>) => void;\n  onFilterChanged: () => void;\n  onSortingChanged: () => void;\n  populateContextMenu: (event: CustomEvent<{menu: UI.ContextMenu.ContextMenu, element: HTMLElement}>) => void;\n}\nexport interface ViewOutput {\n  namedBitSetFilterUI?: UI.FilterBar.NamedBitSetFilterUI;\n}\n\nexport interface CookieReportNodeData {\n  name: string;\n  domain: string;\n  type: string;\n  platform: string;\n  status: string;\n  recommendation: HTMLElement;\n}\n\nexport type View = (input: ViewInput, output: ViewOutput, target: HTMLElement) => void;\nconst DEFAULT_VIEW: View = (input, output, target) => {\n  // clang-format off\n    render(html `\n        <div class=\"report overflow-auto\">\n            <div class=\"header\">\n              <h1>${i18nString(UIStrings.title)}</h1>\n              <div class=\"body\">${i18nString(UIStrings.body)} <x-link class=\"devtools-link\" href=\"https://developers.google.com/privacy-sandbox/cookies/prepare/audit-cookies\" jslog=${VisualLogging.link('learn-more').track({click: true})}>${i18nString(UIStrings.learnMoreLink)}</x-link></div>\n            </div>\n            ${input.cookieRows.length > 0 ?\n              html`\n                <div class=\"filters-container\">\n                  <devtools-toolbar>\n                    <devtools-toolbar-input\n                      type=\"filter\"\n                      style=\"flex-grow: 0.4;\"\n                      @change=${input.onSearchFilterChanged}\n                      value=${input.searchText}\n                    ></devtools-toolbar-input>\n                  </devtools-toolbar>\n                  <devtools-named-bit-set-filter\n                    class=\"filter\"\n                    aria-label=\"Third-party cookie status filters\"\n                    @filterChanged=${input.onFilterChanged}\n                    .options=${{items: input.filterItems}}\n                    ${ref((el?: Element) => {\n                      if(el instanceof UI.FilterBar.NamedBitSetFilterUIElement){\n                        output.namedBitSetFilterUI = el.getOrCreateNamedBitSetFilterUI();\n                      }\n                    })}\n                  ></devtools-named-bit-set-filter>\n                </div>\n                <!-- @ts-ignore -->\n                <devtools-data-grid\n                  name=${i18nString(UIStrings.report)}\n                  striped\n                  .filters=${input.filters}\n                  @sort=${input.onSortingChanged}\n                  @contextmenu=${input.populateContextMenu.bind(input)}\n                >\n                  <table>\n                    <tr>\n                      <th id=\"name\" sortable>${i18nString(UIStrings.name)}</th>\n                      <th id=\"domain\" sortable>${i18nString(UIStrings.domain)}</th>\n                      <th id=\"type\" sortable>${i18nString(UIStrings.type)}</th>\n                      <th id=\"platform\" sortable>${i18nString(UIStrings.platform)}</th>\n                      <th id=\"status\" sortable>${i18nString(UIStrings.status)}</th>\n                      <th id=\"recommendation\" sortable>${i18nString(UIStrings.recommendation)}</th>\n                    </tr>\n                    ${[...input.cookieRows.values()].map(row => html`\n                      <tr data-name=${row.name} data-domain=${row.domain}>\n                        <td>${row.name}</td>\n                        <td>${row.domain}</td>\n                        <td>${CookieReportView.getCookieTypeString(row.type)}</td>\n                        <td>${row.platform ?? i18nString(UIStrings.unknown)}</td>\n                        <td>${CookieReportView.getStatusString(row.status)}</td>\n                        <td>${CookieReportView.getRecommendation(row.domain, row.insight)}</td>\n                      </tr>\n                    `)}\n                  </table>\n                </devtools-data-grid>\n              ` :\n              html `\n                <div class=\"empty-report\">\n                  <devtools-icon\n                    class=\"cookie-off\"\n                    name=\"cookie_off\"\n                  ></devtools-icon>\n                  <div class=\"empty-report-title\">\n                    ${i18nString(UIStrings.emptyReport)}\n                  </div>\n                  <div class=\"body\">\n                    ${i18nString(UIStrings.emptyReportExplanation)}\n                  </div>\n                </div>\n              `\n            }\n\n        </div>\n    `, target);\n  // clang-format on\n};\n\nexport class CookieReportView extends UI.Widget.VBox {\n  #issuesManager?: IssuesManager.IssuesManager.IssuesManager;\n  namedBitSetFilterUI?: UI.FilterBar.NamedBitSetFilterUI;\n  #cookieRows = new Map<string, IssuesManager.CookieIssue.CookieReportInfo>();\n  #view: View;\n  filterItems: UI.FilterBar.Item[] = [];\n  searchText: string;\n\n  constructor(element?: HTMLElement, view: View = DEFAULT_VIEW) {\n    super(element, {useShadowDom: true});\n    this.#view = view;\n    this.registerRequiredCSS(cookieReportViewStyles);\n    this.searchText = Common.Settings.Settings.instance().createSetting('cookie-report-search-query', '').get();\n\n    SDK.TargetManager.TargetManager.instance().addModelListener(\n        SDK.ResourceTreeModel.ResourceTreeModel, SDK.ResourceTreeModel.Events.PrimaryPageChanged,\n        this.#onPrimaryPageChanged, this);\n\n    this.#issuesManager = IssuesManager.IssuesManager.IssuesManager.instance();\n    this.#issuesManager.addEventListener(\n        IssuesManager.IssuesManager.Events.ISSUE_ADDED, this.#onIssueEventReceived, this);\n    for (const issue of this.#issuesManager.issues()) {\n      if (issue instanceof IssuesManager.CookieIssue.CookieIssue) {\n        this.#onIssueAdded(issue);\n      }\n    }\n\n    this.requestUpdate();\n  }\n\n  override performUpdate(): void {\n    this.filterItems = this.#buildFilterItems();\n    const viewInput = {\n      cookieRows: [...this.#cookieRows.values()].filter(row => {\n        if (this.namedBitSetFilterUI) {\n          return this.namedBitSetFilterUI.accept(CookieReportView.getStatusString(row.status));\n        }\n        return true;\n      }),\n      filters: [{\n        key: 'name,domain',\n        regex: RegExp(Platform.StringUtilities.escapeForRegExp(this.searchText), 'i'),\n        negative: false,\n      }],\n      searchText: this.searchText,\n      filterItems: this.filterItems,\n      onSearchFilterChanged: (e: CustomEvent<string>) => this.onSearchFilterChanged(e),\n      onFilterChanged: () => this.requestUpdate(),\n      onSortingChanged: () => this.requestUpdate(),\n      populateContextMenu: this.populateContextMenu.bind(this),\n    };\n    this.#view(viewInput, this, this.contentElement);\n  }\n\n  #onPrimaryPageChanged(): void {\n    this.#cookieRows.clear();\n    this.namedBitSetFilterUI = undefined;\n    this.requestUpdate();\n  }\n\n  #onIssueEventReceived(event: Common.EventTarget.EventTargetEvent<IssuesManager.IssuesManager.IssueAddedEvent>): void {\n    if (event.data.issue instanceof IssuesManager.CookieIssue.CookieIssue) {\n      if (this.#cookieRows.has(event.data.issue.cookieId())) {\n        return;\n      }\n      this.#onIssueAdded(event.data.issue);\n      this.requestUpdate();\n    }\n  }\n\n  #onIssueAdded(issue: IssuesManager.CookieIssue.CookieIssue): void {\n    const info = issue.makeCookieReportEntry();\n    if (info) {\n      this.#cookieRows.set(issue.cookieId(), info);\n    }\n  }\n\n  onSearchFilterChanged(e: CustomEvent<string>): void {\n    this.searchText = e.detail ? e.detail : '';\n    Common.Settings.Settings.instance().createSetting('cookie-report-search-query', '').set(this.searchText);\n    this.requestUpdate();\n  }\n\n  #buildFilterItems(): UI.FilterBar.Item[] {\n    const filterItems: UI.FilterBar.Item[] = [];\n\n    if (this.#cookieRows.values().some(n => n.status === IssuesManager.CookieIssue.CookieStatus.BLOCKED)) {\n      filterItems.push({\n        name: UIStrings.blocked,\n        label: () => i18nString(UIStrings.blocked),\n        title: UIStrings.blocked,\n        jslogContext: 'blocked',\n      });\n    }\n    if (this.#cookieRows.values().some(n => n.status === IssuesManager.CookieIssue.CookieStatus.ALLOWED)) {\n      filterItems.push({\n        name: UIStrings.allowed,\n        label: () => i18nString(UIStrings.allowed),\n        title: UIStrings.allowed,\n        jslogContext: 'allowed',\n      });\n    }\n    if (this.#cookieRows.values().some(\n            n => n.status === IssuesManager.CookieIssue.CookieStatus.ALLOWED_BY_GRACE_PERIOD ||\n                n.status === IssuesManager.CookieIssue.CookieStatus.ALLOWED_BY_HEURISTICS)) {\n      filterItems.push({\n        name: UIStrings.allowedByException,\n        label: () => i18nString(UIStrings.allowedByException),\n        title: UIStrings.allowedByException,\n        jslogContext: 'allowed-by-exception',\n      });\n    }\n\n    return filterItems;\n  }\n\n  populateContextMenu(event: CustomEvent<{menu: UI.ContextMenu.ContextMenu, element: HTMLElement}>): void {\n    const {menu, element} = event.detail;\n    const {domain, name} = element?.dataset;\n    if (!domain || !name) {\n      return;\n    }\n\n    menu.revealSection().appendItem(i18nString(UIStrings.showRequestsWithThisCookie), () => {\n      const requestFilter = NetworkForward.UIFilter.UIRequestFilter.filters([\n        {\n          filterType: NetworkForward.UIFilter.FilterType.CookieDomain,\n          filterValue: domain,\n        },\n        {\n          filterType: NetworkForward.UIFilter.FilterType.CookieName,\n          filterValue: name,\n        },\n      ]);\n      void Common.Revealer.reveal(requestFilter);\n    }, {jslogContext: 'show-requests-with-this-cookie'});\n  }\n\n  static getStatusString(status: IssuesManager.CookieIssue.CookieStatus): string {\n    switch (status) {\n      case IssuesManager.CookieIssue.CookieStatus.BLOCKED:\n        return i18nString(UIStrings.blocked);\n      case IssuesManager.CookieIssue.CookieStatus.ALLOWED_BY_GRACE_PERIOD:\n      case IssuesManager.CookieIssue.CookieStatus.ALLOWED_BY_HEURISTICS:\n        return i18nString(UIStrings.allowedByException);\n      case IssuesManager.CookieIssue.CookieStatus.ALLOWED:\n        return i18nString(UIStrings.allowed);\n    }\n  }\n\n  static getRecommendation(domain: string, insight?: Protocol.Audits.CookieIssueInsight): HTMLElement {\n    const recElem = document.createElement('div');\n\n    render(CookieReportView.getRecommendationText(domain, insight), recElem, {host: this});\n    return recElem;\n  }\n\n  static getRecommendationText(domain: string, insight?: Protocol.Audits.CookieIssueInsight): Lit.TemplateResult {\n    if (!insight) {\n      return html`${i18nString(UIStrings.other)}`;\n    }\n\n    switch (insight.type) {\n      case Protocol.Audits.InsightType.GitHubResource: {\n        const githubLink = UI.XLink.XLink.create(\n            insight.tableEntryUrl ?\n                insight.tableEntryUrl :\n                'https://github.com/privacysandbox/privacy-sandbox-dev-support/blob/main/3pc-migration-readiness.md',\n            i18nString(UIStrings.guidance), undefined, undefined, 'readiness-list-link');\n\n        return html`${uiI18n.getFormatLocalizedString(str_, UIStrings.gitHubResource, {\n          PH1: githubLink,\n        })}`;\n      }\n      case Protocol.Audits.InsightType.GracePeriod: {\n        const url = SDK.TargetManager.TargetManager.instance().primaryPageTarget()?.inspectedURL();\n        const gracePeriodLink = UI.XLink.XLink.create(\n            'https://developers.google.com/privacy-sandbox/cookies/dashboard?url=' +\n                // The order of the URLs matters - needs to be 1P + 3P.\n                (url ? Common.ParsedURL.ParsedURL.fromString(url)?.host + '+' : '') +\n                (domain.charAt(0) === '.' ? domain.substring(1) : domain),\n            i18nString(UIStrings.reportedIssues), undefined, undefined, 'compatibility-lookup-link');\n\n        return html`${uiI18n.getFormatLocalizedString(str_, UIStrings.gracePeriod, {\n          PH1: gracePeriodLink,\n        })}`;\n      }\n      case Protocol.Audits.InsightType.Heuristics:\n        return html`${i18nString(UIStrings.heuristics)}`;\n      default:\n        return html`${i18nString(UIStrings.other)}`;\n    }\n  }\n\n  static getCookieTypeString(type?: string): string {\n    if (!type) {\n      return i18nString(UIStrings.otherCookieTypeString);\n    }\n\n    switch (type) {\n      case 'ad':\n        return i18nString(UIStrings.adCookieTypeString);\n      case 'analytics':\n        return i18nString(UIStrings.analyticsCookieTypeString);\n      case 'social':\n        return i18nString(UIStrings.socialCookieTypeString);\n      case 'video':\n        return i18nString(UIStrings.videoCookieTypeString);\n      case 'utility':\n        return i18nString(UIStrings.utilityCookieTypeString);\n      case 'hosting':\n        return i18nString(UIStrings.hostingCookieTypeString);\n      case 'marketing':\n        return i18nString(UIStrings.marketingCookieTypeString);\n      case 'customer-success':\n        return i18nString(UIStrings.customerSuccessCookieTypeString);\n      case 'content':\n        return i18nString(UIStrings.contentCookieTypeString);\n      case 'cdn':\n        return i18nString(UIStrings.cdnCookieTypeString);\n      case 'tag-manager':\n        return i18nString(UIStrings.tagManagerCookieTypeString);\n      case 'consent-provider':\n        return i18nString(UIStrings.consentProviderCookieTypeString);\n      default:\n        return i18nString(UIStrings.otherCookieTypeString);\n    }\n  }\n}\n", "// Copyright 2025 The Chromium Authors\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n// IMPORTANT: this file is auto generated. Please do not edit this file.\n/* istanbul ignore file */\nexport default `/*\n * Copyright 2024 The Chromium Authors\n * Use of this source code is governed by a BSD-style license that can be\n * found in the LICENSE file.\n */\n\n.report {\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  height: 100%;\n  max-height: 100%;\n  gap: var(--sys-size-6);\n  padding-top: var(--sys-size-5);\n}\n\n.header {\n  display: flex;\n  flex-direction: column;\n  flex-shrink: 0;\n  gap: var(--sys-size-2);\n  padding-left: var(--sys-size-6);\n  padding-right: var(--sys-size-6);\n  min-width: var(--sys-size-31);\n\n  h1 {\n    font: var(--sys-typescale-headline4);\n    margin: 0;\n  }\n}\n\n.body {\n  font: var(--sys-typescale-body4-regular);\n}\n\n.x-link {\n  color: var(--sys-color-primary);\n  text-decoration-line: underline;\n  cursor: pointer;\n}\n\n.filter {\n  padding-right: var(--sys-size-6);\n  flex-shrink: 0;\n}\n\n.filters-container {\n  display: flex;\n  padding-left: var(--sys-size-5);\n}\n\ndevtools-data-grid {\n  flex: auto;\n  margin-left: -1px;\n}\n\n.empty-report {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: var(--sys-size-2);\n  padding: var(--sys-size-11) var(--sys-size-6) 0 var(--sys-size-6);\n  flex-shrink: 0;\n  min-width: var(--sys-size-31);\n}\n\n.empty-report-title {\n  font: var(--sys-typescale-headline5);\n}\n\n.cookie-off {\n  width: var(--sys-size-11);\n  height: var(--sys-size-11);\n}\n\n/*# sourceURL=${import.meta.resolve('./cookieReportView.css')} */`;", "// Copyright 2015 The Chromium Authors\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\nimport * as i18n from '../../core/i18n/i18n.js';\nimport * as SDK from '../../core/sdk/sdk.js';\nimport type * as ProtocolProxyApi from '../../generated/protocol-proxy-api.js';\nimport * as Protocol from '../../generated/protocol.js';\n\nconst UIStrings = {\n  /**\n   * @description Text in Security Panel of the Security panel\n   */\n  theSecurityOfThisPageIsUnknown: 'The security of this page is unknown.',\n  /**\n   * @description Text in Security Panel of the Security panel\n   */\n  thisPageIsNotSecure: 'This page is not secure.',\n  /**\n   * @description Text in Security Panel of the Security panel\n   */\n  thisPageIsSecureValidHttps: 'This page is secure (valid HTTPS).',\n  /**\n   * @description Text in Security Panel of the Security panel\n   */\n  thisPageIsNotSecureBrokenHttps: 'This page is not secure (broken HTTPS).',\n  /**\n   * @description Description of an SSL cipher that contains a separate (bulk) cipher and MAC.\n   * @example {AES_256_CBC} PH1\n   * @example {HMAC-SHA1} PH2\n   */\n  cipherWithMAC: '{PH1} with {PH2}',\n  /**\n   * @description Description of an SSL Key and its Key Exchange Group.\n   * @example {ECDHE_RSA} PH1\n   * @example {X25519} PH2\n   */\n  keyExchangeWithGroup: '{PH1} with {PH2}',\n} as const;\nconst str_ = i18n.i18n.registerUIStrings('panels/security/SecurityModel.ts', UIStrings);\nconst i18nString = i18n.i18n.getLocalizedString.bind(undefined, str_);\nconst i18nLazyString = i18n.i18n.getLazilyComputedLocalizedString.bind(undefined, str_);\n\nexport class SecurityModel extends SDK.SDKModel.SDKModel<EventTypes> {\n  private readonly dispatcher: SecurityDispatcher;\n  private readonly securityAgent: ProtocolProxyApi.SecurityApi;\n  constructor(target: SDK.Target.Target) {\n    super(target);\n    this.dispatcher = new SecurityDispatcher(this);\n    this.securityAgent = target.securityAgent();\n    target.registerSecurityDispatcher(this.dispatcher);\n    void this.securityAgent.invoke_enable();\n  }\n\n  resourceTreeModel(): SDK.ResourceTreeModel.ResourceTreeModel {\n    return this.target().model(SDK.ResourceTreeModel.ResourceTreeModel) as SDK.ResourceTreeModel.ResourceTreeModel;\n  }\n\n  networkManager(): SDK.NetworkManager.NetworkManager {\n    return this.target().model(SDK.NetworkManager.NetworkManager) as SDK.NetworkManager.NetworkManager;\n  }\n}\n\nexport function securityStateCompare(a: Protocol.Security.SecurityState, b: Protocol.Security.SecurityState): number {\n  const SECURITY_STATE_ORDER = [\n    Protocol.Security.SecurityState.Info,\n    Protocol.Security.SecurityState.InsecureBroken,\n    Protocol.Security.SecurityState.Insecure,\n    Protocol.Security.SecurityState.Neutral,\n    Protocol.Security.SecurityState.Secure,\n    // Unknown is max so that failed/cancelled requests don't overwrite the origin security state for successful requests,\n    // and so that failed/cancelled requests appear at the bottom of the origins list.\n    Protocol.Security.SecurityState.Unknown,\n  ];\n\n  return SECURITY_STATE_ORDER.indexOf(a) - SECURITY_STATE_ORDER.indexOf(b);\n}\n\nSDK.SDKModel.SDKModel.register(SecurityModel, {capabilities: SDK.Target.Capability.SECURITY, autostart: false});\n\nexport enum Events {\n  /* eslint-disable @typescript-eslint/naming-convention -- Used by web_tests. */\n  VisibleSecurityStateChanged = 'VisibleSecurityStateChanged',\n  /* eslint-enable @typescript-eslint/naming-convention */\n}\n\nexport interface EventTypes {\n  [Events.VisibleSecurityStateChanged]: PageVisibleSecurityState;\n}\n\nexport const SummaryMessages: Record<string, () => string> = {\n  [Protocol.Security.SecurityState.Unknown]: i18nLazyString(UIStrings.theSecurityOfThisPageIsUnknown),\n  [Protocol.Security.SecurityState.Insecure]: i18nLazyString(UIStrings.thisPageIsNotSecure),\n  [Protocol.Security.SecurityState.Neutral]: i18nLazyString(UIStrings.thisPageIsNotSecure),\n  [Protocol.Security.SecurityState.Secure]: i18nLazyString(UIStrings.thisPageIsSecureValidHttps),\n  [Protocol.Security.SecurityState.InsecureBroken]: i18nLazyString(UIStrings.thisPageIsNotSecureBrokenHttps),\n};\n\nexport class PageVisibleSecurityState {\n  securityState: Protocol.Security.SecurityState;\n  certificateSecurityState: CertificateSecurityState|null;\n  safetyTipInfo: SafetyTipInfo|null;\n  securityStateIssueIds: string[];\n  constructor(\n      securityState: Protocol.Security.SecurityState,\n      certificateSecurityState: Protocol.Security.CertificateSecurityState|null,\n      safetyTipInfo: Protocol.Security.SafetyTipInfo|null, securityStateIssueIds: string[]) {\n    this.securityState = securityState;\n    this.certificateSecurityState =\n        certificateSecurityState ? new CertificateSecurityState(certificateSecurityState) : null;\n    this.safetyTipInfo = safetyTipInfo ? new SafetyTipInfo(safetyTipInfo) : null;\n    this.securityStateIssueIds = securityStateIssueIds;\n  }\n}\n\nexport class CertificateSecurityState {\n  protocol: string;\n  keyExchange: string;\n  keyExchangeGroup: string|null;\n  cipher: string;\n  mac: string|null;\n  certificate: string[];\n  subjectName: string;\n  issuer: string;\n  validFrom: number;\n  validTo: number;\n  certificateNetworkError: string|null;\n  certificateHasWeakSignature: boolean;\n  certificateHasSha1Signature: boolean;\n  modernSSL: boolean;\n  obsoleteSslProtocol: boolean;\n  obsoleteSslKeyExchange: boolean;\n  obsoleteSslCipher: boolean;\n  obsoleteSslSignature: boolean;\n  constructor(certificateSecurityState: Protocol.Security.CertificateSecurityState) {\n    this.protocol = certificateSecurityState.protocol;\n    this.keyExchange = certificateSecurityState.keyExchange;\n    this.keyExchangeGroup = certificateSecurityState.keyExchangeGroup || null;\n    this.cipher = certificateSecurityState.cipher;\n    this.mac = certificateSecurityState.mac || null;\n    this.certificate = certificateSecurityState.certificate;\n    this.subjectName = certificateSecurityState.subjectName;\n    this.issuer = certificateSecurityState.issuer;\n    this.validFrom = certificateSecurityState.validFrom;\n    this.validTo = certificateSecurityState.validTo;\n    this.certificateNetworkError = certificateSecurityState.certificateNetworkError || null;\n    this.certificateHasWeakSignature = certificateSecurityState.certificateHasWeakSignature;\n    this.certificateHasSha1Signature = certificateSecurityState.certificateHasSha1Signature;\n    this.modernSSL = certificateSecurityState.modernSSL;\n    this.obsoleteSslProtocol = certificateSecurityState.obsoleteSslProtocol;\n    this.obsoleteSslKeyExchange = certificateSecurityState.obsoleteSslKeyExchange;\n    this.obsoleteSslCipher = certificateSecurityState.obsoleteSslCipher;\n    this.obsoleteSslSignature = certificateSecurityState.obsoleteSslSignature;\n  }\n\n  isCertificateExpiringSoon(): boolean {\n    const expiryDate = new Date(this.validTo * 1000).getTime();\n    return (expiryDate < new Date(Date.now()).setHours(48)) && (expiryDate > Date.now());\n  }\n\n  getKeyExchangeName(): string {\n    if (this.keyExchangeGroup) {\n      return this.keyExchange ?\n          i18nString(UIStrings.keyExchangeWithGroup, {PH1: this.keyExchange, PH2: this.keyExchangeGroup}) :\n          this.keyExchangeGroup;\n    }\n    return this.keyExchange;\n  }\n\n  getCipherFullName(): string {\n    return this.mac ? i18nString(UIStrings.cipherWithMAC, {PH1: this.cipher, PH2: this.mac}) : this.cipher;\n  }\n}\n\nclass SafetyTipInfo {\n  safetyTipStatus: string;\n  safeUrl: string|null;\n  constructor(safetyTipInfo: Protocol.Security.SafetyTipInfo) {\n    this.safetyTipStatus = safetyTipInfo.safetyTipStatus;\n    this.safeUrl = safetyTipInfo.safeUrl || null;\n  }\n}\n\nexport class SecurityStyleExplanation {\n  securityState: Protocol.Security.SecurityState;\n  title: string|undefined;\n  summary: string;\n  description: string;\n  certificate: string[];\n  mixedContentType: Protocol.Security.MixedContentType;\n  recommendations: string[];\n  constructor(\n      securityState: Protocol.Security.SecurityState, title: string|undefined, summary: string, description: string,\n      certificate: string[]|undefined = [],\n      mixedContentType: Protocol.Security.MixedContentType|undefined = Protocol.Security.MixedContentType.None,\n      recommendations: string[]|undefined = []) {\n    this.securityState = securityState;\n    this.title = title;\n    this.summary = summary;\n    this.description = description;\n    this.certificate = certificate;\n    this.mixedContentType = mixedContentType;\n    this.recommendations = recommendations;\n  }\n}\n\nclass SecurityDispatcher implements ProtocolProxyApi.SecurityDispatcher {\n  private readonly model: SecurityModel;\n  constructor(model: SecurityModel) {\n    this.model = model;\n  }\n\n  securityStateChanged(_event: Protocol.Security.SecurityStateChangedEvent): void {\n  }\n\n  visibleSecurityStateChanged({visibleSecurityState}: Protocol.Security.VisibleSecurityStateChangedEvent): void {\n    const pageVisibleSecurityState = new PageVisibleSecurityState(\n        visibleSecurityState.securityState, visibleSecurityState.certificateSecurityState || null,\n        visibleSecurityState.safetyTipInfo || null, visibleSecurityState.securityStateIssueIds);\n    this.model.dispatchEventToListeners(Events.VisibleSecurityStateChanged, pageVisibleSecurityState);\n  }\n\n  certificateError(_event: Protocol.Security.CertificateErrorEvent): void {\n  }\n}\n", "// Copyright 2015 The Chromium Authors\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n/* eslint-disable @devtools/no-imperative-dom-api */\n\nimport * as Common from '../../core/common/common.js';\nimport * as Host from '../../core/host/host.js';\nimport * as i18n from '../../core/i18n/i18n.js';\nimport type * as Platform from '../../core/platform/platform.js';\nimport * as SDK from '../../core/sdk/sdk.js';\nimport * as Protocol from '../../generated/protocol.js';\nimport * as NetworkForward from '../../panels/network/forward/forward.js';\nimport * as IconButton from '../../ui/components/icon_button/icon_button.js';\nimport * as UI from '../../ui/legacy/legacy.js';\nimport {html, render} from '../../ui/lit/lit.js';\nimport * as VisualLogging from '../../ui/visual_logging/visual_logging.js';\n\nimport {CookieControlsView} from './CookieControlsView.js';\nimport {CookieReportView} from './CookieReportView.js';\nimport lockIconStyles from './lockIcon.css.js';\nimport mainViewStyles from './mainView.css.js';\nimport {ShowOriginEvent} from './OriginTreeElement.js';\nimport originViewStyles from './originView.css.js';\nimport {\n  Events,\n  type PageVisibleSecurityState,\n  SecurityModel,\n  securityStateCompare,\n  SecurityStyleExplanation,\n  SummaryMessages,\n} from './SecurityModel.js';\nimport {SecurityPanelSidebar} from './SecurityPanelSidebar.js';\n\nconst {widgetConfig} = UI.Widget;\n\nconst UIStrings = {\n  /**\n   * @description Summary div text content in Security Panel of the Security panel\n   */\n  securityOverview: 'Security overview',\n  /**\n   * @description Text to show something is secure\n   */\n  secure: 'Secure',\n  /**\n   * @description Sdk console message message level info of level Labels in Console View of the Console panel\n   */\n  info: 'Info',\n  /**\n   * @description Not secure div text content in Security Panel of the Security panel\n   */\n  notSecure: 'Not secure',\n  /**\n   * @description Text to view a security certificate\n   */\n  viewCertificate: 'View certificate',\n  /**\n   * @description Text in Security Panel of the Security panel\n   */\n  notSecureBroken: 'Not secure (broken)',\n  /**\n   * @description Main summary for page when it has been deemed unsafe by the SafeBrowsing service.\n   */\n  thisPageIsDangerousFlaggedBy: 'This page is dangerous (flagged by Google Safe Browsing).',\n  /**\n   * @description Summary phrase for a security problem where the site is deemed unsafe by the SafeBrowsing service.\n   */\n  flaggedByGoogleSafeBrowsing: 'Flagged by Google Safe Browsing',\n  /**\n   * @description Description of a security problem where the site is deemed unsafe by the SafeBrowsing service.\n   */\n  toCheckThisPagesStatusVisit: 'To check this page\\'s status, visit g.co/safebrowsingstatus.',\n  /**\n   * @description Main summary for a non cert error page.\n   */\n  thisIsAnErrorPage: 'This is an error page.',\n  /**\n   * @description Main summary for where the site is non-secure HTTP.\n   */\n  thisPageIsInsecureUnencrypted: 'This page is insecure (unencrypted HTTP).',\n  /**\n   * @description Main summary for where the site has a non-cryptographic secure origin.\n   */\n  thisPageHasANonhttpsSecureOrigin: 'This page has a non-HTTPS secure origin.',\n  /**\n   * @description Message to display in devtools security tab when the page you are on triggered a safety tip.\n   */\n  thisPageIsSuspicious: 'This page is suspicious',\n  /**\n   * @description Body of message to display in devtools security tab when you are viewing a page that triggered a safety tip.\n   */\n  chromeHasDeterminedThatThisSiteS: 'Chrome has determined that this site could be fake or fraudulent.',\n  /**\n   * @description Second part of the body of message to display in devtools security tab when you are viewing a page that triggered a safety tip.\n   */\n  ifYouBelieveThisIsShownIn:\n      'If you believe this is shown in error please visit https://g.co/chrome/lookalike-warnings.',\n  /**\n   * @description Summary of a warning when the user visits a page that triggered a Safety Tip because the domain looked like another domain.\n   */\n  possibleSpoofingUrl: 'Possible spoofing URL',\n  /**\n   * @description Body of a warning when the user visits a page that triggered a Safety Tip because the domain looked like another domain.\n   * @example {wikipedia.org} PH1\n   */\n  thisSitesHostnameLooksSimilarToP:\n      'This site\\'s hostname looks similar to {PH1}. Attackers sometimes mimic sites by making small, hard-to-see changes to the domain name.',\n  /**\n   * @description second part of body of a warning when the user visits a page that triggered a Safety Tip because the domain looked like another domain.\n   */\n  ifYouBelieveThisIsShownInErrorSafety:\n      'If you believe this is shown in error please visit https://g.co/chrome/lookalike-warnings.',\n  /**\n   * @description Title of the devtools security tab when the page you are on triggered a safety tip.\n   */\n  thisPageIsSuspiciousFlaggedBy: 'This page is suspicious (flagged by Chrome).',\n  /**\n   * @description Text for a security certificate\n   */\n  certificate: 'Certificate',\n  /**\n   * @description Summary phrase for a security problem where the site's certificate chain contains a SHA1 signature.\n   */\n  insecureSha: 'insecure (SHA-1)',\n  /**\n   * @description Description of a security problem where the site's certificate chain contains a SHA1 signature.\n   */\n  theCertificateChainForThisSite: 'The certificate chain for this site contains a certificate signed using SHA-1.',\n  /**\n   * @description Summary phrase for a security problem where the site's certificate is missing a subjectAltName extension.\n   */\n  subjectAlternativeNameMissing: '`Subject Alternative Name` missing',\n  /**\n   * @description Description of a security problem where the site's certificate is missing a subjectAltName extension.\n   */\n  theCertificateForThisSiteDoesNot:\n      'The certificate for this site does not contain a `Subject Alternative Name` extension containing a domain name or IP address.',\n  /**\n   * @description Summary phrase for a security problem with the site's certificate.\n   */\n  missing: 'missing',\n  /**\n   * @description Description of a security problem with the site's certificate.\n   * @example {net::ERR_CERT_AUTHORITY_INVALID} PH1\n   */\n  thisSiteIsMissingAValidTrusted: 'This site is missing a valid, trusted certificate ({PH1}).',\n  /**\n   * @description Summary phrase for a site that has a valid server certificate.\n   */\n  validAndTrusted: 'valid and trusted',\n  /**\n   * @description Description of a site that has a valid server certificate.\n   * @example {Let's Encrypt Authority X3} PH1\n   */\n  theConnectionToThisSiteIsUsingA:\n      'The connection to this site is using a valid, trusted server certificate issued by {PH1}.',\n  /**\n   * @description Summary phrase for a security state where Private Key Pinning is ignored because the certificate chains to a locally-trusted root.\n   */\n  publickeypinningBypassed: 'Public-Key-Pinning bypassed',\n  /**\n   * @description Description of a security state where Private Key Pinning is ignored because the certificate chains to a locally-trusted root.\n   */\n  publickeypinningWasBypassedByA: 'Public-Key-Pinning was bypassed by a local root certificate.',\n  /**\n   * @description Summary phrase for a site with a certificate that is expiring soon.\n   */\n  certificateExpiresSoon: 'Certificate expires soon',\n  /**\n   * @description Description for a site with a certificate that is expiring soon.\n   */\n  theCertificateForThisSiteExpires:\n      'The certificate for this site expires in less than 48 hours and needs to be renewed.',\n  /**\n   * @description Text that refers to the network connection\n   */\n  connection: 'Connection',\n  /**\n   * @description Summary phrase for a site that uses a modern, secure TLS protocol and cipher.\n   */\n  secureConnectionSettings: 'secure connection settings',\n  /**\n   * @description Description of a site's TLS settings.\n   * @example {TLS 1.2} PH1\n   * @example {ECDHE_RSA} PH2\n   * @example {AES_128_GCM} PH3\n   */\n  theConnectionToThisSiteIs:\n      'The connection to this site is encrypted and authenticated using {PH1}, {PH2}, and {PH3}.',\n  /**\n   * @description A recommendation to the site owner to use a modern TLS protocol\n   * @example {TLS 1.0} PH1\n   */\n  sIsObsoleteEnableTlsOrLater: '{PH1} is obsolete. Enable TLS 1.2 or later.',\n  /**\n   * @description A recommendation to the site owner to use a modern TLS key exchange\n   */\n  rsaKeyExchangeIsObsoleteEnableAn: 'RSA key exchange is obsolete. Enable an ECDHE-based cipher suite.',\n  /**\n   * @description A recommendation to the site owner to use a modern TLS cipher\n   * @example {3DES_EDE_CBC} PH1\n   */\n  sIsObsoleteEnableAnAesgcmbased: '{PH1} is obsolete. Enable an AES-GCM-based cipher suite.',\n  /**\n   * @description A recommendation to the site owner to use a modern TLS server signature\n   */\n  theServerSignatureUsesShaWhichIs:\n      'The server signature uses SHA-1, which is obsolete. Enable a SHA-2 signature algorithm instead. (Note this is different from the signature in the certificate.)',\n  /**\n   * @description Summary phrase for a site that uses an outdated SSL settings (protocol, key exchange, or cipher).\n   */\n  obsoleteConnectionSettings: 'obsolete connection settings',\n  /**\n   * @description A title of the 'Resources' action category\n   */\n  resources: 'Resources',\n  /**\n   * @description Summary for page when there is active mixed content\n   */\n  activeMixedContent: 'active mixed content',\n  /**\n   * @description Description for page when there is active mixed content\n   */\n  youHaveRecentlyAllowedNonsecure:\n      'You have recently allowed non-secure content (such as scripts or iframes) to run on this site.',\n  /**\n   * @description Summary for page when there is mixed content\n   */\n  mixedContent: 'mixed content',\n  /**\n   * @description Description for page when there is mixed content\n   */\n  thisPageIncludesHttpResources: 'This page includes HTTP resources.',\n  /**\n   * @description Summary for page when there is a non-secure form\n   */\n  nonsecureForm: 'non-secure form',\n  /**\n   * @description Description for page when there is a non-secure form\n   */\n  thisPageIncludesAFormWithA: 'This page includes a form with a non-secure \"action\" attribute.',\n  /**\n   * @description Summary for the page when it contains active content with certificate error\n   */\n  activeContentWithCertificate: 'active content with certificate errors',\n  /**\n   * @description Description for the page when it contains active content with certificate error\n   */\n  youHaveRecentlyAllowedContent:\n      'You have recently allowed content loaded with certificate errors (such as scripts or iframes) to run on this site.',\n  /**\n   * @description Summary for page when there is active content with certificate errors\n   */\n  contentWithCertificateErrors: 'content with certificate errors',\n  /**\n   * @description Description for page when there is content with certificate errors\n   */\n  thisPageIncludesResourcesThat: 'This page includes resources that were loaded with certificate errors.',\n  /**\n   * @description Summary for page when all resources are served securely\n   */\n  allServedSecurely: 'all served securely',\n  /**\n   * @description Description for page when all resources are served securely\n   */\n  allResourcesOnThisPageAreServed: 'All resources on this page are served securely.',\n  /**\n   * @description Text in Security Panel of the Security panel\n   */\n  blockedMixedContent: 'Blocked mixed content',\n  /**\n   * @description Text in Security Panel of the Security panel\n   */\n  yourPageRequestedNonsecure: 'Your page requested non-secure resources that were blocked.',\n  /**\n   * @description Refresh prompt text content in Security Panel of the Security panel\n   */\n  reloadThePageToRecordRequestsFor: 'Reload the page to record requests for HTTP resources.',\n  /**\n   * @description Link text in the Security Panel. Clicking the link navigates the user to the\n   * Network panel. Requests refers to network requests. Each request is a piece of data transmitted\n   * from the current user's browser to a remote server.\n   */\n  viewDRequestsInNetworkPanel:\n      '{n, plural, =1 {View # request in Network Panel} other {View # requests in Network Panel}}',\n  /**\n   * @description Text for the origin of something\n   */\n  origin: 'Origin',\n  /**\n   * @description Text in Security Panel of the Security panel\n   */\n  viewRequestsInNetworkPanel: 'View requests in Network Panel',\n  /**\n   * @description Text for security or network protocol\n   */\n  protocol: 'Protocol',\n  /**\n   * @description Text in the Security panel that refers to how the TLS handshake\n   *established encryption keys.\n   */\n  keyExchange: 'Key exchange',\n  /**\n   * @description Text in Security Panel that refers to how the TLS handshake\n   *encrypted data.\n   */\n  cipher: 'Cipher',\n  /**\n   * @description Text in Security Panel that refers to the signature algorithm\n   *used by the server for authenticate in the TLS handshake.\n   */\n  serverSignature: 'Server signature',\n  /**\n   * @description Text in Security Panel that refers to whether the ClientHello\n   *message in the TLS handshake was encrypted.\n   */\n  encryptedClientHello: 'Encrypted ClientHello',\n  /**\n   * @description Sct div text content in Security Panel of the Security panel\n   */\n  certificateTransparency: 'Certificate Transparency',\n  /**\n   * @description Text that refers to the subject of a security certificate\n   */\n  subject: 'Subject',\n  /**\n   * @description Text to show since when an item is valid\n   */\n  validFrom: 'Valid from',\n  /**\n   * @description Text to indicate the expiry date\n   */\n  validUntil: 'Valid until',\n  /**\n   * @description Text for the issuer of an item\n   */\n  issuer: 'Issuer',\n  /**\n   * @description Text in Security Panel of the Security panel\n   */\n  openFullCertificateDetails: 'Open full certificate details',\n  /**\n   * @description Text in Security Panel of the Security panel\n   */\n  sct: 'SCT',\n  /**\n   * @description Text in Security Panel of the Security panel\n   */\n  logName: 'Log name',\n  /**\n   * @description Text in Security Panel of the Security panel\n   */\n  logId: 'Log ID',\n  /**\n   * @description Text in Security Panel of the Security panel\n   */\n  validationStatus: 'Validation status',\n  /**\n   * @description Text for the source of something\n   */\n  source: 'Source',\n  /**\n   * @description Label for a date/time string in the Security panel. It indicates the time at which\n   * a security certificate was issued (created by an authority and distributed).\n   */\n  issuedAt: 'Issued at',\n  /**\n   * @description Text in Security Panel of the Security panel\n   */\n  hashAlgorithm: 'Hash algorithm',\n  /**\n   * @description Text in Security Panel of the Security panel\n   */\n  signatureAlgorithm: 'Signature algorithm',\n  /**\n   * @description Text in Security Panel of the Security panel\n   */\n  signatureData: 'Signature data',\n  /**\n   * @description Toggle scts details link text content in Security Panel of the Security panel\n   */\n  showFullDetails: 'Show full details',\n  /**\n   * @description Toggle scts details link text content in Security Panel of the Security panel\n   */\n  hideFullDetails: 'Hide full details',\n  /**\n   * @description Text in Security Panel of the Security panel\n   */\n  thisRequestCompliesWithChromes: 'This request complies with `Chrome`\\'s Certificate Transparency policy.',\n  /**\n   * @description Text in Security Panel of the Security panel\n   */\n  thisRequestDoesNotComplyWith: 'This request does not comply with `Chrome`\\'s Certificate Transparency policy.',\n  /**\n   * @description Text in Security Panel of the Security panel\n   */\n  thisResponseWasLoadedFromCache: 'This response was loaded from cache. Some security details might be missing.',\n  /**\n   * @description Text in Security Panel of the Security panel\n   */\n  theSecurityDetailsAboveAreFrom: 'The security details above are from the first inspected response.',\n  /**\n   * @description Main summary for where the site has a non-cryptographic secure origin.\n   */\n  thisOriginIsANonhttpsSecure: 'This origin is a non-HTTPS secure origin.',\n  /**\n   * @description Text in Security Panel of the Security panel\n   */\n  yourConnectionToThisOriginIsNot: 'Your connection to this origin is not secure.',\n  /**\n   * @description No info div text content in Security Panel of the Security panel\n   */\n  noSecurityInformation: 'No security information',\n  /**\n   * @description Text in Security Panel of the Security panel\n   */\n  noSecurityDetailsAreAvailableFor: 'No security details are available for this origin.',\n  /**\n   * @description San div text content in Security Panel of the Security panel\n   */\n  na: '(n/a)',\n  /**\n   * @description Text to show less content\n   */\n  showLess: 'Show less',\n  /**\n   * @description Truncated santoggle text content in Security Panel of the Security panel\n   * @example {2} PH1\n   */\n  showMoreSTotal: 'Show more ({PH1} total)',\n  /**\n   * @description Shown when a field refers to an option that is unknown to the frontend.\n   */\n  unknownField: 'unknown',\n  /**\n   * @description Shown when a field refers to a TLS feature which was enabled.\n   */\n  enabled: 'enabled',\n} as const;\nconst str_ = i18n.i18n.registerUIStrings('panels/security/SecurityPanel.ts', UIStrings);\nconst i18nString = i18n.i18n.getLocalizedString.bind(undefined, str_);\n\nlet securityPanelInstance: SecurityPanel;\n\n// See https://www.iana.org/assignments/tls-parameters/tls-parameters.xhtml#tls-signaturescheme\n// This contains signature schemes supported by Chrome.\nconst SignatureSchemeStrings = new Map([\n  // The full name for these schemes is RSASSA-PKCS1-v1_5, sometimes\n  // \"PKCS#1 v1.5\", but those are very long, so let \"RSA\" vs \"RSA-PSS\"\n  // disambiguate.\n  [0x0201, 'RSA with SHA-1'],\n  [0x0401, 'RSA with SHA-256'],\n  [0x0501, 'RSA with SHA-384'],\n  [0x0601, 'RSA with SHA-512'],\n\n  // We omit the curve from these names because in TLS 1.2 these code points\n  // were not specific to a curve. Saying \"P-256\" for a server that used a P-384\n  // key with SHA-256 in TLS 1.2 would be confusing.\n  [0x0403, 'ECDSA with SHA-256'],\n  [0x0503, 'ECDSA with SHA-384'],\n\n  [0x0804, 'RSA-PSS with SHA-256'],\n  [0x0805, 'RSA-PSS with SHA-384'],\n  [0x0806, 'RSA-PSS with SHA-512'],\n]);\n\nconst LOCK_ICON_NAME = 'lock';\nconst WARNING_ICON_NAME = 'warning';\nconst UNKNOWN_ICON_NAME = 'indeterminate-question-box';\n\nexport function getSecurityStateIconForDetailedView(\n    securityState: Protocol.Security.SecurityState, className: string): IconButton.Icon.Icon {\n  let iconName: string;\n\n  switch (securityState) {\n    case Protocol.Security.SecurityState.Neutral:   // fallthrough\n    case Protocol.Security.SecurityState.Insecure:  // fallthrough\n    case Protocol.Security.SecurityState.InsecureBroken:\n      iconName = WARNING_ICON_NAME;\n      break;\n    case Protocol.Security.SecurityState.Secure:\n      iconName = LOCK_ICON_NAME;\n      break;\n    case Protocol.Security.SecurityState.Info:  // fallthrough\n    case Protocol.Security.SecurityState.Unknown:\n      iconName = UNKNOWN_ICON_NAME;\n      break;\n  }\n\n  return IconButton.Icon.create(iconName, className);\n}\n\nexport function getSecurityStateIconForOverview(\n    securityState: Protocol.Security.SecurityState, className: string): IconButton.Icon.Icon {\n  let iconName: string;\n  switch (securityState) {\n    case Protocol.Security.SecurityState.Unknown:  // fallthrough\n    case Protocol.Security.SecurityState.Neutral:\n      iconName = UNKNOWN_ICON_NAME;\n      break;\n    case Protocol.Security.SecurityState.Insecure:  // fallthrough\n    case Protocol.Security.SecurityState.InsecureBroken:\n      iconName = WARNING_ICON_NAME;\n      break;\n    case Protocol.Security.SecurityState.Secure:\n      iconName = LOCK_ICON_NAME;\n      break;\n    case Protocol.Security.SecurityState.Info:\n      throw new Error(`Unexpected security state ${securityState}`);\n  }\n  return IconButton.Icon.create(iconName, className);\n}\n\nexport function createHighlightedUrl(url: Platform.DevToolsPath.UrlString, securityState: string): Element {\n  const schemeSeparator = '://';\n  const index = url.indexOf(schemeSeparator);\n\n  // If the separator is not found, just display the text without highlighting.\n  if (index === -1) {\n    const text = document.createElement('span');\n    text.textContent = url;\n    return text;\n  }\n\n  const highlightedUrl = document.createElement('span');\n  highlightedUrl.classList.add('highlighted-url');\n  const scheme = url.substr(0, index);\n  const content = url.substr(index + schemeSeparator.length);\n  highlightedUrl.createChild('span', 'url-scheme-' + securityState).textContent = scheme;\n  highlightedUrl.createChild('span', 'url-scheme-separator').textContent = schemeSeparator;\n  highlightedUrl.createChild('span').textContent = content;\n\n  return highlightedUrl;\n}\n\nexport interface ViewInput {\n  panel: SecurityPanel;\n}\nexport interface ViewOutput {\n  setVisibleView: (view: UI.Widget.VBox) => void;\n  splitWidget: UI.SplitWidget.SplitWidget;\n  mainView: SecurityMainView;\n  visibleView: UI.Widget.VBox|null;\n  sidebar: SecurityPanelSidebar;\n}\n\nexport type View = (input: ViewInput, output: ViewOutput, target: HTMLElement) => void;\n\nconst DEFAULT_VIEW: View = (input: ViewInput, output: ViewOutput, target: HTMLElement): void => {\n  // clang-format off\n  render(html`\n    <devtools-split-view direction=\"column\" name=\"security\"\n      ${UI.Widget.widgetRef(UI.SplitWidget.SplitWidget, e => {output.splitWidget = e;})}>\n      <devtools-widget\n        slot=\"sidebar\"\n        .widgetConfig=${widgetConfig(SecurityPanelSidebar)}\n        @showCookieReport=${()=>output.setVisibleView(new CookieReportView())}\n        @showFlagControls=${() => output.setVisibleView(new CookieControlsView())}\n        ${UI.Widget.widgetRef(SecurityPanelSidebar, e => {output.sidebar = e;})}>\n      </devtools-widget>\n  </devtools-split-view>`,\n    target);\n  // clang-format on\n};\n\nexport class SecurityPanel extends UI.Panel.Panel implements SDK.TargetManager.SDKModelObserver<SecurityModel> {\n  readonly mainView: SecurityMainView;\n  readonly sidebar!: SecurityPanelSidebar;\n  private readonly lastResponseReceivedForLoaderId: Map<string, SDK.NetworkRequest.NetworkRequest>;\n  private readonly origins: Map<string, OriginState>;\n  private readonly filterRequestCounts: Map<string, number>;\n  visibleView: UI.Widget.VBox|null;\n  private eventListeners: Common.EventTarget.EventDescriptor[];\n  private securityModel: SecurityModel|null;\n  readonly splitWidget!: UI.SplitWidget.SplitWidget;\n\n  constructor(private view: View = DEFAULT_VIEW) {\n    super('security');\n\n    this.update();\n\n    this.sidebar.setMinimumSize(100, 25);\n    this.sidebar.element.classList.add('panel-sidebar');\n    this.sidebar.element.setAttribute('jslog', `${VisualLogging.pane('sidebar').track({resize: true})}`);\n\n    this.mainView = new SecurityMainView();\n    this.mainView.panel = this;\n    this.element.addEventListener(ShowOriginEvent.eventName, (event: ShowOriginEvent) => {\n      if (event.origin) {\n        this.showOrigin(event.origin);\n      } else {\n        this.setVisibleView(this.mainView);\n      }\n    });\n\n    this.lastResponseReceivedForLoaderId = new Map();\n\n    this.origins = new Map();\n\n    this.filterRequestCounts = new Map();\n\n    this.visibleView = null;\n    this.eventListeners = [];\n    this.securityModel = null;\n\n    SDK.TargetManager.TargetManager.instance().observeModels(SecurityModel, this, {scoped: true});\n    SDK.TargetManager.TargetManager.instance().addModelListener(\n        SDK.ResourceTreeModel.ResourceTreeModel, SDK.ResourceTreeModel.Events.PrimaryPageChanged,\n        this.onPrimaryPageChanged, this);\n\n    this.sidebar.showLastSelectedElement();\n  }\n\n  static instance(opts: {forceNew: boolean|null} = {forceNew: null}): SecurityPanel {\n    const {forceNew} = opts;\n    if (!securityPanelInstance || forceNew) {\n      securityPanelInstance = new SecurityPanel();\n    }\n\n    return securityPanelInstance;\n  }\n\n  static createCertificateViewerButtonForOrigin(text: string, origin: string): Element {\n    const certificateButton = UI.UIUtils.createTextButton(text, async (e: Event) => {\n      e.consume();\n      const names = await SDK.NetworkManager.MultitargetNetworkManager.instance().getCertificate(origin);\n      if (names.length > 0) {\n        Host.InspectorFrontendHost.InspectorFrontendHostInstance.showCertificateViewer(names);\n      }\n    }, {className: 'origin-button', jslogContext: 'security.view-certificate-for-origin', title: text});\n    UI.ARIAUtils.markAsButton(certificateButton);\n    return certificateButton;\n  }\n\n  static createCertificateViewerButtonForCert(text: string, names: string[]): Element {\n    const certificateButton = UI.UIUtils.createTextButton(text, e => {\n      e.consume();\n      Host.InspectorFrontendHost.InspectorFrontendHostInstance.showCertificateViewer(names);\n    }, {className: 'origin-button', jslogContext: 'security.view-certificate'});\n    UI.ARIAUtils.markAsButton(certificateButton);\n    return certificateButton;\n  }\n\n  update(): void {\n    this.view({panel: this}, this, this.contentElement);\n  }\n\n  private updateVisibleSecurityState(visibleSecurityState: PageVisibleSecurityState): void {\n    this.sidebar.securityOverviewElement.setSecurityState(visibleSecurityState.securityState);\n    this.mainView.updateVisibleSecurityState(visibleSecurityState);\n  }\n\n  private onVisibleSecurityStateChanged({data}: Common.EventTarget.EventTargetEvent<PageVisibleSecurityState>): void {\n    this.updateVisibleSecurityState(data);\n  }\n\n  showOrigin(origin: Platform.DevToolsPath.UrlString): void {\n    const originState = this.origins.get(origin);\n    if (!originState) {\n      return;\n    }\n    if (!originState.originView) {\n      originState.originView = new SecurityOriginView(origin, originState);\n    }\n\n    this.setVisibleView(originState.originView);\n  }\n\n  override wasShown(): void {\n    super.wasShown();\n    if (!this.visibleView) {\n      this.sidebar.showLastSelectedElement();\n    }\n  }\n\n  override focus(): void {\n    this.sidebar.focus();\n  }\n\n  setVisibleView(view: UI.Widget.VBox): void {\n    if (this.visibleView === view) {\n      return;\n    }\n\n    if (this.visibleView) {\n      this.visibleView.detach();\n    }\n\n    this.visibleView = view;\n\n    if (view) {\n      this.splitWidget.setMainWidget(view);\n    }\n  }\n\n  private onResponseReceived(event: Common.EventTarget.EventTargetEvent<SDK.NetworkManager.ResponseReceivedEvent>):\n      void {\n    const request = event.data.request;\n    if (request.resourceType() === Common.ResourceType.resourceTypes.Document && request.loaderId) {\n      this.lastResponseReceivedForLoaderId.set(request.loaderId, request);\n    }\n  }\n\n  private processRequest(request: SDK.NetworkRequest.NetworkRequest): void {\n    const origin = Common.ParsedURL.ParsedURL.extractOrigin(request.url());\n\n    if (!origin) {\n      // We don't handle resources like data: URIs. Most of them don't affect the lock icon.\n      return;\n    }\n\n    let securityState = request.securityState();\n    if (request.mixedContentType === Protocol.Security.MixedContentType.Blockable ||\n        request.mixedContentType === Protocol.Security.MixedContentType.OptionallyBlockable) {\n      securityState = Protocol.Security.SecurityState.Insecure;\n    }\n\n    const originState = this.origins.get(origin);\n    if (originState) {\n      if (securityStateCompare(securityState, originState.securityState) < 0) {\n        originState.securityState = securityState;\n        const securityDetails = request.securityDetails();\n        if (securityDetails) {\n          originState.securityDetails = securityDetails;\n        }\n        this.sidebar.updateOrigin(origin, securityState);\n        if (originState.originView) {\n          originState.originView.setSecurityState(securityState);\n        }\n      }\n    } else {\n      // This stores the first security details we see for an origin, but we should\n      // eventually store a (deduplicated) list of all the different security\n      // details we have seen. https://crbug.com/503170\n      const newOriginState: OriginState = {\n        securityState,\n        securityDetails: request.securityDetails(),\n        loadedFromCache: request.cached(),\n        originView: undefined,\n      };\n      this.origins.set(origin, newOriginState);\n\n      this.sidebar.addOrigin(origin, securityState);\n\n      // Don't construct the origin view yet (let it happen lazily).\n    }\n  }\n\n  private onRequestFinished(event: Common.EventTarget.EventTargetEvent<SDK.NetworkRequest.NetworkRequest>): void {\n    const request = event.data;\n    this.updateFilterRequestCounts(request);\n    this.processRequest(request);\n  }\n\n  private updateFilterRequestCounts(request: SDK.NetworkRequest.NetworkRequest): void {\n    if (request.mixedContentType === Protocol.Security.MixedContentType.None) {\n      return;\n    }\n\n    let filterKey: string = NetworkForward.UIFilter.MixedContentFilterValues.ALL;\n    if (request.wasBlocked()) {\n      filterKey = NetworkForward.UIFilter.MixedContentFilterValues.BLOCKED;\n    } else if (request.mixedContentType === Protocol.Security.MixedContentType.Blockable) {\n      filterKey = NetworkForward.UIFilter.MixedContentFilterValues.BLOCK_OVERRIDDEN;\n    } else if (request.mixedContentType === Protocol.Security.MixedContentType.OptionallyBlockable) {\n      filterKey = NetworkForward.UIFilter.MixedContentFilterValues.DISPLAYED;\n    }\n\n    const currentCount = this.filterRequestCounts.get(filterKey);\n    if (!currentCount) {\n      this.filterRequestCounts.set(filterKey, 1);\n    } else {\n      this.filterRequestCounts.set(filterKey, currentCount + 1);\n    }\n\n    this.mainView.refreshExplanations();\n  }\n\n  filterRequestCount(filterKey: string): number {\n    return this.filterRequestCounts.get(filterKey) || 0;\n  }\n\n  modelAdded(securityModel: SecurityModel): void {\n    if (securityModel.target() !== securityModel.target().outermostTarget()) {\n      return;\n    }\n\n    this.securityModel = securityModel;\n    const resourceTreeModel = securityModel.resourceTreeModel();\n    const networkManager = securityModel.networkManager();\n    if (this.eventListeners.length) {\n      Common.EventTarget.removeEventListeners(this.eventListeners);\n    }\n    this.eventListeners = [\n      securityModel.addEventListener(Events.VisibleSecurityStateChanged, this.onVisibleSecurityStateChanged, this),\n      resourceTreeModel.addEventListener(\n          SDK.ResourceTreeModel.Events.InterstitialShown, this.onInterstitialShown, this),\n      resourceTreeModel.addEventListener(\n          SDK.ResourceTreeModel.Events.InterstitialHidden, this.onInterstitialHidden, this),\n      networkManager.addEventListener(SDK.NetworkManager.Events.ResponseReceived, this.onResponseReceived, this),\n      networkManager.addEventListener(SDK.NetworkManager.Events.RequestFinished, this.onRequestFinished, this),\n    ];\n\n    if (resourceTreeModel.isInterstitialShowing) {\n      this.onInterstitialShown();\n    }\n  }\n\n  modelRemoved(securityModel: SecurityModel): void {\n    if (this.securityModel !== securityModel) {\n      return;\n    }\n\n    this.securityModel = null;\n    Common.EventTarget.removeEventListeners(this.eventListeners);\n  }\n\n  private onPrimaryPageChanged(\n      event: Common.EventTarget.EventTargetEvent<\n          {frame: SDK.ResourceTreeModel.ResourceTreeFrame, type: SDK.ResourceTreeModel.PrimaryPageChangeType}>): void {\n    const {frame} = event.data;\n    const request = this.lastResponseReceivedForLoaderId.get(frame.loaderId);\n\n    this.sidebar.showLastSelectedElement();\n    this.sidebar.clearOrigins();\n    this.origins.clear();\n    this.lastResponseReceivedForLoaderId.clear();\n    this.filterRequestCounts.clear();\n    // After clearing the filtered request counts, refresh the\n    // explanations to reflect the new counts.\n    this.mainView.refreshExplanations();\n\n    // If we could not find a matching request (as in the case of clicking\n    // through an interstitial, see https://crbug.com/669309), set the origin\n    // based upon the url data from the PrimaryPageChanged event itself.\n    const origin = Common.ParsedURL.ParsedURL.extractOrigin(request ? request.url() : frame.url);\n    this.sidebar.setMainOrigin(origin);\n\n    if (request) {\n      this.processRequest(request);\n    }\n  }\n\n  private onInterstitialShown(): void {\n    // The panel might have been displaying the origin view on the\n    // previously loaded page. When showing an interstitial, switch\n    // back to the sidebar's last shown view.\n    this.sidebar.showLastSelectedElement();\n    this.sidebar.toggleOriginsList(true /* hidden */);\n  }\n\n  private onInterstitialHidden(): void {\n    this.sidebar.toggleOriginsList(false /* hidden */);\n  }\n}\n\nexport enum OriginGroup {\n  /* eslint-disable @typescript-eslint/naming-convention -- Used by web_tests. */\n  MainOrigin = 'MainOrigin',\n  NonSecure = 'NonSecure',\n  Secure = 'Secure',\n  Unknown = 'Unknown',\n  /* eslint-enable @typescript-eslint/naming-convention */\n}\n\nexport class SecurityMainView extends UI.Widget.VBox {\n  panel!: SecurityPanel;\n  private readonly summarySection: HTMLElement;\n  private readonly securityExplanationsMain: HTMLElement;\n  private readonly securityExplanationsExtra: HTMLElement;\n  private readonly lockSpectrum: Map<Protocol.Security.SecurityState, HTMLElement>;\n  private summaryText: HTMLElement;\n  private explanations: Array<Protocol.Security.SecurityStateExplanation|SecurityStyleExplanation>|null;\n  private securityState: Protocol.Security.SecurityState|null;\n  constructor(element?: HTMLElement) {\n    super(element, {jslog: `${VisualLogging.pane('security.main-view')}`});\n    this.registerRequiredCSS(lockIconStyles, mainViewStyles);\n\n    this.setMinimumSize(200, 100);\n\n    this.contentElement.classList.add('security-main-view');\n\n    this.summarySection = this.contentElement.createChild('div', 'security-summary');\n\n    // Info explanations should appear after all others.\n    this.securityExplanationsMain =\n        this.contentElement.createChild('div', 'security-explanation-list security-explanations-main');\n    this.securityExplanationsExtra =\n        this.contentElement.createChild('div', 'security-explanation-list security-explanations-extra');\n\n    // Fill the security summary section.\n    const summaryDiv = this.summarySection.createChild('div', 'security-summary-section-title');\n    summaryDiv.textContent = i18nString(UIStrings.securityOverview);\n    UI.ARIAUtils.markAsHeading(summaryDiv, 1);\n\n    const lockSpectrum = this.summarySection.createChild('div', 'lock-spectrum');\n    this.lockSpectrum = new Map([\n      [\n        Protocol.Security.SecurityState.Secure,\n        lockSpectrum.appendChild(\n            getSecurityStateIconForOverview(Protocol.Security.SecurityState.Secure, 'lock-icon lock-icon-secure')),\n      ],\n      [\n        Protocol.Security.SecurityState.Neutral,\n        lockSpectrum.appendChild(\n            getSecurityStateIconForOverview(Protocol.Security.SecurityState.Neutral, 'lock-icon lock-icon-neutral')),\n      ],\n      [\n        Protocol.Security.SecurityState.Insecure,\n        lockSpectrum.appendChild(\n            getSecurityStateIconForOverview(Protocol.Security.SecurityState.Insecure, 'lock-icon lock-icon-insecure')),\n      ],\n    ]);\n    UI.Tooltip.Tooltip.install(\n        this.getLockSpectrumDiv(Protocol.Security.SecurityState.Secure), i18nString(UIStrings.secure));\n    UI.Tooltip.Tooltip.install(\n        this.getLockSpectrumDiv(Protocol.Security.SecurityState.Neutral), i18nString(UIStrings.info));\n    UI.Tooltip.Tooltip.install(\n        this.getLockSpectrumDiv(Protocol.Security.SecurityState.Insecure), i18nString(UIStrings.notSecure));\n\n    this.summarySection.createChild('div', 'triangle-pointer-container')\n        .createChild('div', 'triangle-pointer-wrapper')\n        .createChild('div', 'triangle-pointer');\n\n    this.summaryText = this.summarySection.createChild('div', 'security-summary-text');\n    UI.ARIAUtils.markAsHeading(this.summaryText, 2);\n\n    this.explanations = null;\n    this.securityState = null;\n  }\n\n  getLockSpectrumDiv(securityState: Protocol.Security.SecurityState): HTMLElement {\n    const element = this.lockSpectrum.get(securityState);\n    if (!element) {\n      throw new Error(`Invalid argument: ${securityState}`);\n    }\n    return element;\n  }\n\n  private addExplanation(\n      parent: Element, explanation: Protocol.Security.SecurityStateExplanation|SecurityStyleExplanation): Element {\n    const explanationSection = parent.createChild('div', 'security-explanation');\n    explanationSection.classList.add('security-explanation-' + explanation.securityState);\n\n    const icon = getSecurityStateIconForDetailedView(\n        explanation.securityState, 'security-property security-property-' + explanation.securityState);\n    explanationSection.appendChild(icon);\n    const text = explanationSection.createChild('div', 'security-explanation-text');\n\n    const explanationHeader = text.createChild('div', 'security-explanation-title');\n\n    if (explanation.title) {\n      explanationHeader.createChild('span').textContent = explanation.title + ' - ';\n      explanationHeader.createChild('span', 'security-explanation-title-' + explanation.securityState).textContent =\n          explanation.summary;\n    } else {\n      explanationHeader.textContent = explanation.summary;\n    }\n\n    text.createChild('div').textContent = explanation.description;\n\n    if (explanation.certificate.length) {\n      text.appendChild(SecurityPanel.createCertificateViewerButtonForCert(\n          i18nString(UIStrings.viewCertificate), explanation.certificate));\n    }\n\n    if (explanation.recommendations?.length) {\n      const recommendationList = text.createChild('ul', 'security-explanation-recommendations');\n      for (const recommendation of explanation.recommendations) {\n        recommendationList.createChild('li').textContent = recommendation;\n      }\n    }\n    return text;\n  }\n\n  updateVisibleSecurityState(visibleSecurityState: PageVisibleSecurityState): void {\n    // Remove old state.\n    // It's safe to call this even when this.securityState is undefined.\n    this.summarySection.classList.remove('security-summary-' + this.securityState);\n\n    // Add new state.\n    this.securityState = visibleSecurityState.securityState;\n    this.summarySection.classList.add('security-summary-' + this.securityState);\n\n    // Update the color and title of the triangle icon in the lock spectrum to\n    // match the security state.\n    if (this.securityState === Protocol.Security.SecurityState.Insecure) {\n      this.getLockSpectrumDiv(Protocol.Security.SecurityState.Insecure).classList.add('lock-icon-insecure');\n      this.getLockSpectrumDiv(Protocol.Security.SecurityState.Insecure).classList.remove('lock-icon-insecure-broken');\n      UI.Tooltip.Tooltip.install(\n          this.getLockSpectrumDiv(Protocol.Security.SecurityState.Insecure), i18nString(UIStrings.notSecure));\n    } else if (this.securityState === Protocol.Security.SecurityState.InsecureBroken) {\n      this.getLockSpectrumDiv(Protocol.Security.SecurityState.Insecure).classList.add('lock-icon-insecure-broken');\n      this.getLockSpectrumDiv(Protocol.Security.SecurityState.Insecure).classList.remove('lock-icon-insecure');\n      UI.Tooltip.Tooltip.install(\n          this.getLockSpectrumDiv(Protocol.Security.SecurityState.Insecure), i18nString(UIStrings.notSecureBroken));\n    }\n\n    const {summary, explanations} = this.getSecuritySummaryAndExplanations(visibleSecurityState);\n    // Use override summary if present, otherwise use base explanation\n    this.summaryText.textContent = summary || SummaryMessages[this.securityState]();\n\n    this.explanations = this.orderExplanations(explanations);\n\n    this.refreshExplanations();\n  }\n\n  private getSecuritySummaryAndExplanations(visibleSecurityState: PageVisibleSecurityState):\n      {summary: (string|undefined), explanations: SecurityStyleExplanation[]} {\n    const {securityState, securityStateIssueIds} = visibleSecurityState;\n    let summary;\n    const explanations: SecurityStyleExplanation[] = [];\n    summary = this.explainSafetyTipSecurity(visibleSecurityState, summary, explanations);\n    if (securityStateIssueIds.includes('malicious-content')) {\n      summary = i18nString(UIStrings.thisPageIsDangerousFlaggedBy);\n      // Always insert SafeBrowsing explanation at the front.\n      explanations.unshift(new SecurityStyleExplanation(\n          Protocol.Security.SecurityState.Insecure, undefined, i18nString(UIStrings.flaggedByGoogleSafeBrowsing),\n          i18nString(UIStrings.toCheckThisPagesStatusVisit)));\n    } else if (\n        securityStateIssueIds.includes('is-error-page') &&\n        (visibleSecurityState.certificateSecurityState?.certificateNetworkError === null)) {\n      summary = i18nString(UIStrings.thisIsAnErrorPage);\n      // In the case of a non cert error page, we usually don't have a\n      // certificate, connection, or content that needs to be explained, e.g. in\n      // the case of a net error, so we can early return.\n      return {summary, explanations};\n    } else if (\n        securityState === Protocol.Security.SecurityState.InsecureBroken &&\n        securityStateIssueIds.includes('scheme-is-not-cryptographic')) {\n      summary = summary || i18nString(UIStrings.thisPageIsInsecureUnencrypted);\n    }\n\n    if (securityStateIssueIds.includes('scheme-is-not-cryptographic')) {\n      if (securityState === Protocol.Security.SecurityState.Neutral &&\n          !securityStateIssueIds.includes('insecure-origin')) {\n        summary = i18nString(UIStrings.thisPageHasANonhttpsSecureOrigin);\n      }\n      return {summary, explanations};\n    }\n\n    this.explainCertificateSecurity(visibleSecurityState, explanations);\n    this.explainConnectionSecurity(visibleSecurityState, explanations);\n    this.explainContentSecurity(visibleSecurityState, explanations);\n    return {summary, explanations};\n  }\n\n  private explainSafetyTipSecurity(\n      visibleSecurityState: PageVisibleSecurityState, summary: string|undefined,\n      explanations: SecurityStyleExplanation[]): string|undefined {\n    const {securityStateIssueIds, safetyTipInfo} = visibleSecurityState;\n    const currentExplanations = [];\n\n    if (securityStateIssueIds.includes('bad_reputation')) {\n      const formatedDescription = `${i18nString(UIStrings.chromeHasDeterminedThatThisSiteS)}\\n\\n${\n          i18nString(UIStrings.ifYouBelieveThisIsShownIn)}`;\n      currentExplanations.push({\n        summary: i18nString(UIStrings.thisPageIsSuspicious),\n        description: formatedDescription,\n      });\n    } else if (securityStateIssueIds.includes('lookalike') && safetyTipInfo?.safeUrl) {\n      const hostname = new URL(safetyTipInfo.safeUrl).hostname;\n      const hostnamePlaceholder = {PH1: hostname};\n      const formattedDescriptionSafety =\n          `${i18nString(UIStrings.thisSitesHostnameLooksSimilarToP, hostnamePlaceholder)}\\n\\n${\n              i18nString(UIStrings.ifYouBelieveThisIsShownInErrorSafety)}`;\n      currentExplanations.push(\n          {summary: i18nString(UIStrings.possibleSpoofingUrl), description: formattedDescriptionSafety});\n    }\n\n    if (currentExplanations.length > 0) {\n      // To avoid overwriting SafeBrowsing's title, set the main summary only if\n      // it's empty. The title set here can be overridden by later checks (e.g.\n      // bad HTTP).\n      summary = summary || i18nString(UIStrings.thisPageIsSuspiciousFlaggedBy);\n      explanations.push(new SecurityStyleExplanation(\n          Protocol.Security.SecurityState.Insecure, undefined, currentExplanations[0].summary,\n          currentExplanations[0].description));\n    }\n    return summary;\n  }\n\n  private explainCertificateSecurity(\n      visibleSecurityState: PageVisibleSecurityState, explanations: SecurityStyleExplanation[]): void {\n    const {certificateSecurityState, securityStateIssueIds} = visibleSecurityState;\n    const title = i18nString(UIStrings.certificate);\n    if (certificateSecurityState?.certificateHasSha1Signature) {\n      const explanationSummary = i18nString(UIStrings.insecureSha);\n      const description = i18nString(UIStrings.theCertificateChainForThisSite);\n      if (certificateSecurityState.certificateHasWeakSignature) {\n        explanations.push(new SecurityStyleExplanation(\n            Protocol.Security.SecurityState.Insecure, title, explanationSummary, description,\n            certificateSecurityState.certificate, Protocol.Security.MixedContentType.None));\n      } else {\n        explanations.push(new SecurityStyleExplanation(\n            Protocol.Security.SecurityState.Neutral, title, explanationSummary, description,\n            certificateSecurityState.certificate, Protocol.Security.MixedContentType.None));\n      }\n    }\n\n    if (certificateSecurityState && securityStateIssueIds.includes('cert-missing-subject-alt-name')) {\n      explanations.push(new SecurityStyleExplanation(\n          Protocol.Security.SecurityState.Insecure, title, i18nString(UIStrings.subjectAlternativeNameMissing),\n          i18nString(UIStrings.theCertificateForThisSiteDoesNot), certificateSecurityState.certificate,\n          Protocol.Security.MixedContentType.None));\n    }\n\n    if (certificateSecurityState && certificateSecurityState.certificateNetworkError !== null) {\n      explanations.push(new SecurityStyleExplanation(\n          Protocol.Security.SecurityState.Insecure, title, i18nString(UIStrings.missing),\n          i18nString(UIStrings.thisSiteIsMissingAValidTrusted, {PH1: certificateSecurityState.certificateNetworkError}),\n          certificateSecurityState.certificate, Protocol.Security.MixedContentType.None));\n    } else if (certificateSecurityState && !certificateSecurityState.certificateHasSha1Signature) {\n      explanations.push(new SecurityStyleExplanation(\n          Protocol.Security.SecurityState.Secure, title, i18nString(UIStrings.validAndTrusted),\n          i18nString(UIStrings.theConnectionToThisSiteIsUsingA, {PH1: certificateSecurityState.issuer}),\n          certificateSecurityState.certificate, Protocol.Security.MixedContentType.None));\n    }\n\n    if (securityStateIssueIds.includes('pkp-bypassed')) {\n      explanations.push(new SecurityStyleExplanation(\n          Protocol.Security.SecurityState.Info, title, i18nString(UIStrings.publickeypinningBypassed),\n          i18nString(UIStrings.publickeypinningWasBypassedByA)));\n    }\n\n    if (certificateSecurityState?.isCertificateExpiringSoon()) {\n      explanations.push(new SecurityStyleExplanation(\n          Protocol.Security.SecurityState.Info, undefined, i18nString(UIStrings.certificateExpiresSoon),\n          i18nString(UIStrings.theCertificateForThisSiteExpires)));\n    }\n  }\n\n  private explainConnectionSecurity(\n      visibleSecurityState: PageVisibleSecurityState, explanations: SecurityStyleExplanation[]): void {\n    const certificateSecurityState = visibleSecurityState.certificateSecurityState;\n    if (!certificateSecurityState) {\n      return;\n    }\n\n    const title = i18nString(UIStrings.connection);\n    if (certificateSecurityState.modernSSL) {\n      explanations.push(new SecurityStyleExplanation(\n          Protocol.Security.SecurityState.Secure, title, i18nString(UIStrings.secureConnectionSettings),\n          i18nString(UIStrings.theConnectionToThisSiteIs, {\n            PH1: certificateSecurityState.protocol,\n            PH2: certificateSecurityState.getKeyExchangeName(),\n            PH3: certificateSecurityState.getCipherFullName(),\n          })));\n      return;\n    }\n\n    const recommendations = [];\n    if (certificateSecurityState.obsoleteSslProtocol) {\n      recommendations.push(i18nString(UIStrings.sIsObsoleteEnableTlsOrLater, {PH1: certificateSecurityState.protocol}));\n    }\n    if (certificateSecurityState.obsoleteSslKeyExchange) {\n      recommendations.push(i18nString(UIStrings.rsaKeyExchangeIsObsoleteEnableAn));\n    }\n    if (certificateSecurityState.obsoleteSslCipher) {\n      recommendations.push(\n          i18nString(UIStrings.sIsObsoleteEnableAnAesgcmbased, {PH1: certificateSecurityState.cipher}));\n    }\n    if (certificateSecurityState.obsoleteSslSignature) {\n      recommendations.push(i18nString(UIStrings.theServerSignatureUsesShaWhichIs));\n    }\n\n    explanations.push(new SecurityStyleExplanation(\n        Protocol.Security.SecurityState.Info, title, i18nString(UIStrings.obsoleteConnectionSettings),\n        i18nString(UIStrings.theConnectionToThisSiteIs, {\n          PH1: certificateSecurityState.protocol,\n          PH2: certificateSecurityState.getKeyExchangeName(),\n          PH3: certificateSecurityState.getCipherFullName(),\n        }),\n        undefined, undefined, recommendations));\n  }\n\n  private explainContentSecurity(\n      visibleSecurityState: PageVisibleSecurityState, explanations: SecurityStyleExplanation[]): void {\n    // Add the secure explanation unless there is an issue.\n    let addSecureExplanation = true;\n    const title = i18nString(UIStrings.resources);\n    const securityStateIssueIds = visibleSecurityState.securityStateIssueIds;\n\n    if (securityStateIssueIds.includes('ran-mixed-content')) {\n      addSecureExplanation = false;\n      explanations.push(new SecurityStyleExplanation(\n          Protocol.Security.SecurityState.Insecure, title, i18nString(UIStrings.activeMixedContent),\n          i18nString(UIStrings.youHaveRecentlyAllowedNonsecure), [], Protocol.Security.MixedContentType.Blockable));\n    }\n\n    if (securityStateIssueIds.includes('displayed-mixed-content')) {\n      addSecureExplanation = false;\n      explanations.push(new SecurityStyleExplanation(\n          Protocol.Security.SecurityState.Neutral, title, i18nString(UIStrings.mixedContent),\n          i18nString(UIStrings.thisPageIncludesHttpResources), [],\n          Protocol.Security.MixedContentType.OptionallyBlockable));\n    }\n\n    if (securityStateIssueIds.includes('contained-mixed-form')) {\n      addSecureExplanation = false;\n      explanations.push(new SecurityStyleExplanation(\n          Protocol.Security.SecurityState.Neutral, title, i18nString(UIStrings.nonsecureForm),\n          i18nString(UIStrings.thisPageIncludesAFormWithA)));\n    }\n\n    if (visibleSecurityState.certificateSecurityState?.certificateNetworkError === null) {\n      if (securityStateIssueIds.includes('ran-content-with-cert-error')) {\n        addSecureExplanation = false;\n        explanations.push(new SecurityStyleExplanation(\n            Protocol.Security.SecurityState.Insecure, title, i18nString(UIStrings.activeContentWithCertificate),\n            i18nString(UIStrings.youHaveRecentlyAllowedContent)));\n      }\n\n      if (securityStateIssueIds.includes('displayed-content-with-cert-errors')) {\n        addSecureExplanation = false;\n        explanations.push(new SecurityStyleExplanation(\n            Protocol.Security.SecurityState.Neutral, title, i18nString(UIStrings.contentWithCertificateErrors),\n            i18nString(UIStrings.thisPageIncludesResourcesThat)));\n      }\n    }\n\n    if (addSecureExplanation) {\n      if (!securityStateIssueIds.includes('scheme-is-not-cryptographic')) {\n        explanations.push(new SecurityStyleExplanation(\n            Protocol.Security.SecurityState.Secure, title, i18nString(UIStrings.allServedSecurely),\n            i18nString(UIStrings.allResourcesOnThisPageAreServed)));\n      }\n    }\n  }\n\n  private orderExplanations(explanations: SecurityStyleExplanation[]): SecurityStyleExplanation[] {\n    if (explanations.length === 0) {\n      return explanations;\n    }\n    const securityStateOrder = [\n      Protocol.Security.SecurityState.Insecure,\n      Protocol.Security.SecurityState.Neutral,\n      Protocol.Security.SecurityState.Secure,\n      Protocol.Security.SecurityState.Info,\n    ];\n    const orderedExplanations = [];\n    for (const securityState of securityStateOrder) {\n      orderedExplanations.push(...explanations.filter(explanation => explanation.securityState === securityState));\n    }\n    return orderedExplanations;\n  }\n\n  refreshExplanations(): void {\n    this.securityExplanationsMain.removeChildren();\n    this.securityExplanationsExtra.removeChildren();\n    if (!this.explanations) {\n      return;\n    }\n    for (const explanation of this.explanations) {\n      if (explanation.securityState === Protocol.Security.SecurityState.Info) {\n        this.addExplanation(this.securityExplanationsExtra, explanation);\n      } else {\n        switch (explanation.mixedContentType) {\n          case Protocol.Security.MixedContentType.Blockable:\n            this.addMixedContentExplanation(\n                this.securityExplanationsMain, explanation,\n                NetworkForward.UIFilter.MixedContentFilterValues.BLOCK_OVERRIDDEN);\n            break;\n          case Protocol.Security.MixedContentType.OptionallyBlockable:\n            this.addMixedContentExplanation(\n                this.securityExplanationsMain, explanation, NetworkForward.UIFilter.MixedContentFilterValues.DISPLAYED);\n            break;\n          default:\n            this.addExplanation(this.securityExplanationsMain, explanation);\n            break;\n        }\n      }\n    }\n\n    if (this.panel.filterRequestCount(NetworkForward.UIFilter.MixedContentFilterValues.BLOCKED) > 0) {\n      const explanation = {\n        securityState: Protocol.Security.SecurityState.Info,\n        summary: i18nString(UIStrings.blockedMixedContent),\n        description: i18nString(UIStrings.yourPageRequestedNonsecure),\n        mixedContentType: Protocol.Security.MixedContentType.Blockable,\n        certificate: [],\n        title: '',\n      } as Protocol.Security.SecurityStateExplanation;\n      this.addMixedContentExplanation(\n          this.securityExplanationsMain, explanation, NetworkForward.UIFilter.MixedContentFilterValues.BLOCKED);\n    }\n  }\n\n  private addMixedContentExplanation(\n      parent: Element, explanation: Protocol.Security.SecurityStateExplanation|SecurityStyleExplanation,\n      filterKey: string): void {\n    const element = this.addExplanation(parent, explanation);\n\n    const filterRequestCount = this.panel.filterRequestCount(filterKey);\n    if (!filterRequestCount) {\n      // Network instrumentation might not have been enabled for the page\n      // load, so the security panel does not necessarily know a count of\n      // individual mixed requests at this point. Prompt them to refresh\n      // instead of pointing them to the Network panel to get prompted\n      // to refresh.\n      const refreshPrompt = element.createChild('div', 'security-mixed-content');\n      refreshPrompt.textContent = i18nString(UIStrings.reloadThePageToRecordRequestsFor);\n      return;\n    }\n\n    const requestsAnchor = element.createChild('button', 'security-mixed-content devtools-link text-button link-style');\n    UI.ARIAUtils.markAsLink(requestsAnchor);\n    requestsAnchor.tabIndex = 0;\n    requestsAnchor.textContent = i18nString(UIStrings.viewDRequestsInNetworkPanel, {n: filterRequestCount});\n\n    requestsAnchor.addEventListener('click', this.showNetworkFilter.bind(this, filterKey));\n  }\n\n  showNetworkFilter(filterKey: string, e: Event): void {\n    e.consume();\n    void Common.Revealer.reveal(NetworkForward.UIFilter.UIRequestFilter.filters(\n        [{filterType: NetworkForward.UIFilter.FilterType.MixedContent, filterValue: filterKey}]));\n  }\n}\n\nexport class SecurityOriginView extends UI.Widget.VBox {\n  private readonly originLockIcon: HTMLElement;\n  constructor(origin: Platform.DevToolsPath.UrlString, originState: OriginState) {\n    super({jslog: `${VisualLogging.pane('security.origin-view')}`});\n    this.registerRequiredCSS(originViewStyles, lockIconStyles);\n    this.setMinimumSize(200, 100);\n\n    this.element.classList.add('security-origin-view');\n\n    const titleSection = this.element.createChild('div', 'title-section');\n    const titleDiv = titleSection.createChild('div', 'title-section-header');\n    titleDiv.textContent = i18nString(UIStrings.origin);\n    UI.ARIAUtils.markAsHeading(titleDiv, 1);\n\n    const originDisplay = titleSection.createChild('div', 'origin-display');\n    this.originLockIcon = originDisplay.createChild('span');\n    const icon = getSecurityStateIconForDetailedView(\n        originState.securityState, `security-property security-property-${originState.securityState}`);\n    this.originLockIcon.appendChild(icon);\n\n    originDisplay.appendChild(createHighlightedUrl(origin, originState.securityState));\n\n    const originNetworkDiv = titleSection.createChild('div', 'view-network-button');\n    const originNetworkButton = UI.UIUtils.createTextButton(i18nString(UIStrings.viewRequestsInNetworkPanel), event => {\n      event.consume();\n      const parsedURL = new Common.ParsedURL.ParsedURL(origin);\n      void Common.Revealer.reveal(NetworkForward.UIFilter.UIRequestFilter.filters([\n        {filterType: NetworkForward.UIFilter.FilterType.Domain, filterValue: parsedURL.host},\n        {filterType: NetworkForward.UIFilter.FilterType.Scheme, filterValue: parsedURL.scheme},\n      ]));\n    }, {jslogContext: 'reveal-in-network'});\n    originNetworkDiv.appendChild(originNetworkButton);\n    UI.ARIAUtils.markAsLink(originNetworkButton);\n\n    if (originState.securityDetails) {\n      const connectionSection = this.element.createChild('div', 'origin-view-section');\n      const connectionDiv = connectionSection.createChild('div', 'origin-view-section-title');\n      connectionDiv.textContent = i18nString(UIStrings.connection);\n      UI.ARIAUtils.markAsHeading(connectionDiv, 2);\n\n      let table: SecurityDetailsTable = new SecurityDetailsTable();\n      connectionSection.appendChild(table.element());\n      table.addRow(i18nString(UIStrings.protocol), originState.securityDetails.protocol);\n\n      // A TLS connection negotiates a cipher suite and, when doing an ephemeral\n      // ECDH key exchange, a \"named group\". In TLS 1.2, the cipher suite is\n      // named like TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256. The DevTools protocol\n      // tried to decompose this name and calls the \"ECDHE_RSA\" portion the\n      // \"keyExchange\", because it determined the rough shape of the key\n      // exchange portion of the handshake. (A keyExchange of \"RSA\" meant a very\n      // different handshake set.) But ECDHE_RSA was still parameterized by a\n      // named group (e.g. X25519), which the DevTools protocol exposes as\n      // \"keyExchangeGroup\".\n      //\n      // Then, starting TLS 1.3, the cipher suites are named like\n      // TLS_AES_128_GCM_SHA256. The handshake shape is implicit in the\n      // protocol. keyExchange is empty and we only have keyExchangeGroup.\n      //\n      // \"Key exchange group\" isn't common terminology and, in TLS 1.3,\n      // something like \"X25519\" is better labelled as \"key exchange\" than \"key\n      // exchange group\" anyway. So combine the two fields when displaying in\n      // the UI.\n      if (originState.securityDetails.keyExchange && originState.securityDetails.keyExchangeGroup) {\n        table.addRow(\n            i18nString(UIStrings.keyExchange),\n            originState.securityDetails.keyExchange + ' with ' + originState.securityDetails.keyExchangeGroup);\n      } else if (originState.securityDetails.keyExchange) {\n        table.addRow(i18nString(UIStrings.keyExchange), originState.securityDetails.keyExchange);\n      } else if (originState.securityDetails.keyExchangeGroup) {\n        table.addRow(i18nString(UIStrings.keyExchange), originState.securityDetails.keyExchangeGroup);\n      }\n\n      if (originState.securityDetails.serverSignatureAlgorithm) {\n        // See https://www.iana.org/assignments/tls-parameters/tls-parameters.xhtml#tls-signaturescheme\n        let sigString = SignatureSchemeStrings.get(originState.securityDetails.serverSignatureAlgorithm);\n        sigString ??=\n            i18nString(UIStrings.unknownField) + ' (' + originState.securityDetails.serverSignatureAlgorithm + ')';\n        table.addRow(i18nString(UIStrings.serverSignature), sigString);\n      }\n\n      table.addRow(\n          i18nString(UIStrings.cipher),\n          originState.securityDetails.cipher +\n              (originState.securityDetails.mac ? ' with ' + originState.securityDetails.mac : ''));\n\n      if (originState.securityDetails.encryptedClientHello) {\n        table.addRow(i18nString(UIStrings.encryptedClientHello), i18nString(UIStrings.enabled));\n      }\n\n      // Create the certificate section outside the callback, so that it appears in the right place.\n      const certificateSection = this.element.createChild('div', 'origin-view-section');\n      const certificateDiv = certificateSection.createChild('div', 'origin-view-section-title');\n      certificateDiv.textContent = i18nString(UIStrings.certificate);\n      UI.ARIAUtils.markAsHeading(certificateDiv, 2);\n\n      const sctListLength = originState.securityDetails.signedCertificateTimestampList.length;\n      const ctCompliance = originState.securityDetails.certificateTransparencyCompliance;\n      let sctSection;\n      if (sctListLength || ctCompliance !== Protocol.Network.CertificateTransparencyCompliance.Unknown) {\n        // Create the Certificate Transparency section outside the callback, so that it appears in the right place.\n        sctSection = this.element.createChild('div', 'origin-view-section');\n        const sctDiv = sctSection.createChild('div', 'origin-view-section-title');\n        sctDiv.textContent = i18nString(UIStrings.certificateTransparency);\n        UI.ARIAUtils.markAsHeading(sctDiv, 2);\n      }\n\n      const sanDiv = this.createSanDiv(originState.securityDetails.sanList);\n      const validFromString = new Date(1000 * originState.securityDetails.validFrom).toUTCString();\n      const validUntilString = new Date(1000 * originState.securityDetails.validTo).toUTCString();\n\n      table = new SecurityDetailsTable();\n      certificateSection.appendChild(table.element());\n      table.addRow(i18nString(UIStrings.subject), originState.securityDetails.subjectName);\n      table.addRow(i18n.i18n.lockedString('SAN'), sanDiv);\n      table.addRow(i18nString(UIStrings.validFrom), validFromString);\n      table.addRow(i18nString(UIStrings.validUntil), validUntilString);\n      table.addRow(i18nString(UIStrings.issuer), originState.securityDetails.issuer);\n\n      table.addRow(\n          '',\n          SecurityPanel.createCertificateViewerButtonForOrigin(\n              i18nString(UIStrings.openFullCertificateDetails), origin));\n\n      if (!sctSection) {\n        return;\n      }\n\n      // Show summary of SCT(s) of Certificate Transparency.\n      const sctSummaryTable = new SecurityDetailsTable();\n      sctSummaryTable.element().classList.add('sct-summary');\n      sctSection.appendChild(sctSummaryTable.element());\n      for (let i = 0; i < sctListLength; i++) {\n        const sct = originState.securityDetails.signedCertificateTimestampList[i];\n        sctSummaryTable.addRow(\n            i18nString(UIStrings.sct), sct.logDescription + ' (' + sct.origin + ', ' + sct.status + ')');\n      }\n\n      // Show detailed SCT(s) of Certificate Transparency.\n      const sctTableWrapper = sctSection.createChild('div', 'sct-details');\n      sctTableWrapper.classList.add('hidden');\n      for (let i = 0; i < sctListLength; i++) {\n        const sctTable = new SecurityDetailsTable();\n        sctTableWrapper.appendChild(sctTable.element());\n        const sct = originState.securityDetails.signedCertificateTimestampList[i];\n        sctTable.addRow(i18nString(UIStrings.logName), sct.logDescription);\n        sctTable.addRow(i18nString(UIStrings.logId), sct.logId.replace(/(.{2})/g, '$1 '));\n        sctTable.addRow(i18nString(UIStrings.validationStatus), sct.status);\n        sctTable.addRow(i18nString(UIStrings.source), sct.origin);\n        sctTable.addRow(i18nString(UIStrings.issuedAt), new Date(sct.timestamp).toUTCString());\n        sctTable.addRow(i18nString(UIStrings.hashAlgorithm), sct.hashAlgorithm);\n        sctTable.addRow(i18nString(UIStrings.signatureAlgorithm), sct.signatureAlgorithm);\n        sctTable.addRow(i18nString(UIStrings.signatureData), sct.signatureData.replace(/(.{2})/g, '$1 '));\n      }\n\n      // Add link to toggle between displaying of the summary of the SCT(s) and the detailed SCT(s).\n      if (sctListLength) {\n        function toggleSctDetailsDisplay(): void {\n          let buttonText;\n          const isDetailsShown = !sctTableWrapper.classList.contains('hidden');\n          if (isDetailsShown) {\n            buttonText = i18nString(UIStrings.showFullDetails);\n          } else {\n            buttonText = i18nString(UIStrings.hideFullDetails);\n          }\n          toggleSctsDetailsLink.textContent = buttonText;\n          UI.ARIAUtils.setLabel(toggleSctsDetailsLink, buttonText);\n          UI.ARIAUtils.setExpanded(toggleSctsDetailsLink, !isDetailsShown);\n          sctSummaryTable.element().classList.toggle('hidden');\n          sctTableWrapper.classList.toggle('hidden');\n        }\n        const toggleSctsDetailsLink = UI.UIUtils.createTextButton(\n            i18nString(UIStrings.showFullDetails), toggleSctDetailsDisplay,\n            {className: 'details-toggle', jslogContext: 'security.toggle-scts-details'});\n        sctSection.appendChild(toggleSctsDetailsLink);\n      }\n\n      switch (ctCompliance) {\n        case Protocol.Network.CertificateTransparencyCompliance.Compliant:\n          sctSection.createChild('div', 'origin-view-section-notes').textContent =\n              i18nString(UIStrings.thisRequestCompliesWithChromes);\n          break;\n        case Protocol.Network.CertificateTransparencyCompliance.NotCompliant:\n          sctSection.createChild('div', 'origin-view-section-notes').textContent =\n              i18nString(UIStrings.thisRequestDoesNotComplyWith);\n          break;\n        case Protocol.Network.CertificateTransparencyCompliance.Unknown:\n          break;\n      }\n\n      const noteSection = this.element.createChild('div', 'origin-view-section origin-view-notes');\n      if (originState.loadedFromCache) {\n        noteSection.createChild('div').textContent = i18nString(UIStrings.thisResponseWasLoadedFromCache);\n      }\n      noteSection.createChild('div').textContent = i18nString(UIStrings.theSecurityDetailsAboveAreFrom);\n    } else if (originState.securityState === Protocol.Security.SecurityState.Secure) {\n      // If the security state is secure but there are no security details,\n      // this means that the origin is a non-cryptographic secure origin, e.g.\n      // chrome:// or about:.\n      const secureSection = this.element.createChild('div', 'origin-view-section');\n      const secureDiv = secureSection.createChild('div', 'origin-view-section-title');\n      secureDiv.textContent = i18nString(UIStrings.secure);\n      UI.ARIAUtils.markAsHeading(secureDiv, 2);\n      secureSection.createChild('div').textContent = i18nString(UIStrings.thisOriginIsANonhttpsSecure);\n    } else if (originState.securityState !== Protocol.Security.SecurityState.Unknown) {\n      const notSecureSection = this.element.createChild('div', 'origin-view-section');\n      const notSecureDiv = notSecureSection.createChild('div', 'origin-view-section-title');\n      notSecureDiv.textContent = i18nString(UIStrings.notSecure);\n      UI.ARIAUtils.markAsHeading(notSecureDiv, 2);\n      notSecureSection.createChild('div').textContent = i18nString(UIStrings.yourConnectionToThisOriginIsNot);\n    } else {\n      const noInfoSection = this.element.createChild('div', 'origin-view-section');\n      const noInfoDiv = noInfoSection.createChild('div', 'origin-view-section-title');\n      noInfoDiv.textContent = i18nString(UIStrings.noSecurityInformation);\n      UI.ARIAUtils.markAsHeading(noInfoDiv, 2);\n      noInfoSection.createChild('div').textContent = i18nString(UIStrings.noSecurityDetailsAreAvailableFor);\n    }\n  }\n\n  private createSanDiv(sanList: string[]): Element {\n    const sanDiv = document.createElement('div');\n    if (sanList.length === 0) {\n      sanDiv.textContent = i18nString(UIStrings.na);\n      sanDiv.classList.add('empty-san');\n    } else {\n      const truncatedNumToShow = 2;\n      const listIsTruncated = sanList.length > truncatedNumToShow + 1;\n      for (let i = 0; i < sanList.length; i++) {\n        const span = sanDiv.createChild('span', 'san-entry');\n        span.textContent = sanList[i];\n        if (listIsTruncated && i >= truncatedNumToShow) {\n          span.classList.add('truncated-entry');\n        }\n      }\n      if (listIsTruncated) {\n        function toggleSANTruncation(): void {\n          const isTruncated = sanDiv.classList.contains('truncated-san');\n          let buttonText;\n          if (isTruncated) {\n            sanDiv.classList.remove('truncated-san');\n            buttonText = i18nString(UIStrings.showLess);\n          } else {\n            sanDiv.classList.add('truncated-san');\n            buttonText = i18nString(UIStrings.showMoreSTotal, {PH1: sanList.length});\n          }\n          truncatedSANToggle.textContent = buttonText;\n          UI.ARIAUtils.setLabel(truncatedSANToggle, buttonText);\n          UI.ARIAUtils.setExpanded(truncatedSANToggle, isTruncated);\n        }\n        const truncatedSANToggle = UI.UIUtils.createTextButton(\n            i18nString(UIStrings.showMoreSTotal, {PH1: sanList.length}), toggleSANTruncation,\n            {jslogContext: 'security.toggle-san-truncation'});\n        sanDiv.appendChild(truncatedSANToggle);\n        toggleSANTruncation();\n      }\n    }\n    return sanDiv;\n  }\n\n  setSecurityState(newSecurityState: Protocol.Security.SecurityState): void {\n    this.originLockIcon.removeChildren();\n    const icon = getSecurityStateIconForDetailedView(\n        newSecurityState, `security-property security-property-${newSecurityState}`);\n    this.originLockIcon.appendChild(icon);\n  }\n}\n\nexport class SecurityDetailsTable {\n  readonly #element: HTMLTableElement;\n\n  constructor() {\n    this.#element = document.createElement('table');\n    this.#element.classList.add('details-table');\n  }\n\n  element(): HTMLTableElement {\n    return this.#element;\n  }\n\n  addRow(key: string, value: string|Node): void {\n    const row = this.#element.createChild('tr', 'details-table-row');\n    row.createChild('td').textContent = key;\n\n    const valueCell = row.createChild('td');\n    if (typeof value === 'string') {\n      valueCell.textContent = value;\n    } else {\n      valueCell.appendChild(value);\n    }\n  }\n}\nexport interface OriginState {\n  securityState: Protocol.Security.SecurityState;\n  securityDetails: Protocol.Network.SecurityDetails|null;\n  loadedFromCache: boolean;\n  originView?: SecurityOriginView|null;\n}\n\nexport type Origin = Platform.DevToolsPath.UrlString;\n\nexport class SecurityRevealer implements Common.Revealer.Revealer<CookieReportView> {\n  async reveal(): Promise<void> {\n    await UI.ViewManager.ViewManager.instance().showView('security');\n    const view = UI.ViewManager.ViewManager.instance().view('security');\n    if (view) {\n      const securityPanel = await view.widget();\n      if (securityPanel instanceof SecurityPanel && securityPanel.sidebar.cookieReportTreeElement) {\n        securityPanel.sidebar.cookieReportTreeElement.select(/* omitFocus=*/ false, /* selectedByUser=*/ true);\n      } else {\n        throw new Error(\n            'Expected securityPanel to be an instance of SecurityPanel with a cookieReportTreeElement in the sidebar');\n      }\n    }\n  }\n}\n", "// Copyright 2025 The Chromium Authors\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n// IMPORTANT: this file is auto generated. Please do not edit this file.\n/* istanbul ignore file */\nexport default `/*\n * Copyright 2015 The Chromium Authors\n * Use of this source code is governed by a BSD-style license that can be\n * found in the LICENSE file.\n */\n\n.lock-icon,\n.security-property {\n  height: var(--sys-size-9);\n  width: var(--sys-size-9);\n}\n\n.lock-icon-secure {\n  color: var(--sys-color-green);\n}\n\n.lock-icon-insecure {\n  color: var(--sys-color-error);\n}\n\n.lock-icon-insecure-broken {\n  color: var(--sys-color-error);\n}\n\n.security-property-secure {\n  color: var(--sys-color-green);\n}\n\n.security-property-neutral {\n  color: var(--sys-color-error);\n}\n\n.security-property-insecure {\n  color: var(--sys-color-error);\n}\n\n.security-property-insecure-broken {\n  color: var(--sys-color-error);\n}\n\n.security-property-info {\n  color: var(--sys-color-on-surface-subtle);\n}\n\n.security-property-unknown {\n  color: var(--sys-color-on-surface-subtle);\n}\n\n.url-scheme-secure {\n  color: var(--sys-color-green);\n}\n\n.url-scheme-neutral,\n.url-scheme-insecure,\n.url-scheme-insecure-broken {\n  color: var(--sys-color-error);\n}\n\n/*# sourceURL=${import.meta.resolve('./lockIcon.css')} */`;", "// Copyright 2025 The Chromium Authors\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n// IMPORTANT: this file is auto generated. Please do not edit this file.\n/* istanbul ignore file */\nexport default `/*\n * Copyright 2015 The Chromium Authors\n * Use of this source code is governed by a BSD-style license that can be\n * found in the LICENSE file.\n */\n\n.devtools-link {\n  display: inline-block;\n}\n\n.security-main-view {\n  overflow: hidden auto;\n  background-color: var(--sys-color-cdt-base-container);\n}\n\n.security-main-view > div {\n  flex-shrink: 0;\n}\n\n.security-summary-section-title {\n  font-size: 15px;\n  margin: 12px 16px;\n  user-select: text;\n}\n\n.lock-spectrum {\n  margin: 8px 16px;\n  display: flex;\n  align-items: flex-start;\n}\n\n.security-summary .lock-icon {\n  flex: none;\n  width: 16px;\n  height: 16px;\n  margin: 0;\n}\n/* Separate the middle icon from the other two. */\n\n.security-summary .lock-icon-neutral {\n  margin: 0 16px;\n}\n\n.security-summary:not(.security-summary-secure) .lock-icon-secure,\n.security-summary:not(.security-summary-neutral) .lock-icon-neutral,\n.security-summary:not(.security-summary-insecure) .lock-icon-insecure,\n.security-summary:not(.security-summary-insecure-broken) .lock-icon-insecure-broken {\n  color: var(--sys-color-state-disabled);\n}\n\n@media (forced-colors: active) {\n  .security-summary-neutral .lock-icon-neutral {\n    color: Highlight;\n  }\n\n  .security-summary:not(.security-summary-secure) .lock-icon-secure,\n  .security-summary:not(.security-summary-neutral) .lock-icon-neutral,\n  .security-summary:not(.security-summary-insecure) .lock-icon-insecure,\n  .security-summary:not(.security-summary-insecure-broken) .lock-icon-insecure-broken {\n    color: canvastext;\n  }\n}\n\n.triangle-pointer-container {\n  margin: 8px 24px 0;\n  padding: 0;\n}\n\n.triangle-pointer-wrapper {\n  /* Defaults for dynamic properties. */\n  transform: translateX(0);\n  transition: transform 0.3s;\n}\n\n.triangle-pointer {\n  width: 12px;\n  height: 12px;\n  margin-bottom: -6px;\n  margin-left: -6px;\n  transform: rotate(-45deg);\n  border-style: solid;\n  border-width: 1px 1px 0 0;\n  background: var(--sys-color-cdt-base-container);\n  border-color: var(--sys-color-neutral-outline);\n}\n\n.security-summary-secure .triangle-pointer-wrapper {\n  transform: translateX(0);\n}\n\n.security-summary-neutral .triangle-pointer-wrapper {\n  transform: translateX(32px);\n}\n\n.security-summary-insecure .triangle-pointer-wrapper {\n  transform: translateX(64px);\n}\n\n.security-summary-insecure-broken .triangle-pointer-wrapper {\n  transform: translateX(64px);\n}\n\n.security-summary-text {\n  padding: 16px 24px;\n  border-style: solid;\n  border-width: 1px 0;\n  font-size: 15px;\n  background: var(--sys-color-cdt-base-container);\n  border-color: var(--sys-color-neutral-outline);\n  user-select: text;\n}\n\n.security-summary-secure .triangle-pointer,\n.security-summary-secure .security-summary-text,\n.security-explanation-title-secure {\n  color: var(--sys-color-green);\n}\n\n.security-summary-insecure-broken .triangle-pointer,\n.security-summary-insecure-broken .security-summary-text,\n.security-explanation-title-neutral,\n.security-explanation-title-insecure,\n.security-explanation-title-insecure-broken {\n  color: var(--sys-color-error);\n}\n\n.security-explanation-list {\n  padding-bottom: 16px;\n}\n\n.security-explanation-list:empty {\n  border-bottom: none;\n  padding: 0;\n}\n\n.security-explanations-main {\n  margin-top: -5px;\n  background-color: var(--sys-color-cdt-base-container);\n  border-bottom: 1px solid var(--sys-color-divider);\n}\n\n.security-explanations-extra {\n  background-color: transparent;\n}\n\n.security-explanation {\n  padding: 11px;\n  display: flex;\n  white-space: nowrap;\n  border: none;\n  color: var(--sys-color-token-subtle);\n}\n\n.security-explanation-text {\n  flex: auto;\n  white-space: normal;\n  max-width: 400px;\n}\n\n.origin-button {\n  margin-top: var(--sys-size-4);\n}\n\n.security-explanation .security-property {\n  flex: none;\n  width: 16px;\n  height: 16px;\n  margin-right: 16px;\n}\n\n.security-explanation-title {\n  color: var(--sys-color-token-subtle);\n  margin-top: 1px;\n  margin-bottom: 8px;\n}\n\n.security-mixed-content {\n  margin-top: 8px;\n}\n\n.security-explanation-recommendations {\n  padding-inline-start: 16px;\n}\n\n.security-explanation-recommendations > li {\n  margin-bottom: 4px;\n}\n\n/*# sourceURL=${import.meta.resolve('./mainView.css')} */`;", "// Copyright 2024 The Chromium Authors\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\nimport * as UI from '../../ui/legacy/legacy.js';\n\nexport class SecurityPanelSidebarTreeElement extends UI.TreeOutline.TreeElement {\n  constructor(title = '', expandable = false, jslogContext?: string|number) {\n    super(title, expandable, jslogContext);\n    UI.ARIAUtils.setLabel(this.listItemElement, title);\n  }\n\n  get elemId(): string {\n    // default landing spot for the security panel\n    return 'overview';\n  }\n\n  showElement(): void {\n    throw new Error('Unimplemented Method');\n  }\n\n  override onselect(selectedByUser?: boolean): boolean {\n    if (selectedByUser) {\n      const id = this.elemId;\n      this.listItemElement.dispatchEvent(\n          new CustomEvent('update-sidebar-selection', {bubbles: true, composed: true, detail: {id}}));\n      this.showElement();\n    }\n    return false;\n  }\n}\n", "// Copyright 2024 The Chromium Authors\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\nimport type * as Platform from '../../core/platform/platform.js';\nimport * as Protocol from '../../generated/protocol.js';\n\nimport {SecurityPanelSidebarTreeElement} from './SecurityPanelSidebarTreeElement.js';\n\nexport class ShowOriginEvent extends Event {\n  static readonly eventName = 'showorigin';\n  origin: Platform.DevToolsPath.UrlString|null;\n\n  constructor(origin: Platform.DevToolsPath.UrlString|null) {\n    super(ShowOriginEvent.eventName, {bubbles: true, composed: true});\n    this.origin = origin;\n  }\n}\n\nexport class OriginTreeElement extends SecurityPanelSidebarTreeElement {\n  #securityState: Protocol.Security.SecurityState|null;\n  readonly #renderTreeElement: (element: SecurityPanelSidebarTreeElement) => void;\n  readonly #origin: Platform.DevToolsPath.UrlString|null = null;\n\n  constructor(\n      className: string, renderTreeElement: (element: SecurityPanelSidebarTreeElement) => void,\n      origin: Platform.DevToolsPath.UrlString|null = null) {\n    super();\n\n    this.#renderTreeElement = renderTreeElement;\n    this.#origin = origin;\n\n    this.listItemElement.classList.add(className);\n    this.#securityState = null;\n    this.setSecurityState(Protocol.Security.SecurityState.Unknown);\n  }\n\n  setSecurityState(newSecurityState: Protocol.Security.SecurityState): void {\n    this.#securityState = newSecurityState;\n    this.#renderTreeElement(this);\n  }\n\n  securityState(): Protocol.Security.SecurityState|null {\n    return this.#securityState;\n  }\n\n  origin(): Platform.DevToolsPath.UrlString|null {\n    return this.#origin;\n  }\n\n  override showElement(): void {\n    this.listItemElement.dispatchEvent(new ShowOriginEvent(this.#origin));\n  }\n}\n\ndeclare global {\n  interface HTMLElementEventMap {\n    showorigin: ShowOriginEvent;\n  }\n}\n", "// Copyright 2025 The Chromium Authors\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n// IMPORTANT: this file is auto generated. Please do not edit this file.\n/* istanbul ignore file */\nexport default `/*\n * Copyright 2015 The Chromium Authors\n * Use of this source code is governed by a BSD-style license that can be\n * found in the LICENSE file.\n */\n\n.title-section {\n  padding: 16px 0 24px;\n  border-bottom: 1px solid var(--sys-color-divider);\n}\n\n.title-section-header {\n  padding-left: 16px;\n  padding-bottom: 10px;\n  font-size: 14px;\n}\n\n.security-origin-view {\n  overflow: hidden scroll;\n  display: block;\n  user-select: text;\n}\n\n.security-origin-view .origin-view-section {\n  border-bottom: 1px solid var(--sys-color-divider);\n  padding: 12px 6px 12px  24px;\n  font-size: 12px;\n}\n\n.origin-view-notes {\n  margin-top: 2px;\n  color: var(--sys-color-token-subtle);\n}\n\n.origin-view-section-notes {\n  margin-top: 6px;\n  color: var(--sys-color-token-subtle);\n}\n\n.security-origin-view .origin-display {\n  font-size: 12px;\n  padding-left: var(--sys-size-8);\n  display: flex;\n  align-items: center;\n}\n\n.title-section > .view-network-button {\n  padding: 6px 0 0 16px;\n}\n\n.security-origin-view .origin-display devtools-icon {\n  width: var(--sys-size-8);\n  height: var(--sys-size-8);\n  margin-right: var(--sys-size-6);\n}\n\n.security-origin-view .origin-view-section-title {\n  margin-top: 4px;\n  margin-bottom: 4px;\n  font-weight: bold;\n}\n\n.security-origin-view .details-table {\n  border-spacing: 0;\n}\n\n.security-origin-view .details-table-row {\n  white-space: nowrap;\n  overflow: hidden;\n  line-height: 22px;\n  vertical-align: top;\n}\n\n.security-origin-view .details-table-row > td {\n  padding: 0;\n}\n\n.security-origin-view .details-table-row > td:first-child {\n  color: var(--sys-color-token-subtle);\n  width: calc(120px + 1em);\n  text-align: right;\n  padding-right: 1em;\n}\n\n.security-origin-view .details-table-row > td:nth-child(2) {\n  white-space: normal;\n}\n\n.security-origin-view .sct-details .details-table .details-table-row:last-child td:last-child {\n  border-bottom: 1px solid var(--sys-color-divider);\n  padding-bottom: 10px;\n}\n\n.security-origin-view .sct-details .details-table:last-child .details-table-row:last-child td:last-child {\n  border-bottom: none;\n  padding-bottom: 0;\n}\n\n.security-origin-view .details-toggle {\n  margin-left: 126px;\n}\n\n.security-origin-view .sct-toggle {\n  margin-left: 145px;\n  padding-top: 5px;\n}\n\n.security-origin-view .details-table .empty-san {\n  color: var(--sys-color-state-disabled);\n}\n\n.security-origin-view .details-table .san-entry {\n  display: block;\n}\n\n.security-origin-view .truncated-san .truncated-entry {\n  display: none;\n}\n\n.origin-view-section:last-child {\n  border-bottom: none;\n}\n\n.devtools-link {\n  display: inline-flex;\n}\n\n/*# sourceURL=${import.meta.resolve('./originView.css')} */`;", "// Copyright 2024 The Chromium Authors\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n/* eslint-disable @devtools/no-imperative-dom-api */\n\nimport * as Common from '../../core/common/common.js';\nimport * as i18n from '../../core/i18n/i18n.js';\nimport * as Platform from '../../core/platform/platform.js';\nimport * as Root from '../../core/root/root.js';\nimport * as Protocol from '../../generated/protocol.js';\nimport type * as IconButton from '../../ui/components/icon_button/icon_button.js';\nimport * as UI from '../../ui/legacy/legacy.js';\n\nimport {CookieControlsTreeElement} from './CookieControlsTreeElement.js';\nimport {CookieReportTreeElement} from './CookieReportTreeElement.js';\nimport lockIconStyles from './lockIcon.css.js';\nimport {OriginTreeElement} from './OriginTreeElement.js';\nimport {\n  createHighlightedUrl,\n  getSecurityStateIconForDetailedView,\n  getSecurityStateIconForOverview,\n  OriginGroup,\n} from './SecurityPanel.js';\nimport type {SecurityPanelSidebarTreeElement} from './SecurityPanelSidebarTreeElement.js';\nimport sidebarStyles from './sidebar.css.js';\n\nconst UIStrings = {\n  /**\n   * @description Section title for the the Security Panel's sidebar\n   */\n  security: 'Security',\n  /**\n   * @description Section title for the the Security Panel's sidebar\n   */\n  privacy: 'Privacy',\n  /**\n   * @description Sidebar element text in the Security panel\n   */\n  cookieReport: 'Third-party cookies',\n  /**\n   * @description Sidebar element text in the Security panel\n   */\n  flagControls: 'Controls',\n  /**\n   * @description Text in Security Panel of the Security panel\n   */\n  mainOrigin: 'Main origin',\n  /**\n   * @description Text in Security Panel of the Security panel\n   */\n  nonsecureOrigins: 'Non-secure origins',\n  /**\n   * @description Text in Security Panel of the Security panel\n   */\n  secureOrigins: 'Secure origins',\n  /**\n   * @description Text in Security Panel of the Security panel\n   */\n  unknownCanceled: 'Unknown / canceled',\n  /**\n   * @description Title text content in Security Panel of the Security panel\n   */\n  overview: 'Overview',\n  /**\n   * @description Text in Security Panel of the Security panel\n   */\n  reloadToViewDetails: 'Reload to view details',\n} as const;\n\nconst str_ = i18n.i18n.registerUIStrings('panels/security/SecurityPanelSidebar.ts', UIStrings);\nconst i18nString = i18n.i18n.getLocalizedString.bind(undefined, str_);\n\nexport class SecurityPanelSidebar extends UI.Widget.VBox {\n  readonly #securitySidebarLastItemSetting: Common.Settings.Setting<string>;\n  readonly sidebarTree: UI.TreeOutline.TreeOutlineInShadow;\n  readonly #originGroupTitles: Map<OriginGroup, {title: string, icon?: IconButton.Icon.Icon}>;\n  #originGroups: Map<OriginGroup, UI.TreeOutline.TreeElement>;\n  securityOverviewElement: OriginTreeElement;\n  readonly #cookieControlsTreeElement: CookieControlsTreeElement|undefined;\n  readonly cookieReportTreeElement: CookieReportTreeElement|undefined;\n  readonly #elementsByOrigin: Map<string, OriginTreeElement>;\n  readonly #mainViewReloadMessage: UI.TreeOutline.TreeElement;\n  #mainOrigin: string|null;\n\n  constructor(element?: HTMLElement) {\n    super(element);\n\n    this.#securitySidebarLastItemSetting =\n        Common.Settings.Settings.instance().createSetting('security-last-selected-element-path', '');\n    this.#mainOrigin = null;\n\n    this.sidebarTree = new UI.TreeOutline.TreeOutlineInShadow(UI.TreeOutline.TreeVariant.NAVIGATION_TREE);\n    this.sidebarTree.registerRequiredCSS(lockIconStyles, sidebarStyles);\n    this.sidebarTree.element.classList.add('security-sidebar');\n    this.contentElement.appendChild(this.sidebarTree.element);\n\n    if (Root.Runtime.hostConfig.devToolsPrivacyUI?.enabled) {\n      const privacyTreeSection = this.#addSidebarSection(i18nString(UIStrings.privacy), 'privacy');\n      this.#cookieControlsTreeElement =\n          new CookieControlsTreeElement(i18nString(UIStrings.flagControls), 'cookie-flag-controls');\n      privacyTreeSection.appendChild(this.#cookieControlsTreeElement);\n      this.cookieReportTreeElement = new CookieReportTreeElement(i18nString(UIStrings.cookieReport), 'cookie-report');\n      privacyTreeSection.appendChild(this.cookieReportTreeElement);\n\n      // If this if the first time this setting is set, go to the controls tool\n      if (this.#securitySidebarLastItemSetting.get() === '') {\n        this.#securitySidebarLastItemSetting.set(this.#cookieControlsTreeElement.elemId);\n      }\n    }\n\n    const securitySectionTitle = i18nString(UIStrings.security);\n    const securityTreeSection = this.#addSidebarSection(securitySectionTitle, 'security');\n\n    this.securityOverviewElement =\n        new OriginTreeElement('security-main-view-sidebar-tree-item', this.#renderTreeElement);\n    this.securityOverviewElement.tooltip = i18nString(UIStrings.overview);\n    securityTreeSection.appendChild(this.securityOverviewElement);\n\n    this.#originGroupTitles = new Map([\n      [OriginGroup.MainOrigin, {title: i18nString(UIStrings.mainOrigin)}],\n      [\n        OriginGroup.NonSecure,\n        {\n          title: i18nString(UIStrings.nonsecureOrigins),\n          icon: getSecurityStateIconForDetailedView(\n              Protocol.Security.SecurityState.Insecure,\n              `lock-icon lock-icon-${Protocol.Security.SecurityState.Insecure}`),\n        },\n      ],\n      [\n        OriginGroup.Secure,\n        {\n          title: i18nString(UIStrings.secureOrigins),\n          icon: getSecurityStateIconForDetailedView(\n              Protocol.Security.SecurityState.Secure, `lock-icon lock-icon-${Protocol.Security.SecurityState.Secure}`),\n        },\n      ],\n      [\n        OriginGroup.Unknown,\n        {\n          title: i18nString(UIStrings.unknownCanceled),\n          icon: getSecurityStateIconForDetailedView(\n              Protocol.Security.SecurityState.Unknown,\n              `lock-icon lock-icon-${Protocol.Security.SecurityState.Unknown}`),\n        },\n      ],\n    ]);\n\n    this.#originGroups = new Map();\n    for (const group of Object.values(OriginGroup)) {\n      const element = this.#createOriginGroupElement(\n          this.#originGroupTitles.get(group)?.title as string, this.#originGroupTitles.get(group)?.icon);\n      this.#originGroups.set(group, element);\n      securityTreeSection.appendChild(element);\n    }\n\n    this.#mainViewReloadMessage = new UI.TreeOutline.TreeElement(i18nString(UIStrings.reloadToViewDetails));\n    this.#mainViewReloadMessage.selectable = false;\n    this.#mainViewReloadMessage.listItemElement.classList.add('security-main-view-reload-message');\n    const treeElement = this.#originGroups.get(OriginGroup.MainOrigin);\n    (treeElement as UI.TreeOutline.TreeElement).appendChild(this.#mainViewReloadMessage);\n\n    this.#clearOriginGroups();\n\n    this.#elementsByOrigin = new Map();\n\n    this.element.addEventListener('update-sidebar-selection', (event: Event) => {\n      const id: string = (event as CustomEvent).detail.id;\n      this.#securitySidebarLastItemSetting.set(id);\n    });\n    this.showLastSelectedElement();\n  }\n\n  showLastSelectedElement(): void {\n    if (this.#cookieControlsTreeElement &&\n        this.#securitySidebarLastItemSetting.get() === this.#cookieControlsTreeElement.elemId) {\n      this.#cookieControlsTreeElement.select();\n      this.#cookieControlsTreeElement.showElement();\n    } else if (this.#securitySidebarLastItemSetting.get() === this.cookieReportTreeElement?.elemId) {\n      this.cookieReportTreeElement.select();\n      this.cookieReportTreeElement.showElement();\n    } else {\n      this.securityOverviewElement.select();\n      this.securityOverviewElement.showElement();\n    }\n  }\n\n  #addSidebarSection(title: string, jslogContext: string): UI.TreeOutline.TreeElement {\n    const treeElement = new UI.TreeOutline.TreeElement(title, true, jslogContext);\n    treeElement.listItemElement.classList.add('security-group-list-item');\n    treeElement.setCollapsible(false);\n    treeElement.selectable = false;\n    this.sidebarTree.appendChild(treeElement);\n    UI.ARIAUtils.markAsHeading(treeElement.listItemElement, 3);\n    UI.ARIAUtils.setLabel(treeElement.childrenListElement, title);\n    return treeElement;\n  }\n\n  #originGroupTitle(originGroup: OriginGroup): string {\n    return this.#originGroupTitles.get(originGroup)?.title as string;\n  }\n\n  #originGroupElement(originGroup: OriginGroup): UI.TreeOutline.TreeElement {\n    return this.#originGroups.get(originGroup) as UI.TreeOutline.TreeElement;\n  }\n\n  #createOriginGroupElement(originGroupTitle: string, originGroupIcon?: IconButton.Icon.Icon):\n      UI.TreeOutline.TreeElement {\n    const originGroup = new UI.TreeOutline.TreeElement(originGroupTitle, true);\n    originGroup.selectable = false;\n    originGroup.expand();\n    originGroup.listItemElement.classList.add('security-sidebar-origins');\n    if (originGroupIcon) {\n      originGroup.setLeadingIcons([originGroupIcon]);\n    }\n    UI.ARIAUtils.setLabel(originGroup.childrenListElement, originGroupTitle);\n    return originGroup;\n  }\n\n  toggleOriginsList(hidden: boolean): void {\n    for (const element of this.#originGroups.values()) {\n      element.hidden = hidden;\n    }\n  }\n\n  addOrigin(origin: Platform.DevToolsPath.UrlString, securityState: Protocol.Security.SecurityState): void {\n    this.#mainViewReloadMessage.hidden = true;\n    const originElement = new OriginTreeElement('security-sidebar-tree-item', this.#renderTreeElement, origin);\n    originElement.tooltip = origin;\n    this.#elementsByOrigin.set(origin, originElement);\n    this.updateOrigin(origin, securityState);\n  }\n\n  setMainOrigin(origin: string): void {\n    this.#mainOrigin = origin;\n  }\n\n  get mainOrigin(): string|null {\n    return this.#mainOrigin;\n  }\n\n  get originGroups(): Map<OriginGroup, UI.TreeOutline.TreeElement> {\n    return this.#originGroups;\n  }\n\n  updateOrigin(origin: string, securityState: Protocol.Security.SecurityState): void {\n    const originElement = this.#elementsByOrigin.get(origin) as OriginTreeElement;\n    originElement.setSecurityState(securityState);\n\n    let newParent: UI.TreeOutline.TreeElement;\n    if (origin === this.#mainOrigin) {\n      newParent = this.#originGroups.get(OriginGroup.MainOrigin) as UI.TreeOutline.TreeElement;\n      newParent.title = i18nString(UIStrings.mainOrigin);\n      if (securityState === Protocol.Security.SecurityState.Secure) {\n        newParent.setLeadingIcons(\n            [getSecurityStateIconForOverview(securityState, `lock-icon lock-icon-${securityState}`)]);\n      } else {\n        newParent.setLeadingIcons(\n            [getSecurityStateIconForOverview(securityState, `lock-icon lock-icon-${securityState}`)]);\n      }\n      UI.ARIAUtils.setLabel(newParent.childrenListElement, newParent.title);\n    } else {\n      switch (securityState) {\n        case Protocol.Security.SecurityState.Secure:\n          newParent = this.#originGroupElement(OriginGroup.Secure);\n          break;\n        case Protocol.Security.SecurityState.Unknown:\n          newParent = this.#originGroupElement(OriginGroup.Unknown);\n          break;\n        default:\n          newParent = this.#originGroupElement(OriginGroup.NonSecure);\n          break;\n      }\n    }\n\n    const oldParent = originElement.parent;\n    if (oldParent !== newParent) {\n      if (oldParent) {\n        oldParent.removeChild(originElement);\n        if (oldParent.childCount() === 0) {\n          oldParent.hidden = true;\n        }\n      }\n      newParent.appendChild(originElement);\n      newParent.hidden = false;\n    }\n  }\n\n  #clearOriginGroups(): void {\n    for (const [originGroup, originGroupElement] of this.#originGroups) {\n      if (originGroup === OriginGroup.MainOrigin) {\n        for (let i = originGroupElement.childCount() - 1; i > 0; i--) {\n          originGroupElement.removeChildAtIndex(i);\n        }\n        originGroupElement.title = this.#originGroupTitle(OriginGroup.MainOrigin);\n        originGroupElement.hidden = false;\n        this.#mainViewReloadMessage.hidden = false;\n      } else {\n        originGroupElement.removeChildren();\n        originGroupElement.hidden = true;\n      }\n    }\n  }\n\n  clearOrigins(): void {\n    this.#clearOriginGroups();\n    this.#elementsByOrigin.clear();\n  }\n\n  override focus(): void {\n    this.sidebarTree.focus();\n  }\n\n  #renderTreeElement(element: SecurityPanelSidebarTreeElement): void {\n    if (element instanceof OriginTreeElement) {\n      const securityState = element.securityState() ?? Protocol.Security.SecurityState.Unknown;\n\n      const isOverviewElement = element.listItemElement.classList.contains('security-main-view-sidebar-tree-item');\n\n      const icon = isOverviewElement ?\n          getSecurityStateIconForOverview(securityState, `lock-icon lock-icon-${securityState}`) :\n          getSecurityStateIconForDetailedView(securityState, `security-property security-property-${securityState}`);\n      const elementTitle = isOverviewElement ? ((): Element => {\n        const title = document.createElement('span');\n        title.classList.add('title');\n        title.textContent = i18nString(UIStrings.overview);\n        return title;\n      })() : createHighlightedUrl(element.origin() ?? Platform.DevToolsPath.EmptyUrlString, securityState);\n\n      element.setLeadingIcons([icon]);\n      if (element.listItemElement.lastChild) {\n        element.listItemElement.removeChild(element.listItemElement.lastChild);\n      }\n      element.listItemElement.appendChild(elementTitle);\n    }\n  }\n}\n", "// Copyright 2024 The Chromium Authors\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\nimport * as IconButton from '../../ui/components/icon_button/icon_button.js';\n\nimport {SecurityPanelSidebarTreeElement} from './SecurityPanelSidebarTreeElement.js';\n\nexport class CookieControlsTreeElement extends SecurityPanelSidebarTreeElement {\n  constructor(title: string, jslogContext: string|number) {\n    super(title, false, jslogContext);\n    this.setLeadingIcons([IconButton.Icon.create('gear', 'cookie-icon')]);\n  }\n\n  override get elemId(): string {\n    return 'controls';\n  }\n\n  override showElement(): void {\n    this.listItemElement.dispatchEvent(new CustomEvent('showFlagControls', {bubbles: true, composed: true}));\n  }\n}\n", "// Copyright 2024 The Chromium Authors\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\nimport * as IconButton from '../../ui/components/icon_button/icon_button.js';\n\nimport {SecurityPanelSidebarTreeElement} from './SecurityPanelSidebarTreeElement.js';\n\nexport class CookieReportTreeElement extends SecurityPanelSidebarTreeElement {\n  constructor(title: string, jslogContext: string|number) {\n    super(title, false, jslogContext);\n    this.setLeadingIcons([IconButton.Icon.create('cookie', 'cookie-icon')]);\n  }\n\n  override get elemId(): string {\n    return 'report';\n  }\n\n  override showElement(): void {\n    this.listItemElement.dispatchEvent(new CustomEvent('showCookieReport', {bubbles: true, composed: true}));\n  }\n}\n", "// Copyright 2025 The Chromium Authors\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n// IMPORTANT: this file is auto generated. Please do not edit this file.\n/* istanbul ignore file */\nexport default `/*\n * Copyright 2015 The Chromium Authors\n * Use of this source code is governed by a BSD-style license that can be\n * found in the LICENSE file.\n */\n\n.tree-outline-disclosure {\n  width: 100%;\n}\n\n.tree-outline li.security-group-list-item {\n  & + ol {\n    padding-left: 0;\n  }\n\n  &::before {\n    display: none;\n  }\n\n  &:not(:first-child) {\n    margin-top: var(--sys-size-6);\n  }\n}\n\n.security-main-view-reload-message {\n  color: var(--sys-color-token-subtle);\n}\n\n.tree-outline li.security-sidebar-origins + .children > li {\n  &.selected {\n    .url-scheme-secure {\n      color: var(--sys-color-green);\n    }\n\n    .url-scheme-neutral,\n    .url-scheme-insecure,\n    .url-scheme-insecure-broken {\n      color: var(--sys-color-error);\n    }\n  }\n}\n\n.security-main-view-reload-message,\n.tree-outline li.security-sidebar-origins,\n.tree-outline li.security-group-list-item,\n.tree-outline span {\n  font: var(--sys-typescale-body4-medium);\n\n  &:hover:not(:has(devtools-checkbox)) .selection {\n    background: transparent;\n  }\n}\n\n.tree-outline li {\n  & .leading-icons {\n    flex: none;\n  }\n\n  & .tree-element-title,\n  .highlighted-url,\n  .title {\n    overflow: hidden;\n    text-overflow: ellipsis;\n  }\n}\n\n/*# sourceURL=${import.meta.resolve('./sidebar.css')} */`;"],
  "mappings": "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",
  "names": ["i18nString", "Common", "i18n", "SDK", "uiI18n", "UI", "VisualLogging", "render", "html", "ref", "UIStrings", "str_", "i18nString", "DEFAULT_VIEW", "i18n", "SDK", "UIStrings", "str_", "i18nString", "Events", "Common", "Host", "i18n", "SDK", "NetworkForward", "IconButton", "UI", "html", "render", "VisualLogging", "UI", "Common", "i18n", "Platform", "Root", "UI", "IconButton", "UIStrings", "str_", "i18nString", "element", "UIStrings", "str_", "i18nString", "DEFAULT_VIEW", "render", "html", "OriginGroup"]
}
