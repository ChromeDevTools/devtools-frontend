{"version":3,"file":"HeadersView.js","sourceRoot":"","sources":["../../../../../../../front_end/panels/sources/components/HeadersView.ts"],"names":[],"mappings":"AAAA,sCAAsC;AACtC,yEAAyE;AACzE,6BAA6B;AAC7B,oDAAoD;AACpD,4DAA4D;AAE5D,OAAO,KAAK,IAAI,MAAM,4BAA4B,CAAC;AACnD,OAAO,KAAK,IAAI,MAAM,4BAA4B,CAAC;AAEnD,OAAO,KAAK,WAAW,MAAM,4CAA4C,CAAC;AAC1E,OAAO,KAAK,SAAS,MAAM,0CAA0C,CAAC;AACtE,OAAO,KAAK,SAAS,MAAM,wCAAwC,CAAC;AACpE,OAAO,KAAK,OAAO,MAAM,2CAA2C,CAAC;AACrE,OAAO,KAAK,gBAAgB,MAAM,2CAA2C,CAAC;AAC9E,OAAO,KAAK,EAAE,MAAM,8BAA8B,CAAC;AACnD,OAAO,KAAK,GAAG,MAAM,wBAAwB,CAAC;AAC9C,OAAO,KAAK,aAAa,MAAM,8CAA8C,CAAC;AAE9E,OAAO,iBAAiB,MAAM,sBAAsB,CAAC;AAErD,MAAM,EAAC,IAAI,EAAC,GAAG,GAAG,CAAC;AAEnB,MAAM,SAAS,GAAG;IAChB;;OAEG;IACH,SAAS,EAAE,cAAc;IACzB;;OAEG;IACH,YAAY,EAAE,oBAAoB;IAClC;;OAEG;IACH,WAAW,EAAE,mCAAmC;IAChD;;;OAGG;IACH,gBAAgB,EAAE,mCAAmC;IACrD;;;OAGG;IACH,qBAAqB,EACjB,yKAAyK;IAC7K;;OAEG;IACH,eAAe,EAAE,mBAAmB;IACpC;;OAEG;IACH,SAAS,EAAE,YAAY;CACf,CAAC;AACX,MAAM,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,0CAA0C,EAAE,SAAS,CAAC,CAAC;AAChG,MAAM,UAAU,GAAG,IAAI,CAAC,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,CAAC;AAEtE,MAAM,oBAAoB,GAAG,cAAc,CAAC;AAC5C,MAAM,oBAAoB,GAAG,CAAC,CAAS,EAAU,EAAE,CAAC,eAAe,CAAC,EAAE,CAAC;AAEvE,MAAM,OAAO,WAAY,SAAQ,EAAE,CAAC,IAAI,CAAC,UAAU;IACxC,qBAAqB,GAAG,IAAI,oBAAoB,EAAE,CAAC;IAC5D,aAAa,CAAsC;IAEnD,YAAY,YAAiD;QAC3D,KAAK,CAAC;YACJ,KAAK,EAAE,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,aAAa,CAAC;YAC5C,MAAM,EAAE,cAAc;YACtB,KAAK,EAAE,GAAG,aAAa,CAAC,IAAI,CAAC,cAAc,CAAC,EAAE;SAC/C,CAAC,CAAC;QACH,IAAI,CAAC,aAAa,GAAG,YAAY,CAAC;QAClC,IAAI,CAAC,aAAa,CAAC,gBAAgB,CAC/B,SAAS,CAAC,YAAY,CAAC,MAAM,CAAC,kBAAkB,EAAE,IAAI,CAAC,qBAAqB,EAAE,IAAI,CAAC,CAAC;QACxF,IAAI,CAAC,aAAa,CAAC,gBAAgB,CAC/B,SAAS,CAAC,YAAY,CAAC,MAAM,CAAC,oBAAoB,EAAE,IAAI,CAAC,uBAAuB,EAAE,IAAI,CAAC,CAAC;QAC5F,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,IAAI,CAAC,qBAAqB,CAAC,CAAC;QACrD,KAAK,IAAI,CAAC,eAAe,EAAE,CAAC;IAC9B,CAAC;IAED,KAAK,CAAC,eAAe;QACnB,MAAM,kBAAkB,GAAG,MAAM,IAAI,CAAC,aAAa,CAAC,kBAAkB,EAAE,CAAC;QACzE,IAAI,CAAC,iBAAiB,CAAC,SAAS,CAAC,WAAW,CAAC,WAAW,CAAC,MAAM,CAAC,kBAAkB,EAAE,EAAE,CAAC,CAAC,CAAC;IAC3F,CAAC;IAED,iBAAiB,CAAC,OAAe;QAC/B,IAAI,YAAY,GAAG,KAAK,CAAC;QACzB,IAAI,eAAe,GAA2D,EAAE,CAAC;QACjF,OAAO,GAAG,OAAO,IAAI,IAAI,CAAC;QAC1B,IAAI,CAAC;YACH,eAAe,GAAG,IAAI,CAAC,KAAK,CAAC,OAAO,CAA2D,CAAC;YAChG,IAAI,CAAC,eAAe,CAAC,KAAK,CAAC,WAAW,CAAC,yBAAyB,CAAC,gBAAgB,CAAC,EAAE,CAAC;gBACnF,MAAM,IAAI,KAAK,CAAC,6BAA6B,CAAC,CAAC;YACjD,CAAC;QACH,CAAC;QAAC,MAAM,CAAC;YACP,OAAO,CAAC,KAAK,CAAC,iBAAiB,EAAE,IAAI,CAAC,aAAa,CAAC,GAAG,EAAE,EAAE,iCAAiC,CAAC,CAAC;YAC9F,YAAY,GAAG,IAAI,CAAC;QACtB,CAAC;QAED,IAAI,CAAC,qBAAqB,CAAC,IAAI,GAAG;YAChC,eAAe;YACf,YAAY,EAAE,IAAI,CAAC,aAAa;YAChC,YAAY;SACb,CAAC;IACJ,CAAC;IAED,qBAAqB;QACnB,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,aAAa,CAAC,WAAW,EAAE,CAAC,CAAC;IAC3D,CAAC;IAED,uBAAuB;QACrB,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,aAAa,CAAC,WAAW,EAAE,CAAC,CAAC;IAC3D,CAAC;IAED,YAAY;QACV,OAAO,IAAI,CAAC,qBAAqB,CAAC;IACpC,CAAC;IAED,OAAO;QACL,IAAI,CAAC,aAAa,CAAC,mBAAmB,CAClC,SAAS,CAAC,YAAY,CAAC,MAAM,CAAC,kBAAkB,EAAE,IAAI,CAAC,qBAAqB,EAAE,IAAI,CAAC,CAAC;QACxF,IAAI,CAAC,aAAa,CAAC,mBAAmB,CAClC,SAAS,CAAC,YAAY,CAAC,MAAM,CAAC,oBAAoB,EAAE,IAAI,CAAC,uBAAuB,EAAE,IAAI,CAAC,CAAC;IAC9F,CAAC;CACF;AAQD,MAAM,OAAO,oBAAqB,SAAQ,WAAW;IAC1C,OAAO,GAAG,IAAI,CAAC,YAAY,CAAC,EAAC,IAAI,EAAE,MAAM,EAAC,CAAC,CAAC;IACrD,gBAAgB,GAA2D,EAAE,CAAC;IAC9E,aAAa,GAA6C,IAAI,CAAC;IAC/D,aAAa,GAAG,KAAK,CAAC;IACtB,aAAa,GAAoD,IAAI,CAAC;IACtE,cAAc,GAAG,EAAE,CAAC;IAEpB;QACE,KAAK,EAAE,CAAC;QACR,IAAI,CAAC,OAAO,CAAC,gBAAgB,CAAC,SAAS,EAAE,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;QACrE,IAAI,CAAC,OAAO,CAAC,gBAAgB,CAAC,UAAU,EAAE,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;QACvE,IAAI,CAAC,OAAO,CAAC,gBAAgB,CAAC,OAAO,EAAE,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;QACjE,IAAI,CAAC,OAAO,CAAC,gBAAgB,CAAC,OAAO,EAAE,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;QACjE,IAAI,CAAC,OAAO,CAAC,gBAAgB,CAAC,SAAS,EAAE,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;QACrE,IAAI,CAAC,OAAO,CAAC,gBAAgB,CAAC,OAAO,EAAE,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;QACjE,IAAI,CAAC,gBAAgB,CAAC,aAAa,EAAE,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;IACvE,CAAC;IAED,IAAI,IAAI,CAAC,IAA8B;QACrC,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC,eAAe,CAAC;QAC7C,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,YAAY,CAAC;QACvC,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,YAAY,CAAC;QACvC,KAAK,gBAAgB,CAAC,eAAe,CAAC,cAAc,CAAC,IAAI,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC;IAC3E,CAAC;IAED,yEAAyE;IACzE,uCAAuC;IACvC,UAAU,CAAC,KAAY;QACrB,MAAM,MAAM,GAAG,KAAK,CAAC,MAAqB,CAAC;QAC3C,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,WAAW,CAAC,EAAE,CAAC;YACjC,OAAO;QACT,CAAC;QACD,MAAM,aAAa,GAAG,KAAsB,CAAC;QAC7C,IAAI,MAAM,CAAC,OAAO,CAAC,cAAc,CAAC,IAAI,MAAM,CAAC,SAAS,KAAK,EAAE;YACzD,CAAC,aAAa,CAAC,GAAG,KAAK,OAAO,IAAI,aAAa,CAAC,GAAG,KAAK,KAAK,CAAC,EAAE,CAAC;YACnE,iFAAiF;YACjF,KAAK,CAAC,cAAc,EAAE,CAAC;YACvB,MAAM,CAAC,IAAI,EAAE,CAAC;QAChB,CAAC;aAAM,IAAI,aAAa,CAAC,GAAG,KAAK,OAAO,EAAE,CAAC;YACzC,KAAK,CAAC,cAAc,EAAE,CAAC;YACvB,MAAM,CAAC,IAAI,EAAE,CAAC;YACd,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC;QAC1B,CAAC;aAAM,IAAI,aAAa,CAAC,GAAG,KAAK,QAAQ,EAAE,CAAC;YAC1C,KAAK,CAAC,OAAO,EAAE,CAAC;YAChB,MAAM,CAAC,SAAS,GAAG,IAAI,CAAC,cAAc,CAAC;YACvC,MAAM,CAAC,IAAI,EAAE,CAAC;YACd,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;QACzB,CAAC;IACH,CAAC;IAED,UAAU,CAAC,MAAmB;QAC5B,MAAM,QAAQ,GAAG,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,gBAAgB,CAAC,WAAW,CAAC,CAAkB,CAAC;QACzF,MAAM,GAAG,GAAG,QAAQ,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC;QACrC,IAAI,GAAG,KAAK,CAAC,CAAC,IAAI,GAAG,GAAG,CAAC,GAAG,QAAQ,CAAC,MAAM,EAAE,CAAC;YAC5C,QAAQ,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC,KAAK,EAAE,CAAC;QAC5B,CAAC;IACH,CAAC;IAED,cAAc,CAAC,MAAmB;QAChC,MAAM,SAAS,GAAG,MAAM,CAAC,YAAY,EAAE,CAAC;QACxC,MAAM,KAAK,GAAG,QAAQ,CAAC,WAAW,EAAE,CAAC;QACrC,KAAK,CAAC,kBAAkB,CAAC,MAAM,CAAC,CAAC;QACjC,SAAS,EAAE,eAAe,EAAE,CAAC;QAC7B,SAAS,EAAE,QAAQ,CAAC,KAAK,CAAC,CAAC;IAC7B,CAAC;IAED,UAAU,CAAC,KAAY;QACrB,MAAM,MAAM,GAAG,KAAK,CAAC,MAAqB,CAAC;QAC3C,IAAI,MAAM,CAAC,OAAO,CAAC,WAAW,CAAC,EAAE,CAAC;YAChC,IAAI,CAAC,cAAc,CAAC,MAAM,CAAC,CAAC;YAC5B,IAAI,CAAC,cAAc,GAAG,MAAM,CAAC,SAAS,CAAC;QACzC,CAAC;IACH,CAAC;IAED,WAAW,CAAC,KAAY;QACtB,MAAM,MAAM,GAAG,KAAK,CAAC,MAAqB,CAAC;QAC3C,IAAI,MAAM,CAAC,SAAS,KAAK,EAAE,EAAE,CAAC;YAC5B,MAAM,UAAU,GAAG,MAAM,CAAC,OAAO,CAAC,MAAM,CAAgB,CAAC;YACzD,MAAM,UAAU,GAAG,MAAM,CAAC,UAAU,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC;YACzD,MAAM,WAAW,GAAG,MAAM,CAAC,UAAU,CAAC,OAAO,CAAC,WAAW,CAAC,CAAC;YAC3D,IAAI,MAAM,CAAC,OAAO,CAAC,WAAW,CAAC,EAAE,CAAC;gBAChC,MAAM,CAAC,SAAS,GAAG,GAAG,CAAC;gBACvB,IAAI,CAAC,gBAAgB,CAAC,UAAU,CAAC,CAAC,OAAO,GAAG,GAAG,CAAC;gBAChD,IAAI,CAAC,iBAAiB,EAAE,CAAC;YAC3B,CAAC;iBAAM,IAAI,MAAM,CAAC,OAAO,CAAC,cAAc,CAAC,EAAE,CAAC;gBAC1C,IAAI,CAAC,aAAa,CAAC,UAAU,EAAE,WAAW,CAAC,CAAC;YAC9C,CAAC;QACH,CAAC;QAED,kBAAkB;QAClB,MAAM,SAAS,GAAG,MAAM,CAAC,YAAY,EAAE,CAAC;QACxC,SAAS,EAAE,eAAe,EAAE,CAAC;QAE7B,IAAI,CAAC,aAAa,EAAE,iBAAiB,EAAE,CAAC;IAC1C,CAAC;IAED,cAAc,CAAC,KAAY;QACzB,IAAI,CAAC,IAAI,CAAC,aAAa,EAAE,CAAC;YACxB,OAAO;QACT,CAAC;QACD,MAAM,WAAW,GAAG,IAAI,EAAE,CAAC,WAAW,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;QAC1D,WAAW,CAAC,qBAAqB,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;QACtD,KAAK,WAAW,CAAC,IAAI,EAAE,CAAC;IAC1B,CAAC;IAED,uBAAuB,CAAC,OAAqC;QAC3D,MAAM,UAAU,GAAG,IAAI,GAAG,CAAS,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC,EAAE,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC;QACvE,IAAI,GAAG,GAAG,CAAC,CAAC;QACZ,OAAO,UAAU,CAAC,GAAG,CAAC,oBAAoB,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC;YACjD,GAAG,EAAE,CAAC;QACR,CAAC;QACD,OAAO,oBAAoB,CAAC,GAAG,CAAC,CAAC;IACnC,CAAC;IAED,QAAQ,CAAC,KAAY;QACnB,MAAM,MAAM,GAAG,KAAK,CAAC,MAA2B,CAAC;QACjD,MAAM,UAAU,GAAG,MAAM,CAAC,OAAO,CAAC,MAAM,CAAuB,CAAC;QAChE,MAAM,UAAU,GAAG,MAAM,CAAC,UAAU,EAAE,OAAO,CAAC,UAAU,IAAI,CAAC,CAAC,CAAC;QAC/D,MAAM,WAAW,GAAG,MAAM,CAAC,UAAU,EAAE,OAAO,CAAC,WAAW,IAAI,CAAC,CAAC,CAAC;QACjE,IAAI,MAAM,CAAC,OAAO,CAAC,aAAa,CAAC,EAAE,CAAC;YAClC,IAAI,CAAC,gBAAgB,CAAC,UAAU,CAAC,CAAC,OAAO,CAAC,MAAM,CAC5C,WAAW,GAAG,CAAC,EAAE,CAAC,EAClB,EAAC,IAAI,EAAE,IAAI,CAAC,uBAAuB,CAAC,IAAI,CAAC,gBAAgB,CAAC,UAAU,CAAC,CAAC,OAAO,CAAC,EAAE,KAAK,EAAE,oBAAoB,EAAC,CAAC,CAAC;YAClH,IAAI,CAAC,aAAa,GAAG,EAAC,UAAU,EAAE,WAAW,EAAE,WAAW,GAAG,CAAC,EAAC,CAAC;YAChE,IAAI,CAAC,iBAAiB,EAAE,CAAC;QAC3B,CAAC;aAAM,IAAI,MAAM,CAAC,OAAO,CAAC,gBAAgB,CAAC,EAAE,CAAC;YAC5C,IAAI,CAAC,aAAa,CAAC,UAAU,EAAE,WAAW,CAAC,CAAC;QAC9C,CAAC;aAAM,IAAI,MAAM,CAAC,OAAO,CAAC,YAAY,CAAC,EAAE,CAAC;YACxC,IAAI,CAAC,gBAAgB,CAAC,IAAI,CACtB,EAAC,OAAO,EAAE,GAAG,EAAE,OAAO,EAAE,CAAC,EAAC,IAAI,EAAE,oBAAoB,CAAC,CAAC,CAAC,EAAE,KAAK,EAAE,oBAAoB,EAAC,CAAC,EAAC,CAAC,CAAC;YAC7F,IAAI,CAAC,aAAa,GAAG,EAAC,UAAU,EAAE,IAAI,CAAC,gBAAgB,CAAC,MAAM,GAAG,CAAC,EAAC,CAAC;YACpE,IAAI,CAAC,iBAAiB,EAAE,CAAC;QAC3B,CAAC;aAAM,IAAI,MAAM,CAAC,OAAO,CAAC,eAAe,CAAC,EAAE,CAAC;YAC3C,IAAI,CAAC,gBAAgB,CAAC,MAAM,CAAC,UAAU,EAAE,CAAC,CAAC,CAAC;YAC5C,IAAI,CAAC,iBAAiB,EAAE,CAAC;QAC3B,CAAC;IACH,CAAC;IAED,YAAY,CAAC,UAAkB,EAAE,WAAmB;QAClD,MAAM,mBAAmB,GAAG,WAAW,KAAK,CAAC,IAAI,IAAI,CAAC,gBAAgB,CAAC,UAAU,CAAC,CAAC,OAAO,CAAC,MAAM,KAAK,CAAC;YACnG,IAAI,CAAC,gBAAgB,CAAC,UAAU,CAAC,CAAC,OAAO,CAAC,WAAW,CAAC,CAAC,IAAI,KAAK,oBAAoB,CAAC,CAAC,CAAC;YACvF,IAAI,CAAC,gBAAgB,CAAC,UAAU,CAAC,CAAC,OAAO,CAAC,WAAW,CAAC,CAAC,KAAK,KAAK,oBAAoB,CAAC;QAC1F,OAAO,CAAC,mBAAmB,CAAC;IAC9B,CAAC;IAED,aAAa,CAAC,UAAkB,EAAE,WAAmB;QACnD,IAAI,CAAC,gBAAgB,CAAC,UAAU,CAAC,CAAC,OAAO,CAAC,MAAM,CAAC,WAAW,EAAE,CAAC,CAAC,CAAC;QACjE,IAAI,IAAI,CAAC,gBAAgB,CAAC,UAAU,CAAC,CAAC,OAAO,CAAC,MAAM,KAAK,CAAC,EAAE,CAAC;YAC3D,IAAI,CAAC,gBAAgB,CAAC,UAAU,CAAC,CAAC,OAAO,CAAC,IAAI,CAC1C,EAAC,IAAI,EAAE,IAAI,CAAC,uBAAuB,CAAC,IAAI,CAAC,gBAAgB,CAAC,UAAU,CAAC,CAAC,OAAO,CAAC,EAAE,KAAK,EAAE,oBAAoB,EAAC,CAAC,CAAC;QACpH,CAAC;QACD,IAAI,CAAC,iBAAiB,EAAE,CAAC;IAC3B,CAAC;IAED,QAAQ,CAAC,KAAY;QACnB,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,MAAqB,CAAC,CAAC;IAC9C,CAAC;IAED,SAAS,CAAC,MAAmB;QAC3B,MAAM,UAAU,GAAG,MAAM,CAAC,OAAO,CAAC,MAAM,CAAgB,CAAC;QACzD,MAAM,UAAU,GAAG,MAAM,CAAC,UAAU,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC;QACzD,MAAM,WAAW,GAAG,MAAM,CAAC,UAAU,CAAC,OAAO,CAAC,WAAW,CAAC,CAAC;QAC3D,IAAI,MAAM,CAAC,OAAO,CAAC,cAAc,CAAC,EAAE,CAAC;YACnC,IAAI,CAAC,gBAAgB,CAAC,UAAU,CAAC,CAAC,OAAO,CAAC,WAAW,CAAC,CAAC,IAAI,GAAG,MAAM,CAAC,SAAS,CAAC;YAC/E,IAAI,CAAC,iBAAiB,EAAE,CAAC;QAC3B,CAAC;QACD,IAAI,MAAM,CAAC,OAAO,CAAC,eAAe,CAAC,EAAE,CAAC;YACpC,IAAI,CAAC,gBAAgB,CAAC,UAAU,CAAC,CAAC,OAAO,CAAC,WAAW,CAAC,CAAC,KAAK,GAAG,MAAM,CAAC,SAAS,CAAC;YAChF,IAAI,CAAC,iBAAiB,EAAE,CAAC;QAC3B,CAAC;QACD,IAAI,MAAM,CAAC,OAAO,CAAC,WAAW,CAAC,EAAE,CAAC;YAChC,IAAI,CAAC,gBAAgB,CAAC,UAAU,CAAC,CAAC,OAAO,GAAG,MAAM,CAAC,SAAS,CAAC;YAC7D,IAAI,CAAC,iBAAiB,EAAE,CAAC;QAC3B,CAAC;IACH,CAAC;IAED,iBAAiB;QACf,IAAI,CAAC,aAAa,EAAE,cAAc,CAAC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,gBAAgB,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC,CAAC;QACnF,IAAI,CAAC,WAAW,CAAC,WAAW,CAAC,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,+BAA+B,CAAC,CAAC;IACxF,CAAC;IAED,QAAQ,CAAC,KAAY;QACnB,MAAM,cAAc,GAAG,KAAuB,CAAC;QAC/C,KAAK,CAAC,cAAc,EAAE,CAAC;QACvB,IAAI,cAAc,CAAC,aAAa,EAAE,CAAC;YACjC,MAAM,IAAI,GAAG,cAAc,CAAC,aAAa,CAAC,OAAO,CAAC,YAAY,CAAC,CAAC;YAChE,MAAM,KAAK,GAAG,IAAI,CAAC,OAAO,CAAC,YAAY,EAAE,EAAE,UAAU,CAAC,CAAC,CAAC,CAAC;YACzD,IAAI,CAAC,KAAK,EAAE,CAAC;gBACX,OAAO;YACT,CAAC;YACD,KAAK,CAAC,cAAc,EAAE,CAAC;YAEvB,MAAM,QAAQ,GAAG,QAAQ,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC;YAC/C,KAAK,CAAC,UAAU,CAAC,QAAQ,CAAC,CAAC;YAC3B,KAAK,CAAC,kBAAkB,CAAC,QAAQ,CAAC,CAAC;YACnC,KAAK,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;YAEtB,MAAM,SAAS,GAAG,MAAM,CAAC,YAAY,EAAE,CAAC;YACxC,SAAS,EAAE,eAAe,EAAE,CAAC;YAC7B,SAAS,EAAE,QAAQ,CAAC,KAAK,CAAC,CAAC;YAE3B,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,MAAqB,CAAC,CAAC;QAC9C,CAAC;IACH,CAAC;IAED,OAAO;QACL,IAAI,CAAC,gBAAgB,CAAC,eAAe,CAAC,iBAAiB,CAAC,IAAI,CAAC,EAAE,CAAC;YAC9D,MAAM,IAAI,KAAK,CAAC,sCAAsC,CAAC,CAAC;QAC1D,CAAC;QAED,IAAI,IAAI,CAAC,aAAa,EAAE,CAAC;YACvB,MAAM,QAAQ,GAAG,IAAI,CAAC,aAAa,EAAE,IAAI,EAAE,IAAI,UAAU,CAAC;YAC1D,mBAAmB;YACnB,GAAG,CAAC,MAAM,CAAC,IAAI,CAAA;iBACJ,iBAAiB;;;wCAGM,UAAU,CAAC,SAAS,CAAC,gBAAgB,EAAE,EAAC,GAAG,EAAE,QAAQ,EAAC,CAAC;sCACzD,UAAU,CAAC,SAAS,CAAC,qBAAqB,EAAE,EAAC,GAAG,EAAE,QAAQ,EAAC,CAAC;;;OAG3F,EAAE,IAAI,CAAC,OAAO,EAAE,EAAC,IAAI,EAAE,IAAI,EAAC,CAAC,CAAC;YAC/B,kBAAkB;YAClB,OAAO;QACT,CAAC;QAED,mBAAmB;QACnB,GAAG,CAAC,MAAM,CAAC,IAAI,CAAA;eACJ,iBAAiB;QACxB,IAAI,CAAC,gBAAgB,CAAC,GAAG,CAAC,CAAC,cAAc,EAAE,UAAU,EAAE,EAAE,CACzD,IAAI,CAAA;YACA,IAAI,CAAC,iBAAiB,CAAC,cAAc,CAAC,OAAO,EAAE,UAAU,CAAC;YAC1D,cAAc,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC,MAAM,EAAE,WAAW,EAAE,EAAE,CACnD,IAAI,CAAA;gBACA,IAAI,CAAC,gBAAgB,CAAC,MAAM,EAAE,UAAU,EAAE,WAAW,CAAC;aACzD,CACF;SACF,CACF;;qBAEc,gDAA+B;0BAC1B,gCAAgC;;UAEhD,UAAU,CAAC,SAAS,CAAC,eAAe,CAAC;;;;;;oBAM3B,aAAa,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,KAAK,CAAC,EAAC,KAAK,EAAE,IAAI,EAAC,CAAC,IAAI,UAAU,CAAC,SAAS,CAAC,SAAS,CAAC;;KAEvG,EAAE,IAAI,CAAC,OAAO,EAAE,EAAC,IAAI,EAAE,IAAI,EAAC,CAAC,CAAC;QAC/B,kBAAkB;QAElB,IAAI,IAAI,CAAC,aAAa,EAAE,CAAC;YACvB,IAAI,YAAY,GAAiB,IAAI,CAAC;YACtC,IAAI,IAAI,CAAC,aAAa,CAAC,WAAW,EAAE,CAAC;gBACnC,YAAY,GAAG,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,sBACtC,IAAI,CAAC,aAAa,CAAC,UAAU,yBAAyB,IAAI,CAAC,aAAa,CAAC,WAAW,iBAAiB,CAAC,CAAC;YAC7G,CAAC;iBAAM,CAAC;gBACN,YAAY,GAAG,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,sBAAsB,IAAI,CAAC,aAAa,CAAC,UAAU,cAAc,CAAC,CAAC;YAC/G,CAAC;YACD,IAAI,YAAY,EAAE,CAAC;gBAChB,YAA4B,CAAC,KAAK,EAAE,CAAC;YACxC,CAAC;YACD,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC;QAC5B,CAAC;IACH,CAAC;IAED,iBAAiB,CAAC,OAAe,EAAE,UAAkB;QACnD,mBAAmB;QACnB,OAAO,IAAI,CAAA;0CAC2B,UAAU;mBACjC,aAAa,CAAC,QAAQ,CAAC,OAAO,KAAK,GAAG,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,SAAS,CAAC;eACjE,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,UAAU,CAAC;;UAEvC,IAAI,CAAC,eAAe,CAAC,OAAO,EAAE,UAAU,CAAC;;gBAEnC,UAAU,CAAC,SAAS,CAAC,WAAW,CAAC;gBACjC,uCAAyB;oBACrB,KAAK;qBACJ,MAAM;sBACL,MAAM;mBACT,wCAA2B;wBACtB,sCAAsC;;;;KAIzD,CAAC;QACF,kBAAkB;IACpB,CAAC;IAED,gBAAgB,CAAC,MAAkC,EAAE,UAAkB,EAAE,WAAmB;QAC1F,mBAAmB;QACnB,OAAO,IAAI,CAAA;iDACkC,UAAU,sBAAsB,WAAW;mBACzE,aAAa,CAAC,QAAQ,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,MAAM,CAAC,2BAA2B,CAAC;UAChF,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC,IAAI,EAAE,iBAAiB,EAAE,IAAI,CAAC;;UAE1D,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC,KAAK,EAAE,cAAc,CAAC;;kBAE1C,UAAU,CAAC,SAAS,CAAC,SAAS,CAAC;kBAC/B,uCAAyB;sBACrB,MAAM;qBACP,wCAA2B;0BACtB,yBAAyB;;;;kBAIjC,UAAU,CAAC,SAAS,CAAC,YAAY,CAAC;kBAClC,uCAAyB;sBACrB,KAAK;qBACN,wCAA2B;oBAC5B,CAAC,IAAI,CAAC,YAAY,CAAC,UAAU,EAAE,WAAW,CAAC;0BACrC,4BAA4B;;;;KAIjD,CAAC;QACF,kBAAkB;IACpB,CAAC;IAED,eAAe,CAAC,KAAa,EAAE,SAAkB,EAAE,KAAe;QAChE,qEAAqE;QACrE,2EAA2E;QAC3E,wEAAwE;QACxE,kCAAkC;QAClC,mBAAmB;QACnB,MAAM,KAAK,GAAG,KAAK,CAAC,CAAC,CAAC,aAAa,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,aAAa,CAAC,KAAK,EAAE,CAAC;QAClE,OAAO,IAAI,CAAA,eAAe,KAAK,CAAC,KAAK,CAAC,EAAC,MAAM,EAAE,IAAI,EAAE,OAAO,EAAE,kBAAkB,EAAE,KAAK,EAAE,IAAI,EAAC,CAAC;;gDAEnD,SAAS;;2CAEd,GAAG,CAAC,UAAU,CAAC,IAAI,CAAC,KAAK,CAAC,UAAU,CAAC;QAC5E,kBAAkB;IACpB,CAAC;CACF;AAED,aAAa,CAAC,sBAAsB,CAAC,2BAA2B,EAAE,CAAC,CAAU,EAAE,EAAE;IAC/E,OAAO,CAAC,CAAC,sBAAsB,EAAE,SAAS,EAAE,QAAQ,CAAC,QAAQ,CAAC,EAAE,CAAC;QAC/D,CAAC,GAAG,CAAC,CAAC,sBAAsB,CAAC;IAC/B,CAAC;IACD,OAAO,CAAC,CAAC,sBAAsB,IAAI,SAAS,CAAC;AAC/C,CAAC,CAAC,CAAC;AAEH,cAAc,CAAC,MAAM,CAAC,+BAA+B,EAAE,oBAAoB,CAAC,CAAC","sourcesContent":["// Copyright 2022 The Chromium Authors\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n/* eslint-disable @devtools/no-imperative-dom-api */\n/* eslint-disable @devtools/no-lit-render-outside-of-view */\n\nimport * as Host from '../../../core/host/host.js';\nimport * as i18n from '../../../core/i18n/i18n.js';\nimport type * as Protocol from '../../../generated/protocol.js';\nimport * as Persistence from '../../../models/persistence/persistence.js';\nimport * as TextUtils from '../../../models/text_utils/text_utils.js';\nimport * as Workspace from '../../../models/workspace/workspace.js';\nimport * as Buttons from '../../../ui/components/buttons/buttons.js';\nimport * as ComponentHelpers from '../../../ui/components/helpers/helpers.js';\nimport * as UI from '../../../ui/legacy/legacy.js';\nimport * as Lit from '../../../ui/lit/lit.js';\nimport * as VisualLogging from '../../../ui/visual_logging/visual_logging.js';\n\nimport headersViewStyles from './HeadersView.css.js';\n\nconst {html} = Lit;\n\nconst UIStrings = {\n  /**\n   * @description The title of a button that adds a field to input a header in the editor form.\n   */\n  addHeader: 'Add a header',\n  /**\n   * @description The title of a button that removes a field to input a header in the editor form.\n   */\n  removeHeader: 'Remove this header',\n  /**\n   * @description The title of a button that removes a section for defining header overrides in the editor form.\n   */\n  removeBlock: 'Remove this \\'`ApplyTo`\\'-section',\n  /**\n   * @description Error message for files which cannot not be parsed.\n   * @example {.headers} PH1\n   */\n  errorWhenParsing: 'Error when parsing \\'\\'{PH1}\\'\\'.',\n  /**\n   * @description Explainer for files which cannot be parsed.\n   * @example {.headers} PH1\n   */\n  parsingErrorExplainer:\n      'This is most likely due to a syntax error in \\'\\'{PH1}\\'\\'. Try opening this file in an external editor to fix the error or delete the file and re-create the override.',\n  /**\n   * @description Button text for a button which adds an additional header override rule.\n   */\n  addOverrideRule: 'Add override rule',\n  /**\n   * @description Text which is a hyperlink to more documentation\n   */\n  learnMore: 'Learn more',\n} as const;\nconst str_ = i18n.i18n.registerUIStrings('panels/sources/components/HeadersView.ts', UIStrings);\nconst i18nString = i18n.i18n.getLocalizedString.bind(undefined, str_);\n\nconst DEFAULT_HEADER_VALUE = 'header value';\nconst getDefaultHeaderName = (i: number): string => `header-name-${i}`;\n\nexport class HeadersView extends UI.View.SimpleView {\n  readonly #headersViewComponent = new HeadersViewComponent();\n  #uiSourceCode: Workspace.UISourceCode.UISourceCode;\n\n  constructor(uiSourceCode: Workspace.UISourceCode.UISourceCode) {\n    super({\n      title: i18n.i18n.lockedString('HeadersView'),\n      viewId: 'headers-view',\n      jslog: `${VisualLogging.pane('headers-view')}`,\n    });\n    this.#uiSourceCode = uiSourceCode;\n    this.#uiSourceCode.addEventListener(\n        Workspace.UISourceCode.Events.WorkingCopyChanged, this.#onWorkingCopyChanged, this);\n    this.#uiSourceCode.addEventListener(\n        Workspace.UISourceCode.Events.WorkingCopyCommitted, this.#onWorkingCopyCommitted, this);\n    this.element.appendChild(this.#headersViewComponent);\n    void this.#setInitialData();\n  }\n\n  async #setInitialData(): Promise<void> {\n    const contentDataOrError = await this.#uiSourceCode.requestContentData();\n    this.#setComponentData(TextUtils.ContentData.ContentData.textOr(contentDataOrError, ''));\n  }\n\n  #setComponentData(content: string): void {\n    let parsingError = false;\n    let headerOverrides: Persistence.NetworkPersistenceManager.HeaderOverride[] = [];\n    content = content || '[]';\n    try {\n      headerOverrides = JSON.parse(content) as Persistence.NetworkPersistenceManager.HeaderOverride[];\n      if (!headerOverrides.every(Persistence.NetworkPersistenceManager.isHeaderOverride)) {\n        throw new Error('Type mismatch after parsing');\n      }\n    } catch {\n      console.error('Failed to parse', this.#uiSourceCode.url(), 'for locally overriding headers.');\n      parsingError = true;\n    }\n\n    this.#headersViewComponent.data = {\n      headerOverrides,\n      uiSourceCode: this.#uiSourceCode,\n      parsingError,\n    };\n  }\n\n  #onWorkingCopyChanged(): void {\n    this.#setComponentData(this.#uiSourceCode.workingCopy());\n  }\n\n  #onWorkingCopyCommitted(): void {\n    this.#setComponentData(this.#uiSourceCode.workingCopy());\n  }\n\n  getComponent(): HeadersViewComponent {\n    return this.#headersViewComponent;\n  }\n\n  dispose(): void {\n    this.#uiSourceCode.removeEventListener(\n        Workspace.UISourceCode.Events.WorkingCopyChanged, this.#onWorkingCopyChanged, this);\n    this.#uiSourceCode.removeEventListener(\n        Workspace.UISourceCode.Events.WorkingCopyCommitted, this.#onWorkingCopyCommitted, this);\n  }\n}\n\nexport interface HeadersViewComponentData {\n  headerOverrides: Persistence.NetworkPersistenceManager.HeaderOverride[];\n  uiSourceCode: Workspace.UISourceCode.UISourceCode;\n  parsingError: boolean;\n}\n\nexport class HeadersViewComponent extends HTMLElement {\n  readonly #shadow = this.attachShadow({mode: 'open'});\n  #headerOverrides: Persistence.NetworkPersistenceManager.HeaderOverride[] = [];\n  #uiSourceCode: Workspace.UISourceCode.UISourceCode|null = null;\n  #parsingError = false;\n  #focusElement: {blockIndex: number, headerIndex?: number}|null = null;\n  #textOnFocusIn = '';\n\n  constructor() {\n    super();\n    this.#shadow.addEventListener('focusin', this.#onFocusIn.bind(this));\n    this.#shadow.addEventListener('focusout', this.#onFocusOut.bind(this));\n    this.#shadow.addEventListener('click', this.#onClick.bind(this));\n    this.#shadow.addEventListener('input', this.#onInput.bind(this));\n    this.#shadow.addEventListener('keydown', this.#onKeyDown.bind(this));\n    this.#shadow.addEventListener('paste', this.#onPaste.bind(this));\n    this.addEventListener('contextmenu', this.#onContextMenu.bind(this));\n  }\n\n  set data(data: HeadersViewComponentData) {\n    this.#headerOverrides = data.headerOverrides;\n    this.#uiSourceCode = data.uiSourceCode;\n    this.#parsingError = data.parsingError;\n    void ComponentHelpers.ScheduledRender.scheduleRender(this, this.#render);\n  }\n\n  // 'Enter' key should not create a new line in the contenteditable. Focus\n  // on the next contenteditable instead.\n  #onKeyDown(event: Event): void {\n    const target = event.target as HTMLElement;\n    if (!target.matches('.editable')) {\n      return;\n    }\n    const keyboardEvent = event as KeyboardEvent;\n    if (target.matches('.header-name') && target.innerText === '' &&\n        (keyboardEvent.key === 'Enter' || keyboardEvent.key === 'Tab')) {\n      // onFocusOut will remove the header -> blur instead of focusing on next editable\n      event.preventDefault();\n      target.blur();\n    } else if (keyboardEvent.key === 'Enter') {\n      event.preventDefault();\n      target.blur();\n      this.#focusNext(target);\n    } else if (keyboardEvent.key === 'Escape') {\n      event.consume();\n      target.innerText = this.#textOnFocusIn;\n      target.blur();\n      this.#onChange(target);\n    }\n  }\n\n  #focusNext(target: HTMLElement): void {\n    const elements = Array.from(this.#shadow.querySelectorAll('.editable')) as HTMLElement[];\n    const idx = elements.indexOf(target);\n    if (idx !== -1 && idx + 1 < elements.length) {\n      elements[idx + 1].focus();\n    }\n  }\n\n  #selectAllText(target: HTMLElement): void {\n    const selection = window.getSelection();\n    const range = document.createRange();\n    range.selectNodeContents(target);\n    selection?.removeAllRanges();\n    selection?.addRange(range);\n  }\n\n  #onFocusIn(event: Event): void {\n    const target = event.target as HTMLElement;\n    if (target.matches('.editable')) {\n      this.#selectAllText(target);\n      this.#textOnFocusIn = target.innerText;\n    }\n  }\n\n  #onFocusOut(event: Event): void {\n    const target = event.target as HTMLElement;\n    if (target.innerText === '') {\n      const rowElement = target.closest('.row') as HTMLElement;\n      const blockIndex = Number(rowElement.dataset.blockIndex);\n      const headerIndex = Number(rowElement.dataset.headerIndex);\n      if (target.matches('.apply-to')) {\n        target.innerText = '*';\n        this.#headerOverrides[blockIndex].applyTo = '*';\n        this.#onHeadersChanged();\n      } else if (target.matches('.header-name')) {\n        this.#removeHeader(blockIndex, headerIndex);\n      }\n    }\n\n    // clear selection\n    const selection = window.getSelection();\n    selection?.removeAllRanges();\n\n    this.#uiSourceCode?.commitWorkingCopy();\n  }\n\n  #onContextMenu(event: Event): void {\n    if (!this.#uiSourceCode) {\n      return;\n    }\n    const contextMenu = new UI.ContextMenu.ContextMenu(event);\n    contextMenu.appendApplicableItems(this.#uiSourceCode);\n    void contextMenu.show();\n  }\n\n  #generateNextHeaderName(headers: Protocol.Fetch.HeaderEntry[]): string {\n    const takenNames = new Set<string>(headers.map(header => header.name));\n    let idx = 1;\n    while (takenNames.has(getDefaultHeaderName(idx))) {\n      idx++;\n    }\n    return getDefaultHeaderName(idx);\n  }\n\n  #onClick(event: Event): void {\n    const target = event.target as HTMLButtonElement;\n    const rowElement = target.closest('.row') as HTMLElement | null;\n    const blockIndex = Number(rowElement?.dataset.blockIndex || 0);\n    const headerIndex = Number(rowElement?.dataset.headerIndex || 0);\n    if (target.matches('.add-header')) {\n      this.#headerOverrides[blockIndex].headers.splice(\n          headerIndex + 1, 0,\n          {name: this.#generateNextHeaderName(this.#headerOverrides[blockIndex].headers), value: DEFAULT_HEADER_VALUE});\n      this.#focusElement = {blockIndex, headerIndex: headerIndex + 1};\n      this.#onHeadersChanged();\n    } else if (target.matches('.remove-header')) {\n      this.#removeHeader(blockIndex, headerIndex);\n    } else if (target.matches('.add-block')) {\n      this.#headerOverrides.push(\n          {applyTo: '*', headers: [{name: getDefaultHeaderName(1), value: DEFAULT_HEADER_VALUE}]});\n      this.#focusElement = {blockIndex: this.#headerOverrides.length - 1};\n      this.#onHeadersChanged();\n    } else if (target.matches('.remove-block')) {\n      this.#headerOverrides.splice(blockIndex, 1);\n      this.#onHeadersChanged();\n    }\n  }\n\n  #isDeletable(blockIndex: number, headerIndex: number): boolean {\n    const isOnlyDefaultHeader = headerIndex === 0 && this.#headerOverrides[blockIndex].headers.length === 1 &&\n        this.#headerOverrides[blockIndex].headers[headerIndex].name === getDefaultHeaderName(1) &&\n        this.#headerOverrides[blockIndex].headers[headerIndex].value === DEFAULT_HEADER_VALUE;\n    return !isOnlyDefaultHeader;\n  }\n\n  #removeHeader(blockIndex: number, headerIndex: number): void {\n    this.#headerOverrides[blockIndex].headers.splice(headerIndex, 1);\n    if (this.#headerOverrides[blockIndex].headers.length === 0) {\n      this.#headerOverrides[blockIndex].headers.push(\n          {name: this.#generateNextHeaderName(this.#headerOverrides[blockIndex].headers), value: DEFAULT_HEADER_VALUE});\n    }\n    this.#onHeadersChanged();\n  }\n\n  #onInput(event: Event): void {\n    this.#onChange(event.target as HTMLElement);\n  }\n\n  #onChange(target: HTMLElement): void {\n    const rowElement = target.closest('.row') as HTMLElement;\n    const blockIndex = Number(rowElement.dataset.blockIndex);\n    const headerIndex = Number(rowElement.dataset.headerIndex);\n    if (target.matches('.header-name')) {\n      this.#headerOverrides[blockIndex].headers[headerIndex].name = target.innerText;\n      this.#onHeadersChanged();\n    }\n    if (target.matches('.header-value')) {\n      this.#headerOverrides[blockIndex].headers[headerIndex].value = target.innerText;\n      this.#onHeadersChanged();\n    }\n    if (target.matches('.apply-to')) {\n      this.#headerOverrides[blockIndex].applyTo = target.innerText;\n      this.#onHeadersChanged();\n    }\n  }\n\n  #onHeadersChanged(): void {\n    this.#uiSourceCode?.setWorkingCopy(JSON.stringify(this.#headerOverrides, null, 2));\n    Host.userMetrics.actionTaken(Host.UserMetrics.Action.HeaderOverrideHeadersFileEdited);\n  }\n\n  #onPaste(event: Event): void {\n    const clipboardEvent = event as ClipboardEvent;\n    event.preventDefault();\n    if (clipboardEvent.clipboardData) {\n      const text = clipboardEvent.clipboardData.getData('text/plain');\n      const range = this.#shadow.getSelection()?.getRangeAt(0);\n      if (!range) {\n        return;\n      }\n      range.deleteContents();\n\n      const textNode = document.createTextNode(text);\n      range.insertNode(textNode);\n      range.selectNodeContents(textNode);\n      range.collapse(false);\n\n      const selection = window.getSelection();\n      selection?.removeAllRanges();\n      selection?.addRange(range);\n\n      this.#onChange(event.target as HTMLElement);\n    }\n  }\n\n  #render(): void {\n    if (!ComponentHelpers.ScheduledRender.isScheduledRender(this)) {\n      throw new Error('HeadersView render was not scheduled');\n    }\n\n    if (this.#parsingError) {\n      const fileName = this.#uiSourceCode?.name() || '.headers';\n      // clang-format off\n      Lit.render(html`\n        <style>${headersViewStyles}</style>\n        <div class=\"center-wrapper\">\n          <div class=\"centered\">\n            <div class=\"error-header\">${i18nString(UIStrings.errorWhenParsing, {PH1: fileName})}</div>\n            <div class=\"error-body\">${i18nString(UIStrings.parsingErrorExplainer, {PH1: fileName})}</div>\n          </div>\n        </div>\n      `, this.#shadow, {host: this});\n      // clang-format on\n      return;\n    }\n\n    // clang-format off\n    Lit.render(html`\n      <style>${headersViewStyles}</style>\n      ${this.#headerOverrides.map((headerOverride, blockIndex) =>\n        html`\n          ${this.#renderApplyToRow(headerOverride.applyTo, blockIndex)}\n          ${headerOverride.headers.map((header, headerIndex) =>\n            html`\n              ${this.#renderHeaderRow(header, blockIndex, headerIndex)}\n            `,\n          )}\n        `,\n      )}\n      <devtools-button\n          .variant=${Buttons.Button.Variant.OUTLINED}\n          .jslogContext=${'headers-view.add-override-rule'}\n          class=\"add-block\">\n        ${i18nString(UIStrings.addOverrideRule)}\n      </devtools-button>\n      <div class=\"learn-more-row\">\n        <x-link\n            href=\"https://goo.gle/devtools-override\"\n            class=\"link\"\n            jslog=${VisualLogging.link('learn-more').track({click: true})}>${i18nString(UIStrings.learnMore)}</x-link>\n      </div>\n    `, this.#shadow, {host: this});\n    // clang-format on\n\n    if (this.#focusElement) {\n      let focusElement: Element|null = null;\n      if (this.#focusElement.headerIndex) {\n        focusElement = this.#shadow.querySelector(`[data-block-index=\"${\n            this.#focusElement.blockIndex}\"][data-header-index=\"${this.#focusElement.headerIndex}\"] .header-name`);\n      } else {\n        focusElement = this.#shadow.querySelector(`[data-block-index=\"${this.#focusElement.blockIndex}\"] .apply-to`);\n      }\n      if (focusElement) {\n        (focusElement as HTMLElement).focus();\n      }\n      this.#focusElement = null;\n    }\n  }\n\n  #renderApplyToRow(pattern: string, blockIndex: number): Lit.TemplateResult {\n    // clang-format off\n    return html`\n      <div class=\"row\" data-block-index=${blockIndex}\n           jslog=${VisualLogging.treeItem(pattern === '*' ? pattern : undefined)}>\n        <div>${i18n.i18n.lockedString('Apply to')}</div>\n        <div class=\"separator\">:</div>\n        ${this.#renderEditable(pattern, 'apply-to')}\n        <devtools-button\n        title=${i18nString(UIStrings.removeBlock)}\n        .size=${Buttons.Button.Size.SMALL}\n        .iconName=${'bin'}\n        .iconWidth=${'14px'}\n        .iconHeight=${'14px'}\n        .variant=${Buttons.Button.Variant.ICON}\n        .jslogContext=${'headers-view.remove-apply-to-section'}\n        class=\"remove-block inline-button\"\n      ></devtools-button>\n      </div>\n    `;\n    // clang-format on\n  }\n\n  #renderHeaderRow(header: Protocol.Fetch.HeaderEntry, blockIndex: number, headerIndex: number): Lit.TemplateResult {\n    // clang-format off\n    return html`\n      <div class=\"row padded\" data-block-index=${blockIndex} data-header-index=${headerIndex}\n           jslog=${VisualLogging.treeItem(header.name).parent('headers-editor-row-parent')}>\n        ${this.#renderEditable(header.name, 'header-name red', true)}\n        <div class=\"separator\">:</div>\n        ${this.#renderEditable(header.value, 'header-value')}\n        <devtools-button\n          title=${i18nString(UIStrings.addHeader)}\n          .size=${Buttons.Button.Size.SMALL}\n          .iconName=${'plus'}\n          .variant=${Buttons.Button.Variant.ICON}\n          .jslogContext=${'headers-view.add-header'}\n          class=\"add-header inline-button\"\n        ></devtools-button>\n        <devtools-button\n          title=${i18nString(UIStrings.removeHeader)}\n          .size=${Buttons.Button.Size.SMALL}\n          .iconName=${'bin'}\n          .variant=${Buttons.Button.Variant.ICON}\n          ?hidden=${!this.#isDeletable(blockIndex, headerIndex)}\n          .jslogContext=${'headers-view.remove-header'}\n          class=\"remove-header inline-button\"\n        ></devtools-button>\n      </div>\n    `;\n    // clang-format on\n  }\n\n  #renderEditable(value: string, className?: string, isKey?: boolean): Lit.TemplateResult {\n    // This uses Lit's `live`-directive, so that when checking whether to\n    // update during re-render, `value` is compared against the actual live DOM\n    // value of the contenteditable element and not the potentially outdated\n    // value from the previous render.\n    // clang-format off\n    const jslog = isKey ? VisualLogging.key() : VisualLogging.value();\n    return html`<span jslog=${jslog.track({change: true, keydown: 'Enter|Escape|Tab', click: true})}\n                              contenteditable=\"true\"\n                              class=\"editable ${className}\"\n                              tabindex=\"0\"\n                              .innerText=${Lit.Directives.live(value)}></span>`;\n    // clang-format on\n  }\n}\n\nVisualLogging.registerParentProvider('headers-editor-row-parent', (e: Element) => {\n  while (e.previousElementSibling?.classList?.contains('padded')) {\n    e = e.previousElementSibling;\n  }\n  return e.previousElementSibling || undefined;\n});\n\ncustomElements.define('devtools-sources-headers-view', HeadersViewComponent);\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    'devtools-sources-headers-view': HeadersViewComponent;\n  }\n}\n"]}