{"version":3,"file":"ActiveFilters.js","sourceRoot":"","sources":["../../../../../../front_end/panels/timeline/ActiveFilters.ts"],"names":[],"mappings":"AAKA,IAAI,QAAQ,GAAuB,IAAI,CAAC;AACxC;;;GAGG;AACH,MAAM,OAAO,aAAa;IACxB,MAAM,CAAC,QAAQ,CAAC,OAEZ,EAAC,QAAQ,EAAE,IAAI,EAAC;QAClB,MAAM,QAAQ,GAAG,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;QACxC,IAAI,CAAC,QAAQ,IAAI,QAAQ,EAAE,CAAC;YAC1B,QAAQ,GAAG,IAAI,aAAa,EAAE,CAAC;QACjC,CAAC;QACD,OAAO,QAAQ,CAAC;IAClB,CAAC;IAED,MAAM,CAAC,cAAc;QACnB,QAAQ,GAAG,IAAI,CAAC;IAClB,CAAC;IAED,cAAc,GAA2C,EAAE,CAAC;IAE5D,aAAa;QACX,OAAO,IAAI,CAAC,cAAc,CAAC;IAC7B,CAAC;IAED,UAAU,CAAC,UAAkD;QAC3D,IAAI,CAAC,cAAc,GAAG,UAAU,CAAC;IACnC,CAAC;IAED,SAAS,CAAC,KAA+B;QACvC,OAAO,IAAI,CAAC,cAAc,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC;IACzD,CAAC;CACF","sourcesContent":["// Copyright 2023 The Chromium Authors\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\nimport type * as Trace from '../../models/trace/trace.js';\n\nlet instance: ActiveFilters|null = null;\n/**\n * Singleton class that contains the set of active filters for the given trace\n * file.\n */\nexport class ActiveFilters {\n  static instance(opts: {\n    forceNew: boolean|null,\n  } = {forceNew: null}): ActiveFilters {\n    const forceNew = Boolean(opts.forceNew);\n    if (!instance || forceNew) {\n      instance = new ActiveFilters();\n    }\n    return instance;\n  }\n\n  static removeInstance(): void {\n    instance = null;\n  }\n\n  #activeFilters: Trace.Extras.TraceFilter.TraceFilter[] = [];\n\n  activeFilters(): readonly Trace.Extras.TraceFilter.TraceFilter[] {\n    return this.#activeFilters;\n  }\n\n  setFilters(newFilters: Trace.Extras.TraceFilter.TraceFilter[]): void {\n    this.#activeFilters = newFilters;\n  }\n\n  isVisible(event: Trace.Types.Events.Event): boolean {\n    return this.#activeFilters.every(f => f.accept(event));\n  }\n}\n"]}