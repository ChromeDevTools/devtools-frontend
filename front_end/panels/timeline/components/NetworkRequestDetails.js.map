{"version":3,"file":"NetworkRequestDetails.js","sourceRoot":"","sources":["../../../../../../../front_end/panels/timeline/components/NetworkRequestDetails.ts"],"names":[],"mappings":"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","sourcesContent":["// Copyright 2024 The Chromium Authors\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\nimport '../../../ui/components/request_link_icon/request_link_icon.js';\n\nimport * as i18n from '../../../core/i18n/i18n.js';\nimport type * as Platform from '../../../core/platform/platform.js';\nimport * as SDK from '../../../core/sdk/sdk.js';\nimport * as Helpers from '../../../models/trace/helpers/helpers.js';\nimport * as Trace from '../../../models/trace/trace.js';\nimport * as LegacyComponents from '../../../ui/legacy/components/utils/utils.js';\nimport * as UI from '../../../ui/legacy/legacy.js';\nimport * as Lit from '../../../ui/lit/lit.js';\n\nimport networkRequestDetailsStyles from './networkRequestDetails.css.js';\nimport networkRequestTooltipStyles from './networkRequestTooltip.css.js';\nimport {NetworkRequestTooltip} from './NetworkRequestTooltip.js';\nimport {colorForNetworkRequest} from './Utils.js';\n\nconst {html, render} = Lit;\n\nconst MAX_URL_LENGTH = 100;\n\nconst UIStrings = {\n  /**\n   * @description Text that refers to the network request method\n   */\n  requestMethod: 'Request method',\n  /**\n   * @description Text that refers to the network request protocol\n   */\n  protocol: 'Protocol',\n  /**\n   * @description Text to show the priority of an item\n   */\n  priority: 'Priority',\n  /**\n   * @description Text used when referring to the data sent in a network request that is encoded as a particular file format.\n   */\n  encodedData: 'Encoded data',\n  /**\n   * @description Text used to refer to the data sent in a network request that has been decoded.\n   */\n  decodedBody: 'Decoded body',\n  /**\n   * @description Text in Timeline indicating that input has happened recently\n   */\n  yes: 'Yes',\n  /**\n   * @description Text in Timeline indicating that input has not happened recently\n   */\n  no: 'No',\n  /**\n   * @description Text to indicate to the user they are viewing an event representing a network request.\n   */\n  networkRequest: 'Network request',\n  /**\n   * @description Text for the data source of a network request.\n   */\n  fromCache: 'From cache',\n  /**\n   * @description Text used to show the mime-type of the data transferred with a network request (e.g. \"application/json\").\n   */\n  mimeType: 'MIME type',\n  /**\n   * @description Text used to show the user that a request was served from the browser's in-memory cache.\n   */\n  FromMemoryCache: ' (from memory cache)',\n  /**\n   * @description Text used to show the user that a request was served from the browser's file cache.\n   */\n  FromCache: ' (from cache)',\n  /**\n   * @description Label for a network request indicating that it was a HTTP2 server push instead of a regular network request, in the Performance panel\n   */\n  FromPush: ' (from push)',\n  /**\n   * @description Text used to show a user that a request was served from an installed, active service worker.\n   */\n  FromServiceWorker: ' (from `service worker`)',\n  /**\n   * @description Text for the event initiated by another one\n   */\n  initiatedBy: 'Initiated by',\n  /**\n   * @description Text that refers to if the network request is blocking\n   */\n  blocking: 'Blocking',\n  /**\n   * @description Text that refers to if the network request is in-body parser render blocking\n   */\n  inBodyParserBlocking: 'In-body parser blocking',\n  /**\n   * @description Text that refers to if the network request is render blocking\n   */\n  renderBlocking: 'Render blocking',\n  /**\n   * @description Text to refer to a 3rd Party entity.\n   */\n  entity: '3rd party',\n  /**\n   * @description Label for a column containing the names of timings (performance metric) taken in the server side application.\n   */\n  serverTiming: 'Server timing',\n  /**\n   * @description Label for a column containing the values of timings (performance metric) taken in the server side application.\n   */\n  time: 'Time',\n  /**\n   * @description Label for a column containing the description of timings (performance metric) taken in the server side application.\n   */\n  description: 'Description',\n} as const;\nconst str_ = i18n.i18n.registerUIStrings('panels/timeline/components/NetworkRequestDetails.ts', UIStrings);\nconst i18nString = i18n.i18n.getLocalizedString.bind(undefined, str_);\n\nexport class NetworkRequestDetails extends UI.Widget.Widget {\n  #view: typeof DEFAULT_VIEW;\n  #request: Trace.Types.Events.SyntheticNetworkRequest|null = null;\n  #requestPreviewElements = new WeakMap<Trace.Types.Events.SyntheticNetworkRequest, HTMLElement>();\n  #entityMapper: Trace.EntityMapper.EntityMapper|null = null;\n  #target: SDK.Target.Target|null = null;\n  #linkifier: LegacyComponents.Linkifier.Linkifier|null = null;\n  #serverTimings: SDK.ServerTiming.ServerTiming[]|null = null;\n  #parsedTrace: Trace.TraceModel.ParsedTrace|null = null;\n\n  constructor(element?: HTMLElement, view = DEFAULT_VIEW) {\n    super(element);\n    this.#view = view;\n    this.requestUpdate();\n  }\n\n  set linkifier(linkifier: LegacyComponents.Linkifier.Linkifier|null) {\n    this.#linkifier = linkifier;\n    this.requestUpdate();\n  }\n\n  set parsedTrace(parsedTrace: Trace.TraceModel.ParsedTrace|null) {\n    this.#parsedTrace = parsedTrace;\n    this.requestUpdate();\n  }\n\n  set target(maybeTarget: SDK.Target.Target|null) {\n    this.#target = maybeTarget;\n    this.requestUpdate();\n  }\n\n  set request(event: Trace.Types.Events.SyntheticNetworkRequest) {\n    this.#request = event;\n\n    for (const header of event.args.data.responseHeaders ?? []) {\n      const headerName = header.name.toLocaleLowerCase();\n      // Some popular hosting providers like vercel or render get rid of\n      // Server-Timing headers added by users, so as a workaround we\n      // also support server timing headers with the `-test` suffix\n      // while this feature is experimental, to enable easier trials.\n      if (headerName === 'server-timing' || headerName === 'server-timing-test') {\n        header.name = 'server-timing';\n        this.#serverTimings = SDK.ServerTiming.ServerTiming.parseHeaders([header]);\n        break;\n      }\n    }\n    this.requestUpdate();\n  }\n\n  set entityMapper(mapper: Trace.EntityMapper.EntityMapper|null) {\n    this.#entityMapper = mapper;\n    this.requestUpdate();\n  }\n\n  override performUpdate(): Promise<void>|void {\n    this.#view(\n        {\n          request: this.#request,\n          previewElementsCache: this.#requestPreviewElements,\n          target: this.#target,\n          entityMapper: this.#entityMapper,\n          serverTimings: this.#serverTimings,\n          linkifier: this.#linkifier,\n          parsedTrace: this.#parsedTrace,\n        },\n        {}, this.contentElement);\n  }\n}\n\nexport interface ViewInput {\n  request: Trace.Types.Events.SyntheticNetworkRequest|null;\n  target: SDK.Target.Target|null;\n  previewElementsCache: WeakMap<Trace.Types.Events.SyntheticNetworkRequest, HTMLElement>;\n  entityMapper: Trace.EntityMapper.EntityMapper|null;\n  serverTimings: SDK.ServerTiming.ServerTiming[]|null;\n  linkifier: LegacyComponents.Linkifier.Linkifier|null;\n  parsedTrace: Trace.TraceModel.ParsedTrace|null;\n}\n\nexport const DEFAULT_VIEW: (\n    input: ViewInput, output: object, target: HTMLElement) => void = (input, _output, target) => {\n  if (!input.request) {\n    render(Lit.nothing, target);\n    return;\n  }\n  const {request} = input;\n  const {data} = request.args;\n\n  const redirectsHtml = NetworkRequestTooltip.renderRedirects(request);\n  // clang-format off\n      render(html`\n        <style>${networkRequestDetailsStyles}</style>\n        <style>${networkRequestTooltipStyles}</style>\n\n        <div class=\"network-request-details-content\">\n          ${renderTitle(input.request)}\n          ${renderURL(input.request)}\n          <div class=\"network-request-details-cols\">\n            ${Lit.Directives.until(renderPreviewElement(\n              input.request,\n              input.target,\n              input.previewElementsCache,\n            ))}\n            <div class=\"network-request-details-col\">\n              ${renderRow(i18nString(UIStrings.requestMethod), data.requestMethod)}\n              ${renderRow(i18nString(UIStrings.protocol), data.protocol)}\n              ${renderRow(i18nString(UIStrings.priority), NetworkRequestTooltip.renderPriorityValue(request))}\n              ${renderRow(i18nString(UIStrings.mimeType), data.mimeType)}\n              ${renderEncodedDataLength(request)}\n              ${renderRow(i18nString(UIStrings.decodedBody), i18n.ByteUtilities.bytesToString(request.args.data.decodedBodyLength))}\n              ${renderBlockingRow(request)}\n              ${renderFromCache(request)}\n              ${renderThirdPartyEntity(request, input.entityMapper)}\n            </div>\n            <div class=\"column-divider\"></div>\n            <div class=\"network-request-details-col\">\n              <div class=\"timing-rows\">\n                ${NetworkRequestTooltip.renderTimings(request)}\n              </div>\n            </div>\n            ${renderServerTimings(input.serverTimings)}\n            ${redirectsHtml ? html `\n              <div class=\"column-divider\"></div>\n              <div class=\"network-request-details-col redirect-details\">\n                ${redirectsHtml}\n              </div>\n            ` : Lit.nothing}\n            </div>\n            ${renderInitiatedBy(request, input.parsedTrace, input.target, input.linkifier)}\n          </div>\n        </div>\n     `, target);\n  // clang-format on\n};\n\nfunction renderTitle(request: Trace.Types.Events.SyntheticNetworkRequest): Lit.TemplateResult {\n  const style = {\n    backgroundColor: `${colorForNetworkRequest(request)}`,\n  };\n\n  return html`\n    <div class=\"network-request-details-title\">\n      <div style=${Lit.Directives.styleMap(style)}></div>\n      ${i18nString(UIStrings.networkRequest)}\n    </div>\n  `;\n}\n\nfunction renderURL(request: Trace.Types.Events.SyntheticNetworkRequest): Lit.TemplateResult {\n  const options: LegacyComponents.Linkifier.LinkifyURLOptions = {\n    tabStop: true,\n    showColumnNumber: false,\n    inlineFrameIndex: 0,\n    maxLength: MAX_URL_LENGTH,\n  };\n  const linkifiedURL = LegacyComponents.Linkifier.Linkifier.linkifyURL(\n      request.args.data.url as Platform.DevToolsPath.UrlString, options);\n\n  // Potentially link to request within Network Panel\n  const networkRequest = SDK.TraceObject.RevealableNetworkRequest.create(request);\n  if (networkRequest) {\n    linkifiedURL.addEventListener('contextmenu', (event: MouseEvent) => {\n      const contextMenu = new UI.ContextMenu.ContextMenu(event);\n      contextMenu.appendApplicableItems(networkRequest);\n      void contextMenu.show();\n    });\n\n    // clang-format off\n      const urlElement = html`\n        ${linkifiedURL}\n        <devtools-request-link-icon .data=${{request: networkRequest.networkRequest}}>\n        </devtools-request-link-icon>\n      `;\n    // clang-format on\n    return html`<div class=\"network-request-details-item\">${urlElement}</div>`;\n  }\n\n  return html`<div class=\"network-request-details-item\">${linkifiedURL}</div>`;\n}\n\nasync function renderPreviewElement(\n    request: Trace.Types.Events.SyntheticNetworkRequest, target: SDK.Target.Target|null,\n    previewElementsCache: WeakMap<Trace.Types.Events.SyntheticNetworkRequest, HTMLElement>): Promise<Lit.LitTemplate> {\n  if (!request.args.data.url || !target) {\n    return Lit.nothing;\n  }\n\n  const url = request.args.data.url as Platform.DevToolsPath.UrlString;\n\n  if (!previewElementsCache.get(request)) {\n    const previewOpts = {\n      imageAltText:\n          LegacyComponents.ImagePreview.ImagePreview.defaultAltTextForImageURL(url as Platform.DevToolsPath.UrlString),\n      precomputedFeatures: undefined,\n      align: LegacyComponents.ImagePreview.Align.START,\n      hideFileData: true,\n    };\n\n    const previewElement = await LegacyComponents.ImagePreview.ImagePreview.build(\n        url as Platform.DevToolsPath.UrlString, false, previewOpts);\n    if (previewElement) {\n      previewElementsCache.set(request, previewElement);\n    }\n  }\n\n  const requestPreviewElement = previewElementsCache.get(request);\n  if (requestPreviewElement) {\n    // clang-format off\n    return html`\n      <div class=\"network-request-details-col\">${requestPreviewElement}</div>\n      <div class=\"column-divider\"></div>`;\n    // clang-format on\n  }\n  return Lit.nothing;\n}\n\nfunction renderRow(title: string, value?: string|Node|Lit.TemplateResult): Lit.LitTemplate {\n  if (!value) {\n    return Lit.nothing;\n  }\n  // clang-format off\n    return html`\n      <div class=\"network-request-details-row\">\n        <div class=\"title\">${title}</div>\n        <div class=\"value\">${value}</div>\n      </div>`;\n  // clang-format on\n}\n\nfunction renderEncodedDataLength(request: Trace.Types.Events.SyntheticNetworkRequest): Lit.LitTemplate {\n  let lengthText = '';\n  if (request.args.data.syntheticData.isMemoryCached) {\n    lengthText += i18nString(UIStrings.FromMemoryCache);\n  } else if (request.args.data.syntheticData.isDiskCached) {\n    lengthText += i18nString(UIStrings.FromCache);\n  } else if (request.args.data.timing?.pushStart) {\n    lengthText += i18nString(UIStrings.FromPush);\n  }\n  if (request.args.data.fromServiceWorker) {\n    lengthText += i18nString(UIStrings.FromServiceWorker);\n  }\n  if (request.args.data.encodedDataLength || !lengthText) {\n    lengthText = `${i18n.ByteUtilities.bytesToString(request.args.data.encodedDataLength)}${lengthText}`;\n  }\n  return renderRow(i18nString(UIStrings.encodedData), lengthText);\n}\n\nfunction renderBlockingRow(request: Trace.Types.Events.SyntheticNetworkRequest): Lit.LitTemplate {\n  if (!Helpers.Network.isSyntheticNetworkRequestEventRenderBlocking(request)) {\n    return Lit.nothing;\n  }\n\n  let renderBlockingText;\n  switch (request.args.data.renderBlocking) {\n    case 'blocking':\n      renderBlockingText = UIStrings.renderBlocking;\n      break;\n    case 'in_body_parser_blocking':\n      renderBlockingText = UIStrings.inBodyParserBlocking;\n      break;\n    default:\n      // Shouldn't fall to this block, if so, this network request is not\n      // render blocking, so return null.\n      return Lit.nothing;\n  }\n  return renderRow(i18nString(UIStrings.blocking), renderBlockingText);\n}\n\nfunction renderFromCache(\n    request: Trace.Types.Events.SyntheticNetworkRequest,\n    ): Lit.LitTemplate {\n  const cached = request.args.data.syntheticData.isMemoryCached || request.args.data.syntheticData.isDiskCached;\n  return renderRow(i18nString(UIStrings.fromCache), cached ? i18nString(UIStrings.yes) : i18nString(UIStrings.no));\n}\n\nfunction renderThirdPartyEntity(\n    request: Trace.Types.Events.SyntheticNetworkRequest,\n    entityMapper: Trace.EntityMapper.EntityMapper|null): Lit.LitTemplate {\n  if (!entityMapper) {\n    return Lit.nothing;\n  }\n  const entity = entityMapper.entityForEvent(request);\n  if (!entity) {\n    return Lit.nothing;\n  }\n  return renderRow(i18nString(UIStrings.entity), entity.name);\n}\n\nfunction renderServerTimings(timings: SDK.ServerTiming.ServerTiming[]|null): Lit.LitTemplate[]|Lit.LitTemplate {\n  if (!timings || timings.length === 0) {\n    return Lit.nothing;\n  }\n  // clang-format off\n  return html`\n    <div class=\"column-divider\"></div>\n    <div class=\"network-request-details-col server-timings\">\n      <div class=\"server-timing-column-header\">${i18nString(UIStrings.serverTiming)}</div>\n      <div class=\"server-timing-column-header\">${i18nString(UIStrings.description)}</div>\n      <div class=\"server-timing-column-header\">${i18nString(UIStrings.time)}</div>\n      ${timings.map(timing => {\n        const classes = timing.metric.startsWith('(c') ? 'synthetic value' : 'value';\n        return html`\n          <div class=${classes}>${timing.metric || '-'}</div>\n          <div class=${classes}>${timing.description || '-'}</div>\n          <div class=${classes}>${timing.value || '-'}</div>\n        `;\n      })}\n    </div>`;\n  // clang-format on\n}\nfunction renderInitiatedBy(\n    request: Trace.Types.Events.SyntheticNetworkRequest,\n    parsedTrace: Trace.TraceModel.ParsedTrace|null,\n    target: SDK.Target.Target|null,\n    linkifier: LegacyComponents.Linkifier.Linkifier|null,\n    ): Lit.LitTemplate {\n  if (!linkifier) {\n    return Lit.nothing;\n  }\n\n  const hasStackTrace = Trace.Helpers.Trace.stackTraceInEvent(request) !== null;\n  let link: HTMLElement|null = null;\n  const options: LegacyComponents.Linkifier.LinkifyOptions = {\n    tabStop: true,\n    showColumnNumber: true,\n    inlineFrameIndex: 0,\n  };\n  // If we have a stack trace, that is the most reliable way to get the initiator data and display a link to the source.\n  if (hasStackTrace) {\n    const topFrame = Trace.Helpers.Trace.getStackTraceTopCallFrameInEventPayload(request) ?? null;\n    if (topFrame) {\n      link = linkifier.maybeLinkifyConsoleCallFrame(target, topFrame, options);\n    }\n  }\n  // If we do not, we can see if the network handler found an initiator and try to link by URL\n  const initiator = parsedTrace?.data.NetworkRequests.eventToInitiator.get(request);\n  if (initiator) {\n    link = linkifier.maybeLinkifyScriptLocation(\n        target,\n        null,  // this would be the scriptId, but we don't have one. The linkifier will fallback to using the URL.\n        initiator.args.data.url as Platform.DevToolsPath.UrlString,\n        undefined,  // line number\n        options);\n  }\n\n  if (!link) {\n    return Lit.nothing;\n  }\n\n  // clang-format off\n    return html`\n      <div class=\"network-request-details-item\">\n        <div class=\"title\">${i18nString(UIStrings.initiatedBy)}</div>\n        <div class=\"value focusable-outline\">${link}</div>\n      </div>`;\n  // clang-format on\n}\n"]}