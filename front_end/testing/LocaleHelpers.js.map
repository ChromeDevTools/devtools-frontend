{"version":3,"file":"LocaleHelpers.js","sourceRoot":"","sources":["../../../../../front_end/testing/LocaleHelpers.ts"],"names":[],"mappings":"AAAA,sCAAsC;AACtC,yEAAyE;AACzE,6BAA6B;AAE7B,OAAO,KAAK,IAAI,MAAM,sBAAsB,CAAC;AAC7C,uDAAuD;AACvD,wDAAwD;AACxD,OAAO,cAAc,MAAM,iCAAiC,CAAC,OAAM,IAAI,EAAG,MAAM,EAAC,CAAC;AAElF,MAAM,CAAC,KAAK,UAAU,0BAA0B;IAC9C,qBAAqB;IACrB,IAAI,CAAC,cAAc,CAAC,cAAc,CAAC,QAAQ,CAAC;QAC1C,MAAM,EAAE,IAAI;QACZ,IAAI,EAAE;YACJ,iBAAiB,EAAE,OAAO;YAC1B,eAAe,EAAE,OAAO;YACxB,2BAA2B,EAAE,GAAG,EAAE,CAAC,OAAO;SAC3C;KACF,CAAC,CAAC;IAEH,IAAI,IAAI,CAAC,IAAI,CAAC,oBAAoB,CAAC,OAAO,CAAC,EAAE,CAAC;QAC5C,OAAO;IACT,CAAC;IAED,IAAI,CAAC,IAAI,CAAC,yBAAyB,CAAC,OAAO,EAAE,cAAc,CAAC,CAAC;AAC/D,CAAC;AAED,MAAM,UAAU,4BAA4B;IAC1C,IAAI,CAAC,cAAc,CAAC,cAAc,CAAC,cAAc,EAAE,CAAC;AACtD,CAAC;AAED,MAAM,UAAU,kBAAkB,CAAC,KAAa,EAAE,EAA+B;IAC/E,OAAO,QAAQ,CAAC,KAAK,EAAE;QACrB,MAAM,CAAC,KAAK,IAAI,EAAE,CAAC,MAAM,0BAA0B,EAAE,CAAC,CAAC;QACvD,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QACd,KAAK,CAAC,4BAA4B,CAAC,CAAC;IACtC,CAAC,CAAC,CAAC;AACL,CAAC;AACD,kBAAkB,CAAC,IAAI,GAAG,UAAS,KAAa,EAAE,EAA+B;IAC/E,oDAAoD;IACpD,OAAO,QAAQ,CAAC,IAAI,CAAC,KAAK,EAAE;QAC1B,MAAM,CAAC,KAAK,IAAI,EAAE,CAAC,MAAM,0BAA0B,EAAE,CAAC,CAAC;QACvD,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QACd,KAAK,CAAC,4BAA4B,CAAC,CAAC;IACtC,CAAC,CAAC,CAAC;AACL,CAAC,CAAC;AACF,kBAAkB,CAAC,IAAI,GAAG,UAAS,KAAa,EAAE,EAA+B;IAC/E,4DAA4D;IAC5D,OAAO,QAAQ,CAAC,IAAI,CAAC,KAAK,EAAE;QAC1B,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IAChB,CAAC,CAAC,CAAC;AACL,CAAC,CAAC","sourcesContent":["// Copyright 2025 The Chromium Authors\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\nimport * as i18n from '../core/i18n/i18n.js';\n// @ts-expect-error tsc doesn't like import assertions.\n// eslint-disable-next-line  @devtools/es-modules-import\nimport EnUsLocaleData from '../core/i18n/locales/en-US.json' with {type : 'json'};\n\nexport async function initializeGlobalLocaleVars() {\n  // Expose the locale.\n  i18n.DevToolsLocale.DevToolsLocale.instance({\n    create: true,\n    data: {\n      navigatorLanguage: 'en-US',\n      settingLanguage: 'en-US',\n      lookupClosestDevToolsLocale: () => 'en-US',\n    },\n  });\n\n  if (i18n.i18n.hasLocaleDataForTest('en-US')) {\n    return;\n  }\n\n  i18n.i18n.registerLocaleDataForTest('en-US', EnUsLocaleData);\n}\n\nexport function deinitializeGlobalLocaleVars() {\n  i18n.DevToolsLocale.DevToolsLocale.removeInstance();\n}\n\nexport function describeWithLocale(title: string, fn: (this: Mocha.Suite) => void) {\n  return describe(title, function() {\n    before(async () => await initializeGlobalLocaleVars());\n    fn.call(this);\n    after(deinitializeGlobalLocaleVars);\n  });\n}\ndescribeWithLocale.only = function(title: string, fn: (this: Mocha.Suite) => void) {\n  // eslint-disable-next-line mocha/no-exclusive-tests\n  return describe.only(title, function() {\n    before(async () => await initializeGlobalLocaleVars());\n    fn.call(this);\n    after(deinitializeGlobalLocaleVars);\n  });\n};\ndescribeWithLocale.skip = function(title: string, fn: (this: Mocha.Suite) => void) {\n  // eslint-disable-next-line @devtools/check-test-definitions\n  return describe.skip(title, function() {\n    fn.call(this);\n  });\n};\n"]}