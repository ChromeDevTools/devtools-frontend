{"version":3,"file":"Adorner.js","sourceRoot":"","sources":["../../../../../../../front_end/ui/components/adorners/Adorner.ts"],"names":[],"mappings":"AAAA,sCAAsC;AACtC,yEAAyE;AACzE,6BAA6B;AAC7B,mHAAmH;AAEnH,OAAO,EAAC,IAAI,EAAE,MAAM,EAAC,MAAM,wBAAwB,CAAC;AACpD,OAAO,KAAK,EAAE,MAAM,wBAAwB,CAAC;AAE7C,OAAO,aAAa,MAAM,kBAAkB,CAAC;AAQ7C;;;GAGG;AACH,MAAM,OAAO,OAAQ,SAAQ,WAAW;IACtC,IAAI,GAAG,EAAE,CAAC;IAED,OAAO,GAAG,IAAI,CAAC,YAAY,CAAC,EAAC,IAAI,EAAE,MAAM,EAAC,CAAC,CAAC;IAErD,SAAS,GAAG,KAAK,CAAC;IAET,SAAS,CAAC,IAAc;QAC/B,MAAM,IAAI,GAAG,EAAE,CAAC,OAAO,CAAC,kBAAkB,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;QACvD,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC;QACtB,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC;QAChC,OAAO,IAAI,CAAC;IACd,CAAC;IAED,iBAAiB;QACf,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,YAAY,CAAC,EAAE,CAAC;YACrC,IAAI,CAAC,YAAY,CAAC,YAAY,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC;QAC7C,CAAC;QACD,IAAI,CAAC,OAAO,EAAE,CAAC;IACjB,CAAC;IAED,MAAM,CAAU,kBAAkB,GAAG,CAAC,QAAQ,EAAE,YAAY,CAAC,CAAC;IAC9D,wBAAwB,CAAC,IAAY,EAAE,QAAgB,EAAE,QAAgB;QACvE,IAAI,QAAQ,KAAK,QAAQ,EAAE,CAAC;YAC1B,OAAO;QACT,CAAC;QAED,QAAQ,IAAI,EAAE,CAAC;YACb,KAAK,QAAQ;gBACX,IAAI,CAAC,OAAO,CAAC,QAAQ,KAAK,MAAM,CAAC,CAAC;gBAClC,MAAM;YACR,KAAK,YAAY;gBACf,IAAI,CAAC,SAAS,GAAG,QAAQ,KAAK,MAAM,CAAC;gBACrC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,KAAK,MAAM,CAAC,CAAC;gBACrD,MAAM;QACV,CAAC;IACH,CAAC;IAED,QAAQ;QACN,OAAO,IAAI,CAAC,YAAY,CAAC,cAAc,CAAC,KAAK,MAAM,CAAC;IACtD,CAAC;IAED;;;OAGG;IACH,OAAO,CAAC,gBAA0B;QAChC,IAAI,CAAC,IAAI,CAAC,SAAS,EAAE,CAAC;YACpB,OAAO;QACT,CAAC;QACD,MAAM,kBAAkB,GAAG,gBAAgB,KAAK,SAAS,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,QAAQ,EAAE,CAAC,CAAC,CAAC,gBAAgB,CAAC;QAChG,IAAI,CAAC,YAAY,CAAC,MAAM,EAAE,QAAQ,CAAC,CAAC;QACpC,IAAI,CAAC,YAAY,CAAC,cAAc,EAAE,OAAO,CAAC,kBAAkB,CAAC,CAAC,QAAQ,EAAE,CAAC,CAAC;IAC5E,CAAC;IAED,IAAI;QACF,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC;IAClC,CAAC;IAED,IAAI;QACF,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;IAC/B,CAAC;IAED,OAAO;QACL,MAAM,CAAC,IAAI,CAAA,UAAU,aAAa,uBAAuB,EAAE,IAAI,CAAC,OAAO,EAAE,EAAC,IAAI,EAAE,IAAI,EAAC,CAAC,CAAC;IACzF,CAAC;;AAGH,cAAc,CAAC,MAAM,CAAC,kBAAkB,EAAE,OAAO,CAAC,CAAC","sourcesContent":["// Copyright 2020 The Chromium Authors\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n/* eslint-disable @devtools/no-lit-render-outside-of-view, @devtools/enforce-custom-element-definitions-location */\n\nimport {html, render} from '../../../ui/lit/lit.js';\nimport * as UI from '../../legacy/legacy.js';\n\nimport adornerStyles from './adorner.css.js';\n\nexport interface AdornerData {\n  name: string;\n  content?: HTMLElement;\n  jslogContext?: string;\n}\n\n/**\n * @deprecated Do not add new usages. The custom component will be removed an\n * embedded into the corresponding views.\n */\nexport class Adorner extends HTMLElement {\n  name = '';\n\n  readonly #shadow = this.attachShadow({mode: 'open'});\n\n  #isToggle = false;\n\n  override cloneNode(deep?: boolean): Node {\n    const node = UI.UIUtils.cloneCustomElement(this, deep);\n    node.name = this.name;\n    node.#isToggle = this.#isToggle;\n    return node;\n  }\n\n  connectedCallback(): void {\n    if (!this.getAttribute('aria-label')) {\n      this.setAttribute('aria-label', this.name);\n    }\n    this.#render();\n  }\n\n  static readonly observedAttributes = ['active', 'toggleable'];\n  attributeChangedCallback(name: string, oldValue: string, newValue: string): void {\n    if (oldValue === newValue) {\n      return;\n    }\n\n    switch (name) {\n      case 'active':\n        this.#toggle(newValue === 'true');\n        break;\n      case 'toggleable':\n        this.#isToggle = newValue === 'true';\n        this.#toggle(this.getAttribute('active') === 'true');\n        break;\n    }\n  }\n\n  isActive(): boolean {\n    return this.getAttribute('aria-pressed') === 'true';\n  }\n\n  /**\n   * Toggle the active state of the adorner. Optionally pass `true` to force-set\n   * an active state; pass `false` to force-set an inactive state.\n   */\n  #toggle(forceActiveState?: boolean): void {\n    if (!this.#isToggle) {\n      return;\n    }\n    const shouldBecomeActive = forceActiveState === undefined ? !this.isActive() : forceActiveState;\n    this.setAttribute('role', 'button');\n    this.setAttribute('aria-pressed', Boolean(shouldBecomeActive).toString());\n  }\n\n  show(): void {\n    this.classList.remove('hidden');\n  }\n\n  hide(): void {\n    this.classList.add('hidden');\n  }\n\n  #render(): void {\n    render(html`<style>${adornerStyles}</style><slot></slot>`, this.#shadow, {host: this});\n  }\n}\n\ncustomElements.define('devtools-adorner', Adorner);\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    'devtools-adorner': Adorner;\n  }\n}\n"]}