{"version":3,"file":"Dialog.js","sourceRoot":"","sources":["../../../../../../../front_end/ui/components/dialogs/Dialog.ts"],"names":[],"mappings":"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","sourcesContent":["// Copyright 2023 The Chromium Authors\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n/* eslint-disable @devtools/no-lit-render-outside-of-view, @devtools/enforce-custom-element-definitions-location */\n\nimport * as i18n from '../../../core/i18n/i18n.js';\nimport * as Platform from '../../../core/platform/platform.js';\nimport * as ComponentHelpers from '../../../ui/components/helpers/helpers.js';\nimport * as RenderCoordinator from '../../../ui/components/render_coordinator/render_coordinator.js';\nimport * as Lit from '../../../ui/lit/lit.js';\nimport * as VisualLogging from '../../../ui/visual_logging/visual_logging.js';\nimport * as UI from '../../legacy/legacy.js';\nimport * as Buttons from '../buttons/buttons.js';\n\nimport dialogStyles from './dialog.css.js';\n\nconst {html} = Lit;\n\nconst UIStrings = {\n\n  /**\n   * @description Title of close button for the shortcuts dialog.\n   */\n  close: 'Close',\n} as const;\n\nconst str_ = i18n.i18n.registerUIStrings('ui/components/dialogs/Dialog.ts', UIStrings);\nconst i18nString = i18n.i18n.getLocalizedString.bind(undefined, str_);\n\nconst IS_DIALOG_SUPPORTED = 'HTMLDialogElement' in globalThis;\n\n/**\n * Height in pixels of the dialog's connector. The connector is represented as\n * as a diamond and the height corresponds to half the height of the diamond.\n * (the visible height is only half of the diamond).\n **/\nexport const CONNECTOR_HEIGHT = 10;\nconst CONNECTOR_WIDTH = 2 * CONNECTOR_HEIGHT;\n\n// The offset used by the dialog's animation as it slides in when opened.\nconst DIALOG_ANIMATION_OFFSET = 20;\n\nexport const DIALOG_SIDE_PADDING = 5;\nexport const DIALOG_VERTICAL_PADDING = 3;\n\n/**\n * If the content of the dialog cannot be completely shown because otherwise\n * the dialog would overflow the window, the dialog's max width and height are\n * set such that the dialog remains inside the visible bounds. In this cases\n * some extra, determined by this constant, is added so that the dialog's borders\n * remain clearly visible. This constant accounts for the padding of the dialog's\n * content (20 px) and a 5px gap left on each extreme of the dialog from the viewport.\n **/\nexport const DIALOG_PADDING_FROM_WINDOW = 3 * CONNECTOR_HEIGHT;\ninterface DialogData {\n  /**\n   * Position or point the dialog is shown relative to.\n   * If the dialog instance will be shown as a modal, set\n   * this property to MODAL.\n   */\n  origin: DialogOrigin;\n  position: DialogVerticalPosition;\n  /**\n   * Horizontal alignment of the dialog with respect to its origin.\n   * Center by default.\n   */\n  horizontalAlignment: DialogHorizontalAlignment;\n  /**\n   * Optional function used to the determine the x coordinate of the connector's\n   * end (tip of the triangle), relative to the viewport. If not defined, the x\n   * coordinate of the origin's center is used instead.\n   */\n  getConnectorCustomXPosition: (() => number)|null;\n\n  /**\n   * Optional function called when the dialog is shown.\n   */\n  dialogShownCallback: (() => unknown)|null;\n\n  /**\n   * Whether the dialog is closed when the 'Escape' key is pressed. When true, the event is\n   * propagation is stopped.\n   */\n  closeOnESC: boolean;\n  /**\n   * Whether the dialog is closed when a scroll event is detected outside of the dialog's\n   * content. Defaults to true.\n   */\n  closeOnScroll: boolean;\n  /**\n   * Whether render a closed button, when it is clicked, close the dialog. Defaults to false.\n   */\n  closeButton: boolean;\n  /**\n   * The string used in the header row of the dialog.\n   */\n  dialogTitle: string;\n  /**\n   * Specifies a context for the visual element.\n   */\n  jslogContext: string;\n  /**\n   * By default the dialog will close if any mutations to the DOM outside of it\n   * are detected. By setting this selector, any mutations on elements that\n   * match the selector will not cause the dialog to close.\n   */\n  expectedMutationsSelector?: string;\n\n  /**\n   * The current state of the dialog (expanded or collapsed).\n   * Defaults to COLLAPSED.\n   */\n  state?: DialogState;\n}\n\ntype DialogAnchor = HTMLElement|DOMRect|DOMPoint;\n\nexport const MODAL = 'MODAL';\n\nexport type DialogOrigin = DialogAnchor|null|(() => DialogAnchor)|typeof MODAL;\nexport class Dialog extends HTMLElement {\n  readonly #shadow = this.attachShadow({mode: 'open'});\n  readonly #forceDialogCloseInDevToolsBound = this.#forceDialogCloseInDevToolsMutation.bind(this);\n  readonly #handleScrollAttemptBound = this.#handleScrollAttempt.bind(this);\n  readonly #props: DialogData = {\n    origin: MODAL,\n    position: DialogVerticalPosition.BOTTOM,\n    horizontalAlignment: DialogHorizontalAlignment.CENTER,\n    getConnectorCustomXPosition: null,\n    dialogShownCallback: null,\n    closeOnESC: true,\n    closeOnScroll: true,\n    closeButton: false,\n    dialogTitle: '',\n    jslogContext: '',\n    state: DialogState.EXPANDED,\n  };\n\n  #dialog: HTMLDialogElement|null = null;\n  #isPendingShowDialog = false;\n  #isPendingCloseDialog = false;\n  #hitArea = new DOMRect(0, 0, 0, 0);\n  #dialogClientRect = new DOMRect(0, 0, 0, 0);\n  #bestVerticalPosition: DialogVerticalPosition|null = null;\n  #bestHorizontalAlignment: DialogHorizontalAlignment|null = null;\n  readonly #devtoolsMutationObserver = new MutationObserver(mutations => {\n    if (this.#props.expectedMutationsSelector) {\n      const allExcluded = mutations.every(mutation => {\n        return mutation.target instanceof Element &&\n            mutation.target.matches(this.#props.expectedMutationsSelector ?? '');\n      });\n      if (allExcluded) {\n        return;\n      }\n    }\n    this.#forceDialogCloseInDevToolsBound();\n  });\n  readonly #dialogResizeObserver = new ResizeObserver(this.#updateDialogBounds.bind(this));\n  #devToolsBoundingElement = UI.UIUtils.getDevToolsBoundingElement();\n\n  // We bind here because we have to listen to keydowns on the entire window,\n  // not on the Dialog element itself. This is because if the user has the\n  // dialog open, but their focus is elsewhere, and they hit ESC, we should\n  // still close the dialog.\n  #onKeyDownBound = this.#onKeyDown.bind(this);\n\n  get origin(): DialogOrigin {\n    return this.#props.origin;\n  }\n\n  set origin(origin: DialogOrigin) {\n    this.#props.origin = origin;\n    this.#onStateChange();\n  }\n\n  set expectedMutationsSelector(mutationSelector: string) {\n    this.#props.expectedMutationsSelector = mutationSelector;\n  }\n\n  get expectedMutationsSelector(): string|undefined {\n    return this.#props.expectedMutationsSelector;\n  }\n\n  get position(): DialogVerticalPosition {\n    return this.#props.position;\n  }\n\n  set position(position: DialogVerticalPosition) {\n    this.#props.position = position;\n    this.#onStateChange();\n  }\n\n  get horizontalAlignment(): DialogHorizontalAlignment {\n    return this.#props.horizontalAlignment;\n  }\n\n  set horizontalAlignment(alignment: DialogHorizontalAlignment) {\n    this.#props.horizontalAlignment = alignment;\n    this.#onStateChange();\n  }\n\n  get bestVerticalPosition(): DialogVerticalPosition|null {\n    return this.#bestVerticalPosition;\n  }\n\n  get bestHorizontalAlignment(): DialogHorizontalAlignment|null {\n    return this.#bestHorizontalAlignment;\n  }\n  get getConnectorCustomXPosition(): (() => number)|null {\n    return this.#props.getConnectorCustomXPosition;\n  }\n\n  set getConnectorCustomXPosition(connectorXPosition: (() => number)|null) {\n    this.#props.getConnectorCustomXPosition = connectorXPosition;\n    this.#onStateChange();\n  }\n\n  get dialogShownCallback(): (() => unknown)|null {\n    return this.#props.dialogShownCallback;\n  }\n\n  get jslogContext(): string {\n    return this.#props.jslogContext;\n  }\n\n  set dialogShownCallback(dialogShownCallback: (() => unknown)|null) {\n    this.#props.dialogShownCallback = dialogShownCallback;\n    this.#onStateChange();\n  }\n\n  set closeOnESC(closeOnESC: boolean) {\n    this.#props.closeOnESC = closeOnESC;\n    this.#onStateChange();\n  }\n\n  set closeOnScroll(closeOnScroll: boolean) {\n    this.#props.closeOnScroll = closeOnScroll;\n    this.#onStateChange();\n  }\n\n  set closeButton(closeButton: boolean) {\n    this.#props.closeButton = closeButton;\n    this.#onStateChange();\n  }\n\n  set dialogTitle(dialogTitle: string) {\n    this.#props.dialogTitle = dialogTitle;\n    this.#onStateChange();\n  }\n\n  set jslogContext(jslogContext: string) {\n    this.#props.jslogContext = jslogContext;\n    this.#onStateChange();\n  }\n\n  set state(state: DialogState) {\n    this.#props.state = state;\n\n    // Handles teardown process in case dialog is collapsed or disabled\n    if (this.#props.state === DialogState.COLLAPSED || this.#props.state === DialogState.DISABLED) {\n      this.#forceDialogCloseInDevToolsBound();\n    }\n\n    this.#onStateChange();\n  }\n\n  #updateDialogBounds(): void {\n    this.#dialogClientRect = this.#getDialog().getBoundingClientRect();\n  }\n\n  #onStateChange(): void {\n    void ComponentHelpers.ScheduledRender.scheduleRender(this, this.#render);\n  }\n\n  connectedCallback(): void {\n    window.addEventListener('resize', this.#forceDialogCloseInDevToolsBound);\n    this.#devtoolsMutationObserver.observe(this.#devToolsBoundingElement, {childList: true, subtree: true});\n    this.#devToolsBoundingElement.addEventListener('wheel', this.#handleScrollAttemptBound);\n    this.style.setProperty('--dialog-padding', '0');\n    this.style.setProperty('--dialog-display', IS_DIALOG_SUPPORTED ? 'block' : 'none');\n    this.style.setProperty('--override-dialog-content-border', `${CONNECTOR_HEIGHT}px solid transparent`);\n    this.style.setProperty('--dialog-padding', `${DIALOG_VERTICAL_PADDING}px ${DIALOG_SIDE_PADDING}px`);\n  }\n\n  disconnectedCallback(): void {\n    window.removeEventListener('resize', this.#forceDialogCloseInDevToolsBound);\n\n    this.#devToolsBoundingElement.removeEventListener('wheel', this.#handleScrollAttemptBound);\n    this.#devtoolsMutationObserver.disconnect();\n    this.#dialogResizeObserver.disconnect();\n  }\n\n  #getDialog(): HTMLDialogElement {\n    if (!this.#dialog) {\n      this.#dialog = this.#shadow.querySelector('dialog');\n      if (!this.#dialog) {\n        throw new Error('Dialog not found');\n      }\n      this.#dialogResizeObserver.observe(this.#dialog);\n    }\n    return this.#dialog;\n  }\n\n  getHitArea(): DOMRect {\n    return this.#hitArea;\n  }\n\n  async setDialogVisible(show: boolean): Promise<void> {\n    if (show) {\n      await this.#showDialog();\n      return;\n    }\n\n    this.#closeDialog();\n  }\n\n  async #handlePointerEvent(evt: MouseEvent|PointerEvent): Promise<void> {\n    evt.stopPropagation();\n    // If the user uses the keyboard to interact with an element within the\n    // dialog, it will trigger a pointer event (for example, the user might use\n    // their spacebar to \"click\" on a form input element). In that case the\n    // pointerType will be an empty string, rather than `mouse`, `pen` or\n    // `touch`. In this instance, we early return, because we only need to\n    // worry about clicks outside of the dialog. Once the dialog is open, the\n    // user can only use the keyboard to navigate within the dialog; so we\n    // don't have to concern ourselves with keyboard events that occur outside\n    // the dialog's bounds.\n    if (evt instanceof PointerEvent && evt.pointerType === '') {\n      return;\n    }\n\n    const eventWasInDialogContent = this.#mouseEventWasInDialogContent(evt);\n    const eventWasInHitArea = this.#mouseEventWasInHitArea(evt);\n    if (eventWasInDialogContent) {\n      return;\n    }\n    if (evt.type === 'pointermove') {\n      if (eventWasInHitArea) {\n        return;\n      }\n      this.dispatchEvent(new PointerLeftDialogEvent());\n      return;\n    }\n    this.dispatchEvent(new ClickOutsideDialogEvent());\n  }\n\n  #animationEndedEvent(): void {\n    this.dispatchEvent(new AnimationEndedEvent());\n  }\n\n  #mouseEventWasInDialogContent(evt: MouseEvent): boolean {\n    const dialogBounds = this.#dialogClientRect;\n\n    let animationOffSetValue = this.bestVerticalPosition === DialogVerticalPosition.BOTTOM ?\n        DIALOG_ANIMATION_OFFSET :\n        -1 * DIALOG_ANIMATION_OFFSET;\n    if (this.#props.origin === MODAL) {\n      // When shown as a modal, the dialog is not animated\n      animationOffSetValue = 0;\n    }\n    const eventWasDialogContentX =\n        evt.pageX >= dialogBounds.left && evt.pageX <= dialogBounds.left + dialogBounds.width;\n    const eventWasDialogContentY = evt.pageY >= dialogBounds.top + animationOffSetValue &&\n        evt.pageY <= dialogBounds.top + dialogBounds.height + animationOffSetValue;\n\n    return eventWasDialogContentX && eventWasDialogContentY;\n  }\n\n  #mouseEventWasInHitArea(evt: MouseEvent): boolean {\n    const hitAreaBounds = this.#hitArea;\n    const eventWasInHitAreaX = evt.pageX >= hitAreaBounds.left && evt.pageX <= hitAreaBounds.left + hitAreaBounds.width;\n    const eventWasInHitAreaY = evt.pageY >= hitAreaBounds.top && evt.pageY <= hitAreaBounds.top + hitAreaBounds.height;\n\n    return eventWasInHitAreaX && eventWasInHitAreaY;\n  }\n\n  #getCoordinatesFromDialogOrigin(origin: DialogOrigin): AnchorBounds {\n    if (!origin || origin === MODAL) {\n      throw new Error('Dialog origin is null');\n    }\n    const anchor = origin instanceof Function ? origin() : origin;\n    if (anchor instanceof DOMPoint) {\n      return {top: anchor.y, bottom: anchor.y, left: anchor.x, right: anchor.x};\n    }\n    if (anchor instanceof HTMLElement) {\n      return anchor.getBoundingClientRect();\n    }\n    return anchor;\n  }\n\n  #getBestHorizontalAlignment(anchorBounds: AnchorBounds, devtoolsBounds: DOMRect): DialogHorizontalAlignment {\n    if (devtoolsBounds.right - anchorBounds.left > anchorBounds.right - devtoolsBounds.left) {\n      return DialogHorizontalAlignment.LEFT;\n    }\n    return DialogHorizontalAlignment.RIGHT;\n  }\n\n  #getBestVerticalPosition(originBounds: AnchorBounds, dialogHeight: number, devtoolsBounds: DOMRect):\n      DialogVerticalPosition {\n    // If the dialog's full height doesn't fit at the bottom attempt to\n    // position it at the top. If it doesn't fit at the top either\n    // position it at the bottom and make the overflow scrollable.\n    if (originBounds.bottom + dialogHeight > devtoolsBounds.height &&\n        originBounds.top - dialogHeight > devtoolsBounds.top) {\n      return DialogVerticalPosition.TOP;\n    }\n    return DialogVerticalPosition.BOTTOM;\n  }\n\n  #positionDialog(): void {\n    if (!this.#props.origin) {\n      return;\n    }\n\n    this.#isPendingShowDialog = true;\n    void RenderCoordinator.read(() => {\n      // Fixed elements are positioned relative to the window, regardless if\n      // DevTools is docked. As such, if DevTools is docked we must account for\n      // its offset relative to the window when positioning fixed elements.\n      // DevTools' effective offset can be determined using\n      // this.#devToolsBoundingElement.\n      const devtoolsBounds = this.#devToolsBoundingElement.getBoundingClientRect();\n      const devToolsWidth = devtoolsBounds.width;\n      const devToolsHeight = devtoolsBounds.height;\n      const devToolsLeft = devtoolsBounds.left;\n      const devToolsTop = devtoolsBounds.top;\n      const devToolsRight = devtoolsBounds.right;\n      if (this.#props.origin === MODAL) {\n        void RenderCoordinator.write(() => {\n          this.style.setProperty('--dialog-top', `${devToolsTop}px`);\n          this.style.setProperty('--dialog-left', `${devToolsLeft}px`);\n          this.style.setProperty('--dialog-margin', 'auto');\n          this.style.setProperty('--dialog-margin-left', 'auto');\n          this.style.setProperty('--dialog-margin-bottom', 'auto');\n          this.style.setProperty('--dialog-max-height', `${devToolsHeight - DIALOG_PADDING_FROM_WINDOW}px`);\n          this.style.setProperty('--dialog-max-width', `${devToolsWidth - DIALOG_PADDING_FROM_WINDOW}px`);\n          this.style.setProperty('--dialog-right', `${document.body.clientWidth - devToolsRight}px`);\n        });\n        return;\n      }\n      const anchor = this.#props.origin;\n      const absoluteAnchorBounds = this.#getCoordinatesFromDialogOrigin(anchor);\n      const {top: anchorTop, right: anchorRight, bottom: anchorBottom, left: anchorLeft} = absoluteAnchorBounds;\n      const originCenterX = (anchorLeft + anchorRight) / 2;\n      const hitAreaWidth = anchorRight - anchorLeft + CONNECTOR_HEIGHT;\n      const windowWidth = document.body.clientWidth;\n      const connectorFixedXValue =\n          this.#props.getConnectorCustomXPosition ? this.#props.getConnectorCustomXPosition() : originCenterX;\n      void RenderCoordinator.write(() => {\n        this.style.setProperty('--dialog-top', '0');\n\n        // Start by showing the dialog hidden to allow measuring its width.\n        const dialog = this.#getDialog();\n        dialog.style.visibility = 'hidden';\n        if (this.#isPendingShowDialog && !dialog.hasAttribute('open')) {\n          if (!dialog.isConnected) {\n            return;\n          }\n          dialog.showModal();\n          this.setAttribute('open', '');\n          this.#isPendingShowDialog = false;\n        }\n        const {width: dialogWidth, height: dialogHeight} = dialog.getBoundingClientRect();\n        this.#bestHorizontalAlignment = this.#props.horizontalAlignment === DialogHorizontalAlignment.AUTO ?\n            this.#getBestHorizontalAlignment(absoluteAnchorBounds, devtoolsBounds) :\n            this.#props.horizontalAlignment;\n\n        this.#bestVerticalPosition = this.#props.position === DialogVerticalPosition.AUTO ?\n            this.#getBestVerticalPosition(absoluteAnchorBounds, dialogHeight, devtoolsBounds) :\n            this.#props.position;\n        if (this.#bestHorizontalAlignment === DialogHorizontalAlignment.AUTO ||\n            this.#bestVerticalPosition === DialogVerticalPosition.AUTO) {\n          return;\n        }\n        this.#hitArea.height = anchorBottom - anchorTop + CONNECTOR_HEIGHT;\n        this.#hitArea.width = hitAreaWidth;\n        // If the connector is to be shown, the dialog needs a minimum width such that it covers\n        // the connector's width.\n        this.style.setProperty(\n            '--content-min-width',\n            `${connectorFixedXValue - anchorLeft + CONNECTOR_WIDTH + DIALOG_SIDE_PADDING * 2}px`);\n        this.style.setProperty('--dialog-left', 'auto');\n        this.style.setProperty('--dialog-right', 'auto');\n        this.style.setProperty('--dialog-margin', '0');\n        switch (this.#bestHorizontalAlignment) {\n          case DialogHorizontalAlignment.LEFT: {\n            // Position the dialog such that its left border is in line with that of its anchor.\n            // If this means the dialog's left border is out of DevTools bounds, move it to the right.\n            // Cap its width as needed so that the right border doesn't overflow.\n            const dialogLeft = Math.max(anchorLeft, devToolsLeft);\n            const devtoolsRightBorderToDialogLeft = devToolsRight - dialogLeft;\n            const dialogMaxWidth = devtoolsRightBorderToDialogLeft - DIALOG_PADDING_FROM_WINDOW;\n            this.style.setProperty('--dialog-left', `${dialogLeft}px`);\n            this.#hitArea.x = anchorLeft;\n            this.style.setProperty('--dialog-max-width', `${dialogMaxWidth}px`);\n            break;\n          }\n          case DialogHorizontalAlignment.RIGHT: {\n            // Position the dialog such that its right border is in line with that of its anchor.\n            // If this means the dialog's right border is out of DevTools bounds, move it to the left.\n            // Cap its width as needed so that the left border doesn't overflow.\n            const windowRightBorderToAnchorRight = windowWidth - anchorRight;\n            const windowRightBorderToDevToolsRight = windowWidth - devToolsRight;\n            const windowRightBorderToDialogRight =\n                Math.max(windowRightBorderToAnchorRight, windowRightBorderToDevToolsRight);\n\n            const dialogRight = windowWidth - windowRightBorderToDialogRight;\n            const devtoolsLeftBorderToDialogRight = dialogRight - devToolsLeft;\n            const dialogMaxWidth = devtoolsLeftBorderToDialogRight - DIALOG_PADDING_FROM_WINDOW;\n\n            this.#hitArea.x = windowWidth - windowRightBorderToDialogRight - hitAreaWidth;\n            this.style.setProperty('--dialog-right', `${windowRightBorderToDialogRight}px`);\n            this.style.setProperty('--dialog-max-width', `${dialogMaxWidth}px`);\n            break;\n          }\n          case DialogHorizontalAlignment.CENTER: {\n            // Position the dialog aligned with its anchor's center as long as its borders don't overlap\n            // with those of DevTools. In case one border overlaps, move the dialog to the opposite side.\n            // In case both borders overlap, reduce its width to that of DevTools.\n            const dialogCappedWidth = Math.min(devToolsWidth - DIALOG_PADDING_FROM_WINDOW, dialogWidth);\n\n            let dialogLeft = Math.max(originCenterX - dialogCappedWidth * 0.5, devToolsLeft);\n            dialogLeft = Math.min(dialogLeft, devToolsRight - dialogCappedWidth);\n            this.style.setProperty('--dialog-left', `${dialogLeft}px`);\n            this.#hitArea.x = originCenterX - hitAreaWidth * 0.5;\n            this.style.setProperty('--dialog-max-width', `${devToolsWidth - DIALOG_PADDING_FROM_WINDOW}px`);\n            break;\n          }\n          default:\n            Platform.assertNever(\n                this.#bestHorizontalAlignment, `Unknown alignment type: ${this.#bestHorizontalAlignment}`);\n        }\n\n        switch (this.#bestVerticalPosition) {\n          case DialogVerticalPosition.TOP: {\n            this.style.setProperty('--dialog-top', '0');\n            this.style.setProperty('--dialog-margin', 'auto');\n            this.style.setProperty('--dialog-margin-bottom', `${innerHeight - anchorTop}px`);\n            this.#hitArea.y = anchorTop - CONNECTOR_HEIGHT;\n            this.style.setProperty('--dialog-offset-y', `${DIALOG_ANIMATION_OFFSET}px`);\n            this.style.setProperty(\n                '--dialog-max-height', `${devToolsHeight - (innerHeight - anchorTop) - DIALOG_PADDING_FROM_WINDOW}px`);\n            break;\n          }\n          case DialogVerticalPosition.BOTTOM: {\n            this.style.setProperty('--dialog-top', `${anchorBottom}px`);\n            this.#hitArea.y = anchorTop;\n            this.style.setProperty('--dialog-offset-y', `-${DIALOG_ANIMATION_OFFSET}px`);\n            this.style.setProperty(\n                '--dialog-max-height',\n                `${devToolsHeight - (anchorBottom - devToolsTop) - DIALOG_PADDING_FROM_WINDOW}px`);\n            break;\n          }\n          default:\n            Platform.assertNever(this.#bestVerticalPosition, `Unknown position type: ${this.#bestVerticalPosition}`);\n        }\n\n        dialog.close();\n        dialog.style.visibility = '';\n      });\n    });\n  }\n\n  async #showDialog(): Promise<void> {\n    if (!IS_DIALOG_SUPPORTED) {\n      return;\n    }\n\n    if (this.#isPendingShowDialog || this.hasAttribute('open')) {\n      return;\n    }\n    this.#isPendingShowDialog = true;\n    this.#positionDialog();\n    // Allow the CSS variables to be set before showing.\n    await RenderCoordinator.done();\n    this.#isPendingShowDialog = false;\n    const dialog = this.#getDialog();\n    if (!dialog.isConnected) {\n      return;\n    }\n    // Make the dialog visible now.\n    if (!dialog.hasAttribute('open')) {\n      dialog.showModal();\n    }\n    if (this.#props.dialogShownCallback) {\n      await this.#props.dialogShownCallback();\n    }\n    this.#updateDialogBounds();\n    document.body.addEventListener('keydown', this.#onKeyDownBound);\n  }\n\n  #handleScrollAttempt(event: WheelEvent): void {\n    if (this.#mouseEventWasInDialogContent(event) || !this.#props.closeOnScroll ||\n        !this.#getDialog().hasAttribute('open')) {\n      return;\n    }\n    this.#closeDialog();\n    this.dispatchEvent(new ForcedDialogClose());\n  }\n\n  #onKeyDown(event: KeyboardEvent): void {\n    if (!this.#getDialog().hasAttribute('open') || !this.#props.closeOnESC) {\n      return;\n    }\n\n    if (event.key !== Platform.KeyboardUtilities.ESCAPE_KEY) {\n      return;\n    }\n    event.stopPropagation();\n    event.preventDefault();\n    this.#closeDialog();\n    this.dispatchEvent(new ForcedDialogClose());\n  }\n\n  #onCancel(event: Event): void {\n    event.stopPropagation();\n    event.preventDefault();\n    if (!this.#getDialog().hasAttribute('open') || !this.#props.closeOnESC) {\n      return;\n    }\n    this.dispatchEvent(new ForcedDialogClose());\n  }\n\n  #forceDialogCloseInDevToolsMutation(): void {\n    if (!this.#dialog?.hasAttribute('open')) {\n      return;\n    }\n    if (this.#devToolsBoundingElement === document.body) {\n      // Do not close if running in test environment.\n      return;\n    }\n    this.#closeDialog();\n    this.dispatchEvent(new ForcedDialogClose());\n  }\n\n  #closeDialog(): void {\n    if (this.#isPendingCloseDialog || !this.#getDialog().hasAttribute('open')) {\n      return;\n    }\n    this.#isPendingCloseDialog = true;\n    void RenderCoordinator.write(() => {\n      this.#hitArea.width = 0;\n      this.removeAttribute('open');\n      this.#getDialog().close();\n      this.#isPendingCloseDialog = false;\n      document.body.removeEventListener('keydown', this.#onKeyDownBound);\n    });\n  }\n\n  getDialogBounds(): DOMRect {\n    return this.#dialogClientRect;\n  }\n\n  #renderHeaderRow(): Lit.TemplateResult|null {\n    // If the title is empty and close button is false, let's skip the header row.\n    if (!this.#props.dialogTitle && !this.#props.closeButton) {\n      return null;\n    }\n    // Disabled until https://crbug.com/1079231 is fixed.\n    // clang-format off\n    return html`\n        <span class=\"dialog-header-text\">${this.#props.dialogTitle}</span>\n        ${this.#props.closeButton ? html`\n          <devtools-button\n            @click=${this.#closeDialog}\n            .data=${{\n              variant: Buttons.Button.Variant.TOOLBAR,\n              iconName: 'cross',\n              title: i18nString(UIStrings.close),\n              size: Buttons.Button.Size.SMALL,\n            } as Buttons.Button.ButtonData}\n            jslog=${VisualLogging.close().track({click: true})}\n          ></devtools-button>\n        ` : Lit.nothing}\n    `;\n    // clang-format on\n  }\n\n  #render(): void {\n    if (!ComponentHelpers.ScheduledRender.isScheduledRender(this)) {\n      throw new Error('Dialog render was not scheduled');\n    }\n\n    if (!IS_DIALOG_SUPPORTED) {\n      // To make sure that light dom content passed into this component doesn't show up,\n      // we have to explicitly render a slot and hide it with CSS.\n      Lit.render(\n          // clang-format off\n      html`\n        <slot></slot>\n      `,  this.#shadow, {host: this});\n      // clang-format on\n      return;\n    }\n\n    let dialogContent: Lit.LitTemplate = Lit.nothing;\n\n    // If state is expanded content should be shown, do not render it otherwise.\n    if (this.#props.state === DialogState.EXPANDED) {\n      dialogContent = html`\n    <div id=\"content\">\n          <div class=\"dialog-header\">${this.#renderHeaderRow()}</div>\n          <div class='dialog-content'>\n            <slot></slot>\n          </div>\n    </div>\n    `;\n    }\n\n    // clang-format off\n    Lit.render(html`\n      <style>${dialogStyles}</style>\n      <dialog @click=${this.#handlePointerEvent} @pointermove=${this.#handlePointerEvent} @cancel=${this.#onCancel} @animationend=${this.#animationEndedEvent}\n              jslog=${VisualLogging.dialog(this.#props.jslogContext).track({ resize: true, keydown: 'Escape' }).parent('mapped')}>\n        ${dialogContent}\n      </dialog>\n    `, this.#shadow, { host: this });\n    VisualLogging.setMappedParent(this.#getDialog(), this.parentElementOrShadowHost() as HTMLElement);\n    // clang-format on\n  }\n\n  setBoundingElementForTesting(element: HTMLElement): void {\n    this.#devToolsBoundingElement = element;\n    this.#onStateChange();\n  }\n}\n\ncustomElements.define('devtools-dialog', Dialog);\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    'devtools-dialog': Dialog;\n  }\n}\n\nexport class PointerLeftDialogEvent extends Event {\n  static readonly eventName = 'pointerleftdialog';\n\n  constructor() {\n    super(PointerLeftDialogEvent.eventName, {bubbles: true, composed: true});\n  }\n}\n\nexport class ClickOutsideDialogEvent extends Event {\n  static readonly eventName = 'clickoutsidedialog';\n\n  constructor() {\n    super(ClickOutsideDialogEvent.eventName, {bubbles: true, composed: true});\n  }\n}\n\nexport class AnimationEndedEvent extends Event {\n  static readonly eventName = 'animationended';\n\n  constructor() {\n    super(AnimationEndedEvent.eventName, {bubbles: true, composed: true});\n  }\n}\n\nexport class ForcedDialogClose extends Event {\n  static readonly eventName = 'forceddialogclose';\n  constructor() {\n    super(ForcedDialogClose.eventName, {bubbles: true, composed: true});\n  }\n}\n\nexport const enum DialogVerticalPosition {\n  TOP = 'top',\n  BOTTOM = 'bottom',\n  AUTO = 'auto',\n}\n\nexport const enum DialogState {\n  EXPANDED = 'expanded',\n  COLLAPSED = 'collapsed',\n  DISABLED = 'disabled'\n}\n\nexport const enum DialogHorizontalAlignment {\n  // Dialog and anchor are aligned on their left borders.\n  LEFT = 'left',\n  // Dialog and anchor are aligned on their right borders.\n  RIGHT = 'right',\n  CENTER = 'center',\n  // This option allows to set the alignment\n  // automatically to LEFT or RIGHT depending\n  // on whether the dialog overflows the\n  // viewport if it's aligned to the left.\n  AUTO = 'auto',\n}\n\ninterface AnchorBounds {\n  top: number;\n  bottom: number;\n  left: number;\n  right: number;\n}\n"]}