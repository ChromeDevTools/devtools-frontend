{"version":3,"file":"IconButton.js","sourceRoot":"","sources":["../../../../../../../front_end/ui/components/icon_button/IconButton.ts"],"names":[],"mappings":"AAAA,sCAAsC;AACtC,yEAAyE;AACzE,6BAA6B;AAC7B,4DAA4D;AAE5D,OAAO,WAAW,CAAC;AAEnB,OAAO,KAAK,GAAG,MAAM,kBAAkB,CAAC;AAExC,OAAO,gBAAgB,MAAM,qBAAqB,CAAC;AAEnD,MAAM,EAAC,IAAI,EAAC,GAAG,GAAG,CAAC;AAmBnB,MAAM,OAAO,UAAW,SAAQ,WAAW;IAChC,OAAO,GAAG,IAAI,CAAC,YAAY,CAAC,EAAC,IAAI,EAAE,MAAM,EAAC,CAAC,CAAC;IACrD,aAAa,GAA2B,SAAS,CAAC;IAClD,OAAO,GAAuB,EAAE,CAAC;IACjC,QAAQ,GAAG,KAAK,CAAC;IACjB,YAAY,GAAG,EAAE,CAAC;IAClB,aAAa,GAAG,EAAE,CAAC;IACnB,eAAe,CAAmB;IAElC,IAAI,IAAI,CAAC,IAAoB;QAC3B,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC,EAAC,GAAG,KAAK,EAAC,CAAC,CAAC,CAAC,CAAE,8BAA8B;QACtF,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,YAAY,CAAC;QACvC,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,YAAY,IAAI,EAAE,CAAC;QAC7C,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,WAAW,IAAI,EAAE,CAAC;QAC3C,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,cAAc,CAAC;QAC3C,IAAI,CAAC,QAAQ,GAAG,OAAO,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;QACtC,IAAI,CAAC,OAAO,EAAE,CAAC;IACjB,CAAC;IAED,IAAI,IAAI;QACN,OAAO;YACL,MAAM,EAAE,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC,EAAC,GAAG,KAAK,EAAC,CAAC,CAAC,EAAG,8BAA8B;YAChF,cAAc,EAAE,IAAI,CAAC,eAAe;YACpC,YAAY,EAAE,IAAI,CAAC,aAAa;YAChC,WAAW,EAAE,IAAI,CAAC,YAAY;YAC9B,YAAY,EAAE,IAAI,CAAC,aAAa;YAChC,OAAO,EAAE,IAAI,CAAC,QAAQ;SACvB,CAAC;IACJ,CAAC;IAED,eAAe,CAAC,KAAY;QAC1B,IAAI,IAAI,CAAC,aAAa,EAAE,CAAC;YACvB,KAAK,CAAC,cAAc,EAAE,CAAC;YACvB,IAAI,CAAC,aAAa,EAAE,CAAC;QACvB,CAAC;IACH,CAAC;IAED,OAAO;QACL,MAAM,aAAa,GAAG,GAAG,CAAC,UAAU,CAAC,QAAQ,CAAC;YAC5C,aAAa,EAAE,IAAI;YACnB,oBAAoB,EAAE,OAAO,CAAC,IAAI,CAAC,aAAa,CAAC;YACjD,OAAO,EAAE,IAAI,CAAC,QAAQ;SACvB,CAAC,CAAC;QACH,MAAM,cAAc,GAAG,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,OAAO,CAAC,EAAE,CAAC,OAAO,CAAC,IAAI,KAAK,SAAS,CAAC;aACrD,MAAM,CAAC,CAAC,CAAC,EAAE,KAAK,EAAE,EAAE,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,KAAK,KAAK,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC;QACrF,qDAAqD;QACrD,mBAAmB;QACnB,GAAG,CAAC,MAAM,CAAC,IAAI,CAAA;eACJ,gBAAgB;sBACT,aAAa,WAAW,IAAI,CAAC,eAAe,eAAe,GAAG,CAAC,UAAU,CAAC,SAAS,CAAC,IAAI,CAAC,eAAe,CAAC;QACvH,CAAC,CAAC,IAAI,CAAC,QAAQ,IAAI,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC,IAAI,CAAA,mCAAmC,IAAI,CAAC,YAAY,SAAS,CAAC,CAAC,CAAC,GAAG,CAAC,OAAO;QACvH,cAAc,CAAC,GAAG,CAAC,OAAO,CAAC,EAAE,CAC/B,IAAI,CAAA;gDACsC,OAAO,CAAC,QAAQ,kBAAkB,OAAO,CAAC,SAAS,YAAY,OAAO,CAAC,SAAS,IAAI,mBAAmB,aAAa,OAAO,CAAC,UAAU,IAAI,mBAAmB;;QAErM,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,IAAI,CAAA,iEAAiE,CAAC,CAAC,CAAC,GAAG,CAAC,OAAO;wCACnE,OAAO,CAAC,IAAI,SAAS,CACtD;;QAEC,CAAC,CAAC,IAAI,CAAC,QAAQ,IAAI,IAAI,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC,IAAI,CAAA,mCAAmC,IAAI,CAAC,aAAa,SAAS,CAAC,CAAC,CAAC,GAAG,CAAC,OAAO;KAC5H,EAAE,IAAI,CAAC,OAAO,EAAE,EAAE,IAAI,EAAE,IAAI,EAAC,CAAC,CAAC;QAChC,kBAAkB;IACpB,CAAC;CACF;AAED,mEAAmE;AACnE,cAAc,CAAC,MAAM,CAAC,aAAa,EAAE,UAAU,CAAC,CAAC","sourcesContent":["// Copyright 2021 The Chromium Authors\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n/* eslint-disable @devtools/no-lit-render-outside-of-view */\n\nimport './Icon.js';\n\nimport * as Lit from '../../lit/lit.js';\n\nimport iconButtonStyles from './iconButton.css.js';\n\nconst {html} = Lit;\n\nexport interface IconWithTextData {\n  iconName: string;\n  iconColor?: string;\n  iconWidth?: string;\n  iconHeight?: string;\n  text?: string;\n}\n\nexport interface IconButtonData {\n  clickHandler?: () => void;\n  groups: IconWithTextData[];\n  leadingText?: string;\n  trailingText?: string;\n  accessibleName?: string;\n  compact?: boolean;\n}\n\nexport class IconButton extends HTMLElement {\n  readonly #shadow = this.attachShadow({mode: 'open'});\n  #clickHandler: undefined|(() => void) = undefined;\n  #groups: IconWithTextData[] = [];\n  #compact = false;\n  #leadingText = '';\n  #trailingText = '';\n  #accessibleName: string|undefined;\n\n  set data(data: IconButtonData) {\n    this.#groups = data.groups.map(group => ({...group}));  // Ensure we make a deep copy.\n    this.#clickHandler = data.clickHandler;\n    this.#trailingText = data.trailingText ?? '';\n    this.#leadingText = data.leadingText ?? '';\n    this.#accessibleName = data.accessibleName;\n    this.#compact = Boolean(data.compact);\n    this.#render();\n  }\n\n  get data(): IconButtonData {\n    return {\n      groups: this.#groups.map(group => ({...group})),  // Ensure we make a deep copy.\n      accessibleName: this.#accessibleName,\n      clickHandler: this.#clickHandler,\n      leadingText: this.#leadingText,\n      trailingText: this.#trailingText,\n      compact: this.#compact,\n    };\n  }\n\n  #onClickHandler(event: Event): void {\n    if (this.#clickHandler) {\n      event.preventDefault();\n      this.#clickHandler();\n    }\n  }\n\n  #render(): void {\n    const buttonClasses = Lit.Directives.classMap({\n      'icon-button': true,\n      'with-click-handler': Boolean(this.#clickHandler),\n      compact: this.#compact,\n    });\n    const filteredGroups = this.#groups.filter(counter => counter.text !== undefined)\n                               .filter((_, index) => this.#compact ? index === 0 : true);\n    // Disabled until https://crbug.com/1079231 is fixed.\n    // clang-format off\n    Lit.render(html`\n      <style>${iconButtonStyles}</style>\n      <button class=${buttonClasses} @click=${this.#onClickHandler} aria-label=${Lit.Directives.ifDefined(this.#accessibleName)}>\n      ${(!this.#compact && this.#leadingText) ? html`<span class=\"icon-button-title\">${this.#leadingText}</span>` : Lit.nothing}\n      ${filteredGroups.map(counter =>\n      html`\n      <devtools-icon class=\"status-icon\" name=${counter.iconName} style=\"color: ${counter.iconColor}; width: ${counter.iconWidth || 'var(--sys-size-7)'}; height: ${counter.iconHeight || 'var(--sys-size-7)'}\">\n      </devtools-icon>\n      ${this.#compact ? html`<!-- Force line-height for this element --><span>&#8203;</span>` : Lit.nothing}\n      <span class=\"icon-button-title\">${counter.text}</span>`,\n      )}\n      </button>\n      ${(!this.#compact && this.#trailingText) ? html`<span class=\"icon-button-title\">${this.#trailingText}</span>` : Lit.nothing}\n    `, this.#shadow, { host: this});\n    // clang-format on\n  }\n}\n\n// eslint-disable-next-line @devtools/enforce-custom-element-prefix\ncustomElements.define('icon-button', IconButton);\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    'icon-button': IconButton;\n  }\n}\n"]}