{"version":3,"file":"FeedbackButton.js","sourceRoot":"","sources":["../../../../../../../front_end/ui/components/panel_feedback/FeedbackButton.ts"],"names":[],"mappings":"AAAA,sCAAsC;AACtC,yEAAyE;AACzE,6BAA6B;AAC7B,mHAAmH;AAEnH,OAAO,KAAK,IAAI,MAAM,4BAA4B,CAAC;AACnD,OAAO,KAAK,IAAI,MAAM,4BAA4B,CAAC;AACnD,OAAO,KAAK,QAAQ,MAAM,oCAAoC,CAAC;AAC/D,OAAO,KAAK,gBAAgB,MAAM,qCAAqC,CAAC;AACxE,OAAO,EAAC,IAAI,EAAE,MAAM,EAAC,MAAM,kBAAkB,CAAC;AAC9C,OAAO,KAAK,OAAO,MAAM,uBAAuB,CAAC;AAEjD,MAAM,SAAS,GAAG;IAChB;;OAEG;IACH,QAAQ,EAAE,UAAU;CACZ,CAAC;AAEX,MAAM,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,gDAAgD,EAAE,SAAS,CAAC,CAAC;AACtG,MAAM,UAAU,GAAG,IAAI,CAAC,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,CAAC;AAKtE,MAAM,OAAO,cAAe,SAAQ,WAAW;IACpC,OAAO,GAAG,IAAI,CAAC,YAAY,CAAC,EAAC,IAAI,EAAE,MAAM,EAAC,CAAC,CAAC;IAErD,MAAM,GAAuB;QAC3B,WAAW,EAAE,QAAQ,CAAC,YAAY,CAAC,cAAc;KAClD,CAAC;IAEF,IAAI,IAAI,CAAC,IAAwB;QAC/B,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;QACnB,KAAK,gBAAgB,CAAC,eAAe,CAAC,cAAc,CAAC,IAAI,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC;IAC3E,CAAC;IAED,gBAAgB;QACd,IAAI,CAAC,qBAAqB,CAAC,6BAA6B,CAAC,YAAY,CAAC,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,CAAC;IACjG,CAAC;IAED,OAAO;QACL,IAAI,CAAC,gBAAgB,CAAC,eAAe,CAAC,iBAAiB,CAAC,IAAI,CAAC,EAAE,CAAC;YAC9D,MAAM,IAAI,KAAK,CAAC,yCAAyC,CAAC,CAAC;QAC7D,CAAC;QAED,mBAAmB;QACnB,MAAM,CAAC,IAAI,CAAA;;mBAEI,IAAI,CAAC,gBAAgB;sBAClB,QAAQ;qBACT,gDAA+B;0BAC1B,UAAU;SAC3B,UAAU,CAAC,SAAS,CAAC,QAAQ,CAAC;OAChC,EAAE,IAAI,CAAC,OAAO,EAAE,EAAC,IAAI,EAAE,IAAI,EAAC,CAAC,CAAC;QACjC,kBAAkB;IACpB,CAAC;CACF;AAED,cAAc,CAAC,MAAM,CAAC,0BAA0B,EAAE,cAAc,CAAC,CAAC","sourcesContent":["// Copyright 2021 The Chromium Authors\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n/* eslint-disable @devtools/no-lit-render-outside-of-view, @devtools/enforce-custom-element-definitions-location */\n\nimport * as Host from '../../../core/host/host.js';\nimport * as i18n from '../../../core/i18n/i18n.js';\nimport * as Platform from '../../../core/platform/platform.js';\nimport * as ComponentHelpers from '../../components/helpers/helpers.js';\nimport {html, render} from '../../lit/lit.js';\nimport * as Buttons from '../buttons/buttons.js';\n\nconst UIStrings = {\n  /**\n   * @description The title of the button that leads to the feedback form.\n   */\n  feedback: 'Feedback',\n} as const;\n\nconst str_ = i18n.i18n.registerUIStrings('ui/components/panel_feedback/FeedbackButton.ts', UIStrings);\nconst i18nString = i18n.i18n.getLocalizedString.bind(undefined, str_);\n\nexport interface FeedbackButtonData {\n  feedbackUrl: Platform.DevToolsPath.UrlString;\n}\nexport class FeedbackButton extends HTMLElement {\n  readonly #shadow = this.attachShadow({mode: 'open'});\n\n  #props: FeedbackButtonData = {\n    feedbackUrl: Platform.DevToolsPath.EmptyUrlString,\n  };\n\n  set data(data: FeedbackButtonData) {\n    this.#props = data;\n    void ComponentHelpers.ScheduledRender.scheduleRender(this, this.#render);\n  }\n\n  #onFeedbackClick(): void {\n    Host.InspectorFrontendHost.InspectorFrontendHostInstance.openInNewTab(this.#props.feedbackUrl);\n  }\n\n  #render(): void {\n    if (!ComponentHelpers.ScheduledRender.isScheduledRender(this)) {\n      throw new Error('FeedbackButton render was not scheduled');\n    }\n\n    // clang-format off\n    render(html`\n      <devtools-button\n          @click=${this.#onFeedbackClick}\n          .iconName=${'review'}\n          .variant=${Buttons.Button.Variant.OUTLINED}\n          .jslogContext=${'feedback'}\n      >${i18nString(UIStrings.feedback)}</devtools-button>\n      `, this.#shadow, {host: this});\n    // clang-format on\n  }\n}\n\ncustomElements.define('devtools-feedback-button', FeedbackButton);\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    'devtools-feedback-button': FeedbackButton;\n  }\n}\n"]}