{"version":3,"file":"LinkContextMenuProvider.js","sourceRoot":"","sources":["../../../../../../front_end/ui/legacy/LinkContextMenuProvider.ts"],"names":[],"mappings":"AAAA,sCAAsC;AACtC,yEAAyE;AACzE,6BAA6B;AAE7B,OAAO,KAAK,IAAI,MAAM,yBAAyB,CAAC;AAChD,OAAO,KAAK,SAAS,MAAM,uBAAuB,CAAC;AACnD,OAAO,EAAC,IAAI,EAAC,MAAM,eAAe,CAAC;AAGnC,OAAO,EACL,oBAAoB,EACpB,uBAAuB,GACxB,MAAM,cAAc,CAAC;AACtB,OAAO,EAAC,KAAK,EAAC,MAAM,YAAY,CAAC;AAEjC;;;;GAIG;AACH,MAAM,OAAO,uBAAuB;IAClC,qBAAqB,CAAC,MAAa,EAAE,WAAwB,EAAE,MAAY;QACzE,IAAI,UAAU,GAAc,MAAM,CAAC;QACnC,OAAO,UAAU,IAAI,CAAC,CAAC,UAAU,YAAY,KAAK,IAAI,UAAU,YAAY,IAAI,CAAC,EAAE,CAAC;YAClF,UAAU,GAAG,UAAU,CAAC,sBAAsB,EAAE,CAAC;QACnD,CAAC;QACD,IAAI,CAAC,UAAU,EAAE,IAAI,EAAE,CAAC;YACtB,OAAO;QACT,CAAC;QACD,MAAM,IAAI,GAAe,UAAU,CAAC;QACpC,WAAW,CAAC,aAAa,EAAE,CAAC,UAAU,CAAC,uBAAuB,EAAE,EAAE,GAAG,EAAE;YACrE,IAAI,IAAI,CAAC,IAAI,EAAE,CAAC;gBACd,SAAS,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;YACpC,CAAC;QACH,CAAC,EAAE,EAAC,YAAY,EAAE,iBAAiB,EAAC,CAAC,CAAC;QACtC,WAAW,CAAC,aAAa,EAAE,CAAC,UAAU,CAAC,oBAAoB,EAAE,EAAE,GAAG,EAAE;YAClE,IAAI,IAAI,CAAC,IAAI,EAAE,CAAC;gBACd,IAAI,CAAC,qBAAqB,CAAC,6BAA6B,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;YAC/E,CAAC;QACH,CAAC,EAAE,EAAC,YAAY,EAAE,mBAAmB,EAAC,CAAC,CAAC;IAC1C,CAAC;CACF","sourcesContent":["// Copyright 2017 The Chromium Authors\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\nimport * as Host from '../../core/host/host.js';\nimport * as UIHelpers from '../helpers/helpers.js';\nimport {Link} from '../kit/kit.js';\n\nimport type {ContextMenu, Provider} from './ContextMenu.js';\nimport {\n  copyLinkAddressLabel,\n  openLinkExternallyLabel,\n} from './UIUtils.js';\nimport {XLink} from './XLink.js';\n\n/**\n * We can move this next to the Link after\n * the x-link is removed and the context menu\n * is decoupled from the legacy bundle\n */\nexport class LinkContextMenuProvider implements Provider<Node> {\n  appendApplicableItems(_event: Event, contextMenu: ContextMenu, target: Node): void {\n    let targetNode: Node|null = target;\n    while (targetNode && !(targetNode instanceof XLink || targetNode instanceof Link)) {\n      targetNode = targetNode.parentNodeOrShadowHost();\n    }\n    if (!targetNode?.href) {\n      return;\n    }\n    const node: XLink|Link = targetNode;\n    contextMenu.revealSection().appendItem(openLinkExternallyLabel(), () => {\n      if (node.href) {\n        UIHelpers.openInNewTab(node.href);\n      }\n    }, {jslogContext: 'open-in-new-tab'});\n    contextMenu.revealSection().appendItem(copyLinkAddressLabel(), () => {\n      if (node.href) {\n        Host.InspectorFrontendHost.InspectorFrontendHostInstance.copyText(node.href);\n      }\n    }, {jslogContext: 'copy-link-address'});\n  }\n}\n"]}