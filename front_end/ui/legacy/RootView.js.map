{"version":3,"file":"RootView.js","sourceRoot":"","sources":["../../../../../../front_end/ui/legacy/RootView.ts"],"names":[],"mappings":"AAAA,sCAAsC;AACtC,yEAAyE;AACzE,6BAA6B;AAC7B,oDAAoD;AAEpD,OAAO,cAAc,MAAM,mBAAmB,CAAC;AAC/C,OAAO,EAAC,IAAI,EAAC,MAAM,aAAa,CAAC;AACjC,OAAO,EAAC,WAAW,EAAC,MAAM,kBAAkB,CAAC;AAE7C,MAAM,OAAO,QAAS,SAAQ,IAAI;IACxB,MAAM,CAAmC;IACjD;QACE,KAAK,EAAE,CAAC;QACR,IAAI,CAAC,UAAU,EAAE,CAAC;QAClB,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC;QACxC,IAAI,CAAC,mBAAmB,CAAC,cAAc,CAAC,CAAC;QACzC,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC,YAAY,EAAE,OAAO,CAAC,CAAC;IACnD,CAAC;IAED,gBAAgB,CAAC,QAAkB;QACjC,IAAI,QAAQ,CAAC,WAAW,EAAE,CAAC;YACzB,QAAQ,CAAC,WAAW,CAAC,gBAAgB,CAAC,QAAQ,EAAE,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,KAAK,CAAC,CAAC;QACnF,CAAC;QACD,IAAI,CAAC,MAAM,GAAG,QAAQ,CAAC,WAAW,CAAC;QACnC,IAAI,CAAC,QAAQ,EAAE,CAAC;QAChB,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;IAC3B,CAAC;IAEQ,QAAQ;QACf,IAAI,IAAI,CAAC,MAAM,EAAE,CAAC;YAChB,MAAM,IAAI,GAAG,IAAI,CAAC,WAAW,EAAE,CAAC,OAAO,CAAC;YACxC,MAAM,IAAI,GAAG,WAAW,CAAC,QAAQ,EAAE,CAAC,UAAU,EAAE,CAAC;YACjD,MAAM,KAAK,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC,MAAM,CAAC,UAAU,GAAG,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,CAAC;YACtE,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,WAAW,GAAG,KAAK,GAAG,IAAI,CAAC;YAC9C,MAAM,MAAM,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC,MAAM,CAAC,WAAW,GAAG,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,CAAC;YACzE,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,YAAY,GAAG,MAAM,GAAG,IAAI,CAAC;QAClD,CAAC;QACD,KAAK,CAAC,QAAQ,EAAE,CAAC;IACnB,CAAC;CACF","sourcesContent":["// Copyright 2014 The Chromium Authors\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n/* eslint-disable @devtools/no-imperative-dom-api */\n\nimport rootViewStyles from './rootView.css.js';\nimport {VBox} from './Widget.js';\nimport {ZoomManager} from './ZoomManager.js';\n\nexport class RootView extends VBox {\n  private window?: (Window&typeof globalThis)|null;\n  constructor() {\n    super();\n    this.markAsRoot();\n    this.element.classList.add('root-view');\n    this.registerRequiredCSS(rootViewStyles);\n    this.element.setAttribute('spellcheck', 'false');\n  }\n\n  attachToDocument(document: Document): void {\n    if (document.defaultView) {\n      document.defaultView.addEventListener('resize', this.doResize.bind(this), false);\n    }\n    this.window = document.defaultView;\n    this.doResize();\n    this.show(document.body);\n  }\n\n  override doResize(): void {\n    if (this.window) {\n      const size = this.constraints().minimum;\n      const zoom = ZoomManager.instance().zoomFactor();\n      const right = Math.min(0, this.window.innerWidth - size.width / zoom);\n      this.element.style.marginRight = right + 'px';\n      const bottom = Math.min(0, this.window.innerHeight - size.height / zoom);\n      this.element.style.marginBottom = bottom + 'px';\n    }\n    super.doResize();\n  }\n}\n"]}