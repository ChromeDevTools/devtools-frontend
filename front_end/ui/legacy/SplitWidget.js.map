{"version":3,"file":"SplitWidget.js","sourceRoot":"","sources":["../../../../../../front_end/ui/legacy/SplitWidget.ts"],"names":[],"mappings":"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","sourcesContent":["// Copyright 2012 The Chromium Authors\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\n/* eslint-disable @devtools/no-imperative-dom-api */\n\nimport * as Common from '../../core/common/common.js';\nimport * as Platform from '../../core/platform/platform.js';\nimport * as Geometry from '../../models/geometry/geometry.js';\nimport * as VisualLogging from '../visual_logging/visual_logging.js';\n\nimport * as ARIAUtils from './ARIAUtils.js';\nimport {Events as ResizerWidgetEvents, type ResizeUpdatePositionEvent, SimpleResizerWidget} from './ResizerWidget.js';\nimport splitWidgetStyles from './splitWidget.css.js';\nimport {ToolbarButton} from './Toolbar.js';\nimport {Widget, WidgetElement} from './Widget.js';\nimport {Events as ZoomManagerEvents, ZoomManager} from './ZoomManager.js';\n\nexport class SplitWidget extends Common.ObjectWrapper.eventMixin<EventTypes, typeof Widget>(Widget) {\n  #sidebarElement: HTMLElement;\n  #mainElement: HTMLElement;\n  #resizerElement: HTMLElement;\n  #resizerElementSize: number|null = null;\n  readonly #resizerWidget: SimpleResizerWidget;\n  #defaultSidebarWidth: number;\n  #defaultSidebarHeight: number;\n  readonly #constraintsInDip: boolean;\n  #resizeStartSizeDIP = 0;\n  // TODO: Used in WebTests\n  private setting: Common.Settings.Setting<{\n    vertical?: SettingForOrientation,\n    horizontal?: SettingForOrientation,\n  }>|null;\n  #totalSizeCSS = 0;\n  #totalSizeOtherDimensionCSS = 0;\n  #mainWidget: Widget|null = null;\n  #sidebarWidget: Widget|null = null;\n  #animationFrameHandle = 0;\n  #animationCallback: (() => void)|null = null;\n  #showSidebarButtonTitle: Common.UIString.LocalizedString = Common.UIString.LocalizedEmptyString;\n  #hideSidebarButtonTitle: Common.UIString.LocalizedString = Common.UIString.LocalizedEmptyString;\n  #shownSidebarString: Common.UIString.LocalizedString = Common.UIString.LocalizedEmptyString;\n  #hiddenSidebarString: Common.UIString.LocalizedString = Common.UIString.LocalizedEmptyString;\n  #showHideSidebarButton: ToolbarButton|null = null;\n  #isVertical = false;\n  #sidebarMinimized = false;\n  #detaching = false;\n  #sidebarSizeDIP = -1;\n  #savedSidebarSizeDIP: number;\n  #secondIsSidebar = false;\n  #shouldSaveShowMode = false;\n  #savedVerticalMainSize: number|null = null;\n  #savedHorizontalMainSize: number|null = null;\n  #showMode: ShowMode = ShowMode.BOTH;\n  #savedShowMode: ShowMode;\n  #autoAdjustOrientation = false;\n\n  constructor(\n      isVertical: boolean,\n      secondIsSidebar: boolean,\n      settingName?: string,\n      defaultSidebarWidth?: number,\n      defaultSidebarHeight?: number,\n      constraintsInDip?: boolean,\n      element?: SplitWidgetElement,\n  ) {\n    super(element, {useShadowDom: true});\n    this.element.classList.add('split-widget');\n    this.registerRequiredCSS(splitWidgetStyles);\n\n    this.contentElement.classList.add('shadow-split-widget');\n    this.#sidebarElement =\n        this.contentElement.createChild('div', 'shadow-split-widget-contents shadow-split-widget-sidebar vbox');\n    this.#mainElement =\n        this.contentElement.createChild('div', 'shadow-split-widget-contents shadow-split-widget-main vbox');\n    const mainSlot = this.#mainElement.createChild('slot');\n    mainSlot.name = 'main';\n    mainSlot.addEventListener('slotchange', (_: Event) => {\n      const assignedNode = mainSlot.assignedNodes()[0];\n      const widget = assignedNode instanceof HTMLElement ? Widget.getOrCreateWidget(assignedNode) : null;\n      if (widget && widget !== this.#mainWidget) {\n        this.setMainWidget(widget);\n      }\n    });\n    const sidebarSlot = this.#sidebarElement.createChild('slot');\n    sidebarSlot.name = 'sidebar';\n    sidebarSlot.addEventListener('slotchange', (_: Event) => {\n      const assignedNode = sidebarSlot.assignedNodes()[0];\n      const widget = assignedNode instanceof HTMLElement ? Widget.getOrCreateWidget(assignedNode) : null;\n      if (widget && widget !== this.#sidebarWidget) {\n        this.setSidebarWidget(widget);\n      }\n    });\n    this.#resizerElement = this.contentElement.createChild('div', 'shadow-split-widget-resizer');\n\n    this.#resizerWidget = new SimpleResizerWidget();\n    this.#resizerWidget.setEnabled(true);\n    this.#resizerWidget.addEventListener(ResizerWidgetEvents.RESIZE_START, this.#onResizeStart, this);\n    this.#resizerWidget.addEventListener(ResizerWidgetEvents.RESIZE_UPDATE_POSITION, this.#onResizeUpdate, this);\n    this.#resizerWidget.addEventListener(ResizerWidgetEvents.RESIZE_END, this.#onResizeEnd, this);\n\n    this.#defaultSidebarWidth = defaultSidebarWidth || 200;\n    this.#defaultSidebarHeight = defaultSidebarHeight || this.#defaultSidebarWidth;\n    this.#constraintsInDip = Boolean(constraintsInDip);\n\n    this.setting = settingName ? Common.Settings.Settings.instance().createSetting(settingName, {}) : null;\n    this.#savedSidebarSizeDIP = this.#sidebarSizeDIP;\n\n    this.setSecondIsSidebar(secondIsSidebar);\n\n    this.#setVertical(isVertical);\n    this.#savedShowMode = this.#showMode;\n\n    // Should be called after isVertical has the right value.\n    this.installResizer(this.#resizerElement);\n  }\n\n  isVertical(): boolean {\n    return this.#isVertical;\n  }\n\n  setVertical(isVertical: boolean): void {\n    if (this.#isVertical === isVertical) {\n      return;\n    }\n\n    this.#setVertical(isVertical);\n\n    if (this.isShowing()) {\n      this.#updateLayout();\n    }\n  }\n\n  setAutoAdjustOrientation(autoAdjustOrientation: boolean): void {\n    this.#autoAdjustOrientation = autoAdjustOrientation;\n    this.#maybeAutoAdjustOrientation();\n  }\n\n  #setVertical(isVertical: boolean): void {\n    this.contentElement.classList.toggle('vbox', !isVertical);\n    this.contentElement.classList.toggle('hbox', isVertical);\n    this.#isVertical = isVertical;\n\n    this.#resizerElementSize = null;\n    this.#sidebarSizeDIP = -1;\n    this.#restoreSidebarSizeFromSettings();\n    if (this.#shouldSaveShowMode) {\n      this.#restoreAndApplyShowModeFromSettings();\n    }\n    this.#updateShowHideSidebarButton();\n    // FIXME: reverse SplitWidget.isVertical meaning.\n    this.#resizerWidget.setVertical(!isVertical);\n    this.invalidateConstraints();\n  }\n\n  #updateLayout(animate?: boolean): void {\n    this.#totalSizeCSS = 0;  // Lazy update.\n    this.#totalSizeOtherDimensionCSS = 0;\n\n    // Remove properties that might affect total size calculation.\n    this.#mainElement.style.removeProperty('width');\n    this.#mainElement.style.removeProperty('height');\n    this.#sidebarElement.style.removeProperty('width');\n    this.#sidebarElement.style.removeProperty('height');\n\n    this.#setSidebarSizeDIP(this.#preferredSidebarSizeDIP(), Boolean(animate));\n  }\n\n  setMainWidget(widget: Widget): void {\n    if (this.#mainWidget === widget) {\n      return;\n    }\n    this.suspendInvalidations();\n    if (this.#mainWidget) {\n      this.#mainWidget.detach();\n    }\n    this.#mainWidget = widget;\n    if (widget) {\n      widget.element.slot = 'main';\n      if (this.#showMode === ShowMode.ONLY_MAIN || this.#showMode === ShowMode.BOTH) {\n        widget.show(this.element);\n      }\n    }\n    this.resumeInvalidations();\n  }\n\n  setSidebarWidget(widget: Widget): void {\n    if (this.#sidebarWidget === widget) {\n      return;\n    }\n    this.suspendInvalidations();\n    if (this.#sidebarWidget) {\n      this.#sidebarWidget.detach();\n    }\n    this.#sidebarWidget = widget;\n    if (widget) {\n      widget.element.slot = 'sidebar';\n      if (this.#showMode === ShowMode.ONLY_SIDEBAR || this.#showMode === ShowMode.BOTH) {\n        widget.show(this.element);\n      }\n    }\n    this.resumeInvalidations();\n  }\n\n  mainWidget(): Widget|null {\n    return this.#mainWidget;\n  }\n\n  sidebarWidget(): Widget|null {\n    return this.#sidebarWidget;\n  }\n\n  sidebarElement(): HTMLElement {\n    return this.#sidebarElement;\n  }\n\n  override childWasDetached(widget: Widget): void {\n    if (this.#detaching) {\n      return;\n    }\n    if (this.#mainWidget === widget) {\n      this.#mainWidget = null;\n    }\n    if (this.#sidebarWidget === widget) {\n      this.#sidebarWidget = null;\n    }\n    this.invalidateConstraints();\n  }\n\n  isSidebarSecond(): boolean {\n    return this.#secondIsSidebar;\n  }\n\n  enableShowModeSaving(): void {\n    this.#shouldSaveShowMode = true;\n    this.#restoreAndApplyShowModeFromSettings();\n  }\n\n  showMode(): string {\n    return this.#showMode;\n  }\n\n  sidebarIsShowing(): boolean {\n    return this.#showMode !== ShowMode.ONLY_MAIN;\n  }\n\n  setSecondIsSidebar(secondIsSidebar: boolean): void {\n    if (secondIsSidebar === this.#secondIsSidebar) {\n      return;\n    }\n    this.#secondIsSidebar = secondIsSidebar;\n    if (!this.#mainWidget?.shouldHideOnDetach()) {\n      if (secondIsSidebar) {\n        this.contentElement.insertBefore(this.#mainElement, this.#sidebarElement);\n      } else {\n        this.contentElement.insertBefore(this.#mainElement, this.#resizerElement);\n      }\n    } else if (!this.#sidebarWidget?.shouldHideOnDetach()) {\n      if (secondIsSidebar) {\n        this.contentElement.insertBefore(this.#sidebarElement, this.#resizerElement);\n      } else {\n        this.contentElement.insertBefore(this.#sidebarElement, this.#mainElement);\n      }\n    } else {\n      console.error('Could not swap split widget side. Both children widgets contain iframes.');\n      this.#secondIsSidebar = !secondIsSidebar;\n    }\n  }\n\n  resizerElement(): Element {\n    return this.#resizerElement;\n  }\n\n  hideMain(animate?: boolean): void {\n    this.#showOnly(this.#sidebarWidget, this.#mainWidget, this.#sidebarElement, this.#mainElement, animate);\n    this.#updateShowMode(ShowMode.ONLY_SIDEBAR);\n  }\n\n  hideSidebar(animate?: boolean): void {\n    this.#showOnly(this.#mainWidget, this.#sidebarWidget, this.#mainElement, this.#sidebarElement, animate);\n    this.#updateShowMode(ShowMode.ONLY_MAIN);\n  }\n\n  setSidebarMinimized(minimized: boolean): void {\n    this.#sidebarMinimized = minimized;\n    this.invalidateConstraints();\n  }\n\n  isSidebarMinimized(): boolean {\n    return this.#sidebarMinimized;\n  }\n\n  #showOnly(\n      sideToShow: Widget|null,\n      sideToHide: Widget|null,\n      shadowToShow: Element,\n      shadowToHide: Element,\n      animate?: boolean,\n      ): void {\n    this.#cancelAnimation();\n\n    function callback(this: SplitWidget): void {\n      if (sideToShow) {\n        // Make sure main is first in the children list.\n        if (sideToShow === this.#mainWidget) {\n          this.#mainWidget.show(this.element, this.#sidebarWidget ? this.#sidebarWidget.element : null);\n        } else if (this.#sidebarWidget) {\n          this.#sidebarWidget.show(this.element);\n        }\n      }\n      if (sideToHide) {\n        this.#detaching = true;\n        sideToHide.detach();\n        this.#detaching = false;\n      }\n\n      this.#resizerElement.classList.add('hidden');\n      shadowToShow.classList.remove('hidden');\n      shadowToShow.classList.add('maximized');\n      shadowToHide.classList.add('hidden');\n      shadowToHide.classList.remove('maximized');\n      this.#removeAllLayoutProperties();\n      this.doResize();\n      this.showFinishedForTest();\n    }\n\n    if (animate) {\n      this.#animate(true, callback.bind(this));\n    } else {\n      callback.call(this);\n    }\n\n    this.#sidebarSizeDIP = -1;\n    this.setResizable(false);\n  }\n\n  protected showFinishedForTest(): void {\n    // This method is sniffed in tests.\n  }\n\n  #removeAllLayoutProperties(): void {\n    this.#sidebarElement.style.removeProperty('flexBasis');\n\n    this.#mainElement.style.removeProperty('width');\n    this.#mainElement.style.removeProperty('height');\n    this.#sidebarElement.style.removeProperty('width');\n    this.#sidebarElement.style.removeProperty('height');\n\n    this.#resizerElement.style.removeProperty('left');\n    this.#resizerElement.style.removeProperty('right');\n    this.#resizerElement.style.removeProperty('top');\n    this.#resizerElement.style.removeProperty('bottom');\n\n    this.#resizerElement.style.removeProperty('margin-left');\n    this.#resizerElement.style.removeProperty('margin-right');\n    this.#resizerElement.style.removeProperty('margin-top');\n    this.#resizerElement.style.removeProperty('margin-bottom');\n  }\n\n  showBoth(animate?: boolean): void {\n    if (this.#showMode === ShowMode.BOTH) {\n      animate = false;\n    }\n\n    this.#cancelAnimation();\n    this.#mainElement.classList.remove('maximized', 'hidden');\n    this.#sidebarElement.classList.remove('maximized', 'hidden');\n    this.#resizerElement.classList.remove('hidden');\n    this.setResizable(true);\n\n    // Make sure main is the first in the children list.\n    this.suspendInvalidations();\n    if (this.#sidebarWidget) {\n      this.#sidebarWidget.show(this.element);\n    }\n    if (this.#mainWidget) {\n      this.#mainWidget.show(this.element, this.#sidebarWidget ? this.#sidebarWidget.element : null);\n    }\n    this.resumeInvalidations();\n    // Order widgets in DOM properly.\n    this.setSecondIsSidebar(this.#secondIsSidebar);\n\n    this.#sidebarSizeDIP = -1;\n    this.#updateShowMode(ShowMode.BOTH);\n    this.#updateLayout(animate);\n  }\n\n  setResizable(resizable: boolean): void {\n    this.#resizerWidget.setEnabled(resizable);\n  }\n\n  // Currently unused\n  forceSetSidebarWidth(width: number): void {\n    this.#defaultSidebarWidth = width;\n    this.#savedSidebarSizeDIP = width;\n    this.#updateLayout();\n  }\n\n  isResizable(): boolean {\n    return this.#resizerWidget.isEnabled();\n  }\n\n  setSidebarSize(size: number): void {\n    const sizeDIP = ZoomManager.instance().cssToDIP(size);\n    this.#savedSidebarSizeDIP = sizeDIP;\n    this.#saveSetting();\n    this.#setSidebarSizeDIP(sizeDIP, false, true);\n  }\n\n  sidebarSize(): number {\n    const sizeDIP = Math.max(0, this.#sidebarSizeDIP);\n    return ZoomManager.instance().dipToCSS(sizeDIP);\n  }\n\n  totalSize(): number {\n    const sizeDIP = Math.max(0, this.#totalSizeDIP());\n    return ZoomManager.instance().dipToCSS(sizeDIP);\n  }\n\n  /**\n   * Returns total size in DIP.\n   */\n  #totalSizeDIP(): number {\n    if (!this.#totalSizeCSS) {\n      this.#totalSizeCSS = this.#isVertical ? this.contentElement.offsetWidth : this.contentElement.offsetHeight;\n      this.#totalSizeOtherDimensionCSS =\n          this.#isVertical ? this.contentElement.offsetHeight : this.contentElement.offsetWidth;\n    }\n    return ZoomManager.instance().cssToDIP(this.#totalSizeCSS);\n  }\n\n  #updateShowMode(showMode: ShowMode): void {\n    this.#showMode = showMode;\n    this.#saveShowModeToSettings();\n    this.#updateShowHideSidebarButton();\n    this.dispatchEventToListeners(Events.SHOW_MODE_CHANGED, showMode);\n    this.invalidateConstraints();\n  }\n\n  #setSidebarSizeDIP(sizeDIP: number, animate: boolean, userAction?: boolean): void {\n    if (this.#showMode !== ShowMode.BOTH || !this.isShowing()) {\n      return;\n    }\n\n    sizeDIP = this.#applyConstraints(sizeDIP, userAction);\n    if (this.#sidebarSizeDIP === sizeDIP) {\n      return;\n    }\n\n    if (!this.#resizerElementSize) {\n      this.#resizerElementSize =\n          this.#isVertical ? this.#resizerElement.offsetWidth : this.#resizerElement.offsetHeight;\n    }\n\n    // Invalidate layout below.\n\n    this.#removeAllLayoutProperties();\n\n    // this.#totalSizeDIP is available below since we successfully applied constraints.\n    const roundSizeCSS = Math.round(ZoomManager.instance().dipToCSS(sizeDIP));\n    const sidebarSizeValue = roundSizeCSS + 'px';\n    const mainSizeValue = (this.#totalSizeCSS - roundSizeCSS) + 'px';\n    this.#sidebarElement.style.flexBasis = sidebarSizeValue;\n\n    // Make both sides relayout boundaries.\n    if (this.#isVertical) {\n      this.#sidebarElement.style.width = sidebarSizeValue;\n      this.#mainElement.style.width = mainSizeValue;\n      this.#sidebarElement.style.height = this.#totalSizeOtherDimensionCSS + 'px';\n      this.#mainElement.style.height = this.#totalSizeOtherDimensionCSS + 'px';\n    } else {\n      this.#sidebarElement.style.height = sidebarSizeValue;\n      this.#mainElement.style.height = mainSizeValue;\n      this.#sidebarElement.style.width = this.#totalSizeOtherDimensionCSS + 'px';\n      this.#mainElement.style.width = this.#totalSizeOtherDimensionCSS + 'px';\n    }\n\n    // Position resizer.\n    if (this.#isVertical) {\n      if (this.#secondIsSidebar) {\n        this.#resizerElement.style.right = sidebarSizeValue;\n        this.#resizerElement.style.marginRight = -this.#resizerElementSize / 2 + 'px';\n      } else {\n        this.#resizerElement.style.left = sidebarSizeValue;\n        this.#resizerElement.style.marginLeft = -this.#resizerElementSize / 2 + 'px';\n      }\n    } else if (this.#secondIsSidebar) {\n      this.#resizerElement.style.bottom = sidebarSizeValue;\n      this.#resizerElement.style.marginBottom = -this.#resizerElementSize / 2 + 'px';\n    } else {\n      this.#resizerElement.style.top = sidebarSizeValue;\n      this.#resizerElement.style.marginTop = -this.#resizerElementSize / 2 + 'px';\n    }\n\n    this.#sidebarSizeDIP = sizeDIP;\n\n    // Force layout.\n\n    if (animate) {\n      this.#animate(false);\n    } else {\n      // No need to recalculate this.sidebarSizeDIP and this.#totalSizeDIP again.\n      this.doResize();\n      this.dispatchEventToListeners(Events.SIDEBAR_SIZE_CHANGED, this.sidebarSize());\n    }\n  }\n\n  #animate(reverse: boolean, callback?: (() => void)): void {\n    const animationTime = 50;\n    this.#animationCallback = callback || null;\n\n    let animatedMarginPropertyName: string;\n    if (this.#isVertical) {\n      animatedMarginPropertyName = this.#secondIsSidebar ? 'margin-right' : 'margin-left';\n    } else {\n      animatedMarginPropertyName = this.#secondIsSidebar ? 'margin-bottom' : 'margin-top';\n    }\n\n    const marginFrom = reverse ? '0' : '-' + ZoomManager.instance().dipToCSS(this.#sidebarSizeDIP) + 'px';\n    const marginTo = reverse ? '-' + ZoomManager.instance().dipToCSS(this.#sidebarSizeDIP) + 'px' : '0';\n\n    // This order of things is important.\n    // 1. Resize main element early and force layout.\n    this.contentElement.style.setProperty(animatedMarginPropertyName, marginFrom);\n    this.contentElement.style.setProperty('overflow', 'hidden');\n    if (!reverse) {\n      suppressUnused(this.#mainElement.offsetWidth);\n      suppressUnused(this.#sidebarElement.offsetWidth);\n    }\n\n    // 2. Issue onresize to the sidebar element, its size won't change.\n    if (!reverse && this.#sidebarWidget) {\n      this.#sidebarWidget.doResize();\n    }\n\n    // 3. Configure and run animation\n    this.contentElement.style.setProperty('transition', animatedMarginPropertyName + ' ' + animationTime + 'ms linear');\n\n    const boundAnimationFrame = animationFrame.bind(this);\n    let startTime: number|null = null;\n    function animationFrame(this: SplitWidget): void {\n      this.#animationFrameHandle = 0;\n\n      if (!startTime) {\n        // Kick animation on first frame.\n        this.contentElement.style.setProperty(animatedMarginPropertyName, marginTo);\n        startTime = window.performance.now();\n      } else if (window.performance.now() < startTime + animationTime) {\n        // Process regular animation frame.\n        if (this.#mainWidget) {\n          this.#mainWidget.doResize();\n        }\n      } else {\n        // Complete animation.\n        this.#cancelAnimation();\n        if (this.#mainWidget) {\n          this.#mainWidget.doResize();\n        }\n        this.dispatchEventToListeners(Events.SIDEBAR_SIZE_CHANGED, this.sidebarSize());\n        return;\n      }\n      this.#animationFrameHandle = this.contentElement.window().requestAnimationFrame(boundAnimationFrame);\n    }\n    this.#animationFrameHandle = this.contentElement.window().requestAnimationFrame(boundAnimationFrame);\n  }\n\n  #cancelAnimation(): void {\n    this.contentElement.style.removeProperty('margin-top');\n    this.contentElement.style.removeProperty('margin-right');\n    this.contentElement.style.removeProperty('margin-bottom');\n    this.contentElement.style.removeProperty('margin-left');\n    this.contentElement.style.removeProperty('transition');\n    this.contentElement.style.removeProperty('overflow');\n\n    if (this.#animationFrameHandle) {\n      this.contentElement.window().cancelAnimationFrame(this.#animationFrameHandle);\n      this.#animationFrameHandle = 0;\n    }\n    if (this.#animationCallback) {\n      this.#animationCallback();\n      this.#animationCallback = null;\n    }\n  }\n\n  #applyConstraints(sidebarSize: number, userAction?: boolean): number {\n    const totalSize = this.#totalSizeDIP();\n    const zoomFactor = this.#constraintsInDip ? 1 : ZoomManager.instance().zoomFactor();\n\n    let constraints: Geometry.Constraints =\n        this.#sidebarWidget ? this.#sidebarWidget.constraints() : new Geometry.Constraints();\n    let minSidebarSize: 20|number = this.isVertical() ? constraints.minimum.width : constraints.minimum.height;\n    if (!minSidebarSize) {\n      minSidebarSize = MinPadding;\n    }\n    minSidebarSize *= zoomFactor;\n    if (this.#sidebarMinimized) {\n      sidebarSize = minSidebarSize;\n    }\n\n    let preferredSidebarSize: 20|number =\n        this.isVertical() ? constraints.preferred.width : constraints.preferred.height;\n    if (!preferredSidebarSize) {\n      preferredSidebarSize = MinPadding;\n    }\n    preferredSidebarSize *= zoomFactor;\n    // Allow sidebar to be less than preferred by explicit user action.\n    if (sidebarSize < preferredSidebarSize) {\n      preferredSidebarSize = Math.max(sidebarSize, minSidebarSize);\n    }\n    preferredSidebarSize += zoomFactor;  // 1 css pixel for splitter border.\n\n    constraints = this.#mainWidget ? this.#mainWidget.constraints() : new Geometry.Constraints();\n    let minMainSize: 20|number = this.isVertical() ? constraints.minimum.width : constraints.minimum.height;\n    if (!minMainSize) {\n      minMainSize = MinPadding;\n    }\n    minMainSize *= zoomFactor;\n\n    let preferredMainSize: 20|number = this.isVertical() ? constraints.preferred.width : constraints.preferred.height;\n    if (!preferredMainSize) {\n      preferredMainSize = MinPadding;\n    }\n    preferredMainSize *= zoomFactor;\n    const savedMainSize = this.isVertical() ? this.#savedVerticalMainSize : this.#savedHorizontalMainSize;\n    if (savedMainSize !== null) {\n      preferredMainSize = Math.min(preferredMainSize, savedMainSize * zoomFactor);\n    }\n    if (userAction) {\n      preferredMainSize = minMainSize;\n    }\n\n    // Enough space for preferred.\n    const totalPreferred = preferredMainSize + preferredSidebarSize;\n    if (totalPreferred <= totalSize) {\n      return Platform.NumberUtilities.clamp(sidebarSize, preferredSidebarSize, totalSize - preferredMainSize);\n    }\n\n    // Enough space for minimum.\n    if (minMainSize + minSidebarSize <= totalSize) {\n      const delta = totalPreferred - totalSize;\n      const sidebarDelta = delta * preferredSidebarSize / totalPreferred;\n      sidebarSize = preferredSidebarSize - sidebarDelta;\n      return Platform.NumberUtilities.clamp(sidebarSize, minSidebarSize, totalSize - minMainSize);\n    }\n\n    // Not enough space even for minimum sizes.\n    return Math.max(0, totalSize - minMainSize);\n  }\n\n  override wasShown(): void {\n    super.wasShown();\n    this.#forceUpdateLayout();\n    ZoomManager.instance().addEventListener(ZoomManagerEvents.ZOOM_CHANGED, this.onZoomChanged, this);\n  }\n\n  override willHide(): void {\n    super.willHide();\n    ZoomManager.instance().removeEventListener(ZoomManagerEvents.ZOOM_CHANGED, this.onZoomChanged, this);\n  }\n\n  override onResize(): void {\n    this.#maybeAutoAdjustOrientation();\n    this.#updateLayout();\n  }\n\n  override onLayout(): void {\n    this.#updateLayout();\n  }\n\n  override calculateConstraints(): Geometry.Constraints {\n    if (this.#showMode === ShowMode.ONLY_MAIN) {\n      return this.#mainWidget ? this.#mainWidget.constraints() : new Geometry.Constraints();\n    }\n    if (this.#showMode === ShowMode.ONLY_SIDEBAR) {\n      return this.#sidebarWidget ? this.#sidebarWidget.constraints() : new Geometry.Constraints();\n    }\n\n    let mainConstraints: Geometry.Constraints =\n        this.#mainWidget ? this.#mainWidget.constraints() : new Geometry.Constraints();\n    let sidebarConstraints: Geometry.Constraints =\n        this.#sidebarWidget ? this.#sidebarWidget.constraints() : new Geometry.Constraints();\n    const min = MinPadding;\n    if (this.#isVertical) {\n      mainConstraints = mainConstraints.widthToMax(min).addWidth(1);  // 1 for splitter\n      sidebarConstraints = sidebarConstraints.widthToMax(min);\n      return mainConstraints.addWidth(sidebarConstraints).heightToMax(sidebarConstraints);\n    }\n    mainConstraints = mainConstraints.heightToMax(min).addHeight(1);  // 1 for splitter\n    sidebarConstraints = sidebarConstraints.heightToMax(min);\n    return mainConstraints.widthToMax(sidebarConstraints).addHeight(sidebarConstraints);\n  }\n\n  #maybeAutoAdjustOrientation(): void {\n    if (this.#autoAdjustOrientation) {\n      const width = this.isVertical() ? this.#totalSizeCSS : this.#totalSizeOtherDimensionCSS;\n      const height = this.isVertical() ? this.#totalSizeOtherDimensionCSS : this.#totalSizeCSS;\n      if (width <= 600 && height >= 600) {\n        this.setVertical(false);\n      } else {\n        this.setVertical(true);\n      }\n    }\n  }\n\n  #onResizeStart(): void {\n    this.#resizeStartSizeDIP = this.#sidebarSizeDIP;\n  }\n\n  #onResizeUpdate(event: Common.EventTarget.EventTargetEvent<ResizeUpdatePositionEvent>): void {\n    const offset = event.data.currentPosition - event.data.startPosition;\n    const offsetDIP = ZoomManager.instance().cssToDIP(offset);\n    const newSizeDIP =\n        this.#secondIsSidebar ? this.#resizeStartSizeDIP - offsetDIP : this.#resizeStartSizeDIP + offsetDIP;\n    const constrainedSizeDIP = this.#applyConstraints(newSizeDIP, true);\n    this.#savedSidebarSizeDIP = constrainedSizeDIP;\n    this.#saveSetting();\n    this.#setSidebarSizeDIP(constrainedSizeDIP, false, true);\n    if (this.isVertical()) {\n      this.#savedVerticalMainSize = this.#totalSizeDIP() - this.#sidebarSizeDIP;\n    } else {\n      this.#savedHorizontalMainSize = this.#totalSizeDIP() - this.#sidebarSizeDIP;\n    }\n  }\n\n  #onResizeEnd(): void {\n    this.#resizeStartSizeDIP = 0;\n  }\n\n  hideDefaultResizer(noSplitter?: boolean): void {\n    this.#resizerElement.classList.toggle('hidden', Boolean(noSplitter));\n    this.uninstallResizer(this.#resizerElement);\n    this.#sidebarElement.classList.toggle('no-default-splitter', Boolean(noSplitter));\n  }\n\n  installResizer(resizerElement: Element): void {\n    this.#resizerWidget.addElement((resizerElement as HTMLElement));\n  }\n\n  uninstallResizer(resizerElement: Element): void {\n    this.#resizerWidget.removeElement((resizerElement as HTMLElement));\n  }\n\n  toggleResizer(resizer: Element, on: boolean): void {\n    if (on) {\n      this.installResizer(resizer);\n    } else {\n      this.uninstallResizer(resizer);\n    }\n  }\n\n  #settingForOrientation(): SettingForOrientation|null {\n    const state = this.setting ? this.setting.get() : {};\n    const orientationState = this.#isVertical ? state.vertical : state.horizontal;\n    return orientationState ?? null;\n  }\n\n  #preferredSidebarSizeDIP(): number {\n    let size: number = this.#savedSidebarSizeDIP;\n    if (!size) {\n      size = this.#isVertical ? this.#defaultSidebarWidth : this.#defaultSidebarHeight;\n      // If we have default value in percents, calculate it on first use.\n      if (0 < size && size < 1) {\n        size *= this.#totalSizeDIP();\n      }\n    }\n    return size;\n  }\n\n  #restoreSidebarSizeFromSettings(): void {\n    const settingForOrientation = this.#settingForOrientation();\n    this.#savedSidebarSizeDIP = settingForOrientation ? settingForOrientation.size : 0;\n  }\n\n  #restoreAndApplyShowModeFromSettings(): void {\n    const orientationState = this.#settingForOrientation();\n    this.#savedShowMode = orientationState?.showMode ? orientationState.showMode : this.#showMode;\n    this.#showMode = this.#savedShowMode;\n\n    switch (this.#savedShowMode) {\n      case ShowMode.BOTH:\n        this.showBoth();\n        break;\n      case ShowMode.ONLY_MAIN:\n        this.hideSidebar();\n        break;\n      case ShowMode.ONLY_SIDEBAR:\n        this.hideMain();\n        break;\n    }\n  }\n\n  #saveShowModeToSettings(): void {\n    this.#savedShowMode = this.#showMode;\n    this.#saveSetting();\n  }\n\n  #saveSetting(): void {\n    if (!this.setting) {\n      return;\n    }\n    const state = this.setting.get();\n    const orientationState = (this.#isVertical ? state.vertical : state.horizontal) || {} as SettingForOrientation;\n\n    orientationState.size = this.#savedSidebarSizeDIP;\n    if (this.#shouldSaveShowMode) {\n      orientationState.showMode = this.#savedShowMode;\n    }\n\n    if (this.#isVertical) {\n      state.vertical = orientationState;\n    } else {\n      state.horizontal = orientationState;\n    }\n    this.setting.set(state);\n  }\n\n  #forceUpdateLayout(): void {\n    // Force layout even if sidebar size does not change.\n    this.#sidebarSizeDIP = -1;\n    this.#updateLayout();\n  }\n\n  onZoomChanged(): void {\n    this.#forceUpdateLayout();\n  }\n\n  createShowHideSidebarButton(\n      showTitle: Common.UIString.LocalizedString, hideTitle: Common.UIString.LocalizedString,\n      shownString: Common.UIString.LocalizedString, hiddenString: Common.UIString.LocalizedString,\n      jslogContext?: string): ToolbarButton {\n    this.#showSidebarButtonTitle = showTitle;\n    this.#hideSidebarButtonTitle = hideTitle;\n    this.#shownSidebarString = shownString;\n    this.#hiddenSidebarString = hiddenString;\n    this.#showHideSidebarButton = new ToolbarButton('', 'right-panel-open');\n    this.#showHideSidebarButton.addEventListener(ToolbarButton.Events.CLICK, buttonClicked, this);\n    if (jslogContext) {\n      this.#showHideSidebarButton.element.setAttribute(\n          'jslog', `${VisualLogging.toggleSubpane().track({click: true}).context(jslogContext)}`);\n    }\n    this.#updateShowHideSidebarButton();\n\n    function buttonClicked(this: SplitWidget): void {\n      this.toggleSidebar();\n    }\n\n    return this.#showHideSidebarButton;\n  }\n\n  /**\n   * @returns true if this call makes the sidebar visible, and false otherwise.\n   */\n  toggleSidebar(): boolean {\n    if (this.#showMode !== ShowMode.BOTH) {\n      this.showBoth(true);\n      ARIAUtils.LiveAnnouncer.alert(this.#shownSidebarString);\n      return true;\n    }\n    this.hideSidebar(true);\n    ARIAUtils.LiveAnnouncer.alert(this.#hiddenSidebarString);\n    return false;\n  }\n\n  #updateShowHideSidebarButton(): void {\n    if (!this.#showHideSidebarButton) {\n      return;\n    }\n    const sidebarHidden = this.#showMode === ShowMode.ONLY_MAIN;\n    let glyph = '';\n    if (sidebarHidden) {\n      glyph = this.isVertical() ? (this.isSidebarSecond() ? 'right-panel-open' : 'left-panel-open') :\n                                  (this.isSidebarSecond() ? 'bottom-panel-open' : 'top-panel-open');\n    } else {\n      glyph = this.isVertical() ? (this.isSidebarSecond() ? 'right-panel-close' : 'left-panel-close') :\n                                  (this.isSidebarSecond() ? 'bottom-panel-close' : 'top-panel-close');\n    }\n    this.#showHideSidebarButton.setGlyph(glyph);\n    this.#showHideSidebarButton.setTitle(sidebarHidden ? this.#showSidebarButtonTitle : this.#hideSidebarButtonTitle);\n  }\n}\n\nexport class SplitWidgetElement extends WidgetElement<SplitWidget> {\n  static readonly observedAttributes = ['direction', 'sidebar-position', 'sidebar-initial-size', 'sidebar-visibility'];\n\n  override createWidget(): SplitWidget {\n    const vertical = this.getAttribute('direction') === 'column';\n    const autoAdjustOrientation = this.getAttribute('direction') === 'auto';\n    const secondIsSidebar = this.getAttribute('sidebar-position') === 'second';\n    const settingName = this.getAttribute('name') ?? undefined;\n    const sidebarSize = parseInt(this.getAttribute('sidebar-initial-size') || '', 10);\n    const defaultSidebarWidth = !isNaN(sidebarSize) ? sidebarSize : undefined;\n    const defaultSidebarHeight = !isNaN(sidebarSize) ? sidebarSize : undefined;\n    const widget = new SplitWidget(\n        vertical, secondIsSidebar, settingName, defaultSidebarWidth, defaultSidebarHeight,\n        /* constraintsInDip=*/ false, this);\n    if (this.getAttribute('sidebar-initial-size') === 'minimized') {\n      widget.setSidebarMinimized(true);\n    }\n    if (autoAdjustOrientation) {\n      widget.setAutoAdjustOrientation(true);\n    }\n    const sidebarHidden = this.getAttribute('sidebar-visibility') === 'hidden';\n    if (sidebarHidden) {\n      widget.hideSidebar();\n    }\n    widget.addEventListener(Events.SHOW_MODE_CHANGED, () => {\n      this.dispatchEvent(new CustomEvent('change', {detail: widget.showMode()}));\n    });\n\n    return widget;\n  }\n\n  attributeChangedCallback(name: string, _oldValue: string, newValue: string): void {\n    const widget = Widget.get(this) as SplitWidget | null;\n    if (!widget) {\n      return;\n    }\n    if (name === 'direction') {\n      widget.setVertical(newValue === 'column');\n      widget.setAutoAdjustOrientation(newValue === 'auto');\n    } else if (name === 'sidebar-position') {\n      widget.setSecondIsSidebar(newValue === 'second');\n    } else if (name === 'sidebar-visibility') {\n      if (newValue === 'hidden') {\n        widget.hideSidebar();\n      } else {\n        widget.showBoth();\n      }\n    }\n  }\n}\n\ncustomElements.define('devtools-split-view', SplitWidgetElement);\n\nexport const enum ShowMode {\n  BOTH = 'Both',\n  ONLY_MAIN = 'OnlyMain',\n  ONLY_SIDEBAR = 'OnlySidebar',\n}\n\nexport const enum Events {\n  SIDEBAR_SIZE_CHANGED = 'SidebarSizeChanged',\n  SHOW_MODE_CHANGED = 'ShowModeChanged',\n}\n\nexport interface EventTypes {\n  [Events.SIDEBAR_SIZE_CHANGED]: number;\n  [Events.SHOW_MODE_CHANGED]: string;\n}\n\nconst MinPadding = 20;\nexport interface SettingForOrientation {\n  showMode: ShowMode;\n  size: number;\n}\n\nconst suppressUnused = function(_value: unknown): void {};\n"]}