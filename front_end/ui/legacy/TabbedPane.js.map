{"version":3,"file":"TabbedPane.js","sourceRoot":"","sources":["../../../../../../front_end/ui/legacy/TabbedPane.ts"],"names":[],"mappings":"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","sourcesContent":["// Copyright 2010 The Chromium Authors\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\n/* eslint-disable @devtools/no-imperative-dom-api */\n\nimport './Toolbar.js';\n\nimport * as Common from '../../core/common/common.js';\nimport * as i18n from '../../core/i18n/i18n.js';\nimport * as Platform from '../../core/platform/platform.js';\nimport * as Geometry from '../../models/geometry/geometry.js';\nimport * as Buttons from '../../ui/components/buttons/buttons.js';\nimport * as VisualLogging from '../../ui/visual_logging/visual_logging.js';\nimport * as IconButton from '../components/icon_button/icon_button.js';\n\nimport * as ARIAUtils from './ARIAUtils.js';\nimport {ContextMenu} from './ContextMenu.js';\nimport tabbedPaneStyles from './tabbedPane.css.js';\nimport type {Toolbar} from './Toolbar.js';\nimport {Tooltip} from './Tooltip.js';\nimport {installDragHandle} from './UIUtils.js';\nimport {VBox, type Widget} from './Widget.js';\nimport {Events as ZoomManagerEvents, ZoomManager} from './ZoomManager.js';\n\nconst UIStrings = {\n  /**\n   * @description The aria label for the button to open more tabs at the right tabbed pane in Elements tools\n   */\n  moreTabs: 'More tabs',\n  /**\n   * @description Text in Tabbed Pane\n   * @example {tab} PH1\n   */\n  closeS: 'Close {PH1}',\n  /**\n   * @description Text to close something\n   */\n  close: 'Close',\n  /**\n   * @description Text on a menu option to close other drawers when right click on a drawer title\n   */\n  closeOthers: 'Close others',\n  /**\n   * @description Text on a menu option to close the drawer to the right when right click on a drawer title\n   */\n  closeTabsToTheRight: 'Close tabs to the right',\n  /**\n   * @description Text on a menu option to close all the drawers except Console when right click on a drawer title\n   */\n  closeAll: 'Close all',\n  /**\n   * @description Indicates that a tab contains a preview feature (i.e., a beta / experimental feature).\n   */\n  previewFeature: 'Preview feature',\n  /**\n   * @description Text to move a tab forwar.\n   */\n  moveTabRight: 'Move right',\n  /**\n   * @description Text to move a tab backward.\n   */\n  moveTabLeft: 'Move left',\n} as const;\nconst str_ = i18n.i18n.registerUIStrings('ui/legacy/TabbedPane.ts', UIStrings);\nconst i18nString = i18n.i18n.getLocalizedString.bind(undefined, str_);\nexport class TabbedPane extends Common.ObjectWrapper.eventMixin<EventTypes, typeof VBox>(VBox) {\n  readonly #headerElement: HTMLElement;\n  private readonly headerContentsElement: HTMLElement;\n  tabSlider: HTMLDivElement;\n  readonly tabsElement: HTMLElement;\n  readonly #contentElement: HTMLElement;\n  private tabs: TabbedPaneTab[];\n  private readonly tabsHistory: TabbedPaneTab[];\n  tabsById: Map<string, TabbedPaneTab>;\n  private currentTabLocked: boolean;\n  private autoSelectFirstItemOnShow: boolean;\n  private triggerDropDownTimeout: number|null;\n  private dropDownButton: HTMLDivElement;\n  private currentDevicePixelRatio: number;\n  private shrinkableTabs?: boolean;\n  private verticalTabLayout?: boolean;\n  private closeableTabs?: boolean;\n  private delegate?: TabbedPaneTabDelegate;\n  private currentTab?: TabbedPaneTab;\n  private sliderEnabled?: boolean;\n  private placeholderElement?: Element;\n  private focusedPlaceholderElement?: Element;\n  private placeholderContainerElement?: HTMLElement;\n  private lastSelectedOverflowTab?: TabbedPaneTab;\n  private measuredDropDownButtonWidth?: number;\n  #leftToolbar?: Toolbar;\n  #rightToolbar?: Toolbar;\n  allowTabReorder?: boolean;\n  private automaticReorder?: boolean;\n\n  constructor(element?: HTMLElement) {\n    super(element, {useShadowDom: true});\n    this.registerRequiredCSS(tabbedPaneStyles);\n    this.element.classList.add('tabbed-pane');\n    this.contentElement.classList.add('tabbed-pane-shadow');\n    this.contentElement.tabIndex = -1;\n    this.setDefaultFocusedElement(this.contentElement);\n    this.#headerElement = this.contentElement.createChild('div', 'tabbed-pane-header');\n    this.headerContentsElement = this.#headerElement.createChild('div', 'tabbed-pane-header-contents');\n    this.tabSlider = document.createElement('div');\n    this.tabSlider.classList.add('tabbed-pane-tab-slider');\n    this.tabsElement = this.headerContentsElement.createChild('div', 'tabbed-pane-header-tabs');\n    this.tabsElement.setAttribute('role', 'tablist');\n    this.tabsElement.addEventListener('keydown', this.keyDown.bind(this), false);\n    this.#contentElement = this.contentElement.createChild('div', 'tabbed-pane-content');\n    this.#contentElement.createChild('slot');\n    this.tabs = [];\n    this.tabsHistory = [];\n    this.tabsById = new Map();\n    this.currentTabLocked = false;\n    this.autoSelectFirstItemOnShow = true;\n\n    this.triggerDropDownTimeout = null;\n    this.dropDownButton = this.createDropDownButton();\n    this.currentDevicePixelRatio = window.devicePixelRatio;\n    ZoomManager.instance().addEventListener(ZoomManagerEvents.ZOOM_CHANGED, this.zoomChanged, this);\n    this.makeTabSlider();\n  }\n\n  setAccessibleName(name: string): void {\n    ARIAUtils.setLabel(this.tabsElement, name);\n  }\n\n  setCurrentTabLocked(locked: boolean): void {\n    this.currentTabLocked = locked;\n    this.#headerElement.classList.toggle('locked', this.currentTabLocked);\n  }\n\n  setAutoSelectFirstItemOnShow(autoSelect: boolean): void {\n    this.autoSelectFirstItemOnShow = autoSelect;\n  }\n\n  get visibleView(): Widget|null {\n    return this.currentTab ? this.currentTab.view : null;\n  }\n\n  tabIds(): string[] {\n    return this.tabs.map(tab => tab.id);\n  }\n\n  tabIndex(tabId: string): number {\n    return this.tabs.findIndex(tab => tab.id === tabId);\n  }\n\n  tabViews(): Widget[] {\n    return this.tabs.map(tab => tab.view);\n  }\n\n  tabView(tabId: string): Widget|null {\n    const tab = this.tabsById.get(tabId);\n    return tab ? tab.view : null;\n  }\n\n  get selectedTabId(): string|null {\n    return this.currentTab ? this.currentTab.id : null;\n  }\n\n  setShrinkableTabs(shrinkableTabs: boolean): void {\n    this.shrinkableTabs = shrinkableTabs;\n  }\n\n  makeVerticalTabLayout(): void {\n    this.verticalTabLayout = true;\n    this.setTabSlider(false);\n    this.contentElement.classList.add('vertical-tab-layout');\n    this.invalidateConstraints();\n  }\n\n  setCloseableTabs(closeableTabs: boolean): void {\n    this.closeableTabs = closeableTabs;\n  }\n\n  override focus(): void {\n    if (this.visibleView) {\n      this.visibleView.focus();\n    } else {\n      this.contentElement.focus();\n    }\n  }\n\n  focusSelectedTabHeader(): void {\n    const selectedTab = this.currentTab;\n    if (selectedTab) {\n      selectedTab.tabElement.focus();\n    }\n  }\n\n  headerElement(): Element {\n    return this.#headerElement;\n  }\n\n  tabbedPaneContentElement(): Element {\n    return this.#contentElement;\n  }\n\n  setTabDelegate(delegate: TabbedPaneTabDelegate): void {\n    const tabs = this.tabs.slice();\n    for (let i = 0; i < tabs.length; ++i) {\n      tabs[i].setDelegate(delegate);\n    }\n    this.delegate = delegate;\n  }\n\n  appendTab(\n      id: string, tabTitle: string, view: Widget, tabTooltip?: string, userGesture?: boolean, isCloseable?: boolean,\n      isPreviewFeature?: boolean, index?: number, jslogContext?: string): void {\n    const closeable = typeof isCloseable === 'boolean' ? isCloseable : Boolean(this.closeableTabs);\n    const tab =\n        new TabbedPaneTab(this, id, tabTitle, closeable, Boolean(isPreviewFeature), view, tabTooltip, jslogContext);\n    tab.setDelegate((this.delegate as TabbedPaneTabDelegate));\n    console.assert(!this.tabsById.has(id), `Tabbed pane already contains a tab with id '${id}'`);\n    this.tabsById.set(id, tab);\n    tab.tabElement.tabIndex = -1;\n    tab.tabElement.setAttribute(\n        'jslog', `${VisualLogging.panelTabHeader().track({click: true, drag: true}).context(tab.jslogContext)}`);\n    if (index !== undefined) {\n      this.tabs.splice(index, 0, tab);\n    } else {\n      this.tabs.push(tab);\n    }\n    this.tabsHistory.push(tab);\n    if (this.tabsHistory[0] === tab && this.isShowing()) {\n      this.selectTab(tab.id, userGesture);\n    }\n    this.requestUpdate();\n  }\n\n  closeTab(id: string, userGesture?: boolean): void {\n    this.closeTabs([id], userGesture);\n  }\n\n  closeTabs(ids: string[], userGesture?: boolean): void {\n    if (ids.length === 0) {\n      return;\n    }\n\n    const focused = this.hasFocus();\n    for (let i = 0; i < ids.length; ++i) {\n      this.#closeTab(ids[i], userGesture);\n    }\n    this.requestUpdate();\n    if (this.tabsHistory.length) {\n      this.selectTab(this.tabsHistory[0].id, false);\n    }\n    if (focused) {\n      this.focus();\n    }\n  }\n\n  #closeTab(id: string, userGesture?: boolean): true|undefined {\n    const tab = this.tabsById.get(id);\n    if (!tab) {\n      return;\n    }\n    if (userGesture && !tab.closeable) {\n      return;\n    }\n    if (this.currentTab && this.currentTab.id === id) {\n      this.hideCurrentTab();\n    }\n\n    this.tabsById.delete(id);\n\n    this.tabsHistory.splice(this.tabsHistory.indexOf(tab), 1);\n    this.tabs.splice(this.tabs.indexOf(tab), 1);\n    if (tab.shown) {\n      this.hideTabElement(tab);\n    }\n\n    const eventData: EventData = {prevTabId: undefined, tabId: id, view: tab.view, isUserGesture: userGesture};\n    this.dispatchEventToListeners(Events.TabClosed, eventData);\n    return true;\n  }\n\n  hasTab(tabId: string): boolean {\n    return this.tabsById.has(tabId);\n  }\n\n  otherTabs(id: string): string[] {\n    const result = [];\n    for (let i = 0; i < this.tabs.length; ++i) {\n      if (this.tabs[i].id !== id) {\n        result.push(this.tabs[i].id);\n      }\n    }\n    return result;\n  }\n\n  tabsToTheRight(id: string): string[] {\n    let index = -1;\n    for (let i = 0; i < this.tabs.length; ++i) {\n      if (this.tabs[i].id === id) {\n        index = i;\n        break;\n      }\n    }\n    if (index === -1) {\n      return [];\n    }\n    return this.tabs.slice(index + 1).map(function(tab) {\n      return tab.id;\n    });\n  }\n\n  private viewHasFocus(): boolean {\n    if (this.visibleView?.hasFocus()) {\n      return true;\n    }\n    const root = this.contentElement.getComponentRoot();\n    return root instanceof Document && this.contentElement === root.activeElement;\n  }\n\n  selectTab(id: string, userGesture?: boolean, forceFocus?: boolean): boolean {\n    if (this.currentTabLocked) {\n      return false;\n    }\n    const focused = this.viewHasFocus();\n    const tab = this.tabsById.get(id);\n    if (!tab) {\n      return false;\n    }\n\n    this.lastSelectedOverflowTab = tab;\n\n    const eventData: EventData = {\n      prevTabId: this.currentTab ? this.currentTab.id : undefined,\n      tabId: id,\n      view: tab.view,\n      isUserGesture: userGesture,\n    };\n    this.dispatchEventToListeners(Events.TabInvoked, eventData);\n    if (this.currentTab && this.currentTab.id === id) {\n      return true;\n    }\n\n    this.suspendInvalidations();\n    this.hideCurrentTab();\n    this.showTab(tab);\n    this.resumeInvalidations();\n    this.currentTab = tab;\n\n    this.tabsHistory.splice(this.tabsHistory.indexOf(tab), 1);\n    this.tabsHistory.splice(0, 0, tab);\n\n    this.requestUpdate();\n    if (focused || forceFocus) {\n      this.focus();\n    }\n\n    this.dispatchEventToListeners(Events.TabSelected, eventData);\n    return true;\n  }\n\n  selectNextTab(): void {\n    const index = this.tabs.indexOf((this.currentTab as TabbedPaneTab));\n    const nextIndex = Platform.NumberUtilities.mod(index + 1, this.tabs.length);\n    this.selectTab(this.tabs[nextIndex].id, true);\n  }\n\n  selectPrevTab(): void {\n    const index = this.tabs.indexOf((this.currentTab as TabbedPaneTab));\n    const nextIndex = Platform.NumberUtilities.mod(index - 1, this.tabs.length);\n    this.selectTab(this.tabs[nextIndex].id, true);\n  }\n\n  getTabIndex(id: string): number {\n    const index = this.tabs.indexOf((this.tabsById.get(id) as TabbedPaneTab));\n    return index;\n  }\n\n  moveTabBackward(id: string, index: number): void {\n    this.insertBefore((this.tabsById.get(id) as TabbedPaneTab), index - 1);\n    this.updateTabSlider();\n  }\n\n  moveTabForward(id: string, index: number): void {\n    this.insertBefore((this.tabsById.get(id) as TabbedPaneTab), index + 2);\n    this.updateTabSlider();\n  }\n\n  lastOpenedTabIds(tabsCount: number): string[] {\n    function tabToTabId(tab: TabbedPaneTab): string {\n      return tab.id;\n    }\n\n    return this.tabsHistory.slice(0, tabsCount).map(tabToTabId);\n  }\n\n  setTabIcon(id: string, icon: IconButton.Icon.Icon|null): void {\n    const tab = this.tabsById.get(id);\n    if (!tab) {\n      return;\n    }\n    tab.setIcon(icon);\n    this.requestUpdate();\n  }\n\n  setTrailingTabIcon(id: string, icon: IconButton.Icon.Icon|null): void {\n    const tab = this.tabsById.get(id);\n    if (!tab) {\n      return;\n    }\n    tab.setSuffixElement(icon);\n  }\n\n  setSuffixElement(id: string, suffixElement: HTMLElement|null): void {\n    const tab = this.tabsById.get(id);\n    if (!tab) {\n      return;\n    }\n    tab.setSuffixElement(suffixElement);\n    this.requestUpdate();\n  }\n\n  setBadge(id: string, content: string|null): void {\n    const badge = document.createElement('span');\n    badge.textContent = content;\n    badge.classList.add('badge');\n    this.setSuffixElement(id, content ? badge : null);\n  }\n\n  setTabEnabled(id: string, enabled: boolean): void {\n    const tab = this.tabsById.get(id);\n    if (tab) {\n      tab.tabElement.classList.toggle('disabled', !enabled);\n    }\n  }\n\n  tabIsDisabled(id: string): boolean {\n    return !this.tabIsEnabled(id);\n  }\n\n  tabIsEnabled(id: string): boolean {\n    const tab = this.tabsById.get(id);\n    const disabled = tab?.tabElement.classList.contains('disabled') ?? false;\n    return !disabled;\n  }\n\n  private zoomChanged(): void {\n    this.clearMeasuredWidths();\n    if (this.isShowing()) {\n      this.requestUpdate();\n    }\n  }\n\n  private clearMeasuredWidths(): void {\n    for (let i = 0; i < this.tabs.length; ++i) {\n      delete this.tabs[i].measuredWidth;\n    }\n  }\n\n  changeTabTitle(id: string, tabTitle: string, tabTooltip?: string): void {\n    const tab = this.tabsById.get(id);\n    if (tab && tabTooltip !== undefined) {\n      tab.tooltip = tabTooltip;\n    }\n    if (tab && tab.title !== tabTitle) {\n      tab.title = tabTitle;\n      ARIAUtils.setLabel(tab.tabElement, tabTitle);\n      this.requestUpdate();\n    }\n  }\n\n  changeTabView(id: string, view: Widget): void {\n    const tab = this.tabsById.get(id);\n    if (!tab || tab.view === view) {\n      return;\n    }\n\n    this.suspendInvalidations();\n    const isSelected = this.currentTab && this.currentTab.id === id;\n    const shouldFocus = tab.view.hasFocus();\n    if (isSelected) {\n      this.hideTab(tab);\n    }\n    tab.view = view;\n    if (isSelected) {\n      this.showTab(tab);\n    }\n    if (shouldFocus) {\n      tab.view.focus();\n    }\n    this.resumeInvalidations();\n  }\n\n  override onResize(): void {\n    if (this.currentDevicePixelRatio !== window.devicePixelRatio) {\n      // Force recalculation of all tab widths on a DPI change\n      this.clearMeasuredWidths();\n      this.currentDevicePixelRatio = window.devicePixelRatio;\n    }\n    this.requestUpdate();\n  }\n\n  headerResized(): void {\n    this.requestUpdate();\n  }\n\n  override wasShown(): void {\n    super.wasShown();\n    const effectiveTab = this.currentTab || this.tabsHistory[0];\n    if (effectiveTab && this.autoSelectFirstItemOnShow) {\n      this.selectTab(effectiveTab.id);\n    }\n    this.requestUpdate();\n    this.dispatchEventToListeners(Events.PaneVisibilityChanged, {isVisible: true});\n  }\n\n  override wasHidden(): void {\n    this.dispatchEventToListeners(Events.PaneVisibilityChanged, {isVisible: false});\n  }\n\n  makeTabSlider(): void {\n    if (this.verticalTabLayout) {\n      return;\n    }\n    this.setTabSlider(true);\n  }\n\n  private setTabSlider(enable: boolean): void {\n    this.sliderEnabled = enable;\n    this.tabSlider.classList.toggle('enabled', enable);\n  }\n\n  override calculateConstraints(): Geometry.Constraints {\n    let constraints = super.calculateConstraints();\n    const minContentConstraints = new Geometry.Constraints(new Geometry.Size(0, 0), new Geometry.Size(50, 50));\n    constraints = constraints.widthToMax(minContentConstraints).heightToMax(minContentConstraints);\n    if (this.verticalTabLayout) {\n      constraints = constraints.addWidth(new Geometry.Constraints(new Geometry.Size(120, 0)));\n    } else {\n      constraints = constraints.addHeight(new Geometry.Constraints(new Geometry.Size(0, 30)));\n    }\n    return constraints;\n  }\n\n  setPlaceholderElement(element: Element, focusedElement?: Element): void {\n    this.placeholderElement = element;\n    if (focusedElement) {\n      this.focusedPlaceholderElement = focusedElement;\n    }\n    if (this.placeholderContainerElement) {\n      this.placeholderContainerElement.removeChildren();\n      this.placeholderContainerElement.appendChild(element);\n    }\n  }\n\n  async waitForTabElementUpdate(): Promise<void> {\n    this.performUpdate();\n  }\n\n  override performUpdate(): void {\n    if (!this.isShowing()) {\n      return;\n    }\n\n    if (!this.tabs.length) {\n      this.#contentElement.classList.add('has-no-tabs');\n      if (this.placeholderElement && !this.placeholderContainerElement) {\n        this.placeholderContainerElement = this.#contentElement.createChild('div', 'tabbed-pane-placeholder fill');\n        this.placeholderContainerElement.appendChild(this.placeholderElement);\n        if (this.focusedPlaceholderElement) {\n          this.setDefaultFocusedElement(this.focusedPlaceholderElement);\n        }\n      }\n    } else {\n      this.#contentElement.classList.remove('has-no-tabs');\n      if (this.placeholderContainerElement) {\n        this.placeholderContainerElement.remove();\n        this.setDefaultFocusedElement(this.contentElement);\n        delete this.placeholderContainerElement;\n      }\n    }\n\n    this.measureDropDownButton();\n    this.adjustToolbarWidth();\n    this.updateWidths();\n    this.updateTabsDropDown();\n    this.updateTabSlider();\n  }\n\n  private adjustToolbarWidth(): void {\n    if (!this.#rightToolbar || !this.measuredDropDownButtonWidth) {\n      return;\n    }\n    const leftToolbarWidth = this.#leftToolbar?.getBoundingClientRect().width ?? 0;\n    const rightToolbarWidth = this.#rightToolbar.getBoundingClientRect().width;\n    const totalWidth = this.#headerElement.getBoundingClientRect().width;\n    if (!this.#rightToolbar.hasCompactLayout() &&\n        totalWidth - rightToolbarWidth - leftToolbarWidth < this.measuredDropDownButtonWidth + 10) {\n      this.#rightToolbar.setCompactLayout(true);\n    } else if (\n        this.#rightToolbar.hasCompactLayout() &&\n        // Estimate the right toolbar size in non-compact mode as 2 times its compact size.\n        totalWidth - 2 * rightToolbarWidth - leftToolbarWidth > this.measuredDropDownButtonWidth + 10) {\n      this.#rightToolbar.setCompactLayout(false);\n    }\n  }\n\n  private showTabElement(index: number, tab: TabbedPaneTab): void {\n    if (index >= this.tabsElement.children.length) {\n      this.tabsElement.appendChild(tab.tabElement);\n    } else {\n      this.tabsElement.insertBefore(tab.tabElement, this.tabsElement.children[index]);\n    }\n    tab.shown = true;\n  }\n\n  private hideTabElement(tab: TabbedPaneTab): void {\n    this.tabsElement.removeChild(tab.tabElement);\n    tab.shown = false;\n  }\n\n  private createDropDownButton(): HTMLDivElement {\n    const dropDownContainer = document.createElement('div');\n    dropDownContainer.classList.add('tabbed-pane-header-tabs-drop-down-container');\n    dropDownContainer.setAttribute('jslog', `${VisualLogging.dropDown('more-tabs').track({click: true})}`);\n    const chevronIcon = IconButton.Icon.create('chevron-double-right', 'chevron-icon');\n    const moreTabsString = i18nString(UIStrings.moreTabs);\n    dropDownContainer.title = moreTabsString;\n    ARIAUtils.markAsMenuButton(dropDownContainer);\n    ARIAUtils.setLabel(dropDownContainer, moreTabsString);\n    ARIAUtils.setExpanded(dropDownContainer, false);\n    dropDownContainer.tabIndex = 0;\n    dropDownContainer.appendChild(chevronIcon);\n    dropDownContainer.addEventListener('click', this.dropDownClicked.bind(this));\n    dropDownContainer.addEventListener('keydown', this.dropDownKeydown.bind(this));\n    dropDownContainer.addEventListener('mousedown', event => {\n      if (event.button !== 0 || this.triggerDropDownTimeout) {\n        return;\n      }\n      this.triggerDropDownTimeout = window.setTimeout(this.dropDownClicked.bind(this, event), 200);\n    });\n    return dropDownContainer;\n  }\n\n  private dropDownClicked(event: MouseEvent): void {\n    if (event.button !== 0) {\n      return;\n    }\n    if (this.triggerDropDownTimeout) {\n      clearTimeout(this.triggerDropDownTimeout);\n      this.triggerDropDownTimeout = null;\n    }\n    const rect = this.dropDownButton.getBoundingClientRect();\n    const menu = new ContextMenu(event, {\n      x: rect.left,\n      y: rect.bottom,\n      onSoftMenuClosed: () => {\n        ARIAUtils.setExpanded(this.dropDownButton, false);\n      },\n    });\n    for (const tab of this.tabs) {\n      if (tab.shown) {\n        continue;\n      }\n      if (this.numberOfTabsShown() === 0 && this.tabsHistory[0] === tab) {\n        menu.defaultSection().appendCheckboxItem(\n            tab.title, this.dropDownMenuItemSelected.bind(this, tab), {checked: true, jslogContext: tab.jslogContext});\n      } else {\n        menu.defaultSection().appendItem(\n            tab.title, this.dropDownMenuItemSelected.bind(this, tab), {jslogContext: tab.jslogContext});\n      }\n    }\n    void menu.show().then(() => ARIAUtils.setExpanded(this.dropDownButton, menu.isHostedMenuOpen()));\n  }\n\n  private dropDownKeydown(event: KeyboardEvent): void {\n    if (Platform.KeyboardUtilities.isEnterOrSpaceKey(event)) {\n      this.dropDownButton.click();\n      event.consume(true);\n    }\n  }\n\n  private dropDownMenuItemSelected(tab: TabbedPaneTab): void {\n    this.selectTab(tab.id, true, true);\n  }\n\n  private totalWidth(): number {\n    return this.headerContentsElement.getBoundingClientRect().width;\n  }\n\n  private numberOfTabsShown(): number {\n    let numTabsShown = 0;\n    for (const tab of this.tabs) {\n      if (tab.shown) {\n        numTabsShown++;\n      }\n    }\n    return numTabsShown;\n  }\n\n  private updateTabsDropDown(): void {\n    const tabsToShowIndexes =\n        this.tabsToShowIndexes(this.tabs, this.tabsHistory, this.totalWidth(), this.measuredDropDownButtonWidth || 0);\n    if (this.lastSelectedOverflowTab && this.numberOfTabsShown() !== tabsToShowIndexes.length) {\n      delete this.lastSelectedOverflowTab;\n      this.updateTabsDropDown();\n      return;\n    }\n\n    for (let i = 0; i < this.tabs.length; ++i) {\n      if (this.tabs[i].shown && tabsToShowIndexes.indexOf(i) === -1) {\n        this.hideTabElement(this.tabs[i]);\n      }\n    }\n    for (let i = 0; i < tabsToShowIndexes.length; ++i) {\n      const tab = this.tabs[tabsToShowIndexes[i]];\n      if (!tab.shown) {\n        this.showTabElement(i, tab);\n      }\n    }\n\n    this.maybeShowDropDown(tabsToShowIndexes.length !== this.tabs.length);\n  }\n\n  private maybeShowDropDown(hasMoreTabs: boolean): void {\n    if (hasMoreTabs && !this.dropDownButton.parentElement) {\n      this.headerContentsElement.appendChild(this.dropDownButton);\n    } else if (!hasMoreTabs && this.dropDownButton.parentElement) {\n      this.headerContentsElement.removeChild(this.dropDownButton);\n    }\n  }\n\n  private measureDropDownButton(): void {\n    if (this.measuredDropDownButtonWidth) {\n      return;\n    }\n    this.dropDownButton.classList.add('measuring');\n    this.headerContentsElement.appendChild(this.dropDownButton);\n    this.measuredDropDownButtonWidth = this.dropDownButton.getBoundingClientRect().width;\n    this.headerContentsElement.removeChild(this.dropDownButton);\n    this.dropDownButton.classList.remove('measuring');\n  }\n\n  private updateWidths(): void {\n    const measuredWidths = this.measureWidths();\n    const maxWidth =\n        this.shrinkableTabs ? this.calculateMaxWidth(measuredWidths.slice(), this.totalWidth()) : Number.MAX_VALUE;\n\n    let i = 0;\n    for (const tab of this.tabs) {\n      tab.setWidth(this.verticalTabLayout ? -1 : Math.min(maxWidth, measuredWidths[i++]));\n    }\n  }\n\n  private measureWidths(): number[] {\n    // Add all elements to measure into this.tabsElement\n    this.tabsElement.style.setProperty('width', '2000px');\n    const measuringTabElements = new Map<HTMLElement, TabbedPaneTab>();\n    for (const tab of this.tabs) {\n      if (typeof tab.measuredWidth === 'number') {\n        continue;\n      }\n      const measuringTabElement = tab.createTabElement(/* measure */ true);\n      measuringTabElements.set(measuringTabElement, tab);\n      this.tabsElement.appendChild(measuringTabElement);\n    }\n\n    // Perform measurement\n    for (const [measuringTabElement, tab] of measuringTabElements) {\n      const width = measuringTabElement.getBoundingClientRect().width;\n      tab.measuredWidth = Math.ceil(width);\n    }\n\n    // Nuke elements from the UI\n    for (const measuringTabElement of measuringTabElements.keys()) {\n      measuringTabElement.remove();\n    }\n\n    // Combine the results.\n    const measuredWidths = [];\n    for (const tab of this.tabs) {\n      measuredWidths.push(tab.measuredWidth || 0);\n    }\n    this.tabsElement.style.removeProperty('width');\n\n    return measuredWidths;\n  }\n\n  private calculateMaxWidth(measuredWidths: number[], totalWidth: number): number {\n    if (!measuredWidths.length) {\n      return 0;\n    }\n\n    measuredWidths.sort(function(x, y) {\n      return x - y;\n    });\n\n    let totalMeasuredWidth = 0;\n    for (let i = 0; i < measuredWidths.length; ++i) {\n      totalMeasuredWidth += measuredWidths[i];\n    }\n\n    if (totalWidth >= totalMeasuredWidth) {\n      return measuredWidths[measuredWidths.length - 1];\n    }\n\n    let totalExtraWidth = 0;\n    for (let i = measuredWidths.length - 1; i > 0; --i) {\n      const extraWidth = measuredWidths[i] - measuredWidths[i - 1];\n      totalExtraWidth += (measuredWidths.length - i) * extraWidth;\n\n      if (totalWidth + totalExtraWidth >= totalMeasuredWidth) {\n        return measuredWidths[i - 1] +\n            (totalWidth + totalExtraWidth - totalMeasuredWidth) / (measuredWidths.length - i);\n      }\n    }\n\n    return totalWidth / measuredWidths.length;\n  }\n\n  private tabsToShowIndexes(\n      tabsOrdered: TabbedPaneTab[], tabsHistory: TabbedPaneTab[], totalWidth: number,\n      measuredDropDownButtonWidth: number): number[] {\n    const tabsToShowIndexes = [];\n\n    let totalTabsWidth = 0;\n    const tabCount = tabsOrdered.length;\n    const tabsToLookAt = tabsOrdered.slice(0);\n    if (this.currentTab !== undefined) {\n      tabsToLookAt.unshift(tabsToLookAt.splice(tabsToLookAt.indexOf(this.currentTab), 1)[0]);\n    }\n    if (this.lastSelectedOverflowTab !== undefined) {\n      tabsToLookAt.unshift(tabsToLookAt.splice(tabsToLookAt.indexOf(this.lastSelectedOverflowTab), 1)[0]);\n    }\n    for (let i = 0; i < tabCount; ++i) {\n      const tab = this.automaticReorder ? tabsHistory[i] : tabsToLookAt[i];\n      totalTabsWidth += tab.width();\n      let minimalRequiredWidth = totalTabsWidth;\n      if (i !== tabCount - 1) {\n        minimalRequiredWidth += measuredDropDownButtonWidth;\n      }\n      if (!this.verticalTabLayout && minimalRequiredWidth > totalWidth) {\n        break;\n      }\n      tabsToShowIndexes.push(tabsOrdered.indexOf(tab));\n    }\n\n    tabsToShowIndexes.sort(function(x, y) {\n      return x - y;\n    });\n\n    return tabsToShowIndexes;\n  }\n\n  private hideCurrentTab(): void {\n    if (!this.currentTab) {\n      return;\n    }\n\n    this.hideTab(this.currentTab);\n    delete this.currentTab;\n  }\n\n  private showTab(tab: TabbedPaneTab): void {\n    tab.tabElement.tabIndex = 0;\n    tab.tabElement.classList.add('selected');\n    ARIAUtils.setSelected(tab.tabElement, true);\n    tab.view.show(this.element);\n    this.updateTabSlider();\n  }\n\n  updateTabSlider(): void {\n    if (!this.sliderEnabled) {\n      return;\n    }\n    if (!this.currentTab) {\n      this.tabSlider.style.width = '0';\n      return;\n    }\n    let left = 0;\n    for (let i = 0; i < this.tabs.length && this.currentTab !== this.tabs[i]; i++) {\n      if (this.tabs[i].shown) {\n        left += this.tabs[i].measuredWidth || 0;\n      }\n    }\n    const sliderWidth = this.currentTab.shown ? this.currentTab.measuredWidth : this.dropDownButton.offsetWidth;\n    const scaleFactor = window.devicePixelRatio >= 1.5 ? ' scaleY(0.75)' : '';\n    this.tabSlider.style.transform = 'translateX(' + left + 'px)' + scaleFactor;\n    this.tabSlider.style.width = sliderWidth + 'px';\n\n    if (this.tabSlider.parentElement !== this.headerContentsElement) {\n      this.headerContentsElement.appendChild(this.tabSlider);\n    }\n  }\n\n  private hideTab(tab: TabbedPaneTab): void {\n    tab.tabElement.removeAttribute('tabIndex');\n    tab.tabElement.classList.remove('selected');\n    tab.tabElement.tabIndex = -1;\n    tab.tabElement.setAttribute('aria-selected', 'false');\n    tab.view.detach();\n  }\n\n  override elementsToRestoreScrollPositionsFor(): Element[] {\n    return [this.#contentElement];\n  }\n\n  insertBefore(tab: TabbedPaneTab, index: number): void {\n    this.tabsElement.insertBefore(tab.tabElement, this.tabsElement.childNodes[index]);\n    const oldIndex = this.tabs.indexOf(tab);\n    this.tabs.splice(oldIndex, 1);\n    if (oldIndex < index) {\n      --index;\n    }\n    this.tabs.splice(index, 0, tab);\n\n    const eventData: EventData = {prevTabId: undefined, tabId: tab.id, view: tab.view, isUserGesture: undefined};\n    this.dispatchEventToListeners(Events.TabOrderChanged, eventData);\n  }\n\n  leftToolbar(): Toolbar {\n    if (!this.#leftToolbar) {\n      this.#leftToolbar = document.createElement('devtools-toolbar');\n      this.#leftToolbar.classList.add('tabbed-pane-left-toolbar');\n      this.#headerElement.insertBefore(this.#leftToolbar, this.#headerElement.firstChild);\n    }\n    return this.#leftToolbar;\n  }\n\n  rightToolbar(): Toolbar {\n    if (!this.#rightToolbar) {\n      this.#rightToolbar = document.createElement('devtools-toolbar');\n      this.#rightToolbar.classList.add('tabbed-pane-right-toolbar');\n      this.#headerElement.appendChild(this.#rightToolbar);\n    }\n    return this.#rightToolbar;\n  }\n\n  setAllowTabReorder(allow: boolean, automatic?: boolean): void {\n    this.allowTabReorder = allow;\n    this.automaticReorder = automatic;\n  }\n\n  private keyDown(event: KeyboardEvent): void {\n    if (!this.currentTab) {\n      return;\n    }\n    let nextTabElement: (Element|null)|null = null;\n    switch (event.key) {\n      case 'ArrowUp':\n      case 'ArrowLeft':\n        nextTabElement = this.currentTab.tabElement.previousElementSibling;\n        if (!nextTabElement && !this.dropDownButton.parentElement) {\n          nextTabElement = this.currentTab.tabElement.parentElement ?\n              this.currentTab.tabElement.parentElement.lastElementChild :\n              null;\n        }\n        break;\n      case 'ArrowDown':\n      case 'ArrowRight':\n        nextTabElement = this.currentTab.tabElement.nextElementSibling;\n        if (!nextTabElement && !this.dropDownButton.parentElement) {\n          nextTabElement = this.currentTab.tabElement.parentElement ?\n              this.currentTab.tabElement.parentElement.firstElementChild :\n              null;\n        }\n        break;\n      case 'Enter':\n      case ' ':\n        this.currentTab.view.focus();\n        return;\n      default:\n        return;\n    }\n    if (!nextTabElement) {\n      this.dropDownButton.click();\n      return;\n    }\n    const tab = this.tabs.find(tab => tab.tabElement === nextTabElement);\n    if (tab) {\n      this.selectTab(tab.id, true);\n    }\n    (nextTabElement as HTMLElement).focus();\n  }\n}\nexport interface EventData {\n  prevTabId?: string;\n  tabId: string;\n  view?: Widget;\n  isUserGesture?: boolean;\n}\n\nexport enum Events {\n  /* eslint-disable @typescript-eslint/naming-convention -- Used by web_tests. */\n  TabInvoked = 'TabInvoked',\n  TabSelected = 'TabSelected',\n  TabClosed = 'TabClosed',\n  TabOrderChanged = 'TabOrderChanged',\n  PaneVisibilityChanged = 'PaneVisibilityChanged',\n  /* eslint-enable @typescript-eslint/naming-convention */\n}\n\nexport interface EventTypes {\n  [Events.TabInvoked]: EventData;\n  [Events.TabSelected]: EventData;\n  [Events.TabClosed]: EventData;\n  [Events.TabOrderChanged]: EventData;\n  [Events.PaneVisibilityChanged]: {isVisible: boolean};\n}\n\nexport class TabbedPaneTab {\n  closeable: boolean;\n  previewFeature = false;\n  private readonly tabbedPane: TabbedPane;\n  #id: string;\n  #title: string;\n  #tooltip: string|undefined;\n  #view: Widget;\n  shown: boolean;\n  measuredWidth!: number|undefined;\n  #tabElement!: HTMLElement|undefined;\n  private icon: IconButton.Icon.Icon|null = null;\n  private suffixElement: HTMLElement|null = null;\n  #width?: number;\n  private delegate?: TabbedPaneTabDelegate;\n  private titleElement?: HTMLElement;\n  private dragStartX?: number;\n  #jslogContext?: string;\n  constructor(\n      tabbedPane: TabbedPane, id: string, title: string, closeable: boolean, previewFeature: boolean, view: Widget,\n      tooltip?: string, jslogContext?: string) {\n    this.closeable = closeable;\n    this.previewFeature = previewFeature;\n    this.tabbedPane = tabbedPane;\n    this.#id = id;\n    this.#title = title;\n    this.#tooltip = tooltip;\n    this.#view = view;\n    this.shown = false;\n    this.#jslogContext = jslogContext;\n  }\n\n  get id(): string {\n    return this.#id;\n  }\n\n  get title(): string {\n    return this.#title;\n  }\n\n  set title(title: string) {\n    if (title === this.#title) {\n      return;\n    }\n    this.#title = title;\n    if (this.titleElement) {\n      this.titleElement.textContent = title;\n      const closeIconContainer = this.#tabElement?.querySelector('.close-button');\n      closeIconContainer?.setAttribute('title', i18nString(UIStrings.closeS, {PH1: title}));\n      closeIconContainer?.setAttribute('aria-label', i18nString(UIStrings.closeS, {PH1: title}));\n    }\n    delete this.measuredWidth;\n  }\n\n  get jslogContext(): string {\n    return this.#jslogContext ?? (this.#id === 'console-view' ? 'console' : this.#id);\n  }\n\n  isCloseable(): boolean {\n    return this.closeable;\n  }\n\n  setIcon(icon: IconButton.Icon.Icon|null): void {\n    this.icon = icon;\n    if (this.#tabElement && this.titleElement) {\n      this.createIconElement(this.#tabElement, this.titleElement, false);\n    }\n    delete this.measuredWidth;\n  }\n\n  setSuffixElement(suffixElement: HTMLElement|null): void {\n    this.suffixElement = suffixElement;\n    if (this.#tabElement && this.titleElement) {\n      this.createSuffixElement(this.#tabElement, this.titleElement, false);\n    }\n    delete this.measuredWidth;\n  }\n\n  toggleClass(className: string, force?: boolean): boolean {\n    const element = this.tabElement;\n    const hasClass = element.classList.contains(className);\n    if (hasClass === force) {\n      return false;\n    }\n    element.classList.toggle(className, force);\n    delete this.measuredWidth;\n    return true;\n  }\n\n  get view(): Widget {\n    return this.#view;\n  }\n\n  set view(view: Widget) {\n    this.#view = view;\n  }\n\n  get tooltip(): string|undefined {\n    return this.#tooltip;\n  }\n\n  set tooltip(tooltip: string|undefined) {\n    this.#tooltip = tooltip;\n    if (this.titleElement) {\n      Tooltip.install(this.titleElement, tooltip || '');\n    }\n  }\n\n  get tabElement(): HTMLElement {\n    if (!this.#tabElement) {\n      this.#tabElement = this.createTabElement(false);\n    }\n\n    return this.#tabElement;\n  }\n\n  width(): number {\n    return this.#width || 0;\n  }\n\n  setWidth(width: number): void {\n    this.tabElement.style.width = width === -1 ? '' : (width + 'px');\n    this.#width = width;\n  }\n\n  setDelegate(delegate: TabbedPaneTabDelegate): void {\n    this.delegate = delegate;\n  }\n\n  private createIconElement(tabElement: Element, titleElement: Element, measuring: boolean): void {\n    const iconElement = tabIcons.get(tabElement);\n    if (iconElement) {\n      iconElement.remove();\n      tabIcons.delete(tabElement);\n    }\n    if (!this.icon) {\n      return;\n    }\n\n    const iconContainer = document.createElement('span');\n    iconContainer.classList.add('tabbed-pane-header-tab-icon');\n    const iconNode = measuring ? this.createMeasureClone(this.icon) : this.icon;\n    iconContainer.appendChild(iconNode);\n    titleElement.insertAdjacentElement('beforebegin', iconContainer);\n    tabIcons.set(tabElement, iconContainer);\n  }\n\n  private createSuffixElement(tabElement: Element, titleElement: Element, measuring: boolean): void {\n    const tabSuffixElement = tabSuffixElements.get(tabElement);\n    if (tabSuffixElement) {\n      tabSuffixElement.remove();\n      tabSuffixElements.delete(tabElement);\n    }\n    if (!this.suffixElement) {\n      return;\n    }\n\n    const suffixElementContainer = document.createElement('span');\n    suffixElementContainer.classList.add('tabbed-pane-header-tab-suffix-element');\n    const suffixElement = measuring ? this.suffixElement.cloneNode() : this.suffixElement;\n    suffixElementContainer.appendChild(suffixElement);\n    titleElement.insertAdjacentElement('afterend', suffixElementContainer);\n    tabSuffixElements.set(tabElement, suffixElementContainer);\n  }\n\n  private createMeasureClone(original: IconButton.Icon.Icon): Element {\n    // Cloning doesn't work for the icon component because the shadow\n    // root isn't copied, but it is sufficient to create a div styled\n    // to be the same size.\n    const fakeClone = document.createElement('div');\n    fakeClone.style.width = original.style.width;\n    fakeClone.style.height = original.style.height;\n    return fakeClone;\n  }\n\n  createTabElement(measuring: boolean): HTMLElement {\n    const tabElement = document.createElement('div');\n    tabElement.classList.add('tabbed-pane-header-tab');\n    tabElement.id = 'tab-' + this.#id;\n    ARIAUtils.markAsTab(tabElement);\n    ARIAUtils.setSelected(tabElement, false);\n    ARIAUtils.setLabel(tabElement, this.title);\n\n    const titleElement = tabElement.createChild('span', 'tabbed-pane-header-tab-title');\n    titleElement.textContent = this.title;\n    Tooltip.install(titleElement, this.tooltip || '');\n    this.createIconElement(tabElement, titleElement, measuring);\n    this.createSuffixElement(tabElement, titleElement, measuring);\n    if (!measuring) {\n      this.titleElement = titleElement;\n    }\n\n    if (this.previewFeature) {\n      const previewIcon = this.createPreviewIcon();\n      tabElement.appendChild(previewIcon);\n      tabElement.classList.add('preview');\n    }\n\n    if (this.closeable) {\n      const closeIcon = this.createCloseIconButton();\n      tabElement.appendChild(closeIcon);\n      tabElement.classList.add('closeable');\n    }\n\n    if (measuring) {\n      tabElement.classList.add('measuring');\n    } else {\n      tabElement.addEventListener('click', this.tabClicked.bind(this), false);\n      tabElement.addEventListener('keydown', this.tabKeyDown.bind(this), false);\n      tabElement.addEventListener('auxclick', this.tabClicked.bind(this), false);\n      tabElement.addEventListener('mousedown', this.tabMouseDown.bind(this), false);\n      tabElement.addEventListener('mouseup', this.tabMouseUp.bind(this), false);\n\n      tabElement.addEventListener('contextmenu', this.tabContextMenu.bind(this), false);\n      if (this.tabbedPane.allowTabReorder) {\n        installDragHandle(\n            tabElement, this.startTabDragging.bind(this), this.tabDragging.bind(this), this.endTabDragging.bind(this),\n            null, null, 200);\n      }\n    }\n\n    return tabElement as HTMLElement;\n  }\n\n  private createCloseIconButton(): Buttons.Button.Button {\n    const closeButton = new Buttons.Button.Button();\n    closeButton.data = {\n      variant: Buttons.Button.Variant.ICON,\n      size: Buttons.Button.Size.MICRO,\n      iconName: 'cross',\n      title: i18nString(UIStrings.closeS, {PH1: this.title}),\n    };\n    closeButton.classList.add('close-button', 'tabbed-pane-close-button');\n    closeButton.setAttribute('jslog', `${VisualLogging.close().track({click: true})}`);\n\n    closeButton.setAttribute('aria-label', i18nString(UIStrings.closeS, {PH1: this.title}));\n    return closeButton;\n  }\n\n  private createPreviewIcon(): HTMLDivElement {\n    const iconContainer = document.createElement('div');\n    iconContainer.classList.add('preview-icon');\n    const previewIcon = new IconButton.Icon.Icon();\n    previewIcon.name = 'experiment';\n    previewIcon.classList.add('small');\n    iconContainer.appendChild(previewIcon);\n    iconContainer.setAttribute('title', i18nString(UIStrings.previewFeature));\n    iconContainer.setAttribute('aria-label', i18nString(UIStrings.previewFeature));\n    return iconContainer;\n  }\n\n  private isCloseIconClicked(element: HTMLElement): boolean {\n    return element?.classList.contains('tabbed-pane-close-button') ||\n        element?.parentElement?.classList.contains('tabbed-pane-close-button') || false;\n  }\n\n  private tabKeyDown(ev: Event): void {\n    const event = ev as KeyboardEvent;\n    switch (event.key) {\n      case 'Enter':\n      case ' ':\n        if (this.isCloseIconClicked(event.target as HTMLElement)) {\n          this.closeTabs([this.id]);\n          ev.consume(true);\n          return;\n        }\n    }\n  }\n\n  private tabClicked(event: MouseEvent): void {\n    const middleButton = event.button === 1;\n    const shouldClose = this.closeable && (middleButton || this.isCloseIconClicked(event.target as HTMLElement));\n    if (!shouldClose) {\n      this.tabbedPane.focus();\n      return;\n    }\n    this.closeTabs([this.id]);\n    event.consume(true);\n  }\n\n  private tabMouseDown(event: MouseEvent): void {\n    if (this.isCloseIconClicked(event.target as HTMLElement) || event.button !== 0) {\n      return;\n    }\n    this.tabbedPane.selectTab(this.id, true);\n  }\n\n  private tabMouseUp(event: MouseEvent): void {\n    // This is needed to prevent middle-click pasting on linux when tabs are clicked.\n    if (event.button === 1) {\n      event.consume(true);\n    }\n  }\n\n  private closeTabs(ids: string[]): void {\n    if (this.delegate) {\n      this.delegate.closeTabs(this.tabbedPane, ids);\n      return;\n    }\n    this.tabbedPane.closeTabs(ids, true);\n  }\n\n  private tabContextMenu(event: Event): void {\n    function close(this: TabbedPaneTab): void {\n      this.closeTabs([this.id]);\n    }\n\n    function closeOthers(this: TabbedPaneTab): void {\n      this.closeTabs(this.tabbedPane.otherTabs(this.id));\n    }\n\n    function closeAll(this: TabbedPaneTab): void {\n      this.closeTabs(this.tabbedPane.tabIds());\n    }\n\n    function closeToTheRight(this: TabbedPaneTab): void {\n      this.closeTabs(this.tabbedPane.tabsToTheRight(this.id));\n    }\n\n    function moveTabForward(this: TabbedPaneTab, tabIndex: number): void {\n      this.tabbedPane.moveTabForward(this.id, tabIndex);\n    }\n\n    function moveTabBackward(this: TabbedPaneTab, tabIndex: number): void {\n      this.tabbedPane.moveTabBackward(this.id, tabIndex);\n    }\n\n    const contextMenu = new ContextMenu(event);\n    if (this.closeable) {\n      contextMenu.defaultSection().appendItem(i18nString(UIStrings.close), close.bind(this), {jslogContext: 'close'});\n      contextMenu.defaultSection().appendItem(\n          i18nString(UIStrings.closeOthers), closeOthers.bind(this), {jslogContext: 'close-others'});\n      contextMenu.defaultSection().appendItem(\n          i18nString(UIStrings.closeTabsToTheRight), closeToTheRight.bind(this),\n          {jslogContext: 'close-tabs-to-the-right'});\n      contextMenu.defaultSection().appendItem(\n          i18nString(UIStrings.closeAll), closeAll.bind(this), {jslogContext: 'close-all'});\n    }\n    if (this.delegate) {\n      this.delegate.onContextMenu(this.id, contextMenu);\n    }\n    const tabIndex = this.tabbedPane.getTabIndex(this.id);\n    if (tabIndex > 0) {\n      contextMenu.defaultSection().appendItem(\n          i18nString(UIStrings.moveTabLeft), moveTabBackward.bind(this, tabIndex), {jslogContext: 'move-tab-backward'});\n    }\n    if (tabIndex < this.tabbedPane.tabsElement.childNodes.length - 1) {\n      contextMenu.defaultSection().appendItem(\n          i18nString(UIStrings.moveTabRight), moveTabForward.bind(this, tabIndex), {jslogContext: 'move-tab-forward'});\n    }\n    void contextMenu.show();\n  }\n\n  private startTabDragging(event: MouseEvent): boolean {\n    if (this.isCloseIconClicked(event.target as HTMLElement)) {\n      return false;\n    }\n    this.dragStartX = event.pageX;\n    if (this.#tabElement) {\n      this.#tabElement.classList.add('dragging');\n    }\n    this.tabbedPane.tabSlider.remove();\n    return true;\n  }\n\n  private tabDragging(event: MouseEvent): void {\n    const tabElements = this.tabbedPane.tabsElement.childNodes;\n    for (let i = 0; i < tabElements.length; ++i) {\n      let tabElement: HTMLElement = (tabElements[i] as HTMLElement);\n      if (!this.#tabElement || tabElement === this.#tabElement) {\n        continue;\n      }\n\n      const intersects = tabElement.offsetLeft + tabElement.clientWidth > this.#tabElement.offsetLeft &&\n          this.#tabElement.offsetLeft + this.#tabElement.clientWidth > tabElement.offsetLeft;\n      if (!intersects) {\n        continue;\n      }\n\n      const dragStartX = (this.dragStartX as number);\n      if (Math.abs(event.pageX - dragStartX) < tabElement.clientWidth / 2 + 5) {\n        break;\n      }\n\n      if (event.pageX - dragStartX > 0) {\n        tabElement = (tabElement.nextSibling as HTMLElement);\n        ++i;\n      }\n\n      const oldOffsetLeft = this.#tabElement.offsetLeft;\n      this.tabbedPane.insertBefore(this, i);\n      this.dragStartX = dragStartX + this.#tabElement.offsetLeft - oldOffsetLeft;\n      break;\n    }\n\n    const dragStartX = (this.dragStartX as number);\n    const tabElement = (this.#tabElement as HTMLElement);\n    if (!tabElement.previousSibling && event.pageX - dragStartX < 0) {\n      tabElement.style.setProperty('left', '0px');\n      return;\n    }\n    if (!tabElement.nextSibling && event.pageX - dragStartX > 0) {\n      tabElement.style.setProperty('left', '0px');\n      return;\n    }\n\n    tabElement.style.setProperty('left', (event.pageX - dragStartX) + 'px');\n  }\n\n  private endTabDragging(_event: Event): void {\n    const tabElement = (this.#tabElement as HTMLElement);\n    tabElement.classList.remove('dragging');\n    tabElement.style.removeProperty('left');\n    delete this.dragStartX;\n    this.tabbedPane.updateTabSlider();\n  }\n}\n\nconst tabIcons = new WeakMap<Element, Element>();\nconst tabSuffixElements = new WeakMap<Element, Element>();\n\nexport interface TabbedPaneTabDelegate {\n  closeTabs(tabbedPane: TabbedPane, ids: string[]): void;\n  onContextMenu(tabId: string, contextMenu: ContextMenu): void;\n}\n"]}