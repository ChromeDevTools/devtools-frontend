{"version":3,"file":"Treeoutline.js","sourceRoot":"","sources":["../../../../../../front_end/ui/legacy/Treeoutline.ts"],"names":[],"mappings":"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","sourcesContent":["// Copyright 2021 The Chromium Authors\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n/* eslint-disable @devtools/no-imperative-dom-api */\n\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\n/*\n * Copyright (C) 2007 Apple Inc.  All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions\n * are met:\n *\n * 1.  Redistributions of source code must retain the above copyright\n *     notice, this list of conditions and the following disclaimer.\n * 2.  Redistributions in binary form must reproduce the above copyright\n *     notice, this list of conditions and the following disclaimer in the\n *     documentation and/or other materials provided with the distribution.\n * 3.  Neither the name of Apple Computer, Inc. (\"Apple\") nor the names of\n *     its contributors may be used to endorse or promote products derived\n *     from this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY APPLE AND ITS CONTRIBUTORS \"AS IS\" AND ANY\n * EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL APPLE OR ITS CONTRIBUTORS BE LIABLE FOR ANY\n * DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF\n * THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\nimport * as Common from '../../core/common/common.js';\nimport * as Platform from '../../core/platform/platform.js';\nimport * as SDK from '../../core/sdk/sdk.js';\nimport type * as TextUtils from '../../models/text_utils/text_utils.js';\nimport type * as Buttons from '../components/buttons/buttons.js';\nimport * as Highlighting from '../components/highlighting/highlighting.js';\nimport type * as IconButton from '../components/icon_button/icon_button.js';\nimport * as Lit from '../lit/lit.js';\nimport * as VisualLogging from '../visual_logging/visual_logging.js';\n\nimport * as ARIAUtils from './ARIAUtils.js';\nimport {type Config, InplaceEditor} from './InplaceEditor.js';\nimport {Keys} from './KeyboardShortcut.js';\nimport type {SearchableView} from './SearchableView.js';\nimport {Tooltip} from './Tooltip.js';\nimport treeoutlineStyles from './treeoutline.css.js';\nimport {\n  createShadowRootWithCoreStyles,\n  deepElementFromPoint,\n  enclosingNodeOrSelfWithNodeNameInArray,\n  HTMLElementWithLightDOMTemplate,\n  InterceptBindingDirective,\n  isEditing,\n} from './UIUtils.js';\n\nconst nodeToParentTreeElementMap = new WeakMap<Node, TreeElement>();\nconst {render} = Lit;\n\nexport enum Events {\n  /* eslint-disable @typescript-eslint/naming-convention -- Used by web_tests. */\n  ElementAttached = 'ElementAttached',\n  ElementsDetached = 'ElementsDetached',\n  ElementExpanded = 'ElementExpanded',\n  ElementCollapsed = 'ElementCollapsed',\n  ElementSelected = 'ElementSelected',\n  /* eslint-enable @typescript-eslint/naming-convention */\n}\n\nexport interface EventTypes {\n  [Events.ElementAttached]: TreeElement;\n  [Events.ElementsDetached]: void;\n  [Events.ElementExpanded]: TreeElement;\n  [Events.ElementCollapsed]: TreeElement;\n  [Events.ElementSelected]: TreeElement;\n}\n\nexport class TreeOutline extends Common.ObjectWrapper.ObjectWrapper<EventTypes> {\n  readonly rootElementInternal: TreeElement;\n  renderSelection: boolean;\n  selectedTreeElement: TreeElement|null;\n  expandTreeElementsWhenArrowing: boolean;\n  comparator: ((arg0: TreeElement, arg1: TreeElement) => number)|null;\n  contentElement: HTMLOListElement;\n  preventTabOrder: boolean;\n  showSelectionOnKeyboardFocus: boolean;\n  private focusable: boolean;\n  element: HTMLElement;\n  private useLightSelectionColor: boolean;\n  private treeElementToScrollIntoView: TreeElement|null;\n  private centerUponScrollIntoView: boolean;\n\n  constructor() {\n    super();\n    this.rootElementInternal = this.createRootElement();\n    this.renderSelection = false;\n\n    this.selectedTreeElement = null;\n    this.expandTreeElementsWhenArrowing = false;\n    this.comparator = null;\n\n    this.contentElement = this.rootElementInternal.childrenListNode;\n    this.contentElement.addEventListener('keydown', this.treeKeyDown.bind(this), false);\n\n    this.preventTabOrder = false;\n    this.showSelectionOnKeyboardFocus = false;\n    this.focusable = true;\n    this.setFocusable(true);\n    this.element = this.contentElement;\n    this.element.setAttribute('jslog', `${VisualLogging.tree()}`);\n    ARIAUtils.markAsTree(this.element);\n    this.useLightSelectionColor = false;\n    this.treeElementToScrollIntoView = null;\n    this.centerUponScrollIntoView = false;\n  }\n\n  setShowSelectionOnKeyboardFocus(show: boolean, preventTabOrder?: boolean): void {\n    this.contentElement.classList.toggle('hide-selection-when-blurred', show);\n    this.preventTabOrder = Boolean(preventTabOrder);\n    if (this.focusable) {\n      this.contentElement.tabIndex = Boolean(preventTabOrder) ? -1 : 0;\n    }\n    this.showSelectionOnKeyboardFocus = show;\n  }\n\n  private createRootElement(): TreeElement {\n    const rootElement = new TreeElement();\n    rootElement.treeOutline = this;\n    rootElement.root = true;\n    rootElement.selectable = false;\n    rootElement.expanded = true;\n    rootElement.childrenListNode.classList.remove('children');\n    return rootElement;\n  }\n\n  rootElement(): TreeElement {\n    return this.rootElementInternal;\n  }\n\n  firstChild(): TreeElement|null {\n    return this.rootElementInternal.firstChild();\n  }\n\n  private lastDescendent(): TreeElement|null {\n    let last = this.rootElementInternal.lastChild();\n    while (last && last.expanded && last.childCount()) {\n      last = last.lastChild();\n    }\n    return last;\n  }\n\n  appendChild(child: TreeElement, comparator?: ((arg0: TreeElement, arg1: TreeElement) => number)): void {\n    this.rootElementInternal.appendChild(child, comparator);\n  }\n\n  insertChild(child: TreeElement, index: number): void {\n    this.rootElementInternal.insertChild(child, index);\n  }\n\n  removeChild(child: TreeElement): void {\n    this.rootElementInternal.removeChild(child);\n  }\n\n  removeChildren(): void {\n    this.rootElementInternal.removeChildren();\n  }\n\n  treeElementFromPoint(x: number, y: number): TreeElement|null {\n    const node = deepElementFromPoint(this.contentElement.ownerDocument, x, y);\n    if (!node) {\n      return null;\n    }\n\n    const listNode = enclosingNodeOrSelfWithNodeNameInArray(node, ['ol', 'li']);\n    if (listNode) {\n      return nodeToParentTreeElementMap.get(listNode) || treeElementBylistItemNode.get(listNode) || null;\n    }\n    return null;\n  }\n\n  treeElementFromEvent(event: MouseEvent|null): TreeElement|null {\n    return event ? this.treeElementFromPoint(event.pageX, event.pageY) : null;\n  }\n\n  setComparator(comparator: ((arg0: TreeElement, arg1: TreeElement) => number)|null): void {\n    this.comparator = comparator;\n  }\n\n  setFocusable(focusable: boolean): void {\n    this.focusable = focusable;\n    this.updateFocusable();\n  }\n\n  updateFocusable(): void {\n    if (this.focusable) {\n      this.contentElement.tabIndex = (this.preventTabOrder || Boolean(this.selectedTreeElement)) ? -1 : 0;\n      if (this.selectedTreeElement) {\n        this.selectedTreeElement.setFocusable(true);\n      }\n    } else {\n      this.contentElement.removeAttribute('tabIndex');\n      if (this.selectedTreeElement) {\n        this.selectedTreeElement.setFocusable(false);\n      }\n    }\n  }\n\n  focus(): void {\n    if (this.selectedTreeElement) {\n      this.selectedTreeElement.listItemElement.focus();\n    } else {\n      this.contentElement.focus();\n    }\n  }\n\n  setUseLightSelectionColor(flag: boolean): void {\n    this.useLightSelectionColor = flag;\n  }\n\n  getUseLightSelectionColor(): boolean {\n    return this.useLightSelectionColor;\n  }\n\n  bindTreeElement(element: TreeElement): void {\n    if (element.treeOutline) {\n      console.error('Binding element for the second time: ' + new Error().stack);\n    }\n    element.treeOutline = this;\n    element.onbind();\n  }\n\n  unbindTreeElement(element: TreeElement): void {\n    if (!element.treeOutline) {\n      console.error('Unbinding element that was not bound: ' + new Error().stack);\n    }\n\n    element.deselect();\n    element.onunbind();\n    element.treeOutline = null;\n  }\n\n  selectPrevious(): boolean {\n    let nextSelectedElement = this.selectedTreeElement?.traversePreviousTreeElement(true) ?? null;\n    while (nextSelectedElement && !nextSelectedElement.selectable) {\n      nextSelectedElement = nextSelectedElement.traversePreviousTreeElement(!this.expandTreeElementsWhenArrowing);\n    }\n    if (!nextSelectedElement) {\n      return false;\n    }\n    nextSelectedElement.select(false, true);\n    return true;\n  }\n\n  selectNext(): boolean {\n    let nextSelectedElement = this.selectedTreeElement?.traverseNextTreeElement(true) ?? null;\n    while (nextSelectedElement && !nextSelectedElement.selectable) {\n      nextSelectedElement = nextSelectedElement.traverseNextTreeElement(!this.expandTreeElementsWhenArrowing);\n    }\n    if (!nextSelectedElement) {\n      return false;\n    }\n    nextSelectedElement.select(false, true);\n    return true;\n  }\n\n  forceSelect(omitFocus: boolean|undefined = false, selectedByUser: boolean|undefined = true): void {\n    if (this.selectedTreeElement) {\n      this.selectedTreeElement.deselect();\n    }\n    this.selectFirst(omitFocus, selectedByUser);\n  }\n\n  private selectFirst(omitFocus: boolean|undefined = false, selectedByUser: boolean|undefined = true): boolean {\n    let first = this.firstChild();\n    while (first && !first.selectable) {\n      first = first.traverseNextTreeElement(true);\n    }\n    if (!first) {\n      return false;\n    }\n    first.select(omitFocus, selectedByUser);\n    return true;\n  }\n\n  private selectLast(): boolean {\n    let last = this.lastDescendent();\n    while (last && !last.selectable) {\n      last = last.traversePreviousTreeElement(true);\n    }\n    if (!last) {\n      return false;\n    }\n    last.select(false, true);\n    return true;\n  }\n\n  private treeKeyDown(event: KeyboardEvent): void {\n    if (event.shiftKey || event.metaKey || event.ctrlKey || isEditing()) {\n      return;\n    }\n\n    let handled = false;\n    if (!this.selectedTreeElement) {\n      if (event.key === 'ArrowUp' && !event.altKey) {\n        handled = this.selectLast();\n      } else if (event.key === 'ArrowDown' && !event.altKey) {\n        handled = this.selectFirst();\n      }\n    } else if (event.key === 'ArrowUp' && !event.altKey) {\n      handled = this.selectPrevious();\n    } else if (event.key === 'ArrowDown' && !event.altKey) {\n      handled = this.selectNext();\n    } else if (event.key === 'ArrowLeft') {\n      handled = this.selectedTreeElement.collapseOrAscend(event.altKey);\n    } else if (event.key === 'ArrowRight') {\n      if (!this.selectedTreeElement.revealed()) {\n        this.selectedTreeElement.reveal();\n        handled = true;\n      } else {\n        handled = this.selectedTreeElement.descendOrExpand(event.altKey);\n      }\n    } else if (event.keyCode === 8 /* Backspace */ || event.keyCode === 46 /* Delete */) {\n      handled = this.selectedTreeElement.ondelete();\n    } else if (event.key === 'Enter') {\n      handled = this.selectedTreeElement.onenter();\n    } else if (event.keyCode === Keys.Space.code) {\n      handled = this.selectedTreeElement.onspace();\n    } else if (event.key === 'Home') {\n      handled = this.selectFirst();\n    } else if (event.key === 'End') {\n      handled = this.selectLast();\n    }\n\n    if (handled) {\n      event.consume(true);\n    }\n  }\n\n  deferredScrollIntoView(treeElement: TreeElement, center: boolean): void {\n    const deferredScrollIntoView = (): void => {\n      if (!this.treeElementToScrollIntoView) {\n        return;\n      }\n\n      // This function doesn't use scrollIntoViewIfNeeded because it always\n      // scrolls in both directions even if only one is necessary to bring the\n      // item into view.\n      const itemRect = this.treeElementToScrollIntoView.listItemElement.getBoundingClientRect();\n      const treeRect = this.contentElement.getBoundingClientRect();\n\n      // Usually, this.element is the tree container that scrolls. But sometimes\n      // (i.e. in the Elements panel), its parent is.\n      let scrollParentElement: Element = this.element;\n      while (getComputedStyle(scrollParentElement).overflow === 'visible' &&\n             scrollParentElement.parentElementOrShadowHost()) {\n        const parent = scrollParentElement.parentElementOrShadowHost();\n        Platform.assertNotNullOrUndefined(parent);\n        scrollParentElement = parent;\n      }\n\n      const viewRect = scrollParentElement.getBoundingClientRect();\n\n      const currentScrollX = viewRect.left - treeRect.left;\n      const currentScrollY = viewRect.top - treeRect.top + this.contentElement.offsetTop;\n\n      // Only scroll into view on each axis if the item is not visible at all\n      // but if we do scroll and centerUponScrollIntoView is true\n      // then we center the top left corner of the item in view.\n      let deltaLeft: number = itemRect.left - treeRect.left;\n      if (deltaLeft > currentScrollX && deltaLeft < currentScrollX + viewRect.width) {\n        deltaLeft = currentScrollX;\n      } else if (this.centerUponScrollIntoView) {\n        deltaLeft = deltaLeft - viewRect.width / 2;\n      }\n      let deltaTop: number = itemRect.top - treeRect.top;\n      if (deltaTop > currentScrollY && deltaTop < currentScrollY + viewRect.height) {\n        deltaTop = currentScrollY;\n      } else if (this.centerUponScrollIntoView) {\n        deltaTop = deltaTop - viewRect.height / 2;\n      }\n      scrollParentElement.scrollTo(deltaLeft, deltaTop);\n      this.treeElementToScrollIntoView = null;\n    };\n\n    if (!this.treeElementToScrollIntoView) {\n      this.element.window().requestAnimationFrame(deferredScrollIntoView);\n    }\n    this.treeElementToScrollIntoView = treeElement;\n    this.centerUponScrollIntoView = center;\n  }\n\n  onStartedEditingTitle(_treeElement: TreeElement): void {\n  }\n}\n\nexport const enum TreeVariant {\n  NAVIGATION_TREE = 'NavigationTree',\n  OTHER = 'Other',\n}\n\nexport class TreeOutlineInShadow extends TreeOutline {\n  override element: HTMLElement;\n  shadowRoot: ShadowRoot;\n  private readonly disclosureElement: Element;\n  override renderSelection: boolean;\n  constructor(variant: TreeVariant = TreeVariant.OTHER, element?: HTMLElement) {\n    super();\n    this.contentElement.classList.add('tree-outline');\n    this.element = element ?? document.createElement('div');\n    this.shadowRoot = createShadowRootWithCoreStyles(this.element, {cssFile: treeoutlineStyles});\n    this.disclosureElement = this.shadowRoot.createChild('div', 'tree-outline-disclosure');\n    this.disclosureElement.appendChild(this.contentElement);\n    this.renderSelection = true;\n\n    if (variant === TreeVariant.NAVIGATION_TREE) {\n      this.contentElement.classList.add('tree-variant-navigation');\n    }\n  }\n\n  setVariant(variant: TreeVariant): void {\n    this.contentElement.classList.toggle('tree-variant-navigation', variant === TreeVariant.NAVIGATION_TREE);\n  }\n\n  registerRequiredCSS(...cssFiles: Array<string&{_tag: 'CSS-in-JS'}>): void {\n    for (const cssFile of cssFiles) {\n      Platform.DOMUtilities.appendStyle(this.shadowRoot, cssFile);\n    }\n  }\n\n  setHideOverflow(hideOverflow: boolean): void {\n    this.disclosureElement.classList.toggle('tree-outline-disclosure-hide-overflow', hideOverflow);\n  }\n\n  setDense(dense: boolean): void {\n    this.contentElement.classList.toggle('tree-outline-dense', dense);\n  }\n\n  override onStartedEditingTitle(treeElement: TreeElement): void {\n    const selection = this.shadowRoot.getSelection();\n    if (selection) {\n      selection.selectAllChildren(treeElement.titleElement);\n    }\n  }\n}\n\nexport const treeElementBylistItemNode = new WeakMap<Node, TreeElement>();\nexport class TreeElement {\n  treeOutline: TreeOutline|null;\n  parent: TreeElement|null;\n  previousSibling: TreeElement|null;\n  nextSibling: TreeElement|null;\n  private readonly boundOnFocus: () => void;\n  private readonly boundOnBlur: () => void;\n  readonly listItemNode: HTMLLIElement;\n  titleElement: Node;\n  titleInternal: string|Node;\n  private childrenInternal: TreeElement[]|null;\n  childrenListNode: HTMLOListElement;\n  private expandLoggable = {};\n  private hiddenInternal: boolean;\n  private selectableInternal: boolean;\n  expanded: boolean;\n  selected: boolean;\n  private expandable!: boolean;\n  #expandRecursively = true;\n  private collapsible: boolean;\n  toggleOnClick: boolean;\n  button: Buttons.Button.Button|null;\n  root: boolean;\n  private tooltipInternal: string;\n  private leadingIconsElement: HTMLElement|null;\n  private trailingIconsElement: HTMLElement|null;\n  protected selectionElementInternal: HTMLElement|null;\n  private disableSelectFocus: boolean;\n  constructor(title?: string|Node, expandable?: boolean, jslogContext?: string|number) {\n    this.treeOutline = null;\n    this.parent = null;\n    this.previousSibling = null;\n    this.nextSibling = null;\n    this.boundOnFocus = this.onFocus.bind(this);\n    this.boundOnBlur = this.onBlur.bind(this);\n    this.listItemNode = document.createElement('li');\n\n    this.titleElement = this.listItemNode.createChild('span', 'tree-element-title');\n    treeElementBylistItemNode.set(this.listItemNode, this);\n    this.titleInternal = '';\n    if (title) {\n      this.title = title;\n    }\n    this.listItemNode.addEventListener('mousedown', (this.handleMouseDown.bind(this) as EventListener), false);\n    this.listItemNode.addEventListener('click', (this.treeElementToggled.bind(this) as EventListener), false);\n    this.listItemNode.addEventListener('dblclick', this.handleDoubleClick.bind(this), false);\n    this.listItemNode.setAttribute(\n        'jslog', `${VisualLogging.treeItem().parent('parentTreeItem').context(jslogContext).track({\n          click: true,\n          keydown: 'ArrowUp|ArrowDown|ArrowLeft|ArrowRight|Backspace|Delete|Enter|Space|Home|End',\n        })}`);\n    ARIAUtils.markAsTreeitem(this.listItemNode);\n\n    this.childrenInternal = null;\n    this.childrenListNode = document.createElement('ol');\n    nodeToParentTreeElementMap.set(this.childrenListNode, this);\n    this.childrenListNode.classList.add('children');\n    ARIAUtils.markAsGroup(this.childrenListNode);\n\n    this.hiddenInternal = false;\n    this.selectableInternal = true;\n    this.expanded = false;\n    this.selected = false;\n    this.setExpandable(expandable || false);\n    this.collapsible = true;\n    this.toggleOnClick = false;\n    this.button = null;\n    this.root = false;\n    this.tooltipInternal = '';\n    this.leadingIconsElement = null;\n    this.trailingIconsElement = null;\n    this.selectionElementInternal = null;\n    this.disableSelectFocus = false;\n  }\n\n  static getTreeElementBylistItemNode(node: Node): TreeElement|undefined {\n    return treeElementBylistItemNode.get(node);\n  }\n\n  hasAncestor(ancestor: TreeElement|null): boolean {\n    if (!ancestor) {\n      return false;\n    }\n\n    let currentNode: (TreeElement|null) = this.parent;\n    while (currentNode) {\n      if (ancestor === currentNode) {\n        return true;\n      }\n      currentNode = currentNode.parent;\n    }\n\n    return false;\n  }\n\n  hasAncestorOrSelf(ancestor: TreeElement|null): boolean {\n    return this === ancestor || this.hasAncestor(ancestor);\n  }\n\n  isHidden(): boolean {\n    if (this.hidden) {\n      return true;\n    }\n\n    let currentNode: (TreeElement|null) = this.parent;\n    while (currentNode) {\n      if (currentNode.hidden) {\n        return true;\n      }\n      currentNode = currentNode.parent;\n    }\n\n    return false;\n  }\n\n  children(): TreeElement[] {\n    return this.childrenInternal || [];\n  }\n\n  childCount(): number {\n    return this.childrenInternal ? this.childrenInternal.length : 0;\n  }\n\n  firstChild(): TreeElement|null {\n    return this.childrenInternal ? this.childrenInternal[0] : null;\n  }\n\n  lastChild(): TreeElement|null {\n    return this.childrenInternal ? this.childrenInternal[this.childrenInternal.length - 1] : null;\n  }\n\n  childAt(index: number): TreeElement|null {\n    return this.childrenInternal ? this.childrenInternal[index] : null;\n  }\n\n  indexOfChild(child: TreeElement): number {\n    return this.childrenInternal ? this.childrenInternal.indexOf(child) : -1;\n  }\n\n  appendChild(child: TreeElement, comparator?: ((arg0: TreeElement, arg1: TreeElement) => number)): void {\n    if (!this.childrenInternal) {\n      this.childrenInternal = [];\n    }\n\n    let insertionIndex;\n    if (comparator) {\n      insertionIndex = Platform.ArrayUtilities.lowerBound(this.childrenInternal, child, comparator);\n    } else if (this.treeOutline?.comparator) {\n      insertionIndex = Platform.ArrayUtilities.lowerBound(this.childrenInternal, child, this.treeOutline.comparator);\n    } else {\n      insertionIndex = this.childrenInternal.length;\n    }\n    this.insertChild(child, insertionIndex);\n  }\n\n  insertChild(child: TreeElement, index: number): void {\n    if (!this.childrenInternal) {\n      this.childrenInternal = [];\n    }\n\n    if (!child) {\n      throw new Error('child can\\'t be undefined or null');\n    }\n\n    console.assert(\n        !child.parent, 'Attempting to insert a child that is already in the tree, reparenting is not supported.');\n\n    const previousChild = (index > 0 ? this.childrenInternal[index - 1] : null);\n    if (previousChild) {\n      previousChild.nextSibling = child;\n      child.previousSibling = previousChild;\n    } else {\n      child.previousSibling = null;\n    }\n\n    const nextChild = this.childrenInternal[index];\n    if (nextChild) {\n      nextChild.previousSibling = child;\n      child.nextSibling = nextChild;\n    } else {\n      child.nextSibling = null;\n    }\n\n    this.childrenInternal.splice(index, 0, child);\n\n    this.setExpandable(true);\n    child.parent = this;\n\n    if (this.treeOutline) {\n      this.treeOutline.bindTreeElement(child);\n    }\n    for (let current = child.firstChild(); this.treeOutline && current;\n         current = current.traverseNextTreeElement(false, child, true)) {\n      this.treeOutline.bindTreeElement(current);\n    }\n    child.onattach();\n    child.ensureSelection();\n    if (this.treeOutline) {\n      this.treeOutline.dispatchEventToListeners(Events.ElementAttached, child);\n    }\n    const nextSibling = child.nextSibling ? child.nextSibling.listItemNode : null;\n    this.childrenListNode.insertBefore(child.listItemNode, nextSibling);\n    this.childrenListNode.insertBefore(child.childrenListNode, nextSibling);\n    if (child.selected) {\n      child.select();\n    }\n    if (child.expanded) {\n      child.expand();\n    }\n  }\n\n  removeChildAtIndex(childIndex: number): void {\n    if (!this.childrenInternal || childIndex < 0 || childIndex >= this.childrenInternal.length) {\n      throw new Error('childIndex out of range');\n    }\n\n    const child = this.childrenInternal[childIndex];\n    this.childrenInternal.splice(childIndex, 1);\n\n    const parent = child.parent;\n    if (this.treeOutline?.selectedTreeElement?.hasAncestorOrSelf(child)) {\n      if (child.nextSibling) {\n        child.nextSibling.select(true);\n      } else if (child.previousSibling) {\n        child.previousSibling.select(true);\n      } else if (parent) {\n        parent.select(true);\n      }\n    }\n\n    if (child.previousSibling) {\n      child.previousSibling.nextSibling = child.nextSibling;\n    }\n    if (child.nextSibling) {\n      child.nextSibling.previousSibling = child.previousSibling;\n    }\n    child.parent = null;\n\n    if (this.treeOutline) {\n      this.treeOutline.unbindTreeElement(child);\n    }\n    for (let current = child.firstChild(); this.treeOutline && current;\n         current = current.traverseNextTreeElement(false, child, true)) {\n      this.treeOutline.unbindTreeElement(current);\n    }\n\n    child.detach();\n    if (this.treeOutline) {\n      this.treeOutline.dispatchEventToListeners(Events.ElementsDetached);\n    }\n  }\n\n  removeChild(child: TreeElement): void {\n    if (!child) {\n      throw new Error('child can\\'t be undefined or null');\n    }\n    if (child.parent !== this) {\n      return;\n    }\n\n    const childIndex = this.childrenInternal ? this.childrenInternal.indexOf(child) : -1;\n    if (childIndex === -1) {\n      throw new Error('child not found in this node\\'s children');\n    }\n\n    this.removeChildAtIndex(childIndex);\n  }\n\n  removeChildren(): void {\n    if (!this.root && this.treeOutline?.selectedTreeElement?.hasAncestorOrSelf(this)) {\n      this.select(true);\n    }\n\n    if (this.childrenInternal) {\n      for (const child of this.childrenInternal) {\n        child.previousSibling = null;\n        child.nextSibling = null;\n        child.parent = null;\n\n        if (this.treeOutline) {\n          this.treeOutline.unbindTreeElement(child);\n        }\n        for (let current = child.firstChild(); this.treeOutline && current;\n             current = current.traverseNextTreeElement(false, child, true)) {\n          this.treeOutline.unbindTreeElement(current);\n        }\n        child.detach();\n      }\n    }\n    this.childrenInternal = [];\n    if (this.treeOutline) {\n      this.treeOutline.dispatchEventToListeners(Events.ElementsDetached);\n    }\n  }\n\n  get selectable(): boolean {\n    if (this.isHidden()) {\n      return false;\n    }\n    return this.selectableInternal;\n  }\n\n  set selectable(x: boolean) {\n    this.selectableInternal = x;\n  }\n\n  get listItemElement(): HTMLLIElement {\n    return this.listItemNode;\n  }\n\n  get childrenListElement(): HTMLOListElement {\n    return this.childrenListNode;\n  }\n\n  get title(): string|Node {\n    return this.titleInternal;\n  }\n\n  set title(x: string|Node) {\n    if (this.titleInternal === x) {\n      return;\n    }\n    this.titleInternal = x;\n\n    if (typeof x === 'string') {\n      this.titleElement.textContent = x;\n      this.tooltip = x;\n    } else {\n      this.titleElement = x;\n      this.tooltip = '';\n    }\n\n    this.listItemNode.removeChildren();\n    if (this.leadingIconsElement) {\n      this.listItemNode.appendChild(this.leadingIconsElement);\n    }\n    this.listItemNode.appendChild(this.titleElement);\n    if (this.trailingIconsElement) {\n      this.listItemNode.appendChild(this.trailingIconsElement);\n    }\n    this.ensureSelection();\n  }\n\n  titleAsText(): string {\n    if (!this.titleInternal) {\n      return '';\n    }\n    if (typeof this.titleInternal === 'string') {\n      return this.titleInternal;\n    }\n    return this.titleInternal.textContent || '';\n  }\n\n  startEditingTitle<T>(editingConfig: Config<T>): void {\n    InplaceEditor.startEditing((this.titleElement as Element), editingConfig);\n    if (this.treeOutline) {\n      this.treeOutline.onStartedEditingTitle(this);\n    }\n  }\n\n  setLeadingIcons(icons: IconButton.Icon.Icon[]|Lit.TemplateResult[]): void {\n    if (!this.leadingIconsElement && !icons.length) {\n      return;\n    }\n    if (!this.leadingIconsElement) {\n      this.leadingIconsElement = document.createElement('div');\n      this.leadingIconsElement.classList.add('leading-icons');\n      this.leadingIconsElement.classList.add('icons-container');\n      this.listItemNode.insertBefore(this.leadingIconsElement, this.titleElement);\n      this.ensureSelection();\n    }\n    // eslint-disable-next-line @devtools/no-lit-render-outside-of-view\n    render(icons, this.leadingIconsElement);\n  }\n\n  get tooltip(): string {\n    return this.tooltipInternal;\n  }\n\n  set tooltip(x: string) {\n    if (this.tooltipInternal === x) {\n      return;\n    }\n    this.tooltipInternal = x;\n    Tooltip.install(this.listItemNode, x);\n  }\n\n  isExpandable(): boolean {\n    return this.expandable;\n  }\n\n  setExpandable(expandable: boolean): void {\n    if (this.expandable === expandable) {\n      return;\n    }\n\n    this.expandable = expandable;\n\n    this.listItemNode.classList.toggle('parent', expandable);\n    if (!expandable) {\n      this.collapse();\n      ARIAUtils.unsetExpandable(this.listItemNode);\n    } else {\n      VisualLogging.registerLoggable(\n          this.expandLoggable, `${VisualLogging.expand()}`, this.listItemNode, new DOMRect(0, 0, 16, 16));\n      ARIAUtils.setExpanded(this.listItemNode, false);\n    }\n  }\n\n  isExpandRecursively(): boolean {\n    return this.#expandRecursively;\n  }\n\n  setExpandRecursively(expandRecursively: boolean): void {\n    this.#expandRecursively = expandRecursively;\n  }\n\n  isCollapsible(): boolean {\n    return this.collapsible;\n  }\n\n  setCollapsible(collapsible: boolean): void {\n    if (this.collapsible === collapsible) {\n      return;\n    }\n\n    this.collapsible = collapsible;\n\n    this.listItemNode.classList.toggle('always-parent', !collapsible);\n    if (!collapsible) {\n      this.expand();\n    }\n  }\n\n  get hidden(): boolean {\n    return this.hiddenInternal;\n  }\n\n  set hidden(x: boolean) {\n    if (this.hiddenInternal === x) {\n      return;\n    }\n\n    this.hiddenInternal = x;\n\n    this.listItemNode.classList.toggle('hidden', x);\n    this.childrenListNode.classList.toggle('hidden', x);\n\n    if (x && this.treeOutline?.selectedTreeElement?.hasAncestorOrSelf(this)) {\n      const hadFocus = this.treeOutline.selectedTreeElement.listItemElement.hasFocus();\n      this.treeOutline.forceSelect(!hadFocus, /* selectedByUser */ false);\n    }\n  }\n\n  invalidateChildren(): void {\n    if (this.childrenInternal) {\n      this.removeChildren();\n      this.childrenInternal = null;\n    }\n  }\n\n  private ensureSelection(): void {\n    if (!this.treeOutline?.renderSelection) {\n      return;\n    }\n    if (!this.selectionElementInternal) {\n      this.selectionElementInternal = document.createElement('div');\n      this.selectionElementInternal.classList.add('selection');\n      this.selectionElementInternal.classList.add('fill');\n    }\n    this.listItemNode.insertBefore(this.selectionElementInternal, this.listItemElement.firstChild);\n  }\n\n  private treeElementToggled(event: MouseEvent): void {\n    const element = (event.currentTarget as Node | null);\n    if (!element || treeElementBylistItemNode.get(element) !== this || element.hasSelection()) {\n      return;\n    }\n\n    console.assert(Boolean(this.treeOutline));\n    const showSelectionOnKeyboardFocus = this.treeOutline ? this.treeOutline.showSelectionOnKeyboardFocus : false;\n    const toggleOnClick = this.toggleOnClick && (showSelectionOnKeyboardFocus || !this.selectable);\n    const isInTriangle = this.isEventWithinDisclosureTriangle(event);\n    if (!toggleOnClick && !isInTriangle) {\n      return;\n    }\n\n    if (this.expanded) {\n      if (event.altKey) {\n        this.collapseRecursively();\n      } else {\n        this.collapse();\n      }\n    } else if (event.altKey) {\n      void this.expandRecursively();\n    } else {\n      this.expand();\n    }\n    void VisualLogging.logClick(this.expandLoggable, event);\n    event.consume();\n  }\n\n  private handleMouseDown(event: MouseEvent): void {\n    const element = (event.currentTarget as Node | null);\n    if (!element) {\n      return;\n    }\n    if (!this.selectable) {\n      return;\n    }\n    if (treeElementBylistItemNode.get(element) !== this) {\n      return;\n    }\n\n    if (this.isEventWithinDisclosureTriangle(event)) {\n      return;\n    }\n\n    this.selectOnMouseDown(event);\n  }\n\n  private handleDoubleClick(event: Event): void {\n    const element = (event.currentTarget as Node | null);\n    if (!element || treeElementBylistItemNode.get(element) !== this) {\n      return;\n    }\n\n    const handled = this.ondblclick(event);\n    if (handled) {\n      return;\n    }\n    if (this.expandable && !this.expanded) {\n      this.expand();\n    }\n  }\n\n  private detach(): void {\n    this.listItemNode.remove();\n    this.childrenListNode.remove();\n  }\n\n  collapse(): void {\n    if (!this.expanded || !this.collapsible) {\n      return;\n    }\n    this.listItemNode.classList.remove('expanded');\n    this.childrenListNode.classList.remove('expanded');\n    ARIAUtils.setExpanded(this.listItemNode, false);\n    this.expanded = false;\n    this.oncollapse();\n    if (this.treeOutline) {\n      this.treeOutline.dispatchEventToListeners(Events.ElementCollapsed, this);\n    }\n\n    const selectedTreeElement = this.treeOutline?.selectedTreeElement;\n    if (selectedTreeElement?.hasAncestor(this)) {\n      this.select(/* omitFocus */ true, /* selectedByUser */ true);\n    }\n  }\n\n  collapseRecursively(): void {\n    let item: (TreeElement|null)|this = this;\n    while (item) {\n      if (item.expanded) {\n        item.collapse();\n      }\n      item = item.traverseNextTreeElement(false, this, true);\n    }\n  }\n\n  collapseChildren(): void {\n    if (!this.childrenInternal) {\n      return;\n    }\n    for (const child of this.childrenInternal) {\n      child.collapseRecursively();\n    }\n  }\n\n  expand(): void {\n    if (!this.expandable || (this.expanded && this.childrenInternal)) {\n      return;\n    }\n\n    // Set this before onpopulate. Since onpopulate can add elements, this makes\n    // sure the expanded flag is true before calling those functions. This prevents the possibility\n    // of an infinite loop if onpopulate were to call expand.\n\n    this.expanded = true;\n\n    void this.populateIfNeeded();\n    this.listItemNode.classList.add('expanded');\n    this.childrenListNode.classList.add('expanded');\n    ARIAUtils.setExpanded(this.listItemNode, true);\n\n    if (this.treeOutline) {\n      this.onexpand();\n      this.treeOutline.dispatchEventToListeners(Events.ElementExpanded, this);\n    }\n  }\n\n  async expandRecursively(maxDepth?: number): Promise<void> {\n    let item: (TreeElement|null)|this = this;\n    const info = {depthChange: 0};\n    let depth = 0;\n\n    // The Inspector uses TreeOutlines to represents object properties, so recursive expansion\n    // in some case can be infinite, since JavaScript objects can hold circular references.\n    // So default to a recursion cap of 3 levels, since that gives fairly good results.\n    if (maxDepth === undefined || isNaN(maxDepth)) {\n      maxDepth = 3;\n    }\n\n    do {\n      if (item.isExpandRecursively()) {\n        await item.populateIfNeeded();\n\n        if (depth < maxDepth) {\n          item.expand();\n        }\n      }\n      item = item.traverseNextTreeElement(!item.isExpandRecursively(), this, true, info);\n      depth += info.depthChange;\n    } while (item !== null);\n  }\n\n  collapseOrAscend(altKey: boolean): boolean {\n    if (this.expanded && this.collapsible) {\n      if (altKey) {\n        this.collapseRecursively();\n      } else {\n        this.collapse();\n      }\n      return true;\n    }\n\n    if (!this.parent || this.parent.root) {\n      return false;\n    }\n\n    if (!this.parent.selectable) {\n      this.parent.collapse();\n      return true;\n    }\n\n    let nextSelectedElement: (TreeElement|null)|TreeElement = this.parent;\n    while (nextSelectedElement && !nextSelectedElement.selectable) {\n      nextSelectedElement = nextSelectedElement.parent;\n    }\n\n    if (!nextSelectedElement) {\n      return false;\n    }\n    nextSelectedElement.select(false, true);\n    return true;\n  }\n\n  descendOrExpand(altKey: boolean): boolean {\n    if (!this.expandable) {\n      return false;\n    }\n\n    if (!this.expanded) {\n      if (altKey) {\n        void this.expandRecursively();\n      } else {\n        this.expand();\n      }\n      return true;\n    }\n\n    let nextSelectedElement = this.firstChild();\n    while (nextSelectedElement && !nextSelectedElement.selectable) {\n      nextSelectedElement = nextSelectedElement.nextSibling;\n    }\n\n    if (!nextSelectedElement) {\n      return false;\n    }\n    nextSelectedElement.select(false, true);\n    return true;\n  }\n\n  reveal(center?: boolean): void {\n    let currentAncestor: (TreeElement|null) = this.parent;\n    while (currentAncestor && !currentAncestor.root) {\n      if (!currentAncestor.expanded) {\n        currentAncestor.expand();\n      }\n      currentAncestor = currentAncestor.parent;\n    }\n\n    if (this.treeOutline) {\n      this.treeOutline.deferredScrollIntoView(this, Boolean(center));\n    }\n  }\n\n  revealed(): boolean {\n    let currentAncestor: (TreeElement|null) = this.parent;\n    while (currentAncestor && !currentAncestor.root) {\n      if (!currentAncestor.expanded) {\n        return false;\n      }\n      currentAncestor = currentAncestor.parent;\n    }\n\n    return true;\n  }\n\n  selectOnMouseDown(event: MouseEvent): void {\n    if (this.select(false, true)) {\n      event.consume(true);\n    }\n\n    if (this.listItemNode.draggable && this.selectionElementInternal && this.treeOutline) {\n      const marginLeft = this.treeOutline.element.getBoundingClientRect().left -\n          this.listItemNode.getBoundingClientRect().left - this.treeOutline.element.scrollLeft;\n      // By default the left margin extends far off screen. This is not a problem except when dragging an element.\n      // Setting the margin once here should be fine, because we believe the left margin should never change.\n      this.selectionElementInternal.style.setProperty('margin-left', marginLeft + 'px');\n    }\n  }\n\n  select(omitFocus?: boolean, selectedByUser?: boolean): boolean {\n    omitFocus = omitFocus || this.disableSelectFocus;\n    if (!this.treeOutline || !this.selectable || this.selected) {\n      if (!omitFocus) {\n        this.listItemElement.focus();\n      }\n      return false;\n    }\n    // Wait to deselect this element so that focus only changes once\n    const lastSelected = this.treeOutline.selectedTreeElement;\n    this.treeOutline.selectedTreeElement = null;\n\n    if (this.treeOutline.rootElementInternal === this) {\n      if (lastSelected) {\n        lastSelected.deselect();\n      }\n      if (!omitFocus) {\n        this.listItemElement.focus();\n      }\n      return false;\n    }\n\n    this.selected = true;\n\n    this.treeOutline.selectedTreeElement = this;\n    this.treeOutline.updateFocusable();\n    if (!omitFocus || this.treeOutline.contentElement.hasFocus()) {\n      this.listItemElement.focus();\n    }\n\n    this.listItemNode.classList.add('selected');\n    ARIAUtils.setSelected(this.listItemNode, true);\n    this.treeOutline.dispatchEventToListeners(Events.ElementSelected, this);\n    if (lastSelected) {\n      lastSelected.deselect();\n    }\n    return this.onselect(selectedByUser);\n  }\n\n  setFocusable(focusable: boolean): void {\n    if (focusable) {\n      this.listItemNode.setAttribute('tabIndex', (this.treeOutline?.preventTabOrder) ? '-1' : '0');\n      this.listItemNode.addEventListener('focus', this.boundOnFocus, false);\n      this.listItemNode.addEventListener('blur', this.boundOnBlur, false);\n    } else {\n      this.listItemNode.removeAttribute('tabIndex');\n      this.listItemNode.removeEventListener('focus', this.boundOnFocus, false);\n      this.listItemNode.removeEventListener('blur', this.boundOnBlur, false);\n    }\n  }\n\n  private onFocus(): void {\n    if (!this.treeOutline || this.treeOutline.getUseLightSelectionColor()) {\n      return;\n    }\n    if (!this.treeOutline.contentElement.classList.contains('hide-selection-when-blurred')) {\n      this.listItemNode.classList.add('force-white-icons');\n    }\n  }\n\n  private onBlur(): void {\n    if (!this.treeOutline || this.treeOutline.getUseLightSelectionColor()) {\n      return;\n    }\n    if (!this.treeOutline.contentElement.classList.contains('hide-selection-when-blurred')) {\n      this.listItemNode.classList.remove('force-white-icons');\n    }\n  }\n\n  revealAndSelect(omitFocus?: boolean): void {\n    this.reveal(true);\n    this.select(omitFocus);\n  }\n\n  deselect(): void {\n    const hadFocus = this.listItemNode.hasFocus();\n    this.selected = false;\n    this.listItemNode.classList.remove('selected');\n    ARIAUtils.clearSelected(this.listItemNode);\n    this.setFocusable(false);\n\n    if (this.treeOutline && this.treeOutline.selectedTreeElement === this) {\n      this.treeOutline.selectedTreeElement = null;\n      this.treeOutline.updateFocusable();\n      if (hadFocus) {\n        this.treeOutline.focus();\n      }\n    }\n  }\n\n  private async populateIfNeeded(): Promise<void> {\n    if (this.treeOutline && this.expandable && !this.childrenInternal) {\n      this.childrenInternal = [];\n      await this.onpopulate();\n    }\n  }\n\n  async onpopulate(): Promise<void> {\n    // Overridden by subclasses.\n  }\n\n  onenter(): boolean {\n    if (this.expandable && !this.expanded) {\n      this.expand();\n      return true;\n    }\n    if (this.collapsible && this.expanded) {\n      this.collapse();\n      return true;\n    }\n    return false;\n  }\n\n  ondelete(): boolean {\n    return false;\n  }\n\n  onspace(): boolean {\n    return false;\n  }\n\n  onbind(): void {\n  }\n\n  onunbind(): void {\n  }\n\n  onattach(): void {\n  }\n\n  onexpand(): void {\n  }\n\n  oncollapse(): void {\n  }\n\n  ondblclick(_e: Event): boolean {\n    return false;\n  }\n\n  onselect(_selectedByUser?: boolean): boolean {\n    return false;\n  }\n\n  traverseNextTreeElement(skipUnrevealed: boolean, stayWithin?: TreeElement|null, dontPopulate?: boolean, info?: {\n    depthChange: number,\n  }): TreeElement|null {\n    if (!dontPopulate) {\n      void this.populateIfNeeded();\n    }\n\n    if (info) {\n      info.depthChange = 0;\n    }\n\n    let element: (TreeElement|null)|this =\n        skipUnrevealed ? (this.revealed() ? this.firstChild() : null) : this.firstChild();\n    if (element && (!skipUnrevealed || (skipUnrevealed && this.expanded))) {\n      if (info) {\n        info.depthChange = 1;\n      }\n      return element;\n    }\n\n    if (this === stayWithin) {\n      return null;\n    }\n\n    element = skipUnrevealed ? (this.revealed() ? this.nextSibling : null) : this.nextSibling;\n    if (element) {\n      return element;\n    }\n\n    element = this;\n    while (element && !element.root &&\n           !(skipUnrevealed ? (element.revealed() ? element.nextSibling : null) : element.nextSibling) &&\n           element.parent !== stayWithin) {\n      if (info) {\n        info.depthChange -= 1;\n      }\n      element = element.parent;\n    }\n\n    if (!element || element.root) {\n      return null;\n    }\n\n    return (skipUnrevealed ? (element.revealed() ? element.nextSibling : null) : element.nextSibling);\n  }\n\n  traversePreviousTreeElement(skipUnrevealed: boolean, dontPopulate?: boolean): TreeElement|null {\n    let element: (TreeElement|null) =\n        skipUnrevealed ? (this.revealed() ? this.previousSibling : null) : this.previousSibling;\n    if (!dontPopulate && element) {\n      void element.populateIfNeeded();\n    }\n\n    while (element &&\n           (skipUnrevealed ? (element.revealed() && element.expanded ? element.lastChild() : null) :\n                             element.lastChild())) {\n      if (!dontPopulate) {\n        void element.populateIfNeeded();\n      }\n      element =\n          (skipUnrevealed ? (element.revealed() && element.expanded ? element.lastChild() : null) :\n                            element.lastChild());\n    }\n\n    if (element) {\n      return element;\n    }\n\n    if (!this.parent || this.parent.root) {\n      return null;\n    }\n\n    return this.parent;\n  }\n\n  isEventWithinDisclosureTriangle(event: MouseEvent): boolean {\n    const arrowToggleWidth = 10;\n    // FIXME: We should not use getComputedStyle(). For that we need to get rid of using ::before for disclosure triangle. (http://webk.it/74446)\n    const paddingLeftValue = window.getComputedStyle(this.listItemNode).paddingLeft;\n    console.assert(paddingLeftValue.endsWith('px'));\n    const computedLeftPadding = parseFloat(paddingLeftValue);\n    const left = this.listItemNode.getBoundingClientRect().left + computedLeftPadding;\n    return event.pageX >= left && event.pageX <= left + arrowToggleWidth && this.expandable;\n  }\n\n  setDisableSelectFocus(toggle: boolean): void {\n    this.disableSelectFocus = toggle;\n  }\n}\n\nfunction hasBooleanAttribute(element: Element, name: string): boolean {\n  return element.hasAttribute(name) && element.getAttribute(name) !== 'false';\n}\n\ninterface TreeNode<NodeT> {\n  children(): NodeT[];\n}\n\nexport interface TreeSearchResult<NodeT> {\n  node: NodeT;\n  isPostOrderMatch: boolean;\n  matchIndexInNode: number;\n}\n\nexport class TreeSearch < NodeT extends TreeNode<NodeT>,\n                                        SearchResultT extends TreeSearchResult<NodeT >= TreeSearchResult<NodeT>> {\n  #matches: SearchResultT[] = [];\n  #currentMatchIndex = 0;\n  #nodeMatchMap: WeakMap<NodeT, SearchResultT[]>|undefined;\n\n  reset(): void {\n    this.#matches = [];\n    this.#nodeMatchMap = undefined;\n    this.#currentMatchIndex = 0;\n  }\n\n  currentMatch(): SearchResultT|undefined {\n    return this.#matches.at(this.#currentMatchIndex);\n  }\n\n  #getNodeMatchMap(): WeakMap<NodeT, SearchResultT[]> {\n    if (!this.#nodeMatchMap) {\n      this.#nodeMatchMap = new WeakMap();\n      for (const match of this.#matches) {\n        let entry = this.#nodeMatchMap.get(match.node);\n        if (!entry) {\n          entry = [];\n          this.#nodeMatchMap.set(match.node, entry);\n        }\n        entry.push(match);\n      }\n    }\n    return this.#nodeMatchMap;\n  }\n\n  getResults(node: NodeT): SearchResultT[] {\n    return this.#getNodeMatchMap().get(node) ?? [];\n  }\n\n  static highlight(ranges: TextUtils.TextRange.SourceRange[], selectedRange: TextUtils.TextRange.SourceRange|undefined):\n      ReturnType<typeof Lit.Directives.ref> {\n    return Lit.Directives.ref(element => {\n      if (!(element instanceof HTMLElement)) {\n        return;\n      }\n      const configListItem = element.closest<HTMLLIElement>('li[role=\"treeitem\"]');\n      const titleElement = configListItem ? TreeViewTreeElement.get(configListItem)?.titleElement : undefined;\n      if (configListItem && titleElement) {\n        const targetElement = HTMLElementWithLightDOMTemplate.findCorrespondingElement(\n            element, configListItem, titleElement as HTMLElement);\n        if (targetElement) {\n          Highlighting.HighlightManager.HighlightManager.instance().set(targetElement, ranges, selectedRange);\n        }\n      }\n    });\n  }\n\n  updateSearchableView(view: SearchableView): void {\n    view.updateSearchMatchesCount(this.#matches.length);\n    view.updateCurrentMatchIndex(this.#currentMatchIndex);\n  }\n\n  next(): SearchResultT|undefined {\n    this.#currentMatchIndex = Platform.NumberUtilities.mod(this.#currentMatchIndex + 1, this.#matches.length);\n    return this.currentMatch();\n  }\n\n  prev(): SearchResultT|undefined {\n    this.#currentMatchIndex = Platform.NumberUtilities.mod(this.#currentMatchIndex - 1, this.#matches.length);\n    return this.currentMatch();\n  }\n\n  // This is a generator to sidestep stack overflow risks\n  *\n      #innerSearch(\n          node: NodeT, currentMatch: SearchResultT|undefined, jumpBackwards: boolean,\n          match: (node: NodeT, isPostOrder: boolean) => SearchResultT[]): Generator<SearchResultT> {\n    const updateCurrentMatchIndex = (isPostOrder: boolean): void => {\n      if (currentMatch?.node === node && currentMatch.isPostOrderMatch === isPostOrder) {\n        // We're current matching the node that contains the currently focused search result, the n-th result\n        // within that node. When updating the search hits, make sure we're still focusing the n-th result within\n        // that node. That may make the result jump within the node, but at least we're still focusing the same\n        // node. If there are fewer than n hits in the current node, we're going to move the focus to the next\n        // search hit in the next node by default, or the last one in this node if searching backwards.\n        if (currentMatch.matchIndexInNode >= preOrderMatches.length) {\n          this.#currentMatchIndex = jumpBackwards ? this.#matches.length - 1 : this.#matches.length;\n        } else {\n          this.#currentMatchIndex = this.#matches.length - preOrderMatches.length + currentMatch.matchIndexInNode;\n        }\n      }\n    };\n\n    const preOrderMatches = match(node, /* isPostOrder=*/ false);\n    this.#matches.push(...preOrderMatches);\n    updateCurrentMatchIndex(/* isPostOrder=*/ false);\n    yield* preOrderMatches.values();\n    for (const child of node.children()) {\n      yield* this.#innerSearch(child, currentMatch, jumpBackwards, match);\n    }\n    const postOrderMatches = match(node, /* isPostOrder=*/ true);\n    this.#matches.push(...postOrderMatches);\n    updateCurrentMatchIndex(/* isPostOrder=*/ true);\n    yield* postOrderMatches.values();\n  }\n\n  search(node: NodeT, jumpBackwards: boolean, match: (node: NodeT, isPostOrder: boolean) => SearchResultT[]): number {\n    const currentMatch = this.currentMatch();\n    this.reset();\n    // eslint-disable-next-line @typescript-eslint/naming-convention,@typescript-eslint/no-unused-vars\n    for (const _ of this.#innerSearch(node, currentMatch, jumpBackwards, match)) {\n      // run the generator\n    }\n    this.#currentMatchIndex = Platform.NumberUtilities.mod(this.#currentMatchIndex, this.#matches.length);\n    return this.#matches.length;\n  }\n}\n\nclass TreeViewTreeElement extends TreeElement {\n  #clonedAttributes = new Set<string>();\n  #clonedClasses = new Set<string>();\n\n  static #elementToTreeElement = new WeakMap<Node, TreeViewTreeElement>();\n  readonly configElement: HTMLLIElement;\n\n  constructor(treeOutline: TreeOutline, configElement: HTMLLIElement) {\n    super(undefined, undefined, configElement.getAttribute('jslog-context') ?? undefined);\n    this.configElement = configElement;\n    TreeViewTreeElement.#elementToTreeElement.set(configElement, this);\n    this.refresh();\n  }\n\n  refresh(): void {\n    this.titleElement.textContent = '';\n    this.#clonedAttributes.forEach(attr => this.listItemElement.attributes.removeNamedItem(attr));\n    this.#clonedClasses.forEach(className => this.listItemElement.classList.remove(className));\n    this.#clonedAttributes.clear();\n    this.#clonedClasses.clear();\n    for (let i = 0; i < this.configElement.attributes.length; ++i) {\n      const attribute = this.configElement.attributes.item(i);\n      if (attribute && attribute.name !== 'role' && SDK.DOMModel.ARIA_ATTRIBUTES.has(attribute.name)) {\n        this.listItemElement.setAttribute(attribute.name, attribute.value);\n        this.#clonedAttributes.add(attribute.name);\n      }\n    }\n    for (const className of this.configElement.classList) {\n      this.listItemElement.classList.add(className);\n      this.#clonedClasses.add(className);\n    }\n    InterceptBindingDirective.attachEventListeners(this.configElement, this.listItemElement);\n\n    for (const child of this.configElement.childNodes) {\n      if (child instanceof HTMLUListElement && child.role === 'group') {\n        continue;\n      }\n      this.titleElement.appendChild(HTMLElementWithLightDOMTemplate.cloneNode(child));\n    }\n\n    Highlighting.HighlightManager.HighlightManager.instance().apply(this.titleElement);\n  }\n\n  static get(configElement: Node|undefined): TreeViewTreeElement|undefined {\n    return configElement && TreeViewTreeElement.#elementToTreeElement.get(configElement);\n  }\n\n  remove(): void {\n    const parent = this.parent;\n    if (parent) {\n      parent.removeChild(this);\n      parent.setExpandable(parent.children().length > 0);\n    }\n    TreeViewTreeElement.#elementToTreeElement.delete(this.configElement);\n  }\n}\n\nfunction getTreeNodes(nodeList: NodeList|Node[]): HTMLLIElement[] {\n  return nodeList.values()\n      .flatMap(node => {\n        if (node instanceof HTMLLIElement && node.role === 'treeitem') {\n          return [node, ...node.querySelectorAll<HTMLLIElement>('ul[role=\"group\"] li[role=\"treeitem\"]')];\n        }\n        if (node instanceof HTMLElement) {\n          return node.querySelectorAll<HTMLLIElement>('li[role=\"treeitem\"]');\n        }\n        return [];\n      })\n      .toArray();\n}\n\nfunction getStyleElements(nodes: NodeList|Node[]): HTMLElement[] {\n  return [...nodes].flatMap(node => {\n    if (node instanceof HTMLStyleElement) {\n      return [node];\n    }\n    if (node instanceof HTMLElement) {\n      return [...node.querySelectorAll<HTMLStyleElement>('style')];\n    }\n    return [] as HTMLElement[];\n  });\n}\n\n/**\n * A tree element that can be used as progressive enhancement over a <ul> element. A `template` IDL attribute allows\n * additionally to insert the <ul> into a <template>, avoiding rendering anything into light DOM, which is recommended.\n * The <ul> itself will be cloned into shadow DOM and rendered there.\n *\n * ## Usage ##\n *\n * It can be used as\n * ```\n * <devtools-tree\n *   .template=${html`\n *     <ul role=\"tree\">\n *        <li role=\"treeitem\" @expand=${onExpand}>\n *          Tree Node Text\n *          <ul role=\"group\">\n *            Node with subtree\n *            <li role=\"treeitem\" jslog-context=\"context\">\n *              <ul role=\"group\" hidden>\n *                <li role=\"treeitem\">Tree Node Text in collapsed subtree</li>\n *                <li role=\"treeitem\">Tree Node Text in collapsed subtree</li>\n *              </ul>\n *           </li>\n *           <li selected role=\"treeitem\">Tree Node Text in a selected-by-default node</li>\n *         </ul>\n *       </li>\n *     </ul>\n *   </template>`}\n * ></devtools-tree>\n *\n * ```\n * where a <li role=\"treeitem\"> element defines a tree node and its contents (the <li> is the `config element` for this\n * tree node). If a tree node contains a <ul role=\"group\">, that defines a subtree under that tree node. The `hidden`\n * attribute on the <ul> defines whether that subtree should render as collapsed. Note that node expanding/collapsing do\n * not reflect this state back to the attribute on the config element, those state changes are rather sent out as\n * `expand` events on the config element.\n *\n * Under the hood this uses TreeOutline.\n *\n * ## Config Element Attributes ##\n *\n * - `selected`: Whether the tree node should be rendered as selected.\n * - `jslog-context`: The jslog context for the tree element.\n * - `aria-*`: All aria attributes defined on the config element are cloned over.\n * - `hidden`: On the <ul>, declares whether the subtree should be rendererd as expanded or collapsed.\n *\n * ## Event Handling ##\n *\n * This section is only relevant if NOT using the `template`.\n *\n * Since config elements are cloned into the shadow DOM, it's not possible to directly attach event listeners to the\n * children of config elements. Instead, the `UI.UIUtils.InterceptBindingDirective` directive needs to be used as a\n * wrapper:\n * ```\n * const on = Lit.Directive.directive(UI.UIUtils.InterceptBindingDirective);\n *\n * html`<li role=\"treeitem\">\n *   <button @click=${on(clickHandler)}>click me</button>\n * </li>`\n * ```\n *\n * @property template Define the tree contents\n * @event selected A node was selected\n * @attribute navigation-variant Turn this tree into the navigation variant\n * @attribute hide-overflow\n */\nexport class TreeViewElement extends HTMLElementWithLightDOMTemplate {\n  static readonly observedAttributes = ['navigation-variant', 'hide-overflow'];\n  readonly #treeOutline = new TreeOutlineInShadow(undefined, this);\n\n  constructor() {\n    super();\n    this.#treeOutline.addEventListener(Events.ElementSelected, event => {\n      if (event.data instanceof TreeViewTreeElement) {\n        this.dispatchEvent(new TreeViewElement.SelectEvent(event.data.configElement));\n      }\n    });\n    this.#treeOutline.addEventListener(Events.ElementExpanded, event => {\n      if (event.data instanceof TreeViewTreeElement) {\n        event.data.listItemElement.dispatchEvent(new TreeViewElement.ExpandEvent({expanded: true}));\n      }\n    });\n    this.#treeOutline.addEventListener(Events.ElementCollapsed, event => {\n      if (event.data instanceof TreeViewTreeElement) {\n        event.data.listItemElement.dispatchEvent(new TreeViewElement.ExpandEvent({expanded: false}));\n      }\n    });\n    this.addNodes(getTreeNodes([this]));\n  }\n\n  getInternalTreeOutlineForTest(): TreeOutlineInShadow {\n    return this.#treeOutline;\n  }\n\n  #getParentTreeElement(element: HTMLLIElement): {treeElement: TreeElement, expanded: boolean}|null {\n    const subtreeRoot = element.parentElement;\n    if (!(subtreeRoot instanceof HTMLUListElement)) {\n      return null;\n    }\n    if (subtreeRoot.role === 'tree') {\n      return {treeElement: this.#treeOutline.rootElement(), expanded: false};\n    }\n    if (subtreeRoot.role !== 'group' || !subtreeRoot.parentElement) {\n      return null;\n    }\n    const expanded = !hasBooleanAttribute(subtreeRoot, 'hidden');\n    const treeElement = TreeViewTreeElement.get(subtreeRoot.parentElement);\n    return treeElement ? {expanded, treeElement} : null;\n  }\n\n  protected override updateNode(node: Node, attributeName: string|null): void {\n    while (node?.parentNode && !(node instanceof HTMLElement)) {\n      node = node.parentNode;\n    }\n    const treeNode = node instanceof HTMLElement ? node.closest('li[role=\"treeitem\"]') : null;\n    if (!treeNode) {\n      return;\n    }\n    const treeElement = TreeViewTreeElement.get(treeNode);\n    if (!treeElement) {\n      return;\n    }\n    treeElement.refresh();\n    if (node === treeNode && attributeName === 'selected' && hasBooleanAttribute(treeNode, 'selected')) {\n      treeElement.revealAndSelect(true);\n    }\n    if (attributeName === 'hidden' && node instanceof HTMLUListElement && node.role === 'group') {\n      if (hasBooleanAttribute(node, 'hidden')) {\n        treeElement.collapse();\n      } else {\n        treeElement.expand();\n      }\n    }\n  }\n\n  protected override addNodes(nodes: NodeList|Node[], nextSibling?: Node|null): void {\n    for (const node of getTreeNodes(nodes)) {\n      if (TreeViewTreeElement.get(node)) {\n        continue;  // Not sure this can happen\n      }\n      const parent = this.#getParentTreeElement(node);\n      if (!parent) {\n        continue;\n      }\n      while (nextSibling && nextSibling.nodeType !== Node.ELEMENT_NODE) {\n        nextSibling = nextSibling.nextSibling;\n      }\n      const nextElement = nextSibling ? TreeViewTreeElement.get(nextSibling) : null;\n      const index = nextElement ? parent.treeElement.indexOfChild(nextElement) : parent.treeElement.children().length;\n      const treeElement = new TreeViewTreeElement(this.#treeOutline, node);\n      const expandable = Boolean(node.querySelector('ul[role=\"group\"]'));\n      treeElement.setExpandable(expandable);\n      parent.treeElement.insertChild(treeElement, index);\n      if (hasBooleanAttribute(node, 'selected')) {\n        treeElement.revealAndSelect(true);\n      }\n      if (parent.expanded) {\n        parent.treeElement.expand();\n      }\n    }\n    for (const element of getStyleElements(nodes)) {\n      this.#treeOutline.shadowRoot.appendChild(element.cloneNode(true));\n    }\n  }\n\n  protected override removeNodes(nodes: NodeList): void {\n    for (const node of getTreeNodes(nodes)) {\n      TreeViewTreeElement.get(node)?.remove();\n    }\n  }\n\n  set hideOverflow(hide: boolean) {\n    this.toggleAttribute('hide-overflow', hide);\n  }\n\n  get hideOverflow(): boolean {\n    return hasBooleanAttribute(this, 'hide-overflow');\n  }\n\n  set navgiationVariant(navigationVariant: boolean) {\n    this.toggleAttribute('navigation-variant', navigationVariant);\n  }\n\n  get navigationVariant(): boolean {\n    return hasBooleanAttribute(this, 'navigation-variant');\n  }\n\n  attributeChangedCallback(name: string, oldValue: string|null, newValue: string|null): void {\n    if (oldValue === newValue) {\n      return;\n    }\n    switch (name) {\n      case 'navigation-variant':\n        this.#treeOutline.setVariant(newValue !== 'false' ? TreeVariant.NAVIGATION_TREE : TreeVariant.OTHER);\n        break;\n      case 'hide-overflow':\n        this.#treeOutline.setHideOverflow(newValue !== 'false');\n    }\n  }\n}\n\nexport namespace TreeViewElement {\n  export class SelectEvent extends CustomEvent<HTMLLIElement> {\n    constructor(detail: HTMLLIElement) {\n      super('select', {detail});\n    }\n  }\n\n  export class ExpandEvent extends CustomEvent<{expanded: boolean}> {\n    constructor(detail: {expanded: boolean}) {\n      super('expand', {detail});\n    }\n  }\n}\n\ncustomElements.define('devtools-tree', TreeViewElement);\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    'devtools-tree': TreeViewElement;\n  }\n}\n\nfunction loggingParentProvider(e: Element): Element|undefined {\n  const treeElement = TreeElement.getTreeElementBylistItemNode(e);\n  const parentElement = treeElement?.parent?.listItemElement;\n  return parentElement?.isConnected && parentElement || treeElement?.treeOutline?.contentElement;\n}\n\nVisualLogging.registerParentProvider('parentTreeItem', loggingParentProvider);\n"]}