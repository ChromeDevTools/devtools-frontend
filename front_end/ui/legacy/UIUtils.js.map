{"version":3,"file":"UIUtils.js","sourceRoot":"","sources":["../../../../../../front_end/ui/legacy/UIUtils.ts"],"names":[],"mappings":"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","sourcesContent":["// Copyright 2021 The Chromium Authors\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n/* eslint-disable @devtools/no-imperative-dom-api */\n\n/*\n * Copyright (C) 2011 Google Inc.  All rights reserved.\n * Copyright (C) 2006, 2007, 2008 Apple Inc.  All rights reserved.\n * Copyright (C) 2007 Matt Lilek (pewtermoose@gmail.com).\n * Copyright (C) 2009 Joseph Pecoraro\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions\n * are met:\n *\n * 1.  Redistributions of source code must retain the above copyright\n *     notice, this list of conditions and the following disclaimer.\n * 2.  Redistributions in binary form must reproduce the above copyright\n *     notice, this list of conditions and the following disclaimer in the\n *     documentation and/or other materials provided with the distribution.\n * 3.  Neither the name of Apple Computer, Inc. (\"Apple\") nor the names of\n *     its contributors may be used to endorse or promote products derived\n *     from this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY APPLE AND ITS CONTRIBUTORS \"AS IS\" AND ANY\n * EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL APPLE OR ITS CONTRIBUTORS BE LIABLE FOR ANY\n * DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF\n * THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\nimport './Toolbar.js';\n\nimport * as Common from '../../core/common/common.js';\nimport * as Host from '../../core/host/host.js';\nimport * as i18n from '../../core/i18n/i18n.js';\nimport * as Platform from '../../core/platform/platform.js';\nimport * as Geometry from '../../models/geometry/geometry.js';\nimport * as Buttons from '../components/buttons/buttons.js';\nimport {Icon, type IconData} from '../kit/kit.js';\nimport * as Lit from '../lit/lit.js';\nimport * as VisualLogging from '../visual_logging/visual_logging.js';\n\nimport * as ActionRegistration from './ActionRegistration.js';\nimport {ActionRegistry} from './ActionRegistry.js';\nimport * as ARIAUtils from './ARIAUtils.js';\nimport checkboxTextLabelStyles from './checkboxTextLabel.css.js';\nimport confirmDialogStyles from './confirmDialog.css.js';\nimport {Dialog} from './Dialog.js';\nimport {appendStyle, deepActiveElement, rangeOfWord} from './DOMUtilities.js';\nimport {GlassPane, PointerEventsBehavior, SizeBehavior} from './GlassPane.js';\nimport inspectorCommonStyles from './inspectorCommon.css.js';\nimport {InspectorView} from './InspectorView.js';\nimport {KeyboardShortcut, Keys} from './KeyboardShortcut.js';\nimport smallBubbleStyles from './smallBubble.css.js';\nimport {Tooltip} from './Tooltip.js';\nimport {Widget} from './Widget.js';\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    'devtools-checkbox': CheckboxLabel;\n    'dt-close-button': DevToolsCloseButton;\n    'dt-icon-label': DevToolsIconLabel;\n    'dt-small-bubble': DevToolsSmallBubble;\n  }\n}\nconst {Directives, render} = Lit;\n\nconst UIStrings = {\n  /**\n   * @description label to open link externally\n   */\n  openInNewTab: 'Open in new tab',\n  /**\n   * @description label to copy link address\n   */\n  copyLinkAddress: 'Copy link address',\n  /**\n   * @description label to copy file name\n   */\n  copyFileName: 'Copy file name',\n  /**\n   * @description label for the profiler control button\n   */\n  anotherProfilerIsAlreadyActive: 'Another profiler is already active',\n  /**\n   * @description Text in UIUtils\n   */\n  promiseResolvedAsync: 'Promise resolved (async)',\n  /**\n   * @description Text in UIUtils\n   */\n  promiseRejectedAsync: 'Promise rejected (async)',\n  /**\n   * @description Text for the title of asynchronous function calls group in Call Stack\n   */\n  asyncCall: 'Async Call',\n  /**\n   * @description Text for the name of anonymous functions\n   */\n  anonymous: '(anonymous)',\n  /**\n   * @description Text to close something\n   */\n  close: 'Close',\n  /**\n   * @description Text on a button for message dialog\n   */\n  ok: 'OK',\n  /**\n   * @description Text to cancel something\n   */\n  cancel: 'Cancel',\n  /**\n   * @description Text for the new badge appearing next to some menu items\n   */\n  new: 'NEW',\n} as const;\nconst str_ = i18n.i18n.registerUIStrings('ui/legacy/UIUtils.ts', UIStrings);\nconst i18nString = i18n.i18n.getLocalizedString.bind(undefined, str_);\n\nexport function installDragHandle(\n    element: Element, elementDragStart: ((arg0: MouseEvent) => boolean)|null, elementDrag: (arg0: MouseEvent) => void,\n    elementDragEnd: ((arg0: MouseEvent) => void)|null, cursor: string|null, hoverCursor?: string|null,\n    startDelay?: number, mouseDownPreventDefault = true): void {\n  function onMouseDown(event: Event): void {\n    const dragHandler = new DragHandler();\n    const dragStart = (): void => dragHandler.elementDragStart(\n        element, elementDragStart, elementDrag, elementDragEnd, cursor, event, mouseDownPreventDefault);\n    if (startDelay) {\n      startTimer = window.setTimeout(dragStart, startDelay);\n    } else {\n      dragStart();\n    }\n  }\n\n  function onMouseUp(): void {\n    if (startTimer) {\n      window.clearTimeout(startTimer);\n    }\n    startTimer = null;\n  }\n\n  let startTimer: number|null;\n  element.addEventListener('pointerdown', onMouseDown, false);\n  if (startDelay) {\n    element.addEventListener('pointerup', onMouseUp, false);\n  }\n  if (hoverCursor !== null) {\n    (element as HTMLElement).style.cursor = hoverCursor || cursor || '';\n  }\n}\n\nexport function elementDragStart(\n    targetElement: Element, elementDragStart: ((arg0: MouseEvent) => boolean)|null,\n    elementDrag: (arg0: MouseEvent) => void, elementDragEnd: ((arg0: MouseEvent) => void)|null, cursor: string|null,\n    event: Event): void {\n  const dragHandler = new DragHandler();\n  dragHandler.elementDragStart(targetElement, elementDragStart, elementDrag, elementDragEnd, cursor, event);\n}\n\nclass DragHandler {\n  private glassPaneInUse?: boolean;\n  private elementDraggingEventListener?: ((arg0: MouseEvent) => void|boolean);\n  private elementEndDraggingEventListener?: ((arg0: MouseEvent) => void)|null;\n  private dragEventsTargetDocument?: Document;\n  private dragEventsTargetDocumentTop?: Document;\n  private restoreCursorAfterDrag?: (() => void);\n\n  constructor() {\n    this.elementDragMove = this.elementDragMove.bind(this);\n    this.elementDragEnd = this.elementDragEnd.bind(this);\n    this.mouseOutWhileDragging = this.mouseOutWhileDragging.bind(this);\n  }\n\n  private createGlassPane(): void {\n    this.glassPaneInUse = true;\n    if (!DragHandler.glassPaneUsageCount++) {\n      DragHandler.glassPane = new GlassPane();\n      DragHandler.glassPane.setPointerEventsBehavior(PointerEventsBehavior.BLOCKED_BY_GLASS_PANE);\n      if (DragHandler.documentForMouseOut) {\n        DragHandler.glassPane.show(DragHandler.documentForMouseOut);\n      }\n    }\n  }\n\n  private disposeGlassPane(): void {\n    if (!this.glassPaneInUse) {\n      return;\n    }\n    this.glassPaneInUse = false;\n    if (--DragHandler.glassPaneUsageCount) {\n      return;\n    }\n    if (DragHandler.glassPane) {\n      DragHandler.glassPane.hide();\n      DragHandler.glassPane = null;\n    }\n    DragHandler.documentForMouseOut = null;\n    DragHandler.rootForMouseOut = null;\n  }\n\n  elementDragStart(\n      targetElement: Element, elementDragStart: ((arg0: MouseEvent) => boolean)|null,\n      elementDrag: (arg0: MouseEvent) => void|boolean, elementDragEnd: ((arg0: MouseEvent) => void)|null,\n      cursor: string|null, ev: Event, preventDefault = true): void {\n    const event = (ev as MouseEvent);\n    // Only drag upon left button. Right will likely cause a context menu. So will ctrl-click on mac.\n    if (event.button || (Host.Platform.isMac() && event.ctrlKey)) {\n      return;\n    }\n\n    if (this.elementDraggingEventListener) {\n      return;\n    }\n\n    if (elementDragStart && !elementDragStart((event))) {\n      return;\n    }\n\n    const targetDocument = (event.target instanceof Node && event.target.ownerDocument) as Document;\n    this.elementDraggingEventListener = elementDrag;\n    this.elementEndDraggingEventListener = elementDragEnd;\n    console.assert(\n        (DragHandler.documentForMouseOut || targetDocument) === targetDocument, 'Dragging on multiple documents.');\n    DragHandler.documentForMouseOut = targetDocument;\n    DragHandler.rootForMouseOut = event.target instanceof Node && event.target.getRootNode() || null;\n    this.dragEventsTargetDocument = targetDocument;\n    try {\n      if (targetDocument.defaultView && targetDocument.defaultView.top) {\n        this.dragEventsTargetDocumentTop = targetDocument.defaultView.top.document;\n      }\n    } catch {\n      this.dragEventsTargetDocumentTop = this.dragEventsTargetDocument;\n    }\n\n    targetDocument.addEventListener('pointermove', this.elementDragMove, true);\n    targetDocument.addEventListener('pointerup', this.elementDragEnd, true);\n    DragHandler.rootForMouseOut?.addEventListener('pointerout', this.mouseOutWhileDragging, {capture: true});\n    if (this.dragEventsTargetDocumentTop && targetDocument !== this.dragEventsTargetDocumentTop) {\n      this.dragEventsTargetDocumentTop.addEventListener('pointerup', this.elementDragEnd, true);\n    }\n\n    const targetHtmlElement = (targetElement as HTMLElement);\n    if (typeof cursor === 'string') {\n      this.restoreCursorAfterDrag = restoreCursor.bind(this, targetHtmlElement.style.cursor);\n      targetHtmlElement.style.cursor = cursor;\n      targetDocument.body.style.cursor = cursor;\n    }\n    function restoreCursor(this: DragHandler, oldCursor: string): void {\n      targetDocument.body.style.removeProperty('cursor');\n      targetHtmlElement.style.cursor = oldCursor;\n      this.restoreCursorAfterDrag = undefined;\n    }\n\n    if (preventDefault) {\n      event.preventDefault();\n    }\n  }\n\n  private mouseOutWhileDragging(): void {\n    this.unregisterMouseOutWhileDragging();\n    this.createGlassPane();\n  }\n\n  private unregisterMouseOutWhileDragging(): void {\n    if (!DragHandler.rootForMouseOut) {\n      return;\n    }\n    DragHandler.rootForMouseOut.removeEventListener('pointerout', this.mouseOutWhileDragging, {capture: true});\n  }\n\n  private unregisterDragEvents(): void {\n    if (!this.dragEventsTargetDocument) {\n      return;\n    }\n    this.dragEventsTargetDocument.removeEventListener('pointermove', this.elementDragMove, true);\n    this.dragEventsTargetDocument.removeEventListener('pointerup', this.elementDragEnd, true);\n    if (this.dragEventsTargetDocumentTop && this.dragEventsTargetDocument !== this.dragEventsTargetDocumentTop) {\n      this.dragEventsTargetDocumentTop.removeEventListener('pointerup', this.elementDragEnd, true);\n    }\n    delete this.dragEventsTargetDocument;\n    delete this.dragEventsTargetDocumentTop;\n  }\n\n  private elementDragMove(event: MouseEvent): void {\n    if (event.buttons !== 1) {\n      this.elementDragEnd(event);\n      return;\n    }\n    if (this.elementDraggingEventListener?.(event)) {\n      this.cancelDragEvents(event);\n    }\n  }\n\n  private cancelDragEvents(_event: Event): void {\n    this.unregisterDragEvents();\n    this.unregisterMouseOutWhileDragging();\n\n    if (this.restoreCursorAfterDrag) {\n      this.restoreCursorAfterDrag();\n    }\n\n    this.disposeGlassPane();\n\n    delete this.elementDraggingEventListener;\n    delete this.elementEndDraggingEventListener;\n  }\n\n  private elementDragEnd(event: Event): void {\n    const elementDragEnd = this.elementEndDraggingEventListener;\n    this.cancelDragEvents((event as MouseEvent));\n    event.preventDefault();\n    if (elementDragEnd) {\n      elementDragEnd((event as MouseEvent));\n    }\n  }\n\n  private static glassPaneUsageCount = 0;\n  private static glassPane: GlassPane|null = null;\n  private static documentForMouseOut: Document|null = null;\n  private static rootForMouseOut: Node|null = null;\n}\n\nexport function isBeingEdited(node?: Node|null): boolean {\n  if (!node || node.nodeType !== Node.ELEMENT_NODE) {\n    return false;\n  }\n  const element = (node as Element);\n  if (element.classList.contains('text-prompt') || element.nodeName === 'INPUT' || element.nodeName === 'TEXTAREA') {\n    return true;\n  }\n\n  if (!elementsBeingEdited.size) {\n    return false;\n  }\n\n  let currentElement: (Element|null)|Element = element;\n  while (currentElement) {\n    if (elementsBeingEdited.has(element)) {\n      return true;\n    }\n    currentElement = currentElement.parentElementOrShadowHost();\n  }\n  return false;\n}\n\nexport function isEditing(): boolean {\n  if (elementsBeingEdited.size) {\n    return true;\n  }\n\n  const focused = deepActiveElement(document);\n  if (!focused) {\n    return false;\n  }\n  return focused.classList.contains('text-prompt') || focused.nodeName === 'INPUT' || focused.nodeName === 'TEXTAREA' ||\n      ((focused as HTMLElement).contentEditable === 'true' ||\n       (focused as HTMLElement).contentEditable === 'plaintext-only');\n}\n\nexport function markBeingEdited(element: Element, value: boolean): boolean {\n  if (value) {\n    if (elementsBeingEdited.has(element)) {\n      return false;\n    }\n    element.classList.add('being-edited');\n    elementsBeingEdited.add(element);\n  } else {\n    if (!elementsBeingEdited.has(element)) {\n      return false;\n    }\n    element.classList.remove('being-edited');\n    elementsBeingEdited.delete(element);\n  }\n  return true;\n}\n\nconst elementsBeingEdited = new Set<Element>();\n\n// Avoids Infinity, NaN, and scientific notation (e.g. 1e20), see crbug.com/81165.\nconst numberRegex = /^(-?(?:\\d+(?:\\.\\d+)?|\\.\\d+))$/;\n\nexport const StyleValueDelimiters = ' \\xA0\\t\\n\"\\':;,/()';\n\nexport function getValueModificationDirection(event: Event): string|null {\n  let direction: 'Up'|'Down'|null = null;\n  if (event instanceof WheelEvent) {\n    // When shift is pressed while spinning mousewheel, delta comes as wheelDeltaX.\n    if (event.deltaY < 0 || event.deltaX < 0) {\n      direction = 'Up';\n    } else if (event.deltaY > 0 || event.deltaX > 0) {\n      direction = 'Down';\n    }\n  } else if (event instanceof MouseEvent) {\n    if (event.movementX < 0) {\n      direction = 'Down';\n    } else if (event.movementX > 0) {\n      direction = 'Up';\n    }\n  } else if (event instanceof KeyboardEvent) {\n    if (event.key === 'ArrowUp' || event.key === 'PageUp') {\n      direction = 'Up';\n    } else if (event.key === 'ArrowDown' || event.key === 'PageDown') {\n      direction = 'Down';\n    }\n  }\n\n  return direction;\n}\n\nfunction modifiedHexValue(hexString: string, event: Event): string|null {\n  const direction = getValueModificationDirection(event);\n  if (!direction) {\n    return null;\n  }\n\n  const mouseEvent = (event as MouseEvent);\n  const number = parseInt(hexString, 16);\n  if (isNaN(number) || !isFinite(number)) {\n    return null;\n  }\n\n  const hexStrLen = hexString.length;\n  const channelLen = hexStrLen / 3;\n\n  // Colors are either rgb or rrggbb.\n  if (channelLen !== 1 && channelLen !== 2) {\n    return null;\n  }\n\n  // Precision modifier keys work with both mousewheel and up/down keys.\n  // When ctrl is pressed, increase R by 1.\n  // When shift is pressed, increase G by 1.\n  // When alt is pressed, increase B by 1.\n  // If no shortcut keys are pressed then increase hex value by 1.\n  // Keys can be pressed together to increase RGB channels. e.g trying different shades.\n  let delta = 0;\n  if (KeyboardShortcut.eventHasCtrlEquivalentKey(mouseEvent)) {\n    delta += Math.pow(16, channelLen * 2);\n  }\n  if (mouseEvent.shiftKey) {\n    delta += Math.pow(16, channelLen);\n  }\n  if (mouseEvent.altKey) {\n    delta += 1;\n  }\n  if (delta === 0) {\n    delta = 1;\n  }\n  if (direction === 'Down') {\n    delta *= -1;\n  }\n\n  // Increase hex value by 1 and clamp from 0 ... maxValue.\n  const maxValue = Math.pow(16, hexStrLen) - 1;\n  const result = Platform.NumberUtilities.clamp(number + delta, 0, maxValue);\n\n  // Ensure the result length is the same as the original hex value.\n  let resultString = result.toString(16).toUpperCase();\n  for (let i = 0, lengthDelta = hexStrLen - resultString.length; i < lengthDelta; ++i) {\n    resultString = '0' + resultString;\n  }\n  return resultString;\n}\n\nexport function modifiedFloatNumber(\n    number: number, event: Event, modifierMultiplier?: number, range?: {min?: number, max?: number}): number|null {\n  const direction = getValueModificationDirection(event);\n  if (!direction) {\n    return null;\n  }\n\n  const mouseEvent = (event as MouseEvent);\n\n  // Precision modifier keys work with both mousewheel and up/down keys.\n  // When ctrl is pressed, increase by 100.\n  // When shift is pressed, increase by 10.\n  // When alt is pressed, increase by 0.1.\n  // Otherwise increase by 1.\n  let delta = mouseEvent.type === 'mousemove' ? Math.abs(mouseEvent.movementX) : 1;\n  if (KeyboardShortcut.eventHasCtrlEquivalentKey(mouseEvent)) {\n    delta *= 100;\n  } else if (mouseEvent.shiftKey) {\n    delta *= 10;\n  } else if (mouseEvent.altKey) {\n    delta *= 0.1;\n  }\n\n  if (direction === 'Down') {\n    delta *= -1;\n  }\n  if (modifierMultiplier) {\n    delta *= modifierMultiplier;\n  }\n\n  // Make the new number and constrain it to a precision of 6, this matches numbers the engine returns.\n  // Use the Number constructor to forget the fixed precision, so 1.100000 will print as 1.1.\n  let result = Number((number + delta).toFixed(6));\n  if (range?.min !== undefined) {\n    result = Math.max(result, range.min);\n  }\n  if (range?.max !== undefined) {\n    result = Math.min(result, range.max);\n  }\n  if (!String(result).match(numberRegex)) {\n    return null;\n  }\n  return result;\n}\n\nexport function createReplacementString(\n    wordString: string, event: Event,\n    customNumberHandler?: ((prefix: string, number: number, suffix: string) => string),\n    stepping?: {step?: number, range?: {min?: number, max?: number}}): string|null {\n  let prefix;\n  let suffix;\n  let number;\n  let replacementString: string|null = null;\n  let matches = /(.*#)([\\da-fA-F]+)(.*)/.exec(wordString);\n  if (matches?.length) {\n    prefix = matches[1];\n    suffix = matches[3];\n    number = modifiedHexValue(matches[2], event);\n    if (number !== null) {\n      replacementString = prefix + number + suffix;\n    }\n  } else {\n    matches = /(.*?)(-?(?:\\d+(?:\\.\\d+)?|\\.\\d+))(.*)/.exec(wordString);\n    if (matches?.length) {\n      prefix = matches[1];\n      suffix = matches[3];\n      number = modifiedFloatNumber(parseFloat(matches[2]), event, stepping?.step, stepping?.range);\n      if (number !== null) {\n        replacementString =\n            customNumberHandler ? customNumberHandler(prefix, number, suffix) : prefix + number + suffix;\n      }\n    }\n  }\n  return replacementString;\n}\n\nexport function isElementValueModification(event: Event): boolean {\n  if (event instanceof MouseEvent) {\n    const {type} = event;\n    return type === 'mousemove' || type === 'wheel';\n  }\n  if (event instanceof KeyboardEvent) {\n    const {key} = event;\n    return key === 'ArrowUp' || key === 'ArrowDown' || key === 'PageUp' || key === 'PageDown';\n  }\n  return false;\n}\n\nexport function handleElementValueModifications(\n    event: Event, element: Element, finishHandler?: ((arg0: string, arg1: string) => void),\n    suggestionHandler?: ((arg0: string) => boolean),\n    customNumberHandler?: ((arg0: string, arg1: number, arg2: string) => string)): boolean {\n  if (!isElementValueModification(event)) {\n    return false;\n  }\n  void VisualLogging.logKeyDown(event.currentTarget, event, 'element-value-modification');\n\n  const selection = element.getComponentSelection();\n  if (!selection?.rangeCount) {\n    return false;\n  }\n\n  const selectionRange = selection.getRangeAt(0);\n  if (!selectionRange.commonAncestorContainer.isSelfOrDescendant(element)) {\n    return false;\n  }\n\n  const originalValue = element.textContent;\n  const wordRange =\n      rangeOfWord(selectionRange.startContainer, selectionRange.startOffset, StyleValueDelimiters, element);\n  const wordString = wordRange.toString();\n\n  if (suggestionHandler?.(wordString)) {\n    return false;\n  }\n\n  const replacementString = createReplacementString(wordString, event, customNumberHandler);\n\n  if (replacementString) {\n    const replacementTextNode = document.createTextNode(replacementString);\n\n    wordRange.deleteContents();\n    wordRange.insertNode(replacementTextNode);\n\n    const finalSelectionRange = document.createRange();\n    finalSelectionRange.setStart(replacementTextNode, 0);\n    finalSelectionRange.setEnd(replacementTextNode, replacementString.length);\n\n    selection.removeAllRanges();\n    selection.addRange(finalSelectionRange);\n\n    event.handled = true;\n    event.preventDefault();\n\n    if (finishHandler) {\n      finishHandler(originalValue || '', replacementString);\n    }\n\n    return true;\n  }\n  return false;\n}\n\nexport function openLinkExternallyLabel(): string {\n  return i18nString(UIStrings.openInNewTab);\n}\n\nexport function copyLinkAddressLabel(): string {\n  return i18nString(UIStrings.copyLinkAddress);\n}\n\nexport function copyFileNameLabel(): string {\n  return i18nString(UIStrings.copyFileName);\n}\n\nexport function anotherProfilerActiveLabel(): string {\n  return i18nString(UIStrings.anotherProfilerIsAlreadyActive);\n}\n\nexport function asyncStackTraceLabel(\n    description: string|undefined, previousCallFrames: Array<{functionName: string}>): string {\n  if (description) {\n    if (description === 'Promise.resolve') {\n      return i18nString(UIStrings.promiseResolvedAsync);\n    }\n    if (description === 'Promise.reject') {\n      return i18nString(UIStrings.promiseRejectedAsync);\n    }\n    if (description === 'await' && previousCallFrames.length !== 0) {\n      const lastPreviousFrame = previousCallFrames[previousCallFrames.length - 1];\n      const lastPreviousFrameName = beautifyFunctionName(lastPreviousFrame.functionName);\n      description = `await in ${lastPreviousFrameName}`;\n    }\n    return description;\n  }\n  return i18nString(UIStrings.asyncCall);\n}\n\nexport function addPlatformClass(element: HTMLElement): void {\n  element.classList.add('platform-' + Host.Platform.platform());\n}\n\nexport function installComponentRootStyles(element: HTMLElement): void {\n  appendStyle(element, inspectorCommonStyles);\n  appendStyle(element, Buttons.textButtonStyles);\n\n  // Detect overlay scrollbar enable by checking for nonzero scrollbar width.\n  if (!Host.Platform.isMac() && measuredScrollbarWidth(element.ownerDocument) === 0) {\n    element.classList.add('overlay-scrollbar-enabled');\n  }\n}\n\nfunction windowFocused(document: Document, event: Event): void {\n  if (event.target instanceof Window && event.target.document.nodeType === Node.DOCUMENT_NODE) {\n    document.body.classList.remove('inactive');\n  }\n}\n\nfunction windowBlurred(document: Document, event: Event): void {\n  if (event.target instanceof Window && event.target.document.nodeType === Node.DOCUMENT_NODE) {\n    document.body.classList.add('inactive');\n  }\n}\n\nexport class ElementFocusRestorer {\n  private element: HTMLElement|null;\n  private previous: HTMLElement|null;\n  constructor(element: Element) {\n    this.element = (element as HTMLElement | null);\n    this.previous = (deepActiveElement(element.ownerDocument) as HTMLElement | null);\n    (element as HTMLElement).focus();\n  }\n\n  restore(): void {\n    if (!this.element) {\n      return;\n    }\n    if (this.element.hasFocus() && this.previous) {\n      this.previous.focus();\n    }\n    this.previous = null;\n    this.element = null;\n  }\n}\n\nexport function runCSSAnimationOnce(element: Element, className: string): void {\n  function animationEndCallback(): void {\n    element.classList.remove(className);\n    element.removeEventListener('webkitAnimationEnd', animationEndCallback, false);\n    element.removeEventListener('animationcancel', animationEndCallback, false);\n  }\n\n  if (element.classList.contains(className)) {\n    element.classList.remove(className);\n  }\n\n  element.addEventListener('webkitAnimationEnd', animationEndCallback, false);\n  element.addEventListener('animationcancel', animationEndCallback, false);\n  element.classList.add(className);\n}\n\nexport function measurePreferredSize(element: Element, containerElement?: Element|null): Geometry.Size {\n  const oldParent = element.parentElement;\n  const oldNextSibling = element.nextSibling;\n  containerElement = containerElement || element.ownerDocument.body;\n  containerElement.appendChild(element);\n  element.positionAt(0, 0);\n  const result = element.getBoundingClientRect();\n\n  element.positionAt(undefined, undefined);\n  if (oldParent) {\n    oldParent.insertBefore(element, oldNextSibling);\n  } else {\n    element.remove();\n  }\n  return new Geometry.Size(result.width, result.height);\n}\n\nclass InvokeOnceHandlers {\n  private handlers: Map<object, Set<(...args: any[]) => void>>|null;\n  private readonly autoInvoke: boolean;\n  constructor(autoInvoke: boolean) {\n    this.handlers = null;\n    this.autoInvoke = autoInvoke;\n  }\n\n  add(object: Object, method: () => void): void {\n    if (!this.handlers) {\n      this.handlers = new Map();\n      if (this.autoInvoke) {\n        this.scheduleInvoke();\n      }\n    }\n    let methods = this.handlers.get(object);\n    if (!methods) {\n      methods = new Set();\n      this.handlers.set(object, methods);\n    }\n    methods.add(method);\n  }\n  scheduleInvoke(): void {\n    if (this.handlers) {\n      requestAnimationFrame(this.invoke.bind(this));\n    }\n  }\n\n  private invoke(): void {\n    const handlers = this.handlers;\n    this.handlers = null;\n    if (handlers) {\n      for (const [object, methods] of handlers) {\n        for (const method of methods) {\n          method.call(object);\n        }\n      }\n    }\n  }\n}\n\nlet coalescingLevel = 0;\nlet postUpdateHandlers: InvokeOnceHandlers|null = null;\n\nexport function startBatchUpdate(): void {\n  if (!coalescingLevel++) {\n    postUpdateHandlers = new InvokeOnceHandlers(false);\n  }\n}\n\nexport function endBatchUpdate(): void {\n  if (--coalescingLevel) {\n    return;\n  }\n\n  if (postUpdateHandlers) {\n    postUpdateHandlers.scheduleInvoke();\n    postUpdateHandlers = null;\n  }\n}\n\nexport function animateFunction(\n    window: Window, func: (...args: any[]) => void, params: Array<{\n      from: number,\n      to: number,\n    }>,\n    duration: number, animationComplete?: (() => void)): () => void {\n  const start = window.performance.now();\n  let raf = window.requestAnimationFrame(animationStep);\n\n  function animationStep(timestamp: number): void {\n    const progress = Platform.NumberUtilities.clamp((timestamp - start) / duration, 0, 1);\n    func(...params.map(p => p.from + (p.to - p.from) * progress));\n    if (progress < 1) {\n      raf = window.requestAnimationFrame(animationStep);\n    } else if (animationComplete) {\n      animationComplete();\n    }\n  }\n\n  return () => window.cancelAnimationFrame(raf);\n}\n\nexport class LongClickController {\n  private readonly element: Element;\n  private readonly callback: (arg0: Event) => void;\n  private readonly editKey: (arg0: KeyboardEvent) => boolean;\n  private longClickData!: {\n    mouseUp: (arg0: Event) => void,\n    mouseDown: (arg0: Event) => void,\n    reset: () => void,\n  }|undefined;\n  private longClickInterval!: number|undefined;\n\n  constructor(\n      element: Element, callback: (arg0: Event) => void,\n      isEditKeyFunc: (arg0: KeyboardEvent) => boolean = (event):\n          boolean => Platform.KeyboardUtilities.isEnterOrSpaceKey(event)) {\n    this.element = element;\n    this.callback = callback;\n    this.editKey = isEditKeyFunc;\n    this.enable();\n  }\n\n  reset(): void {\n    if (this.longClickInterval) {\n      clearInterval(this.longClickInterval);\n      delete this.longClickInterval;\n    }\n  }\n\n  private enable(): void {\n    if (this.longClickData) {\n      return;\n    }\n    const boundKeyDown = keyDown.bind(this);\n    const boundKeyUp = keyUp.bind(this);\n    const boundMouseDown = mouseDown.bind(this);\n    const boundMouseUp = mouseUp.bind(this);\n    const boundReset = this.reset.bind(this);\n\n    this.element.addEventListener('keydown', boundKeyDown, false);\n    this.element.addEventListener('keyup', boundKeyUp, false);\n    this.element.addEventListener('pointerdown', boundMouseDown, false);\n    this.element.addEventListener('pointerout', boundReset, false);\n    this.element.addEventListener('pointerup', boundMouseUp, false);\n    this.element.addEventListener('click', boundReset, true);\n\n    this.longClickData = {mouseUp: boundMouseUp, mouseDown: boundMouseDown, reset: boundReset};\n\n    function keyDown(this: LongClickController, e: Event): void {\n      if (this.editKey(e as KeyboardEvent)) {\n        const callback = this.callback;\n        this.longClickInterval = window.setTimeout(callback.bind(null, e), LongClickController.TIME_MS);\n      }\n    }\n\n    function keyUp(this: LongClickController, e: Event): void {\n      if (this.editKey(e as KeyboardEvent)) {\n        this.reset();\n      }\n    }\n\n    function mouseDown(this: LongClickController, e: Event): void {\n      if ((e as MouseEvent).which !== 1) {\n        return;\n      }\n      const callback = this.callback;\n      this.longClickInterval = window.setTimeout(callback.bind(null, e), LongClickController.TIME_MS);\n    }\n\n    function mouseUp(this: LongClickController, e: Event): void {\n      if ((e as MouseEvent).which !== 1) {\n        return;\n      }\n      this.reset();\n    }\n  }\n\n  dispose(): void {\n    if (!this.longClickData) {\n      return;\n    }\n    this.element.removeEventListener('pointerdown', this.longClickData.mouseDown, false);\n    this.element.removeEventListener('pointerout', this.longClickData.reset, false);\n    this.element.removeEventListener('pointerup', this.longClickData.mouseUp, false);\n    this.element.addEventListener('click', this.longClickData.reset, true);\n    delete this.longClickData;\n  }\n\n  static readonly TIME_MS = 200;\n}\n\nexport function initializeUIUtils(document: Document): void {\n  document.body.classList.toggle('inactive', !document.hasFocus());\n  if (document.defaultView) {\n    document.defaultView.addEventListener('focus', windowFocused.bind(undefined, document), false);\n    document.defaultView.addEventListener('blur', windowBlurred.bind(undefined, document), false);\n  }\n  document.addEventListener('focus', focusChanged.bind(undefined), true);\n\n  const body = (document.body as Element);\n  GlassPane.setContainer(body);\n}\n\nexport function beautifyFunctionName(name: string): string {\n  return name || i18nString(UIStrings.anonymous);\n}\n\nexport const createTextChild = (element: Element|DocumentFragment, text: string): Text => {\n  const textNode = element.ownerDocument.createTextNode(text);\n  element.appendChild(textNode);\n  return textNode;\n};\n\nexport const createTextChildren = (element: Element|DocumentFragment, ...childrenText: string[]): void => {\n  for (const child of childrenText) {\n    createTextChild(element, child);\n  }\n};\n\nexport function createTextButton(text: string, clickHandler?: ((arg0: Event) => void), opts?: {\n  className?: string,\n  jslogContext?: string,\n  variant?: Buttons.Button.Variant,\n  title?: string,\n  icon?: string,\n}): Buttons.Button.Button {\n  const button = new Buttons.Button.Button();\n  if (opts?.className) {\n    button.className = opts.className;\n  }\n\n  button.textContent = text;\n  button.iconName = opts?.icon;\n  button.variant = opts?.variant ? opts.variant : Buttons.Button.Variant.OUTLINED;\n  if (clickHandler) {\n    button.addEventListener('click', clickHandler);\n    button.addEventListener('keydown', (event: KeyboardEvent): void => {\n      if (event.key === 'Enter' || event.key === 'Space') {\n        // Make sure we don't propagate 'Enter' or 'Space' key events to parents,\n        // so that these get turned into 'click' events properly.\n        event.stopImmediatePropagation();\n      }\n    });\n  }\n  if (opts?.jslogContext) {\n    button.setAttribute('jslog', `${VisualLogging.action().track({click: true}).context(opts.jslogContext)}`);\n  }\n  if (opts?.title) {\n    button.setAttribute('title', opts.title);\n  }\n  button.type = 'button';\n  return button;\n}\n\nexport function createInput(className?: string, type?: string, jslogContext?: string): HTMLInputElement {\n  const element = document.createElement('input');\n  if (className) {\n    element.className = className;\n  }\n  element.spellcheck = false;\n  element.classList.add('harmony-input');\n  if (type) {\n    element.type = type;\n  }\n  if (jslogContext) {\n    element.setAttribute(\n        'jslog', `${VisualLogging.textField().track({keydown: 'Enter', change: true}).context(jslogContext)}`);\n  }\n  return element;\n}\n\nexport function createHistoryInput(type = 'search', className?: string): HTMLInputElement {\n  const history = [''];\n  let historyPosition = 0;\n\n  const historyInput = document.createElement('input');\n  historyInput.type = type;\n  if (className) {\n    historyInput.className = className;\n  }\n  historyInput.addEventListener('input', onInput, false);\n  historyInput.addEventListener('keydown', onKeydown, false);\n  return historyInput;\n\n  function onInput(_event: Event): void {\n    if (history.length === historyPosition + 1) {\n      history[historyPosition] = historyInput.value;\n    }\n  }\n\n  function onKeydown(event: KeyboardEvent): void {\n    if (event.keyCode === Keys.Up.code) {\n      historyPosition = Math.max(historyPosition - 1, 0);\n      historyInput.value = history[historyPosition];\n      historyInput.dispatchEvent(new Event('input', {bubbles: true, cancelable: true}));\n      event.consume(true);\n    } else if (event.keyCode === Keys.Down.code) {\n      historyPosition = Math.min(historyPosition + 1, history.length - 1);\n      historyInput.value = history[historyPosition];\n      historyInput.dispatchEvent(new Event('input', {bubbles: true, cancelable: true}));\n      event.consume(true);\n    } else if (event.keyCode === Keys.Enter.code) {\n      if (history.length > 1 && history[history.length - 2] === historyInput.value) {\n        return;\n      }\n      history[history.length - 1] = historyInput.value;\n      historyPosition = history.length - 1;\n      history.push('');\n    }\n  }\n}\n\nexport function createSelect(\n    name: string, options: string[]|Array<Map<string, string[]>>|Set<string>): HTMLSelectElement {\n  const select = document.createElement('select');\n  ARIAUtils.setLabel(select, name);\n  for (const option of options) {\n    if (option instanceof Map) {\n      for (const [key, value] of option) {\n        const optGroup = select.createChild('optgroup');\n        optGroup.label = key;\n        for (const child of value) {\n          if (typeof child === 'string') {\n            optGroup.appendChild(createOption(child, child, Platform.StringUtilities.toKebabCase(child)));\n          }\n        }\n      }\n    } else if (typeof option === 'string') {\n      select.add(createOption(option, option, Platform.StringUtilities.toKebabCase(option)));\n    }\n  }\n  return select;\n}\n\nexport function createOption(title: string, value?: string, jslogContext?: string): HTMLOptionElement {\n  const result = new Option(title, value || title);\n  if (jslogContext) {\n    result.setAttribute('jslog', `${VisualLogging.item(jslogContext).track({click: true})}`);\n  }\n  return result;\n}\n\nexport function createLabel(title: string, className?: string, associatedControl?: Element): Element {\n  const element = document.createElement('label');\n  if (className) {\n    element.className = className;\n  }\n  element.textContent = title;\n  if (associatedControl) {\n    ARIAUtils.bindLabelToControl(element, associatedControl);\n  }\n\n  return element;\n}\n\nexport function createIconLabel(\n    options: {iconName: string, title?: string, color?: string, width?: '14px'|'20px', height?: '14px'|'20px'}):\n    DevToolsIconLabel {\n  const element = document.createElement('dt-icon-label');\n  if (options.title) {\n    element.createChild('span').textContent = options.title;\n  }\n  element.data = {\n    iconName: options.iconName,\n    color: options.color ?? 'var(--icon-default)',\n    width: options.width ?? '14px',\n    height: options.height ?? '14px',\n  };\n  return element;\n}\n\n/**\n * Creates a radio button, which is comprised of a `<label>` and an `<input type=\"radio\">` element.\n *\n * The returned pair contains the `label` element and and the `radio` input element. The latter is\n * a child of the `label`, and therefore no association via `for` attribute is necessary to make\n * the radio button accessible.\n *\n * The element is automatically styled correctly, as long as the core styles (in particular\n * `inspectorCommon.css` is injected into the current document / shadow root). The lit\n * equivalent of calling this method is:\n *\n * ```js\n * const jslog = VisualLogging.toggle().track({change: true}).context(jslogContext);\n * html`<label><input type=\"radio\" name=${name} jslog=${jslog}>${title}</label>`\n * ```\n *\n * @param name the name of the radio group.\n * @param title the label text for the radio button.\n * @param jslogContext the context string for the `jslog` attribute.\n * @returns the pair of `HTMLLabelElement` and `HTMLInputElement`.\n * @see https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input/radio\n */\nexport function createRadioButton(\n    name: string, title: string, jslogContext: string): {label: HTMLLabelElement, radio: HTMLInputElement} {\n  const label = document.createElement('label');\n  const radio = label.createChild('input');\n  radio.type = 'radio';\n  radio.name = name;\n  radio.setAttribute('jslog', `${VisualLogging.toggle().track({change: true}).context(jslogContext)}`);\n  createTextChild(label, title);\n  return {label, radio};\n}\n\n/**\n * Creates an `<input type=\"range\">` element with the specified parameters (a slider)\n * and a `step` of 1 (the default for the element).\n *\n * The element is automatically styled correctly, as long as the core styles (in particular\n * `inspectorCommon.css` is injected into the current document / shadow root). The lit\n * equivalent of calling this method is:\n *\n * ```js\n * html`<input type=\"range\" min=${min} max=${max} tabindex=${tabIndex}>`\n * ```\n *\n * @param min the minimum allowed value.\n * @param max the maximum allowed value.\n * @param tabIndex the value for the `tabindex` attribute.\n * @returns the newly created `HTMLInputElement` for the slider.\n * @see https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input/range\n */\nexport function createSlider(min: number, max: number, tabIndex: number): HTMLInputElement {\n  const element = document.createElement('input');\n  element.type = 'range';\n  element.min = String(min);\n  element.max = String(max);\n  element.tabIndex = tabIndex;\n  return element;\n}\n\nexport function setTitle(element: HTMLElement, title: string): void {\n  ARIAUtils.setLabel(element, title);\n  Tooltip.install(element, title);\n}\n\nexport class CheckboxLabel extends HTMLElement {\n  static readonly observedAttributes = ['checked', 'disabled', 'indeterminate', 'name', 'title', 'aria-label'];\n\n  readonly #shadowRoot!: DocumentFragment;\n  #checkboxElement!: HTMLInputElement;\n  #textElement!: HTMLElement;\n\n  constructor() {\n    super();\n    CheckboxLabel.lastId = CheckboxLabel.lastId + 1;\n    const id = 'ui-checkbox-label' + CheckboxLabel.lastId;\n    this.#shadowRoot = createShadowRootWithCoreStyles(this, {cssFile: checkboxTextLabelStyles, delegatesFocus: true});\n    this.#checkboxElement = this.#shadowRoot.createChild('input');\n    this.#checkboxElement.type = 'checkbox';\n    this.#checkboxElement.setAttribute('id', id);\n    // Change event is not composable, so it doesn't bubble up through the shadow root.\n    this.#checkboxElement.addEventListener('change', () => this.dispatchEvent(new Event('change')));\n    this.#textElement = this.#shadowRoot.createChild('label', 'devtools-checkbox-text');\n    this.#textElement.setAttribute('for', id);\n    // Click events are composable, so both label and checkbox bubble up through the shadow root.\n    // However, clicking the label, also triggers the checkbox click, so we stop the label event\n    // propagation here to avoid duplicate events.\n    this.#textElement.addEventListener('click', e => e.stopPropagation());\n    this.#textElement.createChild('slot');\n  }\n\n  static create(\n      title?: Platform.UIString.LocalizedString, checked?: boolean, subtitle?: Platform.UIString.LocalizedString,\n      jslogContext?: string, small?: boolean): CheckboxLabel {\n    const element = document.createElement('devtools-checkbox');\n    element.#checkboxElement.checked = Boolean(checked);\n    if (jslogContext) {\n      element.#checkboxElement.setAttribute(\n          'jslog', `${VisualLogging.toggle().track({change: true}).context(jslogContext)}`);\n    }\n    if (title !== undefined) {\n      element.#textElement.textContent = title;\n      element.#checkboxElement.title = title;\n      if (subtitle !== undefined) {\n        element.#textElement.createChild('div', 'devtools-checkbox-subtitle').textContent = subtitle;\n      }\n    }\n    element.#checkboxElement.classList.toggle('small', small);\n    return element;\n  }\n\n  attributeChangedCallback(name: string, _oldValue: string|null, newValue: string|null): void {\n    if (name === 'checked') {\n      this.#checkboxElement.checked = newValue !== null;\n    } else if (name === 'disabled') {\n      this.#checkboxElement.disabled = newValue !== null;\n    } else if (name === 'indeterminate') {\n      this.#checkboxElement.indeterminate = newValue !== null;\n    } else if (name === 'name') {\n      this.#checkboxElement.name = newValue ?? '';\n    } else if (name === 'title') {\n      this.#checkboxElement.title = newValue ?? '';\n      this.#textElement.title = newValue ?? '';\n    } else if (name === 'aria-label') {\n      this.#checkboxElement.ariaLabel = newValue;\n    }\n  }\n\n  getLabelText(): string|null {\n    return this.#textElement.textContent;\n  }\n\n  setLabelText(content: string): void {\n    this.#textElement.textContent = content;\n  }\n\n  override get ariaLabel(): string|null {\n    return this.#checkboxElement.ariaLabel;\n  }\n\n  override set ariaLabel(ariaLabel: string) {\n    this.setAttribute('aria-label', ariaLabel);\n  }\n\n  get checked(): boolean {\n    return this.#checkboxElement.checked;\n  }\n\n  set checked(checked: boolean) {\n    this.toggleAttribute('checked', checked);\n  }\n\n  set disabled(disabled: boolean) {\n    this.toggleAttribute('disabled', disabled);\n  }\n\n  get disabled(): boolean {\n    return this.#checkboxElement.disabled;\n  }\n\n  set indeterminate(indeterminate: boolean) {\n    this.toggleAttribute('indeterminate', indeterminate);\n  }\n\n  get indeterminate(): boolean {\n    return this.#checkboxElement.indeterminate;\n  }\n\n  override set title(title: string) {\n    this.setAttribute('title', title);\n  }\n\n  override get title(): string {\n    return this.#checkboxElement.title;\n  }\n\n  set name(name: string) {\n    this.setAttribute('name', name);\n  }\n\n  get name(): string {\n    return this.#checkboxElement.name;\n  }\n\n  override click(): void {\n    this.#checkboxElement.click();\n  }\n\n  /** Only to be used when the checkbox label is 'generated' (a regex, a className, etc). Most checkboxes should be create()'d with UIStrings */\n  static createWithStringLiteral(title?: string, checked?: boolean, jslogContext?: string, small?: boolean):\n      CheckboxLabel {\n    const stringLiteral = title as Platform.UIString.LocalizedString;\n    return CheckboxLabel.create(stringLiteral, checked, undefined, jslogContext, small);\n  }\n\n  private static lastId = 0;\n}\n\ncustomElements.define('devtools-checkbox', CheckboxLabel);\n\nexport class DevToolsIconLabel extends HTMLElement {\n  readonly #icon: Icon;\n\n  constructor() {\n    super();\n    const root = createShadowRootWithCoreStyles(this);\n    this.#icon = new Icon();\n    this.#icon.style.setProperty('margin-right', '4px');\n    this.#icon.style.setProperty('vertical-align', 'baseline');\n    root.appendChild(this.#icon);\n    root.createChild('slot');\n  }\n\n  set data(data: IconData) {\n    this.#icon.data = data;\n    // TODO(crbug.com/1427397): Clean this up. This was necessary so `DevToolsIconLabel` can use Lit icon\n    //    while being backwards-compatible with the legacy Icon while working for both small and large icons.\n    if (data.height === '14px') {\n      this.#icon.style.setProperty('margin-bottom', '-2px');\n    } else if (data.height === '20px') {\n      this.#icon.style.setProperty('margin-bottom', '2px');\n    }\n  }\n}\n\n// eslint-disable-next-line @devtools/enforce-custom-element-prefix\ncustomElements.define('dt-icon-label', DevToolsIconLabel);\n\nexport class DevToolsSmallBubble extends HTMLElement {\n  private textElement: Element;\n\n  constructor() {\n    super();\n    const root = createShadowRootWithCoreStyles(this, {cssFile: smallBubbleStyles});\n    this.textElement = root.createChild('div');\n    this.textElement.className = 'info';\n    this.textElement.createChild('slot');\n  }\n\n  set type(type: string) {\n    this.textElement.className = type;\n  }\n}\n\n// eslint-disable-next-line @devtools/enforce-custom-element-prefix\ncustomElements.define('dt-small-bubble', DevToolsSmallBubble);\n\nexport class DevToolsCloseButton extends HTMLElement {\n  #button: Buttons.Button.Button;\n\n  constructor() {\n    super();\n    const root = createShadowRootWithCoreStyles(this);\n    this.#button = new Buttons.Button.Button();\n    this.#button.data = {variant: Buttons.Button.Variant.ICON, iconName: 'cross'};\n    this.#button.classList.add('close-button');\n    this.#button.setAttribute('jslog', `${VisualLogging.close().track({click: true})}`);\n    Tooltip.install(this.#button, i18nString(UIStrings.close));\n    ARIAUtils.setLabel(this.#button, i18nString(UIStrings.close));\n    root.appendChild(this.#button);\n  }\n\n  setAccessibleName(name: string): void {\n    ARIAUtils.setLabel(this.#button, name);\n  }\n\n  setSize(size: Buttons.Button.Size): void {\n    this.#button.size = size;\n  }\n\n  setTabbable(tabbable: boolean): void {\n    if (tabbable) {\n      this.#button.tabIndex = 0;\n    } else {\n      this.#button.tabIndex = -1;\n    }\n  }\n\n  override focus(): void {\n    this.#button.focus();\n  }\n}\n\n// eslint-disable-next-line @devtools/enforce-custom-element-prefix\ncustomElements.define('dt-close-button', DevToolsCloseButton);\n\nexport function bindInput(\n    input: HTMLInputElement, apply: (arg0: string) => void, validate: (arg0: string) => boolean, numeric: boolean,\n    modifierMultiplier?: number): (arg0: string) => void {\n  input.addEventListener('change', onChange, false);\n  input.addEventListener('input', onInput, false);\n  input.addEventListener('keydown', onKeyDown, false);\n  input.addEventListener('focus', input.select.bind(input), false);\n\n  function onInput(): void {\n    input.classList.toggle('error-input', !validate(input.value));\n  }\n\n  function onChange(): void {\n    const valid = validate(input.value);\n    input.classList.toggle('error-input', !valid);\n    if (valid) {\n      apply(input.value);\n    }\n  }\n\n  function onKeyDown(event: KeyboardEvent): void {\n    if (event.key === 'Enter') {\n      const valid = validate(input.value);\n      if (valid) {\n        apply(input.value);\n      }\n      event.preventDefault();\n      return;\n    }\n\n    if (!numeric) {\n      return;\n    }\n\n    const value = modifiedFloatNumber(parseFloat(input.value), event, modifierMultiplier);\n    if (value === null) {\n      return;\n    }\n    const stringValue = String(value);\n    const valid = validate(stringValue);\n    if (valid) {\n      setValue(stringValue);\n    }\n    event.preventDefault();\n  }\n\n  function setValue(value: string): void {\n    if (value === input.value) {\n      return;\n    }\n    const valid = validate(value);\n    input.classList.toggle('error-input', !valid);\n    input.value = value;\n  }\n\n  return setValue;\n}\n\nexport function trimText(\n    context: CanvasRenderingContext2D, text: string, maxWidth: number,\n    trimFunction: (arg0: string, arg1: number) => string): string {\n  const maxLength = 200;\n  if (maxWidth <= 10) {\n    return '';\n  }\n  if (text.length > maxLength) {\n    text = trimFunction(text, maxLength);\n  }\n  const textWidth = measureTextWidth(context, text);\n  if (textWidth <= maxWidth) {\n    return text;\n  }\n\n  let l = 0;\n  let r: number = text.length;\n  let lv = 0;\n  let rv: number = textWidth;\n  while (l < r && lv !== rv && lv !== maxWidth) {\n    const m = Math.ceil(l + (r - l) * (maxWidth - lv) / (rv - lv));\n    const mv = measureTextWidth(context, trimFunction(text, m));\n    if (mv <= maxWidth) {\n      l = m;\n      lv = mv;\n    } else {\n      r = m - 1;\n      rv = mv;\n    }\n  }\n  text = trimFunction(text, l);\n  return text !== '' ? text : '';\n}\n\nexport function trimTextMiddle(context: CanvasRenderingContext2D, text: string, maxWidth: number): string {\n  return trimText(context, text, maxWidth, (text, width) => Platform.StringUtilities.trimMiddle(text, width));\n}\n\nexport function trimTextEnd(context: CanvasRenderingContext2D, text: string, maxWidth: number): string {\n  return trimText(context, text, maxWidth, (text, width) => Platform.StringUtilities.trimEndWithMaxLength(text, width));\n}\n\nexport function measureTextWidth(context: CanvasRenderingContext2D, text: string): number {\n  const maxCacheableLength = 200;\n  if (text.length > maxCacheableLength) {\n    return context.measureText(text).width;\n  }\n\n  if (!measureTextWidthCache) {\n    measureTextWidthCache = new Map();\n  }\n  const font = context.font;\n  let textWidths = measureTextWidthCache.get(font);\n  if (!textWidths) {\n    textWidths = new Map();\n    measureTextWidthCache.set(font, textWidths);\n  }\n  let width = textWidths.get(text);\n  if (!width) {\n    width = context.measureText(text).width;\n    textWidths.set(text, width);\n  }\n  return width;\n}\n\nlet measureTextWidthCache: Map<string, Map<string, number>>|null = null;\n\nexport function loadImage(url: string): Promise<HTMLImageElement|null> {\n  return new Promise(fulfill => {\n    const image = new Image();\n    image.addEventListener('load', () => fulfill(image));\n    image.addEventListener('error', () => fulfill(null));\n    image.src = url;\n  });\n}\n\n/**\n * Creates a file selector element.\n * @param callback the function that will be called with the file the user selected\n * @param accept optionally used to set the [`accept`](https://developer.mozilla.org/en-US/docs/Web/HTML/Attributes/accept) parameter to limit file-types the user can pick.\n */\nexport function createFileSelectorElement(callback: (arg0: File) => void, accept?: string): HTMLInputElement {\n  const fileSelectorElement = document.createElement('input');\n  fileSelectorElement.type = 'file';\n  if (accept) {\n    fileSelectorElement.setAttribute('accept', accept);\n  }\n  fileSelectorElement.style.display = 'none';\n  fileSelectorElement.tabIndex = -1;\n  fileSelectorElement.addEventListener('change', () => {\n    if (fileSelectorElement.files?.length) {\n      callback(fileSelectorElement.files[0]);\n    }\n  });\n  fileSelectorElement.addEventListener('click', () => {\n    fileSelectorElement.value = '';\n  });\n\n  return fileSelectorElement;\n}\n\nexport const MaxLengthForDisplayedURLs = 150;\n\nexport class MessageDialog {\n  static async show(header: string, message: string, where?: Element|Document, jslogContext?: string): Promise<void> {\n    const dialog = new Dialog(jslogContext);\n    dialog.setSizeBehavior(SizeBehavior.MEASURE_CONTENT);\n    dialog.setDimmed(true);\n    const shadowRoot = createShadowRootWithCoreStyles(dialog.contentElement, {cssFile: confirmDialogStyles});\n    const content = shadowRoot.createChild('div', 'widget');\n    await new Promise(resolve => {\n      const okButton = createTextButton(\n          i18nString(UIStrings.ok), resolve, {jslogContext: 'confirm', variant: Buttons.Button.Variant.PRIMARY});\n      content.createChild('span', 'header').textContent = header;\n      content.createChild('div', 'message').createChild('span').textContent = message;\n      content.createChild('div', 'button').appendChild(okButton);\n      dialog.setOutsideClickCallback(event => {\n        event.consume();\n        resolve(undefined);\n      });\n      dialog.show(where);\n      okButton.focus();\n    });\n    dialog.hide();\n  }\n}\n\nexport class ConfirmDialog {\n  static async show(message: string, header?: string, where?: Element|Document, options?: ConfirmDialogOptions):\n      Promise<boolean> {\n    const dialog = new Dialog(options?.jslogContext);\n    dialog.setSizeBehavior(SizeBehavior.MEASURE_CONTENT);\n    dialog.setDimmed(true);\n    ARIAUtils.setLabel(dialog.contentElement, message);\n    const shadowRoot = createShadowRootWithCoreStyles(dialog.contentElement, {cssFile: confirmDialogStyles});\n    const content = shadowRoot.createChild('div', 'widget');\n    if (header) {\n      content.createChild('span', 'header').textContent = header;\n    }\n    content.createChild('div', 'message').createChild('span').textContent = message;\n    const buttonsBar = content.createChild('div', 'button');\n    const result = await new Promise<boolean>(resolve => {\n      const okButton = createTextButton(\n          /* text= */ options?.okButtonLabel || i18nString(UIStrings.ok), /* clickHandler= */ () => resolve(true),\n          {jslogContext: 'confirm', variant: Buttons.Button.Variant.PRIMARY});\n      buttonsBar.appendChild(okButton);\n      buttonsBar.appendChild(createTextButton(\n          options?.cancelButtonLabel || i18nString(UIStrings.cancel), () => resolve(false), {jslogContext: 'cancel'}));\n      dialog.setOutsideClickCallback(event => {\n        event.consume();\n        resolve(false);\n      });\n      dialog.show(where);\n      okButton.focus();\n    });\n    dialog.hide();\n    return result;\n  }\n}\n\nexport interface RenderedObject {\n  element: HTMLElement;\n  forceSelect(): void;\n}\n\nexport abstract class Renderer {\n  abstract render(object: Object, options?: Options): Promise<RenderedObject|null>;\n\n  static async render(object: Object, options?: Options): Promise<RenderedObject|null> {\n    if (!object) {\n      throw new Error('Can\\'t render ' + object);\n    }\n    const extension = getApplicableRegisteredRenderers(object)[0];\n    if (!extension) {\n      return null;\n    }\n    const renderer = await extension.loadRenderer();\n    return await renderer.render(object, options);\n  }\n}\n\nexport function formatTimestamp(timestamp: number, full: boolean): string {\n  const date = new Date(timestamp);\n  const yymmdd = date.getFullYear() + '-' + leadZero(date.getMonth() + 1, 2) + '-' + leadZero(date.getDate(), 2);\n  const hhmmssfff = leadZero(date.getHours(), 2) + ':' + leadZero(date.getMinutes(), 2) + ':' +\n      leadZero(date.getSeconds(), 2) + '.' + leadZero(date.getMilliseconds(), 3);\n  return full ? (yymmdd + ' ' + hhmmssfff) : hhmmssfff;\n\n  function leadZero(value: number, length: number): string {\n    const valueString = String(value);\n    return valueString.padStart(length, '0');\n  }\n}\n\nexport interface Options {\n  title?: string|Element;\n  editable?: boolean;\n  /**\n   * Should the resulting object be expanded.\n   */\n  expand?: boolean;\n}\n\nexport const isScrolledToBottom = (element: Element): boolean => {\n  // This code works only for 0-width border.\n  // The scrollTop, clientHeight and scrollHeight are computed in double values internally.\n  // However, they are exposed to javascript differently, each being either rounded (via\n  // round, ceil or floor functions) or left intouch.\n  // This adds up a total error up to 2.\n  return Math.abs(element.scrollTop + element.clientHeight - element.scrollHeight) <= 2;\n};\n\nexport function createSVGChild<K extends keyof SVGElementTagNameMap>(\n    element: Element, childType: K, className?: string): SVGElementTagNameMap[K] {\n  const child = element.ownerDocument.createElementNS('http://www.w3.org/2000/svg', childType);\n  if (className) {\n    child.setAttribute('class', className);\n  }\n  element.appendChild(child);\n  return child;\n}\n\nexport const enclosingNodeOrSelfWithNodeNameInArray = (initialNode: Node, nameArray: string[]): Node|null => {\n  let node: (Node|null)|Node = initialNode;\n  for (; node && node !== initialNode.ownerDocument; node = node.parentNodeOrShadowHost()) {\n    for (let i = 0; i < nameArray.length; ++i) {\n      if (node.nodeName.toLowerCase() === nameArray[i].toLowerCase()) {\n        return node;\n      }\n    }\n  }\n  return null;\n};\n\nexport const enclosingNodeOrSelfWithNodeName = function(node: Node, nodeName: string): Node|null {\n  return enclosingNodeOrSelfWithNodeNameInArray(node, [nodeName]);\n};\n\nexport const deepElementFromPoint = (document: Document|ShadowRoot|null|undefined, x: number, y: number): Node|null => {\n  let container: (ShadowRoot|null)|(Document | ShadowRoot | null | undefined) = document;\n  let node: Element|null = null;\n  while (container) {\n    const innerNode = container.elementFromPoint(x, y);\n    if (!innerNode || node === innerNode) {\n      break;\n    }\n    node = innerNode;\n    container = node.shadowRoot;\n  }\n  return node;\n};\n\nexport const deepElementFromEvent = (ev: Event): Node|null => {\n  const event = (ev as MouseEvent);\n  // Some synthetic events have zero coordinates which lead to a wrong element.\n  // Better return nothing in this case.\n  if (!event.which && !event.pageX && !event.pageY && !event.clientX && !event.clientY && !event.movementX &&\n      !event.movementY) {\n    return null;\n  }\n  const root = event.target && (event.target as Element).getComponentRoot();\n  return root ? deepElementFromPoint((root as Document | ShadowRoot), event.pageX, event.pageY) : null;\n};\n\nconst registeredRenderers: RendererRegistration[] = [];\n\nexport function registerRenderer(registration: RendererRegistration): void {\n  registeredRenderers.push(registration);\n}\nexport function getApplicableRegisteredRenderers(object: Object): RendererRegistration[] {\n  return registeredRenderers.filter(isRendererApplicableToContextTypes);\n\n  function isRendererApplicableToContextTypes(rendererRegistration: RendererRegistration): boolean {\n    if (!rendererRegistration.contextTypes) {\n      return true;\n    }\n    for (const contextType of rendererRegistration.contextTypes()) {\n      if (object instanceof contextType) {\n        return true;\n      }\n    }\n    return false;\n  }\n}\n\nexport interface RendererRegistration {\n  loadRenderer: () => Promise<Renderer>;\n  contextTypes: () => Array<Platform.Constructor.ConstructorOrAbstract<unknown>>;\n}\n\nexport interface ConfirmDialogOptions {\n  okButtonLabel?: string;\n  cancelButtonLabel?: string;\n  jslogContext?: string;\n}\n\nfunction updateWidgetfocusWidgetForNode(node: Node|null): void {\n  while (node) {\n    if (Widget.get(node)) {\n      break;\n    }\n\n    node = node.parentNodeOrShadowHost();\n  }\n  if (!node) {\n    return;\n  }\n\n  let widget = Widget.get(node);\n  while (widget?.parentWidget()) {\n    const parentWidget = widget.parentWidget();\n    if (!parentWidget) {\n      break;\n    }\n\n    parentWidget.setDefaultFocusedChild(widget);\n    widget = parentWidget;\n  }\n}\n\nfunction focusChanged(event: Event): void {\n  const target = event.target as HTMLElement;\n  const document = target ? target.ownerDocument : null;\n  const element = document ? deepActiveElement(document) : null;\n  updateWidgetfocusWidgetForNode(element);\n}\n\n/**\n * Creates a new shadow DOM tree with the core styles and an optional list of\n * additional styles, and attaches it to the specified `element`.\n *\n * @param element the `Element` to attach the shadow DOM tree to.\n * @param options optional additional style sheets and options for `Element#attachShadow()`.\n * @returns the newly created `ShadowRoot`.\n * @see https://developer.mozilla.org/en-US/docs/Web/API/Element/attachShadow\n */\nexport function createShadowRootWithCoreStyles(element: Element, options: {\n  cssFile?: CSSInJS[]|CSSInJS,\n  delegatesFocus?: boolean,\n} = {\n  delegatesFocus: undefined,\n  cssFile: undefined,\n}): ShadowRoot {\n  const {cssFile, delegatesFocus} = options;\n\n  const shadowRoot = element.attachShadow({mode: 'open', delegatesFocus});\n  appendStyle(shadowRoot, inspectorCommonStyles, Buttons.textButtonStyles);\n  if (Array.isArray(cssFile)) {\n    appendStyle(shadowRoot, ...cssFile);\n  } else if (cssFile) {\n    appendStyle(shadowRoot, cssFile);\n  }\n  shadowRoot.addEventListener('focus', focusChanged, true);\n  return shadowRoot;\n}\n\nlet cachedMeasuredScrollbarWidth: number|undefined;\n\nexport function resetMeasuredScrollbarWidthForTest(): void {\n  cachedMeasuredScrollbarWidth = undefined;\n}\n\nexport function measuredScrollbarWidth(document?: Document|null): number {\n  if (typeof cachedMeasuredScrollbarWidth === 'number') {\n    return cachedMeasuredScrollbarWidth;\n  }\n  if (!document) {\n    return 16;\n  }\n\n  const scrollDiv = document.createElement('div');\n  const innerDiv = document.createElement('div');\n  scrollDiv.setAttribute('style', 'display: block; width: 100px; height: 100px; overflow: scroll;');\n  innerDiv.setAttribute('style', 'height: 200px');\n  scrollDiv.appendChild(innerDiv);\n  document.body.appendChild(scrollDiv);\n  cachedMeasuredScrollbarWidth = scrollDiv.offsetWidth - scrollDiv.clientWidth;\n  document.body.removeChild(scrollDiv);\n  return cachedMeasuredScrollbarWidth;\n}\n\nexport interface PromotionDisplayState {\n  displayCount: number;\n  firstRegistered: number;\n  featureInteractionCount: number;\n}\n\nconst MAX_DISPLAY_COUNT = 10;\n// 60 days in ms\nconst MAX_DURATION = 60 * 24 * 60 * 60 * 1000;\nconst MAX_INTERACTION_COUNT = 2;\n\nexport class PromotionManager {\n  static #instance?: PromotionManager;\n\n  static instance(): PromotionManager {\n    if (!PromotionManager.#instance) {\n      PromotionManager.#instance = new PromotionManager();\n    }\n    return PromotionManager.#instance;\n  }\n\n  private getPromotionDisplayState(id: string): PromotionDisplayState|null {\n    const displayStateString = localStorage.getItem(id);\n    return displayStateString ? JSON.parse(displayStateString) : null;\n  }\n\n  private setPromotionDisplayState(id: string, promotionDisplayState: PromotionDisplayState): void {\n    localStorage.setItem(id, JSON.stringify(promotionDisplayState));\n  }\n\n  private registerPromotion(id: string): void {\n    this.setPromotionDisplayState(id, {\n      displayCount: 0,\n      firstRegistered: Date.now(),\n      featureInteractionCount: 0,\n    });\n  }\n\n  private recordPromotionShown(id: string): void {\n    const displayState = this.getPromotionDisplayState(id);\n    if (!displayState) {\n      throw new Error(`Cannot record promotion shown for unregistered promotion ${id}`);\n    }\n    this.setPromotionDisplayState(id, {\n      ...displayState,\n      displayCount: displayState.displayCount + 1,\n    });\n  }\n\n  canShowPromotion(id: string): boolean {\n    const displayState = this.getPromotionDisplayState(id);\n    if (!displayState) {\n      this.registerPromotion(id);\n      return true;\n    }\n    return displayState.displayCount < MAX_DISPLAY_COUNT && Date.now() - displayState.firstRegistered < MAX_DURATION &&\n        displayState.featureInteractionCount < MAX_INTERACTION_COUNT;\n  }\n\n  recordFeatureInteraction(id: string): void {\n    const displayState = this.getPromotionDisplayState(id);\n    if (!displayState) {\n      throw new Error(`Cannot record feature interaction for unregistered promotion ${id}`);\n    }\n    this.setPromotionDisplayState(id, {\n      ...displayState,\n      featureInteractionCount: displayState.featureInteractionCount + 1,\n    });\n  }\n\n  maybeShowPromotion(id: string): boolean {\n    if (this.canShowPromotion(id)) {\n      this.recordPromotionShown(id);\n      return true;\n    }\n    return false;\n  }\n}\n\n/**\n * Creates a `<div>` element with the localized text NEW.\n *\n * The element is automatically styled correctly, as long as the core styles (in particular\n * `inspectorCommon.css` is injected into the current document / shadow root). The lit\n * equivalent of calling this method is:\n *\n * ```js\n * const jslog = VisualLogging.badge('new-badge');\n * html`<div class='new-badge' jsog=${jslog}>i18nString(UIStrings.new)</div>`\n *\n * @returns the newly created `HTMLDivElement` for the new badge.\n */\nexport function maybeCreateNewBadge(promotionId: string): HTMLDivElement|undefined {\n  const promotionManager = PromotionManager.instance();\n  if (promotionManager.maybeShowPromotion(promotionId)) {\n    const badge = document.createElement('div');\n    badge.className = 'new-badge';\n    badge.textContent = i18nString(UIStrings.new);\n    badge.setAttribute('jslog', `${VisualLogging.badge('new-badge')}`);\n    return badge;\n  }\n  return undefined;\n}\n\nexport function bindToAction(actionName: string): ReturnType<typeof Directives.ref> {\n  const action = ActionRegistry.instance().getAction(actionName);\n\n  let setEnabled: (enabled: boolean) => void;\n  let toggled: () => void;\n  function actionEnabledChanged(event: Common.EventTarget.EventTargetEvent<boolean>): void {\n    setEnabled(event.data);\n  }\n\n  return Directives.ref((e: Element|undefined) => {\n    if (!e || !(e instanceof Buttons.Button.Button)) {\n      action.removeEventListener(ActionRegistration.Events.ENABLED, actionEnabledChanged);\n      action.removeEventListener(ActionRegistration.Events.TOGGLED, toggled);\n      return;\n    }\n\n    setEnabled = enabled => {\n      e.disabled = !enabled;\n    };\n\n    action.addEventListener(ActionRegistration.Events.ENABLED, actionEnabledChanged);\n\n    const toggleable = action.toggleable();\n    const title = action.title();\n    const iconName = action.icon() ?? '';\n    const jslogContext = action.id();\n    const toggledIconName = action.toggledIcon() ?? iconName;\n    const toggleType = action.toggleWithRedColor() ? Buttons.Button.ToggleType.RED : Buttons.Button.ToggleType.PRIMARY;\n    if (e.childNodes.length) {\n      e.jslogContext = jslogContext;\n    } else if (toggleable) {\n      toggled = () => {\n        e.toggled = action.toggled();\n        if (action.title()) {\n          e.title = action.title();\n          Tooltip.installWithActionBinding(e, action.title(), action.id());\n        }\n      };\n      action.addEventListener(ActionRegistration.Events.TOGGLED, toggled);\n      e.data = {\n        jslogContext,\n        title,\n        variant: Buttons.Button.Variant.ICON_TOGGLE,\n        iconName,\n        toggledIconName,\n        toggleType,\n        toggled: action.toggled(),\n      };\n      toggled();\n    } else if (iconName) {\n      e.data = {iconName, jslogContext, title, variant: Buttons.Button.Variant.ICON};\n    } else {\n      e.data = {jslogContext, title, variant: Buttons.Button.Variant.TEXT};\n    }\n    setEnabled(action.enabled());\n    e.onclick = () => action.execute();\n  });\n}\n\n/* eslint-disable-next-line @typescript-eslint/no-explicit-any */\ntype BindingEventListener = (arg: any) => any;\nexport class InterceptBindingDirective extends Lit.Directive.Directive {\n  static readonly #interceptedBindings = new WeakMap<Element, Map<string, BindingEventListener>>();\n\n  override update(part: Lit.Directive.Part, [listener]: [BindingEventListener]): unknown {\n    if (part.type !== Lit.Directive.PartType.EVENT) {\n      return listener;\n    }\n    let eventListeners = InterceptBindingDirective.#interceptedBindings.get(part.element);\n    if (!eventListeners) {\n      eventListeners = new Map();\n      InterceptBindingDirective.#interceptedBindings.set(part.element, eventListeners);\n    }\n    eventListeners.set(part.name, listener);\n\n    return this.render(listener);\n  }\n\n  /* eslint-disable-next-line @typescript-eslint/no-unsafe-function-type */\n  render(_listener: Function): undefined {\n    return undefined;\n  }\n\n  static attachEventListeners(templateElement: Element, renderedElement: Element): void {\n    const eventListeners = InterceptBindingDirective.#interceptedBindings.get(templateElement);\n    if (!eventListeners) {\n      return;\n    }\n    for (const [name, listener] of eventListeners) {\n      renderedElement.addEventListener(name, listener);\n    }\n  }\n}\n\nexport const cloneCustomElement = <T extends HTMLElement>(element: T, deep?: boolean): T => {\n  const clone = document.createElement(element.localName) as T;\n  for (const attribute of element.attributes) {\n    clone.setAttribute(attribute.name, attribute.value);\n  }\n  if (deep) {\n    for (const child of element.childNodes) {\n      clone.appendChild(child.cloneNode(deep));\n    }\n  }\n  return clone;\n};\n\nexport class HTMLElementWithLightDOMTemplate extends HTMLElement {\n  readonly #mutationObserver = new MutationObserver(this.#onChange.bind(this));\n  #contentTemplate: HTMLTemplateElement|null = null;\n\n  constructor() {\n    super();\n    this.#mutationObserver.observe(this, {childList: true, attributes: true, subtree: true, characterData: true});\n  }\n\n  static cloneNode(node: Node): Node {\n    const clone = node.cloneNode(false);\n    for (const child of node.childNodes) {\n      clone.appendChild(HTMLElementWithLightDOMTemplate.cloneNode(child));\n    }\n    if (node instanceof Element && clone instanceof Element) {\n      InterceptBindingDirective.attachEventListeners(node, clone);\n    }\n    return clone;\n  }\n\n  private static patchLitTemplate(template: Lit.LitTemplate): void {\n    const wrapper = Lit.Directive.directive(InterceptBindingDirective);\n    if (template === Lit.nothing) {\n      return;\n    }\n    template.values = template.values.map(patchValue);\n\n    function isLitTemplate(value: unknown): value is Lit.TemplateResult<1> {\n      return Boolean(\n          typeof value === 'object' && value && '_$litType$' in value && 'strings' in value && 'values' in value &&\n          value['_$litType$'] === 1);\n    }\n\n    function patchValue(value: unknown): unknown {\n      if (typeof value === 'function') {\n        try {\n          return wrapper(value);\n        } catch {\n          return value;\n        }\n      }\n      if (isLitTemplate(value)) {\n        HTMLElementWithLightDOMTemplate.patchLitTemplate(value);\n        return value;\n      }\n      if (Array.isArray(value)) {\n        return value.map(patchValue);\n      }\n\n      return value;\n    }\n  }\n\n  get templateRoot(): DocumentFragment|HTMLElement {\n    return this.#contentTemplate?.content ?? this;\n  }\n\n  set template(template: Lit.LitTemplate) {\n    if (!this.#contentTemplate) {\n      this.removeChildren();\n      this.#contentTemplate = this.createChild('template');\n      this.#mutationObserver.disconnect();\n      this.#mutationObserver.observe(\n          this.#contentTemplate.content, {childList: true, attributes: true, subtree: true, characterData: true});\n    }\n    HTMLElementWithLightDOMTemplate.patchLitTemplate(template);\n    // eslint-disable-next-line @devtools/no-lit-render-outside-of-view\n    render(template, this.#contentTemplate.content);\n  }\n\n  #onChange(mutationList: MutationRecord[]): void {\n    this.onChange(mutationList);\n    for (const mutation of mutationList) {\n      this.removeNodes(mutation.removedNodes);\n      this.addNodes(mutation.addedNodes, mutation.nextSibling);\n      this.updateNode(mutation.target, mutation.attributeName);\n    }\n  }\n\n  protected onChange(_mutationList: MutationRecord[]): void {\n  }\n\n  protected updateNode(_node: Node, _attributeName: string|null): void {\n  }\n\n  protected addNodes(_nodes: NodeList|Node[], _nextSibling?: Node|null): void {\n  }\n\n  protected removeNodes(_nodes: NodeList): void {\n  }\n\n  static findCorrespondingElement(\n      sourceElement: HTMLElement, sourceRootElement: HTMLElement, targetRootElement: Element): Element|null {\n    let currentElement = sourceElement;\n    const childIndexesOnPathToRoot: number[] = [];\n    while (currentElement?.parentElement && currentElement !== sourceRootElement) {\n      childIndexesOnPathToRoot.push([...currentElement.parentElement.children].indexOf(currentElement));\n      currentElement = currentElement.parentElement;\n    }\n    if (!currentElement) {\n      return null;\n    }\n    let targetElement = targetRootElement;\n    for (const index of childIndexesOnPathToRoot.reverse()) {\n      targetElement = targetElement.children[index];\n    }\n    return targetElement;\n  }\n}\n\n/**\n * @param text Text to copy to clipboard\n * @param alert Message to send for a11y only required if there\n * were other UI changes that visually indicated this copy happened.\n */\nexport function copyTextToClipboard(text: string, alert?: string): void {\n  Host.InspectorFrontendHost.InspectorFrontendHostInstance.copyText(text);\n  if (alert) {\n    ARIAUtils.LiveAnnouncer.alert(alert);\n  }\n}\n\nexport function getDevToolsBoundingElement(): HTMLElement {\n  return InspectorView.maybeGetInspectorViewInstance()?.element || document.body;\n}\n\n/**\n * @deprecated Prefer {@link bindToSetting} as this function leaks the checkbox via the setting listener.\n */\nexport const bindCheckbox = function(\n    input: CheckboxLabel, setting: Common.Settings.Setting<boolean>, metric?: UserMetricOptions): void {\n  const setValue = bindCheckboxImpl(input, setting.set.bind(setting), metric);\n  setting.addChangeListener(event => setValue(event.data));\n  setValue(setting.get());\n};\n\nexport const bindCheckboxImpl = function(\n    input: CheckboxLabel, apply: (value: boolean) => void, metric?: UserMetricOptions): (value: boolean) => void {\n  input.addEventListener('change', onInputChanged, false);\n\n  function onInputChanged(): void {\n    apply(input.checked);\n\n    if (input.checked && metric?.enable) {\n      Host.userMetrics.actionTaken(metric.enable);\n    }\n\n    if (!input.checked && metric?.disable) {\n      Host.userMetrics.actionTaken(metric.disable);\n    }\n\n    if (metric?.toggle) {\n      Host.userMetrics.actionTaken(metric.toggle);\n    }\n  }\n\n  return function setValue(value: boolean): void {\n    if (value !== input.checked) {\n      input.checked = value;\n    }\n  };\n};\n\nexport const bindToSetting =\n    (settingOrName: string|Common.Settings.Setting<boolean|string>|Common.Settings.RegExpSetting,\n     stringValidator?: (newSettingValue: string) => boolean): ReturnType<typeof Directives.ref> => {\n      const setting = typeof settingOrName === 'string' ?\n          Common.Settings.Settings.instance().moduleSetting(settingOrName) :\n          settingOrName;\n\n      // We can't use `setValue` as the change listener directly, otherwise we won't\n      // be able to remove it again.\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      let setValue: (value: any) => void;\n      function settingChanged(): void {\n        setValue(setting.get());\n      }\n\n      if (setting.type() === Common.Settings.SettingType.BOOLEAN || typeof setting.defaultValue === 'boolean') {\n        return Directives.ref(e => {\n          if (e === undefined) {\n            setting.removeChangeListener(settingChanged);\n            return;\n          }\n\n          setting.addChangeListener(settingChanged);\n          setValue =\n              bindCheckboxImpl(e as CheckboxLabel, (setting as Common.Settings.Setting<boolean>).set.bind(setting));\n          setValue(setting.get());\n        });\n      }\n\n      if (setting.type() === Common.Settings.SettingType.REGEX || setting instanceof Common.Settings.RegExpSetting) {\n        return Directives.ref(e => {\n          if (e === undefined) {\n            setting.removeChangeListener(settingChanged);\n            return;\n          }\n\n          setting.addChangeListener(settingChanged);\n          setValue = bindInput(e as HTMLInputElement, setting.set.bind(setting), (value: string) => {\n            try {\n              new RegExp(value);\n              return true;\n            } catch {\n              return false;\n            }\n          }, /* numeric */ false);\n          setValue(setting.get());\n        });\n      }\n\n      if (typeof setting.defaultValue === 'string') {\n        return Directives.ref(e => {\n          if (e === undefined) {\n            setting.removeChangeListener(settingChanged);\n            return;\n          }\n\n          setting.addChangeListener(settingChanged);\n          setValue = bindInput(\n              e as HTMLInputElement, setting.set.bind(setting), stringValidator ?? (() => true), /* numeric */ false);\n          setValue(setting.get());\n        });\n      }\n\n      throw new Error(`Cannot infer type for setting  '${setting.name}'`);\n    };\n\n/**\n * Track toggle action as a whole or\n * track on and off action separately.\n */\nexport interface UserMetricOptions {\n  toggle?: Host.UserMetrics.Action;\n  enable?: Host.UserMetrics.Action;\n  disable?: Host.UserMetrics.Action;\n}\n"]}