{"version":3,"file":"DataGrid.js","sourceRoot":"","sources":["../../../../../../../../front_end/ui/legacy/components/data_grid/DataGrid.ts"],"names":[],"mappings":"AAAA;;;;;;;;;;;;;;;;;;;;;;;GAuBG;AAEH,uDAAuD;AACvD,oDAAoD;AAEpD,OAAO,KAAK,MAAM,MAAM,mCAAmC,CAAC;AAC5D,OAAO,KAAK,IAAI,MAAM,+BAA+B,CAAC;AACtD,OAAO,KAAK,IAAI,MAAM,+BAA+B,CAAC;AACtD,OAAO,KAAK,QAAQ,MAAM,uCAAuC,CAAC;AAClE,OAAO,KAAK,aAAa,MAAM,2CAA2C,CAAC;AAC3E,OAAO,KAAK,EAAE,MAAM,iBAAiB,CAAC;AAEtC,OAAO,cAAc,MAAM,mBAAmB,CAAC;AAG/C,MAAM,SAAS,GAAG;IAChB;;OAEG;IACH,QAAQ,EAAE,UAAU;IACpB;;OAEG;IACH,SAAS,EAAE,WAAW;IACtB;;;;OAIG;IACH,KAAK,EAAE,iBAAiB;IACxB;;;OAGG;IACH,KAAK,EAAE,aAAa;IACpB;;;;;;OAMG;IACH,4BAA4B,EACxB,wIAAwI;IAC5I;;OAEG;IACH,YAAY,EAAE,SAAS;IACvB;;OAEG;IACH,YAAY,EAAE,eAAe;IAC7B;;OAEG;IACH,aAAa,EAAE,gBAAgB;IAC/B;;OAEG;IACH,OAAO,EAAE,SAAS;IAClB;;OAEG;IACH,MAAM,EAAE,SAAS;IACjB;;;OAGG;IACH,KAAK,EAAE,cAAc;IACrB;;OAEG;IACH,MAAM,EAAE,QAAQ;IAChB;;;OAGG;IACH,MAAM,EAAE,aAAa;IACrB;;OAEG;IACH,OAAO,EAAE,SAAS;IAClB;;OAEG;IACH,eAAe,EAAE,wFAAwF;IACzG;;;OAGG;IACH,WAAW,EAAE,+DAA+D;IAC5E;;OAEG;IACH,cAAc,EAAE,sDAAsD;CAC9D,CAAC;AACX,MAAM,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,4CAA4C,EAAE,SAAS,CAAC,CAAC;AAClG,MAAM,UAAU,GAAG,IAAI,CAAC,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,CAAC;AAEtE,MAAM,oBAAoB,GAAG,IAAI,OAAO,EAAmB,CAAC;AAE5D,MAAM,iBAAiB,GAAG,IAAI,OAAO,EAAgB,CAAC;AAEtD,MAAM,yBAAyB,GAAG,IAAI,OAAO,EAAmB,CAAC;AAEjE,MAAM,oBAAoB,GAAG,IAAI,OAAO,EAAmB,CAAC;AAE5D,MAAM,iBAAiB,GAAG,IAAI,OAAO,EAAmB,CAAC;AAEzD,MAAM,OAAO,YAAgB,SAAQ,MAAM,CAAC,aAAa,CAAC,aAA4B;IACpF,OAAO,CAAiB;IACxB,WAAW,CAAS;IACZ,YAAY,CACiG;IACrH,cAAc,CAAkC;IAChD,eAAe,CAAyB;IAChC,gBAAgB,CAA0B;IAClD,uBAAuB,CAAU;IACjC,cAAc,CAAU;IACP,SAAS,CAAmB;IACnC,MAAM,CAAU;IAClB,YAAY,CAAqB;IACzC,OAAO,CAAmC;IAC1C,mBAAmB,CAAqB;IACxC,SAAS,CAAc;IACvB,cAAc,CAA0B;IACvB,SAAS,CAAU;IACnB,oBAAoB,CAAU;IAC/C,aAAa,CAAU;IACvB,YAAY,CAAc;IAClB,eAAe,CAAc;IAC7B,OAAO,CAAU;IACzB,YAAY,CAAuB;IACnC,uBAAuB,CAAU;IACjC,WAAW,CAAS;IACZ,QAAQ,CAAgB;IACxB,uBAAuB,CAAU;IACjC,WAAW,CAAS;IACpB,YAAY,CAAe;IAC3B,yBAAyB,CAAgD;IACzE,sBAAsB,CAA2E;IACzG,qBAAqB,CAAiC;IACtD,kBAAkB,CAAU;IACpB,cAAc,CAAW;IACjC,SAAS,CAAmB;IACpB,WAAW,CAAwB;IACnC,oBAAoB,CAAgC;IAC5D,YAAY,CAAqB;IACzB,cAAc,CAAoB;IAClC,cAAc,CAAO;IAE7B,YAAY,kBAA8B;QACxC,KAAK,EAAE,CAAC;QACR,MAAM,EAAC,WAAW,EAAE,OAAO,EAAE,YAAY,EAAE,cAAc,EAAE,eAAe,EAAC,GAAG,kBAAkB,CAAC;QACjG,IAAI,CAAC,OAAO,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QAC7C,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC;QACxC,IAAI,CAAC,OAAO,CAAC,QAAQ,GAAG,CAAC,CAAC;QAC1B,IAAI,CAAC,OAAO,CAAC,gBAAgB,CAAC,SAAS,EAAE,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,KAAK,CAAC,CAAC;QACzE,IAAI,CAAC,OAAO,CAAC,gBAAgB,CAAC,aAAa,EAAE,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,IAAI,CAAC,CAAC;QAChF,IAAI,CAAC,OAAO,CAAC,gBAAgB,CAAC,SAAS,EAAE,KAAK,CAAC,EAAE;YAC/C,IAAI,CAAC,+BAA+B,EAAE,CAAC;YACvC,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;QACtB,CAAC,CAAC,CAAC;QACH,IAAI,CAAC,OAAO,CAAC,gBAAgB,CAAC,UAAU,EAAE,KAAK,CAAC,EAAE;YAChD,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;QACtB,CAAC,CAAC,CAAC;QAEH,EAAE,CAAC,SAAS,CAAC,iBAAiB,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;QAC7C,IAAI,CAAC,WAAW,GAAG,WAAW,CAAC;QAE/B,IAAI,CAAC,cAAc,GAAG,cAAc,CAAC;QACrC,IAAI,CAAC,eAAe,GAAG,eAAe,CAAC;QAEvC,IAAI,CAAC,gBAAgB,GAAG,EAAE,CAAC;QAE3B,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,KAAK,EAAE,gBAAgB,CAAC,CAAC;QACxE,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,cAAc,CAAC,WAAW,CAAC,OAAO,EAAE,MAAM,CAAC,CAAC;QAClE,IAAI,CAAC,uBAAuB,GAAG,IAAI,CAAC,cAAc,CAAC;QAEnD,qFAAqF;QACrF,qCAAqC;QACrC,IAAI,CAAC,SAAS,CAAC,gBAAgB,CAAC,UAAU,EAAE,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,KAAK,CAAC,CAAC;QAC/E,IAAI,CAAC,SAAS,CAAC,gBAAgB,CAAC,WAAW,EAAE,IAAI,CAAC,oBAAoB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;QACnF,IAAI,CAAC,SAAS,CAAC,gBAAgB,CAAC,OAAO,EAAE,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,IAAI,CAAC,CAAC;QAEjF,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;QAEpB,IAAI,CAAC,YAAY,GAAG,EAAE,CAAC;QACvB,IAAI,CAAC,OAAO,GAAG,EAAE,CAAC;QAClB,IAAI,CAAC,mBAAmB,GAAG,YAAY,CAAC;QAExC,YAAY,CAAC,OAAO,CAAC,MAAM,CAAC,EAAE,CAAC,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC,CAAC;QAExD,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;QAEtB,IAAI,CAAC,oBAAoB,GAAG,IAAI,CAAC,SAAS,CAAC,WAAW,CAAC,UAAU,CAAC,CAAC;QAEnE,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,SAAS,CAAC,WAAW,CAAC,OAAO,CAAC,CAAC;QAC1D,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,cAAc,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;QAEvD,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,SAAS,CAAC,WAAW,CAAC,OAAO,CAAC,CAAC;QACzD,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,aAAa,CAAC,WAAW,CAAC,IAAI,EAAE,+BAA+B,CAAC,CAAC;QAC1F,EAAE,CAAC,SAAS,CAAC,SAAS,CAAC,IAAI,CAAC,YAAY,EAAE,IAAI,CAAC,CAAC;QAChD,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,aAAa,CAAC,WAAW,CAAC,IAAI,EAAE,+BAA+B,CAAC,CAAC;QAC7F,EAAE,CAAC,SAAS,CAAC,SAAS,CAAC,IAAI,CAAC,eAAe,EAAE,IAAI,CAAC,CAAC;QAEnD,IAAI,CAAC,kBAAkB,CAAC,CAAC,EAAE,CAAC,EAAE,IAAI,CAAC,CAAC;QACpC,IAAI,CAAC,aAAa,EAAE,CAAC;QAErB,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;QACrB,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC;QACzB,qFAAqF;QACrF,IAAI,CAAC,uBAAuB,GAAG,IAAI,CAAC;QACpC,IAAI,CAAC,WAAW,CAAC,IAAI,YAAY,EAAK,CAAC,CAAC;QAExC,IAAI,CAAC,eAAe,CAAC,KAAK,CAAC,CAAC;QAE5B,IAAI,CAAC,WAAW,GAAG,EAAE,CAAC;QACtB,IAAI,CAAC,QAAQ,GAAG,EAAE,CAAC;QACnB,IAAI,CAAC,uBAAuB,GAAG,KAAK,CAAC;QACrC,IAAI,CAAC,WAAW,GAAG,WAAW,CAAC;QAC/B,IAAI,CAAC,YAAY,uCAAuB,CAAC;QAEzC,IAAI,CAAC,yBAAyB,GAAG,IAAI,CAAC;QACtC,IAAI,CAAC,sBAAsB,GAAG,IAAI,CAAC;QAEnC,IAAI,CAAC,qBAAqB,GAAG,IAAI,OAAO,EAAE,CAAC;IAC7C,CAAC;IAED,eAAe,CACX,YAES,EACT,cAAqC;QACvC,IAAI,CAAC,YAAY,GAAG,YAAY,CAAC;IACnC,CAAC;IAEO,mBAAmB;QACzB,IAAI,mBAAmB,GAAgC,IAAI,CAAC,SAAS,CAAC;QACtE,OAAO,mBAAmB,IAAI,CAAC,mBAAmB,CAAC,UAAU,EAAE,CAAC;YAC9D,mBAAmB,GAAG,mBAAmB,CAAC,gBAAgB,CAAC,IAAI,CAAC,IAAI,SAAS,CAAC;QAChF,CAAC;QACD,OAAO,mBAAmB,CAAC;IAC7B,CAAC;IAEO,kBAAkB;QACxB,IAAI,kBAAkB,GAAiD,IAAI,CAAC,SAAS,CAAC;QACtF,IAAI,QAAQ,GAAgC,IAAI,CAAC,SAAS,CAAC;QAC3D,OAAO,QAAQ,EAAE,CAAC;YAChB,IAAI,QAAQ,CAAC,UAAU,EAAE,CAAC;gBACxB,kBAAkB,GAAG,QAAQ,CAAC;YAChC,CAAC;YACD,QAAQ,GAAG,QAAQ,CAAC,gBAAgB,CAAC,IAAI,CAAC,IAAI,SAAS,CAAC;QAC1D,CAAC;QACD,OAAO,kBAAkB,CAAC;IAC5B,CAAC;IAED,iBAAiB,CAAC,OAAgB,EAAE,KAAa;QAC/C,MAAM,QAAQ,GAAG,IAAI,CAAC,gBAAgB,CAAC,OAAO,CAAC,CAAC;QAChD,IAAI,CAAC,QAAQ,EAAE,CAAC;YACd,OAAO;QACT,CAAC;QACD,MAAM,MAAM,GAAG,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC;QACtC,MAAM,aAAa,GAAG,OAAO,CAAC,aAAa,CAAC;QAC5C,IAAI,QAAQ,CAAC;QACb,IAAI,aAAa,EAAE,CAAC;YAClB,QAAQ,GAAG,IAAI,CAAC,qBAAqB,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC;QAC3D,CAAC;QACD,IAAI,MAAM,CAAC,QAAQ,qCAAqB,EAAE,CAAC;YACzC,YAAY,CAAC,iBAAiB,CAAC,OAAO,EAAE,OAAO,CAAC,KAAK,CAAC,EAAE,QAAQ,CAAC,CAAC;QACpE,CAAC;aAAM,IAAI,KAAK,KAAK,IAAI,EAAE,CAAC;YAC1B,YAAY,CAAC,cAAc,CAAC,OAAO,EAAE,KAAK,EAAE,OAAO,CAAC,MAAM,CAAC,QAAQ,CAAC,EAAE,QAAQ,CAAC,CAAC;QAClF,CAAC;IACH,CAAC;IAED,MAAM,CAAC,cAAc,CAAC,OAAgB,EAAE,OAAe,EAAE,QAAiB,EAAE,QAA+B;QACzG,IAAI,QAAQ,IAAI,OAAO,CAAC,MAAM,GAAG,IAAI,EAAE,CAAC;YACtC,OAAO,CAAC,WAAW,GAAG,QAAQ,CAAC,eAAe,CAAC,oBAAoB,CAAC,OAAO,EAAE,IAAI,CAAC,CAAC;YACnF,EAAE,CAAC,OAAO,CAAC,OAAO,CAAC,OAAO,CAAC,OAAsB,EAAE,OAAO,CAAC,CAAC;YAC5D,oBAAoB,CAAC,GAAG,CAAC,OAAO,EAAE,OAAO,CAAC,CAAC;QAC7C,CAAC;aAAM,CAAC;YACN,OAAO,CAAC,WAAW,GAAG,OAAO,CAAC;YAC9B,EAAE,CAAC,OAAO,CAAC,OAAO,CAAC,OAAO,CAAC,OAAsB,EAAE,EAAE,CAAC,CAAC;YACvD,oBAAoB,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;QACvC,CAAC;QACD,IAAI,QAAQ,EAAE,CAAC;YACb,YAAY,CAAC,wBAAwB,CAAC,QAAQ,CAAC,CAAC;QAClD,CAAC;IACH,CAAC;IAED,MAAM,CAAC,iBAAiB,CAAC,OAAgB,EAAE,KAAc,EAAE,QAA+B;QACxF,OAAO,CAAC,WAAW,GAAG,KAAK,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,EAAE,CAAC;QAC5C,EAAE,CAAC,OAAO,CAAC,OAAO,CAAC,OAAO,CAAC,OAAsB,EAAE,EAAE,CAAC,CAAC;QACvD,IAAI,QAAQ,EAAE,CAAC;YACb,YAAY,CAAC,wBAAwB,CAAC,QAAQ,CAAC,CAAC;QAClD,CAAC;IACH,CAAC;IAED,MAAM,CAAC,wBAAwB,CAAC,QAA8B;QAC5D,IAAI,cAAc,GAAG,EAAE,CAAC;QACxB,IAAI,UAAU,GAAiB,QAAQ,CAAC,eAAe,EAAE,QAAQ,CAAC,CAAC,CAAC,IAAI,IAAI,CAAC;QAC7E,IAAI,CAAC,UAAU,EAAE,CAAC;YAChB,OAAO;QACT,CAAC;QAED,OAAO,UAAU,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,QAAQ,CAAC,QAAQ,CAAC,EAAE,CAAC;YAC9D,IAAI,WAAW,GAAG,IAAI,CAAC;YACvB,KAAK,MAAM,QAAQ,IAAI,UAAU,CAAC,SAAS,EAAE,CAAC;gBAC5C,IAAI,QAAQ,CAAC,QAAQ,CAAC,SAAS,CAAC,EAAE,CAAC;oBACjC,WAAW,GAAG,QAAQ,CAAC,SAAS,CAAC,CAAC,EAAE,QAAQ,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC,CAAC;oBACjE,MAAM;gBACR,CAAC;YACH,CAAC;YACD,IAAI,WAAW,IAAI,QAAQ,CAAC,QAAQ,EAAE,CAAC;gBACrC,MAAM,OAAO,GAAG,QAAQ,CAAC,QAAQ,CAAC,OAAO,CAAC,WAAW,CAAC,CAAC;gBACvD,IAAI,OAAO,EAAE,CAAC;oBACZ,cAAc,IAAI,GAAG,OAAO,CAAC,KAAK,KAAK,UAAU,CAAC,WAAW,IAAI,CAAC;gBACpE,CAAC;YACH,CAAC;YACD,UAAU,GAAG,UAAU,CAAC,kBAAkB,CAAC;QAC7C,CAAC;QAED,IAAI,cAAc,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC;YAC9B,uCAAuC;YACvC,cAAc,GAAG,cAAc,CAAC,SAAS,CAAC,CAAC,EAAE,cAAc,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;QAC1E,CAAC;QACD,QAAQ,CAAC,kBAAkB,GAAG,cAAc,CAAC;IAC/C,CAAC;IAED,UAAU,CAAC,SAAkB;QAC3B,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,MAAM,CAAC,mBAAmB,EAAE,SAAS,CAAC,CAAC;IAChE,CAAC;IAED,YAAY,CAAC,SAAkB;QAC7B,IAAI,CAAC,OAAO,CAAC,QAAQ,GAAG,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QAC3C,IAAI,SAAS,KAAK,KAAK,EAAE,CAAC;YACxB,EAAE,CAAC,SAAS,CAAC,UAAU,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;QACxC,CAAC;IACH,CAAC;IAED,eAAe,CAAC,WAAoB;QAClC,wEAAwE;QACxE,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,MAAM,CAAC,cAAc,EAAE,CAAC,WAAW,CAAC,CAAC;IAC9D,CAAC;IAED,wBAAwB;QACtB,uCAAuC;QACvC,IAAI,IAAI,CAAC,OAAO,KAAK,QAAQ,CAAC,YAAY,CAAC,iBAAiB,CAAC,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC;YACpF,IAAI,CAAC,YAAY,EAAE,eAAe,EAAE,EAAE,CAAC;YACzC,iEAAiE;YACjE,IAAI,UAAU,CAAC;YACf,IAAI,IAAI,CAAC,YAAY,CAAC,WAAW,EAAE,EAAE,CAAC;gBACpC,UAAU,GAAG,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,CAAC,CAAC,UAAU,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,UAAU,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC;YAC7G,CAAC;YACD,MAAM,cAAc,GAChB,UAAU,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,YAAY,CAAC,kBAAkB,KAAK,UAAU,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,YAAY,CAAC,kBAAkB,CAAC;YACjH,EAAE,CAAC,SAAS,CAAC,aAAa,CAAC,KAAK,CAAC,cAAc,CAAC,CAAC;QACnD,CAAC;IACH,CAAC;IAES,eAAe;QACvB,OAAO,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,SAAS,EAAE,EAAE,EAAE,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;IACnF,CAAC;IAED,+BAA+B;QAC7B,yBAAyB;QACzB,0DAA0D;QAC1D,IAAI,cAAc,CAAC;QACnB,IAAI,IAAI,CAAC,YAAY,EAAE,eAAe,EAAE,EAAE,CAAC;YACzC,yCAAyC;YACzC,IAAI,UAAU,GAAG,EAAE,CAAC;YACpB,IAAI,IAAI,CAAC,YAAY,CAAC,WAAW,EAAE,EAAE,CAAC;gBACpC,UAAU,GAAG,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,CAAC,CAAC,UAAU,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,UAAU,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC;YAC7G,CAAC;YACD,MAAM,SAAS,GAAG,UAAU,CAAC,SAAS,CAAC,KAAK,EAAE,EAAC,GAAG,EAAE,IAAI,CAAC,WAAW,EAAE,GAAG,EAAE,UAAU,EAAC,CAAC,CAAC;YACxF,cAAc,GAAG,GAAG,SAAS,IAAI,IAAI,CAAC,YAAY,CAAC,kBAAkB,EAAE,CAAC;QAC1E,CAAC;aAAM,CAAC;YACN,oFAAoF;YACpF,IAAI,CAAC,IAAI,CAAC,SAAS,EAAE,CAAC;gBACpB,OAAO;YACT,CAAC;YACD,MAAM,YAAY,GAAG,IAAI,CAAC,eAAe,EAAE,CAAC;YAC5C,MAAM,KAAK,GAAG,UAAU,CAAC,SAAS,CAAC,KAAK,EAAE,EAAC,GAAG,EAAE,YAAY,EAAC,CAAC,CAAC;YAC/D,cAAc,GAAG,UAAU,CAAC,SAAS,CAAC,4BAA4B,EAAE,EAAC,GAAG,EAAE,IAAI,CAAC,WAAW,EAAE,GAAG,EAAE,KAAK,EAAC,CAAC,CAAC;QAC3G,CAAC;QACD,EAAE,CAAC,SAAS,CAAC,aAAa,CAAC,KAAK,CAAC,cAAc,CAAC,CAAC;IACnD,CAAC;IAED,UAAU,CAAC,MAAwB,EAAE,QAAiB;QACpD,MAAM,CAAC,aAAa,GAAG,MAAM,CAAC,MAAM,CAAC;QAErC,MAAM,QAAQ,GAAG,MAAM,CAAC,EAAE,CAAC;QAC3B,IAAI,QAAQ,IAAI,IAAI,CAAC,OAAO,EAAE,CAAC;YAC7B,IAAI,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC;QAC/B,CAAC;QAED,IAAI,QAAQ,KAAK,SAAS,EAAE,CAAC;YAC3B,QAAQ,GAAG,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC;QACtC,CAAC;QAED,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,QAAQ,EAAE,CAAC,EAAE,MAAM,CAAC,CAAC;QAC9C,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,GAAG,MAAM,CAAC;QAChC,IAAI,MAAM,CAAC,UAAU,EAAE,CAAC;YACtB,IAAI,CAAC,kBAAkB,GAAG,QAAQ,CAAC;QACrC,CAAC;QAED,MAAM,IAAI,GAAG,QAAQ,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;QAC1C,IAAI,CAAC,YAAY,CACb,OAAO,EACP,GACI,aAAa,CAAC,WAAW,EAAE;aACtB,KAAK,CAAC,EAAC,KAAK,EAAE,MAAM,CAAC,QAAQ,EAAE,MAAM,EAAE,IAAI,EAAC,CAAC;aAC7C,OAAO,CAAC,QAAQ,CAAC,eAAe,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC,EAAE,CAAC,CAAC;QACxE,IAAI,CAAC,SAAS,GAAG,QAAQ,GAAG,SAAS,CAAC;QACtC,IAAI,CAAC,YAAY,CAAC,UAAU,EAAE,GAAG,CAAC,CAAC;QACnC,IAAI,CAAC,YAAY,CAAC,MAAM,EAAE,cAAc,CAAC,CAAC;QAC1C,iBAAiB,CAAC,GAAG,CAAC,IAAI,EAAE,QAAQ,CAAC,CAAC;QACtC,IAAI,CAAC,gBAAgB,CAAC,QAAQ,CAAC,GAAG,IAAI,CAAC;QAEvC,MAAM,GAAG,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QAC1C,IAAI,MAAM,CAAC,gBAAgB,EAAE,CAAC;YAC5B,GAAG,CAAC,WAAW,CAAC,MAAM,CAAC,gBAAgB,CAAC,CAAC;QAC3C,CAAC;aAAM,CAAC;YACN,GAAG,CAAC,WAAW,GAAG,MAAM,CAAC,KAAK,IAAI,IAAI,CAAC;QACzC,CAAC;QACD,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC;QAEtB,IAAI,MAAM,CAAC,IAAI,EAAE,CAAC;YAChB,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;YAChC,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC;QAC7B,CAAC;QAED,IAAI,MAAM,CAAC,QAAQ,EAAE,CAAC;YACpB,IAAI,CAAC,gBAAgB,CAAC,OAAO,EAAE,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,KAAK,CAAC,CAAC;YACzE;;;eAGG;YACH,IAAI,CAAC,gBAAgB,CAAC,SAAS,EAAE,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,KAAK,CAAC,CAAC;YAC3E,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC;YAC/B,MAAM,IAAI,GAAG,QAAQ,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC;YAC5C,IAAI,CAAC,SAAS,GAAG,iBAAiB,CAAC;YACnC,IAAI,CAAC,WAAW,CAAC,KAAK,EAAE,2BAA2B,CAAC,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;YAEvE,IAAI,MAAM,CAAC,KAAK,EAAE,CAAC;gBACjB,EAAE,CAAC,SAAS,CAAC,QAAQ,CAAC,IAAI,EAAE,UAAU,CAAC,SAAS,CAAC,cAAc,CAAC,CAAC,CAAC;YACpE,CAAC;QACH,CAAC;IACH,CAAC;IAED,SAAS,CAAC,MAAwB,EAAE,QAAiB;QACnD,IAAI,CAAC,UAAU,CAAC,MAAM,EAAE,QAAQ,CAAC,CAAC;IACpC,CAAC;IAED,aAAa,CAAC,QAAgB;QAC5B,MAAM,MAAM,GAAG,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC;QACtC,IAAI,CAAC,MAAM,EAAE,CAAC;YACZ,OAAO;QACT,CAAC;QACD,OAAO,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC;QAC9B,MAAM,KAAK,GAAG,IAAI,CAAC,YAAY,CAAC,SAAS,CAAC,YAAY,CAAC,EAAE,CAAC,YAAY,CAAC,EAAE,KAAK,QAAQ,CAAC,CAAC;QACxF,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;QACnC,MAAM,IAAI,GAAG,IAAI,CAAC,gBAAgB,CAAC,QAAQ,CAAC,CAAC;QAC7C,IAAI,IAAI,CAAC,aAAa,EAAE,CAAC;YACvB,IAAI,CAAC,aAAa,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;QACvC,CAAC;QACD,OAAO,IAAI,CAAC,gBAAgB,CAAC,QAAQ,CAAC,CAAC;IACzC,CAAC;IAED,YAAY,CAAC,QAAgB;QAC3B,IAAI,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC;IAC/B,CAAC;IAED,YAAY,CAAC,SAAiB;QAC5B,IAAI,CAAC,SAAS,GAAG,SAAS,CAAC;IAC7B,CAAC;IAEO,aAAa;QACnB,IAAI,CAAC,oBAAoB,CAAC,cAAc,EAAE,CAAC;QAC3C,IAAI,CAAC,SAAS,CAAC,cAAc,EAAE,CAAC;QAChC,IAAI,CAAC,YAAY,CAAC,cAAc,EAAE,CAAC;QACnC,IAAI,CAAC,eAAe,CAAC,cAAc,EAAE,CAAC;QAEtC,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,mBAAmB,CAAC,MAAM,EAAE,EAAE,CAAC,EAAE,CAAC;YACzD,MAAM,MAAM,GAAG,IAAI,CAAC,mBAAmB,CAAC,CAAC,CAAC,CAAC;YAC3C,MAAM,QAAQ,GAAG,MAAM,CAAC,EAAE,CAAC;YAC3B,MAAM,UAAU,GAAG,IAAI,CAAC,oBAAoB,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;YAChE,IAAI,MAAM,CAAC,KAAK,EAAE,CAAC;gBACjB,UAAU,CAAC,KAAK,CAAC,KAAK,GAAG,MAAM,CAAC,KAAK,CAAC;YACxC,CAAC;YACD,IAAI,CAAC,SAAS,CAAC,WAAW,CAAC,IAAI,CAAC,gBAAgB,CAAC,QAAQ,CAAC,CAAC,CAAC;YAC5D,MAAM,gBAAgB,GAAG,IAAI,CAAC,YAAY,CAAC,WAAW,CAAC,IAAI,EAAE,eAAe,CAAC,CAAC;YAC9E,gBAAgB,CAAC,WAAW,GAAG,MAAM,CAAC,KAAK,IAAI,IAAI,CAAC;YACpD,gBAAgB,CAAC,KAAK,GAAG,KAAK,CAAC;YAC/B,MAAM,oBAAoB,GAAG,IAAI,CAAC,eAAe,CAAC,WAAW,CAAC,IAAI,EAAE,kBAAkB,CAAC,CAAC;YACxF,iBAAiB,CAAC,GAAG,CAAC,oBAAoB,EAAE,QAAQ,CAAC,CAAC;QACxD,CAAC;QAED,MAAM,YAAY,GAAG,IAAI,CAAC,SAAS,CAAC,WAAW,CAAC,IAAI,EAAE,QAAQ,CAAC,CAAC;QAChE,EAAE,CAAC,SAAS,CAAC,SAAS,CAAC,YAAY,EAAE,IAAI,CAAC,CAAC;QAE3C,MAAM,sBAAsB,GAAG,IAAI,CAAC,YAAY,CAAC,WAAW,CAAC,IAAI,EAAE,QAAQ,CAAC,CAAC;QAC7E,sBAAsB,CAAC,SAAS,CAAC,GAAG,CAAC,eAAe,CAAC,CAAC;QACtD,sBAAsB,CAAC,KAAK,GAAG,KAAK,CAAC;QAErC,IAAI,CAAC,eAAe,CAAC,WAAW,CAAC,IAAI,EAAE,QAAQ,CAAC,CAAC,SAAS,CAAC,GAAG,CAAC,kBAAkB,CAAC,CAAC;QAEnF,IAAI,CAAC,oBAAoB,CAAC,WAAW,CAAC,KAAK,EAAE,QAAQ,CAAC,CAAC;IACzD,CAAC;IAES,kBAAkB,CAAC,GAAW,EAAE,MAAc,EAAE,iBAAiB,GAAG,KAAK;QACjF,MAAM,KAAK,GAAG,GAAG,GAAG,IAAI,CAAC;QACzB,MAAM,QAAQ,GAAG,CAAC,GAAG,IAAI,MAAM,CAAC,CAAC,CAAC,CAAC,MAAM,GAAG,IAAI,CAAC,CAAC,CAAC,MAAM,CAAC;QAC1D,IAAI,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,MAAM,KAAK,KAAK,IAAI,IAAI,CAAC,eAAe,CAAC,KAAK,CAAC,MAAM,KAAK,QAAQ,EAAE,CAAC;YAC/F,OAAO;QACT,CAAC;QACD,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,MAAM,GAAG,KAAK,CAAC;QACvC,IAAI,CAAC,eAAe,CAAC,KAAK,CAAC,MAAM,GAAG,QAAQ,CAAC;QAC7C,IAAI,CAAC,iBAAiB,EAAE,CAAC;YACvB,IAAI,CAAC,wBAAwB,+CAAwB,CAAC;QACxD,CAAC;IACH,CAAC;IAES,WAAW,CAAC,QAAyB;QAC7C,IAAI,IAAI,CAAC,SAAS,EAAE,CAAC;YACnB,IAAI,CAAC,SAAS,CAAC,cAAc,EAAE,CAAC;YAChC,IAAI,CAAC,SAAS,CAAC,QAAQ,GAAG,IAAI,CAAC;YAC/B,IAAI,CAAC,SAAS,CAAC,MAAM,GAAG,KAAK,CAAC;QAChC,CAAC;QACD,IAAI,CAAC,SAAS,GAAG,QAAQ,CAAC;QAC1B,QAAQ,CAAC,MAAM,GAAG,IAAI,CAAC;QACvB,QAAQ,CAAC,cAAc,CAAC,KAAK,CAAC,CAAC;QAC/B,QAAQ,CAAC,gBAAgB,GAAG,IAAI,CAAC;QACjC,QAAQ,CAAC,gBAAgB,GAAG,IAAI,CAAC;QACjC,QAAQ,CAAC,UAAU,GAAG,KAAK,CAAC;QAC5B,QAAQ,CAAC,QAAQ,GAAG,IAAI,CAAC;IAC3B,CAAC;IAED,QAAQ;QACN,IAAI,QAAQ,GAAiD,IAAI,CAAC,SAAS,CAAC;QAC5E,IAAI,CAAC,QAAQ,EAAE,CAAC;YACd,QAAQ,GAAG,IAAI,YAAY,EAAE,CAAC;YAC9B,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC;QAC7B,CAAC;QACD,OAAO,QAAQ,CAAC;IAClB,CAAC;IAED,gBAAgB,CAAC,QAAgB;QAC/B,MAAM,MAAM,GAAG,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC;QACtC,OAAO,OAAO,CAAC,MAAM,IAAI,MAAM,CAAC,QAAQ,IAAI,IAAI,CAAC,YAAY,CAAC,CAAC;IACjE,CAAC;IAEO,UAAU,CAAC,KAAY;QAC7B,IAAI,CAAC,IAAI,CAAC,YAAY,IAAI,IAAI,CAAC,OAAO,IAAI,IAAI,CAAC,WAAW,EAAE,CAAC;YAC3D,OAAO;QACT,CAAC;QAED,MAAM,QAAQ,GAAG,IAAI,CAAC,gBAAgB,CAAE,KAAK,CAAC,MAAe,CAAC,CAAC;QAC/D,IAAI,CAAC,QAAQ,IAAI,CAAC,IAAI,CAAC,gBAAgB,CAAC,QAAQ,CAAC,EAAE,CAAC;YAClD,OAAO;QACT,CAAC;QACD,IAAI,CAAC,YAAY,CAAE,KAAK,CAAC,MAAe,CAAC,CAAC;IAC5C,CAAC;IAEO,gCAAgC,CAAC,IAAqB,EAAE,SAAiB;QAC/E,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;QACpB,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;QACxB,IAAI,CAAC,WAAW,CAAC,MAAM,EAAE,CAAC;QAE1B,MAAM,kBAAkB,GAAG,IAAI,CAAC,WAAW,CAAC,OAAO,EAAE,CAAC;QACtD,IAAI,CAAC,kBAAkB,EAAE,CAAC;YACxB,OAAO;QACT,CAAC;QACD,MAAM,OAAO,GAAG,kBAAkB,CAAC,QAAQ,CAAC,SAAS,CAAC,CAAC;QACvD,MAAM,eAAe,GAAG,oBAAoB,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;QAC1D,IAAI,eAAe,EAAE,CAAC;YACpB,OAAO,CAAC,WAAW,GAAG,eAAe,CAAC;QACxC,CAAC;QACD,MAAM,MAAM,GAAG,IAAI,CAAC,mBAAmB,CAAC,SAAS,CAAC,CAAC;QACnD,IAAI,MAAM,CAAC,QAAQ,qCAAqB,EAAE,CAAC;YACzC,MAAM,eAAe,GAAG,EAAE,CAAC,OAAO,CAAC,aAAa,CAAC,MAAM,CAAC,SAAS,EAAG,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,EAAE,CAAa,CAAC,CAAC;YACtG,EAAE,CAAC,SAAS,CAAC,QAAQ,CAAC,eAAe,EAAE,MAAM,CAAC,KAAK,IAAI,EAAE,CAAC,CAAC;YAE3D,IAAI,UAAU,GAAG,KAAK,CAAC;YACvB,eAAe,CAAC,KAAK,CAAC,MAAM,GAAG,MAAM,CAAC;YACtC,eAAe,CAAC,SAAS,CAAC,GAAG,CAAC,iBAAiB,CAAC,CAAC;YACjD,MAAM,YAAY,GAAG,eAAe,CAAC,OAAO,CAAC;YAE7C,eAAe,CAAC,gBAAgB,CAAC,QAAQ,EAAE,GAAG,EAAE;gBAC9C,UAAU,GAAG,IAAI,CAAC;gBAClB,IAAI,CAAC,gBAAgB,CAAC,OAAO,EAAE,eAAe,CAAC,OAAO,EAAE,YAAY,EAAE,SAAS,EAAE,SAAS,CAAC,CAAC;YAC9F,CAAC,EAAE,KAAK,CAAC,CAAC;YAEV,eAAe,CAAC,gBAAgB,CAAC,SAAS,EAAE,KAAK,CAAC,EAAE;gBAClD,IAAI,KAAK,CAAC,GAAG,KAAK,KAAK,EAAE,CAAC;oBACxB,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;oBACpB,UAAU,GAAG,IAAI,CAAC;oBAClB,OAAO,IAAI,CAAC,gBAAgB,CACxB,OAAO,EAAE,eAAe,CAAC,OAAO,EAAE,YAAY,EAAE,SAAS,EAAE,KAAK,CAAC,QAAQ,CAAC,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC;gBAC1G,CAAC;gBACD,IAAI,KAAK,CAAC,GAAG,KAAK,GAAG,EAAE,CAAC;oBACtB,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;oBACpB,eAAe,CAAC,OAAO,GAAG,CAAC,eAAe,CAAC,OAAO,CAAC;gBACrD,CAAC;qBAAM,IAAI,KAAK,CAAC,GAAG,KAAK,OAAO,EAAE,CAAC;oBACjC,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;oBACpB,UAAU,GAAG,IAAI,CAAC;oBAClB,IAAI,CAAC,gBAAgB,CAAC,OAAO,EAAE,eAAe,CAAC,OAAO,EAAE,YAAY,EAAE,SAAS,EAAE,SAAS,CAAC,CAAC;gBAC9F,CAAC;YACH,CAAC,EAAE,KAAK,CAAC,CAAC;YAEV,eAAe,CAAC,gBAAgB,CAAC,MAAM,EAAE,GAAG,EAAE;gBAC5C,IAAI,UAAU,EAAE,CAAC;oBACf,OAAO;gBACT,CAAC;gBACD,IAAI,CAAC,gBAAgB,CAAC,OAAO,EAAE,eAAe,CAAC,OAAO,EAAE,eAAe,CAAC,OAAO,EAAE,SAAS,EAAE,MAAM,CAAC,CAAC;YACtG,CAAC,EAAE,KAAK,CAAC,CAAC;YAEV,OAAO,CAAC,SAAS,GAAG,EAAE,CAAC;YACvB,OAAO,CAAC,WAAW,CAAC,eAAe,CAAC,CAAC;YACrC,eAAe,CAAC,KAAK,EAAE,CAAC;QAC1B,CAAC;aAAM,CAAC;YACN,EAAE,CAAC,aAAa,CAAC,aAAa,CAAC,YAAY,CAAC,OAAO,EAAE,IAAI,CAAC,kBAAkB,CAAC,OAAO,CAAC,CAAC,CAAC;YACvF,MAAM,kBAAkB,GAAG,OAAO,CAAC,qBAAqB,EAAE,CAAC;YAC3D,IAAI,kBAAkB,EAAE,CAAC;gBACvB,kBAAkB,CAAC,iBAAiB,CAAC,OAAO,CAAC,CAAC;YAChD,CAAC;QACH,CAAC;IACH,CAAC;IAED,4CAA4C,CAAC,IAAqB,EAAE,gBAAwB,EAAE,SAAmB;QAE/G,MAAM,MAAM,GAAG,IAAI,CAAC,OAAO,CAAC,gBAAgB,CAAC,CAAC;QAC9C,MAAM,SAAS,GAAG,IAAI,CAAC,mBAAmB,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC;QAC3D,MAAM,kBAAkB,GAAG,IAAI,CAAC,kBAAkB,CAAC,SAAS,EAAE,KAAK,EAAE,SAAS,CAAC,CAAC;QAChF,IAAI,kBAAkB,KAAK,CAAC,CAAC,EAAE,CAAC;YAC9B,IAAI,CAAC,gCAAgC,CAAC,IAAI,EAAE,kBAAkB,CAAC,CAAC;QAClE,CAAC;IACH,CAAC;IAEO,YAAY,CAAC,MAAY;QAC/B,MAAM,OAAO,GAAI,EAAE,CAAC,OAAO,CAAC,+BAA+B,CAAC,MAAM,EAAE,IAAI,CAAoB,CAAC;QAC7F,IAAI,CAAC,OAAO,EAAE,CAAC;YACb,OAAO;QACT,CAAC;QAED,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,oBAAoB,CAAC,MAAM,CAAC,CAAC;QACrD,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE,CAAC;YACtB,IAAI,CAAC,IAAI,CAAC,YAAY,EAAE,CAAC;gBACvB,OAAO;YACT,CAAC;YACD,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,YAAY,CAAC;QACvC,CAAC;QAED,8DAA8D;QAC9D,IAAI,IAAI,CAAC,WAAW,YAAY,oBAAoB,IAAI,IAAI,CAAC,WAAW,CAAC,cAAc,EAAE,CAAC;YACxF,IAAI,CAAC,gCAAgC,CAAC,IAAI,CAAC,WAAW,EAAE,IAAI,CAAC,kBAAkB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YACrF,OAAO;QACT,CAAC;QAED,MAAM,QAAQ,GAAG,IAAI,CAAC,gBAAgB,CAAC,MAAM,CAAC,CAAC;QAC/C,IAAI,CAAC,QAAQ,EAAE,CAAC;YACd,OAAO;QACT,CAAC;QACD,MAAM,MAAM,GAAG,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC;QACtC,MAAM,SAAS,GAAG,IAAI,CAAC,mBAAmB,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC;QAC3D,IAAI,IAAI,CAAC,WAAW,EAAE,CAAC;YACrB,IAAI,CAAC,gCAAgC,CAAC,IAAI,CAAC,WAAW,EAAE,SAAS,CAAC,CAAC;QACrE,CAAC;IACH,CAAC;IAED,YAAY;QACV,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;QACrC,IAAI,CAAC,WAAW,GAAG,CAAC,CAAC;QACrB,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;QACnB,IAAI,CAAC,YAAY,EAAE,CAAC;IACtB,CAAC;IAEO,kBAAkB,CAAC,QAAiB;QAC1C,OAAO,IAAI,EAAE,CAAC,aAAa,CAAC,MAAM,CAAC,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,SAAS,CAAC,CAAC;IACpH,CAAC;IAEO,gBAAgB,CACpB,OAAgB,EAChB,OAAY,EACZ,QAA6B,EAC7B,QAA0B,EAC1B,aAAqB;QAEvB,MAAM,QAAQ,GAAG,IAAI,CAAC,gBAAgB,CAAC,OAAO,CAAC,CAAC;QAChD,IAAI,CAAC,QAAQ,EAAE,CAAC;YACd,IAAI,CAAC,gBAAgB,CAAC,OAAO,CAAC,CAAC;YAC/B,OAAO;QACT,CAAC;QACD,MAAM,MAAM,GAAG,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC;QACtC,MAAM,SAAS,GAAG,IAAI,CAAC,mBAAmB,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC;QAC3D,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE,CAAC;YACtB,OAAO;QACT,CAAC;QACD,MAAM,kBAAkB,GAAG,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;QAC3D,MAAM,kBAAkB,GAAG,IAAI,CAAC,WAAW,CAAC;QAE5C,SAAS,kBAAkB,CAAwB,SAAkB;YACnE,IAAI,CAAC,aAAa,EAAE,CAAC;gBACnB,OAAO;YACT,CAAC;YAED,IAAI,aAAa,KAAK,SAAS,EAAE,CAAC;gBAChC,MAAM,mBAAmB,GAAG,IAAI,CAAC,kBAAkB,CAAC,CAAC,CAAC,CAAC,CAAC;gBACxD,MAAM,cAAc,GAAG,kBAAkB,YAAY,oBAAoB,IAAI,kBAAkB,CAAC,cAAc,CAAC;gBAC/G,IAAI,cAAc,IAAI,SAAS,KAAK,mBAAmB,IAAI,CAAC,SAAS,EAAE,CAAC;oBACtE,OAAO;gBACT,CAAC;gBAED,MAAM,kBAAkB,GAAG,IAAI,CAAC,kBAAkB,CAAC,SAAS,CAAC,CAAC;gBAC9D,IAAI,kBAAkB,KAAK,CAAC,CAAC,EAAE,CAAC;oBAC9B,IAAI,CAAC,gCAAgC,CAAC,kBAAkB,EAAE,kBAAkB,CAAC,CAAC;oBAC9E,OAAO;gBACT,CAAC;gBAED,MAAM,gBAAgB,GAAG,kBAAkB,CAAC,gBAAgB,CAAC,IAAI,EAAE,IAAI,EAAE,IAAI,CAAC,CAAC;gBAC/E,IAAI,gBAAgB,EAAE,CAAC;oBACrB,IAAI,CAAC,gCAAgC,CAAC,gBAAgB,EAAE,mBAAmB,CAAC,CAAC;oBAC7E,OAAO;gBACT,CAAC;gBACD,IAAI,cAAc,IAAI,SAAS,IAAI,IAAI,CAAC,YAAY,EAAE,CAAC;oBACrD,IAAI,CAAC,eAAe,CAAC,KAAK,CAAC,CAAC;oBAC5B,IAAI,CAAC,gCAAgC,CAAC,IAAI,CAAC,YAAY,EAAE,mBAAmB,CAAC,CAAC;oBAC9E,OAAO;gBACT,CAAC;gBACD,OAAO;YACT,CAAC;YAED,IAAI,aAAa,KAAK,UAAU,EAAE,CAAC;gBACjC,MAAM,kBAAkB,GAAG,IAAI,CAAC,kBAAkB,CAAC,SAAS,EAAE,IAAI,CAAC,CAAC;gBACpE,IAAI,kBAAkB,KAAK,CAAC,CAAC,EAAE,CAAC;oBAC9B,IAAI,CAAC,gCAAgC,CAAC,kBAAkB,EAAE,kBAAkB,CAAC,CAAC;oBAC9E,OAAO;gBACT,CAAC;gBAED,MAAM,kBAAkB,GAAG,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,mBAAmB,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC;gBAC1F,MAAM,gBAAgB,GAAG,kBAAkB,CAAC,oBAAoB,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;gBAC7E,IAAI,gBAAgB,EAAE,CAAC;oBACrB,IAAI,CAAC,gCAAgC,CAAC,gBAAgB,EAAE,kBAAkB,CAAC,CAAC;gBAC9E,CAAC;gBACD,OAAO;YACT,CAAC;QACH,CAAC;QAED,mCAAmC;QACnC,IAAI,CAAC,iBAAiB,CAAC,OAAO,EAAE,OAAO,CAAC,CAAC;QAEzC,IAAI,kBAAkB,KAAK,OAAO,EAAE,CAAC;YACnC,IAAI,CAAC,gBAAgB,CAAC,OAAO,CAAC,CAAC;YAC/B,kBAAkB,CAAC,IAAI,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC;YACrC,OAAO;QACT,CAAC;QAED,gDAAgD;QAChD,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,QAAQ,CAAC,GAAG,OAAO,CAAC;QAC1C,IAAI,CAAC,IAAI,CAAC,YAAY,EAAE,CAAC;YACvB,OAAO;QACT,CAAC;QACD,mGAAmG;QACnG,oDAAoD;QACpD,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,WAAW,EAAE,QAAQ,EAAE,kBAAkB,EAAE,OAAO,EAAE,aAAa,CAAC,CAAC;QAE1F,IAAI,IAAI,CAAC,WAAW,YAAY,oBAAoB,IAAI,IAAI,CAAC,WAAW,CAAC,cAAc,EAAE,CAAC;YACxF,IAAI,CAAC,eAAe,CAAC,KAAK,CAAC,CAAC;QAC9B,CAAC;QAED,IAAI,CAAC,gBAAgB,CAAC,OAAO,CAAC,CAAC;QAC/B,kBAAkB,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;IACtC,CAAC;IAEO,gBAAgB,CAAC,QAAiB;QACxC,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;QACrB,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;IAC1B,CAAC;IAEO,kBAAkB,CAAC,SAAiB,EAAE,YAAsB,EAAE,SAAmB;QACvF,MAAM,SAAS,GAAG,YAAY,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACxC,MAAM,KAAK,GAAG,SAAS,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,SAAS,GAAG,SAAS,CAAC;QAC5D,MAAM,OAAO,GAAG,IAAI,CAAC,mBAAmB,CAAC;QACzC,KAAK,IAAI,CAAC,GAAG,KAAK,EAAE,CAAC,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC,GAAG,OAAO,CAAC,MAAM,CAAC,EAAE,CAAC,IAAI,SAAS,EAAE,CAAC;YACrE,IAAI,IAAI,CAAC,gBAAgB,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC;gBACzC,OAAO,CAAC,CAAC;YACX,CAAC;QACH,CAAC;QACD,OAAO,CAAC,CAAC,CAAC;IACZ,CAAC;IAED,YAAY;QACV,IAAI,CAAC,IAAI,CAAC,cAAc,EAAE,CAAC;YACzB,OAAO,IAAI,CAAC;QACd,CAAC;QACD,OAAO,iBAAiB,CAAC,GAAG,CAAC,IAAI,CAAC,cAAc,CAAC,IAAI,IAAI,CAAC;IAC5D,CAAC;IAED,SAAS;QACP,IAAI,CAAC,IAAI,CAAC,cAAc,IAAI,IAAI,CAAC,cAAc,CAAC,SAAS,CAAC,QAAQ,CAAC,KAAK,CAAC,SAAS,CAAC,EAAE,CAAC;YACpF,OAAO,KAAK,CAAC,SAAS,CAAC;QACzB,CAAC;QACD,IAAI,IAAI,CAAC,cAAc,CAAC,SAAS,CAAC,QAAQ,CAAC,KAAK,CAAC,UAAU,CAAC,EAAE,CAAC;YAC7D,OAAO,KAAK,CAAC,UAAU,CAAC;QAC1B,CAAC;QACD,OAAO,IAAI,CAAC;IACd,CAAC;IAED,oBAAoB;QAClB,OAAO,CAAC,IAAI,CAAC,cAAc,IAAI,IAAI,CAAC,cAAc,CAAC,SAAS,CAAC,QAAQ,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC;IACzF,CAAC;IAEO,cAAc,CAAC,MAAgB,EAAE,UAAkB,EAAE,UAAmB;QAC9E,IAAI,UAAU,EAAE,CAAC;YACf,UAAU,GAAG,IAAI,CAAC,GAAG,CAAC,UAAU,EAAE,IAAI,CAAC,KAAK,CAAC,GAAG,GAAG,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC;QACrE,CAAC;QACD,IAAI,UAAU,GAAG,CAAC,CAAC;QACnB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,MAAM,CAAC,MAAM,EAAE,EAAE,CAAC,EAAE,CAAC;YACvC,UAAU,IAAI,MAAM,CAAC,CAAC,CAAC,CAAC;QAC1B,CAAC;QACD,IAAI,iBAAiB,GAAG,CAAC,CAAC;QAC1B,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,MAAM,CAAC,MAAM,EAAE,EAAE,CAAC,EAAE,CAAC;YACvC,IAAI,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,GAAG,MAAM,CAAC,CAAC,CAAC,GAAG,UAAU,CAAC,CAAC;YACrD,IAAI,UAAU,IAAI,KAAK,GAAG,UAAU,EAAE,CAAC;gBACrC,KAAK,GAAG,UAAU,CAAC;YACrB,CAAC;iBAAM,IAAI,UAAU,IAAI,KAAK,GAAG,UAAU,EAAE,CAAC;gBAC5C,KAAK,GAAG,UAAU,CAAC;YACrB,CAAC;YACD,iBAAiB,IAAI,KAAK,CAAC;YAC3B,MAAM,CAAC,CAAC,CAAC,GAAG,KAAK,CAAC;QACpB,CAAC;QACD,IAAI,aAAa,GAAG,iBAAiB,GAAG,GAAG,CAAC;QAE5C,OAAO,UAAU,IAAI,aAAa,GAAG,CAAC,EAAE,CAAC;YACvC,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,MAAM,CAAC,MAAM,EAAE,EAAE,CAAC,EAAE,CAAC;gBACvC,IAAI,MAAM,CAAC,CAAC,CAAC,GAAG,UAAU,EAAE,CAAC;oBAC3B,EAAE,MAAM,CAAC,CAAC,CAAC,CAAC;oBACZ,EAAE,aAAa,CAAC;oBAChB,IAAI,CAAC,aAAa,EAAE,CAAC;wBACnB,MAAM;oBACR,CAAC;gBACH,CAAC;YACH,CAAC;QACH,CAAC;QAED,OAAO,UAAU,IAAI,aAAa,GAAG,CAAC,EAAE,CAAC;YACvC,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,MAAM,CAAC,MAAM,EAAE,EAAE,CAAC,EAAE,CAAC;gBACvC,IAAI,MAAM,CAAC,CAAC,CAAC,GAAG,UAAU,EAAE,CAAC;oBAC3B,EAAE,MAAM,CAAC,CAAC,CAAC,CAAC;oBACZ,EAAE,aAAa,CAAC;oBAChB,IAAI,CAAC,aAAa,EAAE,CAAC;wBACnB,MAAM;oBACR,CAAC;gBACH,CAAC;YACH,CAAC;QACH,CAAC;QAED,OAAO,MAAM,CAAC;IAChB,CAAC;IAED;;;;OAIG;IACH,eAAe,CAAC,UAAkB,EAAE,UAAmB,EAAE,eAAwB;QAC/E,IAAI,MAAM,GAAa,EAAE,CAAC;QAC1B,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,YAAY,CAAC,MAAM,EAAE,EAAE,CAAC,EAAE,CAAC;YAClD,MAAM,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC,KAAK,IAAI,EAAE,CAAC,CAAC,MAAM,CAAC,CAAC;QACzD,CAAC;QAED,eAAe,GAAG,eAAe,IAAI,CAAC,CAAC;QACvC,IAAI,CAAC,IAAI,CAAC,SAAS,EAAE,CAAC;YACpB,OAAO;QACT,CAAC;QACD,MAAM,QAAQ,GAAG,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,SAAS,EAAE,EAAE,EAAE,eAAe,GAAG,CAAC,CAAC,CAAC;QACjF,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,QAAQ,CAAC,MAAM,EAAE,EAAE,CAAC,EAAE,CAAC;YACzC,MAAM,IAAI,GAAG,QAAQ,CAAC,CAAC,CAAC,CAAC;YACzB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,YAAY,CAAC,MAAM,EAAE,EAAE,CAAC,EAAE,CAAC;gBAClD,MAAM,IAAI,GAAG,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;gBACxD,IAAI,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC;oBAC5B,MAAM,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC;gBAC1B,CAAC;YACH,CAAC;QACH,CAAC;QAED,MAAM,GAAG,IAAI,CAAC,cAAc,CAAC,MAAM,EAAE,UAAU,EAAE,UAAU,CAAC,CAAC;QAE7D,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,YAAY,CAAC,MAAM,EAAE,EAAE,CAAC,EAAE,CAAC;YAClD,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC,MAAM,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC;QAC1C,CAAC;QACD,IAAI,CAAC,uBAAuB,GAAG,KAAK,CAAC;QACrC,IAAI,CAAC,YAAY,EAAE,CAAC;IACtB,CAAC;IAEO,iBAAiB,CAAC,QAAyB,EAAE,MAA8B,EAAE,QAAgB;QAEnG,IAAI,CAAC,QAAQ,CAAC,MAAM,EAAE,CAAC;YACrB,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;QACxB,CAAC;QACD,IAAI,CAAC,QAAQ,EAAE,CAAC;YACd,OAAO,EAAE,CAAC;QACZ,CAAC;QACD,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,QAAQ,CAAC,QAAQ,CAAC,MAAM,EAAE,EAAE,CAAC,EAAE,CAAC;YAClD,IAAI,CAAC,iBAAiB,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC,CAAC,EAAE,MAAM,EAAE,QAAQ,GAAG,CAAC,CAAC,CAAC;QACrE,CAAC;QACD,OAAO,MAAM,CAAC;IAChB,CAAC;IAED,QAAQ;QACN,IAAI,CAAC,YAAY,EAAE,CAAC;IACtB,CAAC;IAED,yEAAyE;IACzE,YAAY;IACZ,EAAE;IACF,wEAAwE;IACxE,2EAA2E;IAC3E,yEAAyE;IACzE,sBAAsB;IACtB,EAAE;IACF,uEAAuE;IACvE,qEAAqE;IACrE,YAAY;QACV,iFAAiF;QACjF,IAAI,CAAC,IAAI,CAAC,uBAAuB,IAAI,IAAI,CAAC,OAAO,CAAC,WAAW,EAAE,CAAC;YAC9D,mEAAmE;YACnE,gEAAgE;YAChE,kEAAkE;YAClE,oBAAoB;YAEpB,wFAAwF;YACxF,MAAM,UAAU,GAAG,IAAI,CAAC,OAAO,CAAC,WAAW,GAAG,IAAI,CAAC,WAAW,CAAC;YAC/D,MAAM,KAAK,GAAG,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC;YAChD,MAAM,UAAU,GAAG,KAAK,CAAC,MAAM,GAAG,CAAC,CAAC,CAAE,gCAAgC;YACtE,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,UAAU,EAAE,CAAC,EAAE,EAAE,CAAC;gBACpC,MAAM,MAAM,GAAG,IAAI,CAAC,mBAAmB,CAAC,CAAC,CAAC,CAAC;gBAC3C,IAAI,CAAC,MAAM,CAAC,MAAM,EAAE,CAAC;oBACnB,MAAM,CAAC,MAAM,GAAG,GAAG,GAAG,IAAI,CAAC,iBAAiB,CAAC,CAAC,CAAC,GAAG,UAAU,IAAI,EAAE,CAAC;gBACrE,CAAC;YACH,CAAC;YACD,IAAI,CAAC,uBAAuB,GAAG,IAAI,CAAC;QACtC,CAAC;QACD,IAAI,CAAC,kBAAkB,EAAE,CAAC;IAC5B,CAAC;IAED,oBAAoB,CAAC,QAAgB;QACnC,OAAO,IAAI,CAAC,mBAAmB,CAAC,SAAS,CAAC,MAAM,CAAC,EAAE,CAAC,MAAM,CAAC,EAAE,KAAK,QAAQ,CAAC,CAAC;IAC9E,CAAC;IAED,OAAO,CAAC,IAAY;QAClB,IAAI,CAAC,oBAAoB;YACrB,MAAM,CAAC,QAAQ,CAAC,QAAQ,CAAC,QAAQ,EAAE,CAAC,aAAa,CAAC,YAAY,GAAG,IAAI,GAAG,iBAAiB,EAAE,EAAE,CAAC,CAAC;QACnG,IAAI,CAAC,iBAAiB,EAAE,CAAC;IAC3B,CAAC;IAEO,kBAAkB;QACxB,KAAK,MAAM,MAAM,IAAI,IAAI,CAAC,YAAY,EAAE,CAAC;YACvC,IAAI,CAAC,MAAM,CAAC,aAAa,EAAE,CAAC;gBAC1B,SAAS;YACX,CAAC;YACD,MAAM,CAAC,MAAM,GAAG,MAAM,CAAC,aAAa,CAAC;QACvC,CAAC;QACD,IAAI,CAAC,kBAAkB,EAAE,CAAC;QAC1B,IAAI,CAAC,iBAAiB,EAAE,CAAC;IAC3B,CAAC;IAEO,iBAAiB;QACvB,IAAI,CAAC,IAAI,CAAC,oBAAoB,EAAE,CAAC;YAC/B,OAAO;QACT,CAAC;QACD,MAAM,OAAO,GAAG,IAAI,CAAC,oBAAoB,CAAC,GAAG,EAAE,CAAC;QAChD,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,YAAY,CAAC,MAAM,EAAE,EAAE,CAAC,EAAE,CAAC;YAClD,MAAM,MAAM,GAAG,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC;YACpC,MAAM,MAAM,GAAG,OAAO,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC;YAClC,IAAI,MAAM,EAAE,CAAC;gBACX,MAAM,CAAC,MAAM,GAAG,MAAM,CAAC;YACzB,CAAC;QACH,CAAC;QACD,IAAI,CAAC,kBAAkB,EAAE,CAAC;IAC5B,CAAC;IAEO,iBAAiB;QACvB,IAAI,CAAC,IAAI,CAAC,oBAAoB,EAAE,CAAC;YAC/B,OAAO;QACT,CAAC;QACD,MAAM,OAAO,GAAwB,EAAE,CAAC;QACxC,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,YAAY,CAAC,MAAM,EAAE,EAAE,CAAC,EAAE,CAAC;YAClD,MAAM,MAAM,GAAG,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC;YACpC,OAAO,CAAC,MAAM,CAAC,EAAE,CAAC,GAAG,MAAM,CAAC,MAAM,CAAC;QACrC,CAAC;QACD,IAAI,CAAC,oBAAoB,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;IACzC,CAAC;IAED,QAAQ;QACN,IAAI,CAAC,iBAAiB,EAAE,CAAC;IAC3B,CAAC;IAED,QAAQ;IACR,CAAC;IAEO,iBAAiB,CAAC,WAAmB;QAC3C,OAAO,yBAAyB,CAAC,GAAG,CAAC,IAAI,CAAC,oBAAoB,CAAC,QAAQ,CAAC,WAAW,CAAC,CAAC;YACjF,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,WAAW,CAAC,CAAC,WAAW,CAAC;IACjE,CAAC;IAEO,kBAAkB;QACxB,uDAAuD;QACvD,IAAI,UAAU,GAAG,IAAI,CAAC,OAAO,CAAC,WAAW,GAAG,IAAI,CAAC,WAAW,GAAG,CAAC,CAAC;QACjE,IAAI,UAAU,IAAI,CAAC,EAAE,CAAC;YACpB,OAAO;QACT,CAAC;QAED,IAAI,YAAY,GAAG,GAAG,CAAC;QACvB,MAAM,iBAAiB,GAAG,EAAE,CAAC;QAC7B,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,mBAAmB,CAAC,MAAM,EAAE,EAAE,CAAC,EAAE,CAAC;YACzD,MAAM,MAAM,GAAG,IAAI,CAAC,mBAAmB,CAAC,CAAC,CAAC,CAAC;YAC3C,IAAI,MAAM,CAAC,UAAU,EAAE,CAAC;gBACtB,MAAM,KAAK,GAAG,IAAI,CAAC,iBAAiB,CAAC,CAAC,CAAC,CAAC;gBACxC,iBAAiB,CAAC,CAAC,CAAC,GAAG,KAAK,CAAC;gBAC7B,UAAU,IAAI,KAAK,CAAC;YACtB,CAAC;iBAAM,CAAC;gBACN,YAAY,IAAI,CAAC,IAAI,CAAC,mBAAmB,CAAC,CAAC,CAAC,CAAC,MAAM,IAAI,CAAC,CAAC,CAAC;YAC5D,CAAC;QACH,CAAC;QACD,IAAI,GAAG,GAAG,CAAC,CAAC;QACZ,IAAI,UAAU,GAAG,CAAC,CAAC;QACnB,MAAM,cAAc,GAAG,mBAAmB,CAAC,CAAE,KAAK;QAElD,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,mBAAmB,CAAC,MAAM,EAAE,EAAE,CAAC,EAAE,CAAC;YACzD,MAAM,MAAM,GAAG,IAAI,CAAC,mBAAmB,CAAC,CAAC,CAAC,CAAC;YAC3C,IAAI,KAAK,CAAC;YACV,IAAI,MAAM,CAAC,UAAU,EAAE,CAAC;gBACtB,KAAK,GAAG,iBAAiB,CAAC,CAAC,CAAC,CAAC;YAC/B,CAAC;iBAAM,CAAC;gBACN,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM,IAAI,CAAC,CAAC,CAAC;gBAC5B,MAAM,MAAM,GAAG,CAAC,GAAG,GAAG,UAAU,GAAG,YAAY,CAAC,GAAG,CAAC,CAAC;gBACrD,KAAK,GAAG,IAAI,CAAC,GAAG,CAAC,MAAM,GAAG,UAAU,EAAE,cAAc,CAAC,CAAC;gBACtD,UAAU,GAAG,MAAM,CAAC;YACtB,CAAC;YACD,IAAI,CAAC,iBAAiB,CAAC,CAAC,EAAE,KAAK,CAAC,CAAC;QACnC,CAAC;QAED,IAAI,CAAC,gBAAgB,EAAE,CAAC;IAC1B,CAAC;IAED,oBAAoB,CAAC,iBAA8B;QACjD,IAAI,CAAC,mBAAmB,GAAG,EAAE,CAAC;QAC9B,KAAK,MAAM,MAAM,IAAI,IAAI,CAAC,YAAY,EAAE,CAAC;YACvC,IAAI,iBAAiB,CAAC,GAAG,CAAC,MAAM,CAAC,EAAE,CAAC,EAAE,CAAC;gBACrC,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;YACxC,CAAC;QACH,CAAC;QACD,IAAI,CAAC,aAAa,EAAE,CAAC;QACrB,IAAI,CAAC,kBAAkB,EAAE,CAAC;QAC1B,MAAM,KAAK,GAAG,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,QAAQ,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC;QAC9D,KAAK,MAAM,IAAI,IAAI,KAAK,EAAE,CAAC;YACzB,IAAI,CAAC,OAAO,EAAE,CAAC;QACjB,CAAC;IACH,CAAC;IAED,IAAI,eAAe;QACjB,OAAO,IAAI,CAAC,uBAAsC,CAAC;IACrD,CAAC;IAEO,gBAAgB;QACtB,MAAM,kBAAkB,GAAG,IAAI,CAAC,oBAAoB,CAAC,QAAQ,CAAC;QAC9D,MAAM,UAAU,GAAG,kBAAkB,CAAC,MAAM,GAAG,CAAC,CAAC,CAAE,gCAAgC;QACnF,MAAM,IAAI,GAAa,EAAE,CAAC;QAC1B,MAAM,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC;QAE/B,OAAO,QAAQ,CAAC,MAAM,GAAG,UAAU,GAAG,CAAC,EAAE,CAAC;YACxC,MAAM,OAAO,GAAG,QAAQ,CAAC,GAAG,EAAE,CAAC;YAC/B,IAAI,OAAO,EAAE,CAAC;gBACZ,OAAO,CAAC,MAAM,EAAE,CAAC;YACnB,CAAC;QACH,CAAC;QAED,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,UAAU,GAAG,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC;YACxC,+DAA+D;YAC/D,oEAAoE;YACpE,sDAAsD;YACtD,IAAI,CAAC,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,WAAW,CAAC;QAClF,CAAC;QAED,qCAAqC;QACrC,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,UAAU,GAAG,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC;YACxC,IAAI,OAAO,GAA+B,QAAQ,CAAC,CAAC,CAAC,CAAC;YACtD,IAAI,CAAC,OAAO,EAAE,CAAC;gBACb,8DAA8D;gBAC9D,iBAAiB;gBACjB,OAAO,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;gBACxC,iBAAiB,CAAC,GAAG,CAAC,OAAO,EAAE,CAAC,CAAC,CAAC;gBAClC,OAAO,CAAC,SAAS,CAAC,GAAG,CAAC,mBAAmB,CAAC,CAAC;gBAC3C,2DAA2D;gBAC3D,EAAE,CAAC,OAAO,CAAC,iBAAiB,CACxB,OAAO,EAAE,IAAI,CAAC,oBAAoB,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,IAAI,CAAC,EAC9E,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,YAAY,CAAC,CAAC;gBACtD,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,OAAO,CAAC,CAAC;gBAClC,QAAQ,CAAC,IAAI,CAAE,OAAuB,CAAC,CAAC;YAC1C,CAAC;YACD,IAAI,oBAAoB,CAAC,GAAG,CAAC,OAAO,CAAC,KAAK,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC;gBAClD,oBAAoB,CAAC,GAAG,CAAC,OAAO,EAAE,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC;gBAC3C,OAAO,CAAC,KAAK,CAAC,IAAI,GAAG,IAAI,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC;YACtC,CAAC;QACH,CAAC;IACH,CAAC;IAED,eAAe,CAAC,WAAqB;QACnC,IAAI,IAAI,CAAC,YAAY,EAAE,CAAC;YACtB,IAAI,CAAC,YAAY,CAAC,cAAc,GAAG,KAAK,CAAC;QAC3C,CAAC;QACD,MAAM,SAAS,GAAwB,EAAE,CAAC;QAC1C,KAAK,MAAM,MAAM,IAAI,IAAI,CAAC,OAAO,EAAE,CAAC;YAClC,SAAS,CAAC,MAAM,CAAC,GAAG,IAAI,CAAC;QAC3B,CAAC;QACD,IAAI,CAAC,YAAY,GAAG,IAAI,oBAAoB,CAAC,SAAS,EAAE,WAAW,CAAC,CAAC;QACrE,EAAE,CAAC,SAAS,CAAC,aAAa,CAAC,KAAK,CAAC,UAAU,CAAC,SAAS,CAAC,eAAe,CAAC,CAAC,CAAC;QACxE,IAAI,CAAC,QAAQ,EAAE,CAAC,WAAW,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;IACjD,CAAC;IAEO,OAAO,CAAC,KAAY;QAC1B,IAAI,CAAC,CAAC,KAAK,YAAY,aAAa,CAAC,EAAE,CAAC;YACtC,OAAO;QACT,CAAC;QACD,IAAI,IAAI,CAAC,YAAY,EAAE,CAAC;YACtB,IAAK,IAAI,CAAC,YAAY,CAAC,OAAO,EAAkB,CAAC,QAAQ,GAAG,CAAC,EAAE,CAAC;gBAC9D,KAAK,aAAa,CAAC,UAAU,CAAC,IAAI,CAAC,YAAY,CAAC,OAAO,EAAE,EAAE,KAAK,CAAC,CAAC;YACpE,CAAC;QACH,CAAC;QAED,IAAI,KAAK,CAAC,QAAQ,IAAI,KAAK,CAAC,OAAO,IAAI,KAAK,CAAC,OAAO,IAAI,IAAI,CAAC,OAAO,IAAI,EAAE,CAAC,OAAO,CAAC,SAAS,EAAE,EAAE,CAAC;YAC/F,OAAO;QACT,CAAC;QAED,IAAI,OAAO,GAAG,KAAK,CAAC;QACpB,IAAI,gBAAgB,CAAC;QACrB,IAAI,CAAC,IAAI,CAAC,YAAY,EAAE,CAAC;YACvB,iEAAiE;YACjE,IAAI,KAAK,CAAC,GAAG,KAAK,SAAS,IAAI,CAAC,KAAK,CAAC,MAAM,EAAE,CAAC;gBAC7C,gBAAgB,GAAG,IAAI,CAAC,kBAAkB,EAAE,CAAC;YAC/C,CAAC;iBAAM,IAAI,KAAK,CAAC,GAAG,KAAK,WAAW,IAAI,CAAC,KAAK,CAAC,MAAM,EAAE,CAAC;gBACtD,gBAAgB,GAAG,IAAI,CAAC,mBAAmB,EAAE,CAAC;YAChD,CAAC;YACD,OAAO,GAAG,gBAAgB,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,KAAK,CAAC;QAC5C,CAAC;aAAM,IAAI,KAAK,CAAC,GAAG,KAAK,SAAS,IAAI,CAAC,KAAK,CAAC,MAAM,EAAE,CAAC;YACpD,gBAAgB,GAAG,IAAI,CAAC,YAAY,CAAC,oBAAoB,CAAC,IAAI,CAAC,CAAC;YAChE,OAAO,gBAAgB,IAAI,CAAC,gBAAgB,CAAC,UAAU,EAAE,CAAC;gBACxD,gBAAgB,GAAG,gBAAgB,CAAC,oBAAoB,CAAC,IAAI,CAAC,CAAC;YACjE,CAAC;YACD,OAAO,GAAG,gBAAgB,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,KAAK,CAAC;QAC5C,CAAC;aAAM,IAAI,KAAK,CAAC,GAAG,KAAK,WAAW,IAAI,CAAC,KAAK,CAAC,MAAM,EAAE,CAAC;YACtD,gBAAgB,GAAG,IAAI,CAAC,YAAY,CAAC,gBAAgB,CAAC,IAAI,CAAC,CAAC;YAC5D,OAAO,gBAAgB,IAAI,CAAC,gBAAgB,CAAC,UAAU,EAAE,CAAC;gBACxD,gBAAgB,GAAG,gBAAgB,CAAC,gBAAgB,CAAC,IAAI,CAAC,CAAC;YAC7D,CAAC;YACD,OAAO,GAAG,gBAAgB,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,KAAK,CAAC;QAC5C,CAAC;aAAM,IAAI,KAAK,CAAC,GAAG,KAAK,WAAW,EAAE,CAAC;YACrC,IAAI,IAAI,CAAC,YAAY,CAAC,QAAQ,EAAE,CAAC;gBAC/B,IAAI,KAAK,CAAC,MAAM,EAAE,CAAC;oBACjB,IAAI,CAAC,YAAY,CAAC,mBAAmB,EAAE,CAAC;gBAC1C,CAAC;qBAAM,CAAC;oBACN,IAAI,CAAC,YAAY,CAAC,QAAQ,EAAE,CAAC;gBAC/B,CAAC;gBACD,OAAO,GAAG,IAAI,CAAC;YACjB,CAAC;iBAAM,IAAI,IAAI,CAAC,YAAY,CAAC,MAAM,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,MAAM,EAAE,CAAC;gBACxE,OAAO,GAAG,IAAI,CAAC;gBACf,IAAI,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,UAAU,EAAE,CAAC;oBACxC,gBAAgB,GAAG,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC;oBAC5C,OAAO,GAAG,gBAAgB,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,KAAK,CAAC;gBAC5C,CAAC;qBAAM,IAAI,IAAI,CAAC,YAAY,CAAC,MAAM,EAAE,CAAC;oBACpC,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,QAAQ,EAAE,CAAC;gBACtC,CAAC;YACH,CAAC;QACH,CAAC;aAAM,IAAI,KAAK,CAAC,GAAG,KAAK,YAAY,EAAE,CAAC;YACtC,4DAA4D;YAC5D,IAAI,CAAC,IAAI,CAAC,uBAAuB,EAAE,CAAC;gBAClC,OAAO;YACT,CAAC;YACD,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,QAAQ,EAAE,CAAC;gBAChC,IAAI,CAAC,YAAY,CAAC,MAAM,EAAE,CAAC;gBAC3B,OAAO,GAAG,IAAI,CAAC;YACjB,CAAC;iBAAM,IAAI,IAAI,CAAC,YAAY,CAAC,WAAW,EAAE,EAAE,CAAC;gBAC3C,OAAO,GAAG,IAAI,CAAC;gBACf,IAAI,IAAI,CAAC,YAAY,CAAC,QAAQ,EAAE,CAAC;oBAC/B,gBAAgB,GAAG,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;oBACjD,OAAO,GAAG,gBAAgB,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,KAAK,CAAC;gBAC5C,CAAC;qBAAM,IAAI,KAAK,CAAC,MAAM,EAAE,CAAC;oBACxB,IAAI,CAAC,YAAY,CAAC,iBAAiB,EAAE,CAAC;gBACxC,CAAC;qBAAM,CAAC;oBACN,IAAI,CAAC,YAAY,CAAC,MAAM,EAAE,CAAC;gBAC7B,CAAC;YACH,CAAC;QACH,CAAC;aAAM,IAAI,KAAK,CAAC,OAAO,KAAK,CAAC,IAAI,KAAK,CAAC,OAAO,KAAK,EAAE,EAAE,CAAC;YACvD,IAAI,IAAI,CAAC,cAAc,EAAE,CAAC;gBACxB,OAAO,GAAG,IAAI,CAAC;gBACf,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;YACzC,CAAC;QACH,CAAC;aAAM,IAAI,KAAK,CAAC,GAAG,KAAK,OAAO,EAAE,CAAC;YACjC,IAAI,IAAI,CAAC,YAAY,EAAE,CAAC;gBACtB,OAAO,GAAG,IAAI,CAAC;gBACf,MAAM,mBAAmB,GAAG,IAAI,CAAC,YAAY,CAAC,OAAO,EAAE,CAAC;gBACxD,IAAI,CAAC,mBAAmB,EAAE,CAAC;oBACzB,OAAO;gBACT,CAAC;gBACD,IAAI,CAAC,YAAY,CAAC,mBAAmB,CAAC,QAAQ,CAAC,IAAI,CAAC,kBAAkB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YAC/E,CAAC;iBAAM,CAAC;gBACN,IAAI,CAAC,wBAAwB,wCAAqB,IAAI,CAAC,YAAY,CAAC,CAAC;YACvE,CAAC;QACH,CAAC;QAED,IAAI,gBAAgB,EAAE,CAAC;YACrB,gBAAgB,CAAC,MAAM,EAAE,CAAC;YAC1B,gBAAgB,CAAC,MAAM,EAAE,CAAC;QAC5B,CAAC;QAED,MAAM,aAAa,GAAI,QAAQ,CAAC,YAAY,CAAC,iBAAiB,CAAC,IAAI,CAAC,OAAO,CAAC,aAAa,CAAwB,CAAC;QAClH,IAAI,OAAO,IAAI,IAAI,CAAC,OAAO,KAAK,aAAa,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,aAAa,CAAC,EAAE,CAAC;YACvF,uCAAuC;YACvC,iFAAiF;YACjF,gFAAgF;YAChF,IAAI,CAAC,OAAO,CAAC,KAAK,EAAE,CAAC;QACvB,CAAC;QAED,IAAI,OAAO,EAAE,CAAC;YACZ,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;QACtB,CAAC;IACH,CAAC;IAED,4BAA4B,CAAC,IAA0B,EAAE,mBAA4B;QACnF,IAAI,QAAQ,GAA2B,IAAI,CAAC,YAAY,CAAC;QACzD,OAAO,QAAQ,IAAI,QAAQ,KAAK,IAAI,EAAE,CAAC;YACrC,QAAQ,GAAG,QAAQ,CAAC,MAAM,CAAC;QAC7B,CAAC;QACD,iDAAiD;QACjD,IAAI,CAAC,QAAQ,EAAE,CAAC;YACd,OAAO;QACT,CAAC;QAED,IAAI,gBAAgB,CAAC;QACrB,wEAAwE;QACxE,QAAQ,GAAG,IAAI,CAAC;QAChB,OAAO,QAAQ,IAAI,CAAC,QAAQ,CAAC,WAAW,EAAE,CAAC;YACzC,QAAQ,GAAG,QAAQ,CAAC,MAAM,CAAC;QAC7B,CAAC;QACD,IAAI,QAAQ,EAAE,CAAC;YACb,gBAAgB,GAAG,QAAQ,CAAC,WAAW,CAAC;QAC1C,CAAC;QACD,OAAO,gBAAgB,IAAI,CAAC,gBAAgB,CAAC,UAAU,EAAE,CAAC;YACxD,gBAAgB,GAAG,gBAAgB,CAAC,gBAAgB,CAAC,IAAI,CAAC,CAAC;QAC7D,CAAC;QACD,IAAI,CAAC,gBAAgB,IAAI,gBAAgB,CAAC,cAAc,EAAE,CAAC;YACzD,IAAI,CAAC,IAAI,EAAE,CAAC;gBACV,OAAO;YACT,CAAC;YACD,gBAAgB,GAAG,IAAI,CAAC,oBAAoB,CAAC,IAAI,CAAC,CAAC;YACnD,OAAO,gBAAgB,IAAI,CAAC,gBAAgB,CAAC,UAAU,EAAE,CAAC;gBACxD,gBAAgB,GAAG,gBAAgB,CAAC,oBAAoB,CAAC,IAAI,CAAC,CAAC;YACjE,CAAC;QACH,CAAC;QACD,IAAI,gBAAgB,EAAE,CAAC;YACrB,gBAAgB,CAAC,MAAM,EAAE,CAAC;YAC1B,gBAAgB,CAAC,MAAM,EAAE,CAAC;QAC5B,CAAC;aAAM,IAAI,IAAI,CAAC,YAAY,EAAE,CAAC;YAC7B,IAAI,CAAC,YAAY,CAAC,QAAQ,EAAE,CAAC;QAC/B,CAAC;IACH,CAAC;IAED,oBAAoB,CAAC,MAAY;QAC/B,MAAM,UAAU,GAAG,EAAE,CAAC,OAAO,CAAC,+BAA+B,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC;QAC5E,OAAO,CAAC,UAAU,IAAI,IAAI,CAAC,qBAAqB,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC,IAAI,IAAI,CAAC;IAC5E,CAAC;IAED,gBAAgB,CAAC,MAAY;QAC3B,MAAM,WAAW,GAAG,EAAE,CAAC,OAAO,CAAC,+BAA+B,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC;QAC7E,OAAO,CAAC,WAAW,IAAI,iBAAiB,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC,IAAI,IAAI,CAAC;IACrE,CAAC;IAED;;;;;OAKG;IACH,QAAQ,CAAC,OAAgB;QACvB,IAAI,OAAO,EAAE,CAAC;YACZ,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC,OAAO,EAAE,OAAO,CAAC,CAAC;QAC9C,CAAC;aAAM,CAAC;YACN,IAAI,CAAC,OAAO,CAAC,eAAe,CAAC,OAAO,CAAC,CAAC;QACxC,CAAC;IACH,CAAC;IAEO,iBAAiB,CAAC,KAAY;QACpC,MAAM,IAAI,GAAG,EAAE,CAAC,OAAO,CAAC,+BAA+B,CAAE,KAAK,CAAC,MAAe,EAAE,IAAI,CAAC,CAAC;QACtF,IAAI,CAAC,IAAI,EAAE,CAAC;YACV,OAAO;QACT,CAAC;QACD,IAAI,CAAC,sBAAsB,CAAE,IAAoB,CAAC,CAAC;IACrD,CAAC;IAEO,iBAAiB,CAAC,KAAoB;QAC5C,IAAI,KAAK,CAAC,GAAG,KAAK,OAAO,IAAI,KAAK,CAAC,GAAG,KAAK,GAAG,EAAE,CAAC;YAC/C,IAAI,CAAC,iBAAiB,CAAC,KAAK,CAAC,CAAC;QAChC,CAAC;IACH,CAAC;IAED;;;;;OAKG;IACK,sBAAsB,CAAC,IAAa;QAC1C,IAAI,CAAC,iBAAiB,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,UAAU,CAAC,EAAE,CAAC;YACzE,OAAO;QACT,CAAC;QAED,IAAI,SAAS,GAAG,KAAK,CAAC,SAAS,CAAC;QAChC,IAAI,CAAC,IAAI,KAAK,IAAI,CAAC,cAAc,CAAC,IAAI,IAAI,CAAC,oBAAoB,EAAE,EAAE,CAAC;YAClE,SAAS,GAAG,KAAK,CAAC,UAAU,CAAC;QAC/B,CAAC;QAED,IAAI,IAAI,CAAC,cAAc,EAAE,CAAC;YACxB,IAAI,CAAC,cAAc,CAAC,SAAS,CAAC,MAAM,CAAC,KAAK,CAAC,SAAS,EAAE,KAAK,CAAC,UAAU,CAAC,CAAC;YACxE,IAAI,CAAC,cAAc,CAAC,eAAe,CAAC,WAAW,CAAC,CAAC;QACnD,CAAC;QACD,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC;QAE3B,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC;QAC9B,MAAM,SAAS,GAAG,IAAI,CAAC,oBAAoB,EAAE,CAAC,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC,YAAY,CAAC;QAC3E,IAAI,CAAC,YAAY,CAAC,WAAW,EAAE,SAAS,CAAC,CAAC;QAC1C,EAAE,CAAC,SAAS,CAAC,aAAa,CAAC,KAAK,CAAC,UAAU,CAAC,SAAS,CAAC,WAAW,EAAE,EAAC,GAAG,EAAE,SAAS,IAAI,EAAE,EAAC,CAAC,CAAC,CAAC;QAE5F,IAAI,CAAC,wBAAwB,+CAAwB,CAAC;IACxD,CAAC;IAED,oBAAoB,CAAC,QAAgB,EAAE,SAAgB;QACrD,IAAI,IAAI,CAAC,cAAc,EAAE,CAAC;YACxB,IAAI,CAAC,cAAc,CAAC,SAAS,CAAC,MAAM,CAAC,KAAK,CAAC,SAAS,EAAE,KAAK,CAAC,UAAU,CAAC,CAAC;QAC1E,CAAC;QACD,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,gBAAgB,CAAC,QAAQ,CAAC,CAAC;QACtD,IAAI,CAAC,cAAc,CAAC,SAAS,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC;IAC/C,CAAC;IAED,iBAAiB,CAAC,QAAgB;QAChC,OAAO,IAAI,CAAC,gBAAgB,CAAC,QAAQ,CAAC,CAAC;IACzC,CAAC;IAEO,oBAAoB,CAAC,KAAY;QACvC,MAAM,MAAM,GAAI,KAAK,CAAC,MAAe,CAAC;QACtC,MAAM,QAAQ,GAAG,IAAI,CAAC,oBAAoB,CAAC,MAAM,CAAC,CAAC;QACnD,IAAI,CAAC,QAAQ,IAAI,CAAC,QAAQ,CAAC,UAAU,IAAI,QAAQ,CAAC,+BAA+B,CAAE,KAAoB,CAAC,EAAE,CAAC;YACzG,OAAO;QACT,CAAC;QAED,MAAM,QAAQ,GAAG,IAAI,CAAC,gBAAgB,CAAC,MAAM,CAAC,CAAC;QAC/C,IAAI,QAAQ,IAAI,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC,aAAa,EAAE,CAAC;YACrD,OAAO;QACT,CAAC;QAED;;;;;;;;;;WAUG;QACH,MAAM,UAAU,GAAG,KAAmB,CAAC;QACvC,MAAM,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC,QAAQ,EAAE,KAAK,KAAK,CAAC,CAAC,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC,CAAC,UAAU,CAAC,OAAO,CAAC;QAC9F,IAAI,QAAQ,EAAE,CAAC;YACb,IAAI,QAAQ,CAAC,QAAQ,EAAE,CAAC;gBACtB,QAAQ,CAAC,QAAQ,EAAE,CAAC;YACtB,CAAC;iBAAM,CAAC;gBACN,QAAQ,CAAC,MAAM,EAAE,CAAC;YACpB,CAAC;QACH,CAAC;aAAM,CAAC;YACN,QAAQ,CAAC,MAAM,EAAE,CAAC;YAClB,IAAI,CAAC,wBAAwB,wCAAqB,QAAQ,CAAC,CAAC;QAC9D,CAAC;IACH,CAAC;IAED,4BAA4B,CAAC,QAAuD;QAClF,IAAI,CAAC,yBAAyB,GAAG,QAAQ,CAAC;IAC5C,CAAC;IAED,yBAAyB,CAAC,QAAkF;QAC1G,IAAI,CAAC,sBAAsB,GAAG,QAAQ,CAAC;IACzC,CAAC;IAEO,WAAW,CAAC,KAAY;QAC9B,IAAI,CAAC,CAAC,KAAK,YAAY,UAAU,CAAC,EAAE,CAAC;YACnC,OAAO;QACT,CAAC;QACD,MAAM,WAAW,GAAG,IAAI,EAAE,CAAC,WAAW,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;QAC1D,MAAM,MAAM,GAAI,KAAK,CAAC,MAAe,CAAC;QAEtC,MAAM,sBAAsB,GAAG,IAAI,CAAC,mBAAmB,CAAC,MAAM,CAAC,MAAM,CAAC,EAAE;YACtE,OAAO,CAAC,MAAM,CAAC,QAAQ,IAAI,MAAM,CAAC,KAAK,CAAC,CAAC;QAC3C,CAAC,CAAC,CAAC;QAEH,MAAM,qBAAqB,GAAG,IAAI,CAAC,YAAY,CAAC,MAAM,CAClD,MAAM,CAAC,EAAE,CAAC,sBAAsB,CAAC,OAAO,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,IAAI,MAAM,CAAC,2BAA2B,CAAC,CAAC;QAEnG,MAAM,eAAe,GAAG,CAAC,GAAG,sBAAsB,EAAE,GAAG,qBAAqB,CAAC,CAAC;QAC9E,IAAI,eAAe,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC;YAC/B,MAAM,QAAQ,GACV,WAAW,CAAC,cAAc,EAAE,CAAC,iBAAiB,CAAC,UAAU,CAAC,SAAS,CAAC,YAAY,CAAC,EAAE,KAAK,EAAE,SAAS,CAAC,CAAC;YACzG,KAAK,MAAM,MAAM,IAAI,eAAe,EAAE,CAAC;gBACrC,MAAM,UAAU,GAAG,IAAI,CAAC,gBAAgB,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC;gBACpD,QAAQ,CAAC,cAAc,EAAE,CAAC,UAAU,CAC/B,MAAM,CAAC,KAAgB,EAAE,IAAI,CAAC,sBAAsB,CAAC,IAAI,CAAC,IAAI,EAAE,UAAU,CAAC,EAAE;oBAC5E,YAAY,EAAE,QAAQ,CAAC,eAAe,CAAC,WAAW,CAAC,MAAM,CAAC,EAAE,CAAC;iBAC9D,CAAC,CAAC;YACT,CAAC;QACH,CAAC;QAED,IAAI,MAAM,CAAC,kBAAkB,CAAC,IAAI,CAAC,cAAc,CAAC,EAAE,CAAC;YACnD,IAAI,IAAI,CAAC,yBAAyB,EAAE,CAAC;gBACnC,IAAI,CAAC,yBAAyB,CAAC,WAAW,CAAC,CAAC;YAC9C,CAAC;YACD,WAAW,CAAC,cAAc,EAAE,CAAC,UAAU,CACnC,UAAU,CAAC,SAAS,CAAC,YAAY,CAAC,EAAE,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,EAAC,YAAY,EAAE,eAAe,EAAC,CAAC,CAAC;YAC7G,KAAK,WAAW,CAAC,IAAI,EAAE,CAAC;YACxB,OAAO;QACT,CAAC;QAED,kEAAkE;QAClE,MAAM,aAAa,GACf,WAAW,CAAC,cAAc,EAAE,CAAC,iBAAiB,CAAC,UAAU,CAAC,SAAS,CAAC,aAAa,CAAC,EAAE,KAAK,EAAE,gBAAgB,CAAC,CAAC;QACjH,IAAI,IAAI,CAAC,yBAAyB,EAAE,CAAC;YACnC,IAAI,CAAC,yBAAyB,CAAC,aAAa,CAAC,CAAC;QAChD,CAAC;QACD,aAAa,CAAC,cAAc,EAAE,CAAC,UAAU,CACrC,UAAU,CAAC,SAAS,CAAC,YAAY,CAAC,EAAE,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,EAAC,YAAY,EAAE,eAAe,EAAC,CAAC,CAAC;QAE7G,MAAM,gBAAgB,GAAG,CAAC,KAAK,CAAC,MAAM,KAAK,CAAC,CAAC,CAAC;QAC9C,MAAM,QAAQ,GAAG,gBAAgB,CAAC,CAAC,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC,IAAI,CAAC,oBAAoB,CAAC,MAAM,CAAC,CAAC;QAC1F,MAAM,mBAAmB,GAAG,IAAI,CAAC,YAAY,EAAE,eAAe,EAAE,CAAC;QACjE,IAAI,gBAAgB,IAAI,mBAAmB,EAAE,CAAC;YAC5C,MAAM,eAAe,GAAG,mBAAmB,CAAC,qBAAqB,EAAE,CAAC;YACpE,IAAI,eAAe,EAAE,CAAC;gBACpB,MAAM,CAAC,GAAG,CAAC,eAAe,CAAC,KAAK,GAAG,eAAe,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;gBAC7D,MAAM,CAAC,GAAG,CAAC,eAAe,CAAC,MAAM,GAAG,eAAe,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;gBAC7D,WAAW,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;gBACpB,WAAW,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;YACtB,CAAC;QACH,CAAC;QACD,IAAI,IAAI,CAAC,eAAe,IAAI,CAAC,CAAC,QAAQ,IAAI,QAAQ,KAAK,IAAI,CAAC,YAAY,CAAC,EAAE,CAAC;YAC1E,WAAW,CAAC,cAAc,EAAE,CAAC,UAAU,CACnC,UAAU,CAAC,SAAS,CAAC,OAAO,CAAC,EAAE,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,EAAC,YAAY,EAAE,SAAS,EAAC,CAAC,CAAC;QACjG,CAAC;QAED,IAAI,QAAQ,IAAI,QAAQ,CAAC,UAAU,IAAI,CAAC,QAAQ,CAAC,+BAA+B,CAAC,KAAK,CAAC,EAAE,CAAC;YACxF,IAAI,IAAI,CAAC,YAAY,EAAE,CAAC;gBACtB,IAAI,QAAQ,KAAK,IAAI,CAAC,YAAY,EAAE,CAAC;oBACnC,MAAM,oBAAoB,GAAG,IAAI,CAAC,kBAAkB,CAAC,CAAC,CAAC,CAAC,CAAC;oBACzD,MAAM,gBAAgB,GAAG,QAAQ,CAAC,OAAO,EAAE,CAAC,QAAQ,CAAC,oBAAoB,CAAC,CAAC;oBAC3E,WAAW,CAAC,cAAc,EAAE,CAAC,UAAU,CACnC,UAAU,CAAC,SAAS,CAAC,MAAM,CAAC,EAAE,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,EAAE,gBAAgB,CAAC,EAAE,EAAC,YAAY,EAAE,SAAS,EAAC,CAAC,CAAC;gBAC/G,CAAC;qBAAM,IAAI,gBAAgB,EAAE,CAAC;oBAC5B,MAAM,oBAAoB,GAAG,IAAI,CAAC,kBAAkB,CAAC,CAAC,CAAC,CAAC,CAAC;oBACzD,IAAI,oBAAoB,GAAG,CAAC,CAAC,EAAE,CAAC;wBAC9B,MAAM,WAAW,GAAG,IAAI,CAAC,mBAAmB,CAAC,oBAAoB,CAAC,CAAC;wBACnE,IAAI,WAAW,IAAI,IAAI,CAAC,gBAAgB,CAAC,WAAW,CAAC,EAAE,CAAC,EAAE,CAAC;4BACzD,WAAW,CAAC,cAAc,EAAE,CAAC,UAAU,CACnC,UAAU,CAAC,SAAS,CAAC,KAAK,EAAE,EAAC,GAAG,EAAE,MAAM,CAAC,WAAW,CAAC,KAAK,CAAC,EAAC,CAAC,EAC7D,IAAI,CAAC,gCAAgC,CAAC,IAAI,CAAC,IAAI,EAAE,QAAQ,EAAE,oBAAoB,CAAC,EAChF,EAAC,YAAY,EAAE,MAAM,EAAC,CAAC,CAAC;wBAC9B,CAAC;oBACH,CAAC;gBACH,CAAC;qBAAM,CAAC;oBACN,MAAM,QAAQ,GAAG,IAAI,CAAC,gBAAgB,CAAC,MAAM,CAAC,CAAC;oBAC/C,IAAI,QAAQ,IAAI,IAAI,CAAC,gBAAgB,CAAC,QAAQ,CAAC,EAAE,CAAC;wBAChD,WAAW,CAAC,cAAc,EAAE,CAAC,UAAU,CACnC,UAAU,CAAC,SAAS,CAAC,KAAK,EAAE,EAAC,GAAG,EAAE,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC,KAAK,CAAC,EAAC,CAAC,EACxE,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,EAAE,MAAM,CAAC,EAAE,EAAC,YAAY,EAAE,MAAM,EAAC,CAAC,CAAC;oBACpE,CAAC;gBACH,CAAC;YACH,CAAC;YACD,IAAI,IAAI,CAAC,cAAc,IAAI,QAAQ,KAAK,IAAI,CAAC,YAAY,EAAE,CAAC;gBAC1D,WAAW,CAAC,cAAc,EAAE,CAAC,UAAU,CACnC,UAAU,CAAC,SAAS,CAAC,MAAM,CAAC,EAAE,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,IAAI,EAAE,QAAQ,CAAC,EAAE,EAAC,YAAY,EAAE,QAAQ,EAAC,CAAC,CAAC;YACxG,CAAC;YACD,IAAI,IAAI,CAAC,sBAAsB,EAAE,CAAC;gBAChC,IAAI,CAAC,sBAAsB,CAAC,WAAW,EAAE,QAAQ,CAAC,CAAC;YACrD,CAAC;QACH,CAAC;QAED,KAAK,WAAW,CAAC,IAAI,EAAE,CAAC;IAC1B,CAAC;IAEO,gBAAgB,CAAC,KAAiB;QACxC,MAAM,QAAQ,GAAG,IAAI,CAAC,oBAAoB,CAAE,KAAK,CAAC,MAAe,CAAC,CAAC;QACnE,IAAI,CAAC,QAAQ,IAAI,CAAC,QAAQ,CAAC,WAAW,EAAE,IAAI,CAAC,QAAQ,CAAC,+BAA+B,CAAC,KAAK,CAAC,EAAE,CAAC;YAC7F,OAAO;QACT,CAAC;QAED,IAAI,QAAQ,CAAC,QAAQ,EAAE,CAAC;YACtB,IAAI,KAAK,CAAC,MAAM,EAAE,CAAC;gBACjB,QAAQ,CAAC,mBAAmB,EAAE,CAAC;YACjC,CAAC;iBAAM,CAAC;gBACN,QAAQ,CAAC,QAAQ,EAAE,CAAC;YACtB,CAAC;QACH,CAAC;aAAM,IAAI,KAAK,CAAC,MAAM,EAAE,CAAC;YACxB,QAAQ,CAAC,iBAAiB,EAAE,CAAC;QAC/B,CAAC;aAAM,CAAC;YACN,QAAQ,CAAC,MAAM,EAAE,CAAC;QACpB,CAAC;IACH,CAAC;IAED,eAAe,CAAC,MAAoB;QAClC,IAAI,CAAC,YAAY,GAAG,MAAM,CAAC;IAC7B,CAAC;IAEO,oBAAoB,CAAC,KAAY;QACvC,IAAI,CAAC,cAAc,GAAG,KAAK,CAAC,MAAM,CAAC;QACnC,OAAO,IAAI,CAAC;IACd,CAAC;IAEO,kBAAkB;QACxB,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC;QAC3B,IAAI,CAAC,iBAAiB,EAAE,CAAC;IAC3B,CAAC;IAEO,eAAe,CAAC,KAAiB;QACvC,MAAM,OAAO,GAAI,IAAI,CAAC,cAA8B,CAAC;QACrD,IAAI,CAAC,OAAO,EAAE,CAAC;YACb,OAAO;QACT,CAAC;QAED,iEAAiE;QACjE,YAAY;QACZ,IAAI,SAAS,GAAW,KAAK,CAAC,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC,qBAAqB,EAAE,CAAC,IAAI,CAAC;QAClF,IAAI,wBAAwB,GAAG,CAAC,CAAC;QACjC,gEAAgE;QAChE,oEAAoE;QACpE,IAAI,aAAa,GAAG,iBAAiB,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;QACnD,IAAI,aAAa,KAAK,SAAS,EAAE,CAAC;YAChC,OAAO;QACT,CAAC;QACD,IAAI,cAAc,GAAW,aAAa,GAAG,CAAC,CAAC;QAC/C,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,aAAa,EAAE,CAAC,EAAE,EAAE,CAAC;YACvC,wBAAwB,IAAI,IAAI,CAAC,iBAAiB,CAAC,CAAC,CAAC,CAAC;QACxD,CAAC;QAED,uCAAuC;QACvC,IAAI,IAAI,CAAC,YAAY,mCAAsB,EAAE,CAAC;YAC5C,cAAc,GAAG,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC;QACxC,CAAC;aAAM,IAAI,IAAI,CAAC,YAAY,qCAAuB,EAAE,CAAC;YACpD,wBAAwB,IAAI,IAAI,CAAC,iBAAiB,CAAC,aAAa,CAAC,GAAG,IAAI,CAAC,iBAAiB,CAAC,CAAC,CAAC,CAAC;YAC9F,aAAa,GAAG,CAAC,CAAC;QACpB,CAAC;QAED,MAAM,qBAAqB,GACvB,wBAAwB,GAAG,IAAI,CAAC,iBAAiB,CAAC,aAAa,CAAC,GAAG,IAAI,CAAC,iBAAiB,CAAC,cAAc,CAAC,CAAC;QAE9G,8DAA8D;QAC9D,MAAM,WAAW,GAAG,wBAAwB,GAAG,mBAAmB,CAAC;QACnE,MAAM,YAAY,GAAG,qBAAqB,GAAG,mBAAmB,CAAC;QACjE,IAAI,WAAW,GAAG,YAAY,EAAE,CAAC;YAC/B,OAAO;QACT,CAAC;QAED,SAAS,GAAG,QAAQ,CAAC,eAAe,CAAC,KAAK,CAAC,SAAS,EAAE,WAAW,EAAE,YAAY,CAAC,CAAC;QAEjF,MAAM,QAAQ,GAAG,CAAC,SAAS,GAAG,iCAAiC,CAAC,CAAC;QACjE,oBAAoB,CAAC,GAAG,CAAC,OAAO,EAAE,QAAQ,CAAC,CAAC;QAC5C,OAAO,CAAC,KAAK,CAAC,IAAI,GAAG,QAAQ,GAAG,IAAI,CAAC;QAErC,IAAI,CAAC,iBAAiB,CAAC,aAAa,EAAE,SAAS,GAAG,wBAAwB,CAAC,CAAC;QAC5E,IAAI,CAAC,iBAAiB,CAAC,cAAc,EAAE,qBAAqB,GAAG,SAAS,CAAC,CAAC;QAE1E,MAAM,UAAU,GAAG,IAAI,CAAC,mBAAmB,CAAC,aAAa,CAAC,CAAC;QAC3D,MAAM,WAAW,GAAG,IAAI,CAAC,mBAAmB,CAAC,cAAc,CAAC,CAAC;QAC7D,IAAI,UAAU,CAAC,MAAM,IAAI,WAAW,CAAC,MAAM,EAAE,CAAC;YAC5C,MAAM,YAAY,GAAG,UAAU,CAAC,MAAM,GAAG,WAAW,CAAC,MAAM,CAAC;YAC5D,MAAM,KAAK,GAAG,qBAAqB,GAAG,wBAAwB,CAAC;YAC/D,UAAU,CAAC,MAAM,GAAG,CAAC,SAAS,GAAG,wBAAwB,CAAC,GAAG,YAAY,GAAG,KAAK,CAAC;YAClF,WAAW,CAAC,MAAM,GAAG,CAAC,qBAAqB,GAAG,SAAS,CAAC,GAAG,YAAY,GAAG,KAAK,CAAC;QAClF,CAAC;QAED,IAAI,CAAC,gBAAgB,EAAE,CAAC;QACxB,IAAI,CAAC,YAAY,EAAE,CAAC;QACpB,KAAK,CAAC,cAAc,EAAE,CAAC;IACzB,CAAC;IAEO,iBAAiB,CAAC,WAAmB,EAAE,KAAa;QAC1D,MAAM,qBAAqB,GAAI,IAAI,CAAC,oBAAoB,CAAC,QAAQ,CAAC,WAAW,CAAiB,CAAC;QAC/F,yBAAyB,CAAC,GAAG,CAAC,qBAAqB,EAAE,KAAK,CAAC,CAAC;QAC5D,qBAAqB,CAAC,KAAK,CAAC,KAAK,GAAG,KAAK,GAAG,IAAI,CAAC;IACnD,CAAC;IAED,YAAY,CAAC,QAAgB;QAC3B,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,WAAW,EAAE,CAAC;YAC9B,OAAO,CAAC,CAAC;QACX,CAAC;QACD,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,mBAAmB,CAAC,MAAM,EAAE,EAAE,CAAC,EAAE,CAAC;YACzD,IAAI,QAAQ,KAAK,IAAI,CAAC,mBAAmB,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC;gBAChD,IAAI,IAAI,CAAC,QAAQ,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC;oBACzB,OAAO,oBAAoB,CAAC,GAAG,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC;gBAC7D,CAAC;YACH,CAAC;QACH,CAAC;QACD,OAAO,CAAC,CAAC;IACX,CAAC;IAED,QAAQ,CAAC,OAAqB;QAC5B,IAAI,CAAC,IAAI,CAAC,cAAc,EAAE,CAAC;YACzB,IAAI,CAAC,cAAc,GAAG,IAAI,cAAc,CAAC,IAAI,EAAE,OAAO,CAAC,CAAC;QAC1D,CAAC;QACD,OAAO,IAAI,CAAC,cAAc,CAAC;IAC7B,CAAC;IAED,mBAAmB;QACjB,OAAO,IAAI,CAAC,YAAY,CAAC;IAC3B,CAAC;IAED,iCAAiC;IACjC,mFAAmF;IACnF,sFAAsF;IACtF,gFAAgF;IAChF,mFAAmF;IACnF,mFAAmF;IACnF,mFAAmF;IAEzE,sBAAsB;QAC9B,OAAO,IAAI,CAAC,eAAe,KAAK,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC,IAAI,CAAC,YAAY,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;IAChF,CAAC;IAED,YAAY;QACV,OAAO,IAAI,CAAC,cAAc,CAAC,YAAY,CAAC;IAC1C,CAAC;IAED,UAAU,CAAC,OAAoB;QAC7B,OAAO,CAAC,sBAAsB,CAAC,KAAK,CAAC,CAAC;QACtC,mFAAmF;QACnF,+EAA+E;QAC/E,sFAAsF;QACtF,IAAI,OAAO,CAAC,SAAS,GAAG,IAAI,CAAC,eAAe,CAAC,SAAS,GAAG,IAAI,CAAC,YAAY,EAAE,EAAE,CAAC;YAC7E,IAAI,CAAC,eAAe,CAAC,SAAS,GAAG,OAAO,CAAC,SAAS,GAAG,IAAI,CAAC,YAAY,EAAE,CAAC;QAC3E,CAAC;IACH,CAAC;CACF;AAED,2DAA2D;AAC3D,MAAM,CAAC,MAAM,WAAW,GAAG,EAAE,CAAC;AAkB9B,MAAM,CAAN,IAAY,KAKX;AALD,WAAY,KAAK;IACf,+EAA+E;IAC/E,qCAA4B,CAAA;IAC5B,uCAA8B,CAAA;IAC9B,wDAAwD;AAC1D,CAAC,EALW,KAAK,KAAL,KAAK,QAKhB;AAYD,MAAM,CAAC,MAAM,mBAAmB,GAAG,EAAE,CAAC;AACtC,MAAM,CAAC,MAAM,iCAAiC,GAAG,CAAC,CAAC;AAUnD,MAAM,OAAO,YAAY;IACvB,eAAe,GAAqB,IAAI,CAAC;IACzC,gBAAgB,GAAG,KAAK,CAAC;IACzB,SAAS,GAAG,KAAK,CAAC;IACV,KAAK,GAAG,KAAK,CAAC;IACd,QAAQ,GAAG,KAAK,CAAC;IACjB,WAAW,GAAG,KAAK,CAAC;IAC5B,MAAM,CAAmB;IACzB,gBAAgB,CAAoB;IAC1B,gBAAgB,GAAG,KAAK,CAAC;IAC3B,aAAa,GAGZ,IAAI,CAAC;IACd,sBAAsB,GAAG,IAAI,CAAC;IAE9B,QAAQ,GAA2B,EAAE,CAAC;IACtC,QAAQ,GAAyB,IAAI,CAAC;IACtC,MAAM,GAAyB,IAAI,CAAC;IACpC,eAAe,GAAyB,IAAI,CAAC;IAC7C,WAAW,GAAyB,IAAI,CAAC;IACzC,4BAA4B,GAAG,EAAE,CAAC;IAClC,UAAU,GAAG,IAAI,CAAC;IAClB,MAAM,GAAG,KAAK,CAAC;IACf,kBAAkB,GAAG,EAAE,CAAC;IACxB,qBAAqB,GAAG,IAAI,GAAG,EAAkB,CAAC;IAClD,cAAc,GAAG,KAAK,CAAC;IACvB,KAAK,CAAe;IACpB,YAAY,CAAU;IAEtB,YAAY,IAAwB,EAAE,WAAqB;QACzD,IAAI,CAAC,KAAK,GAAG,IAAI,IAAI,EAAE,CAAC;QACxB,IAAI,CAAC,YAAY,GAAG,WAAW,IAAI,KAAK,CAAC;IAC3C,CAAC;IAED,OAAO;QACL,IAAI,CAAC,IAAI,CAAC,eAAe,EAAE,CAAC;YAC1B,MAAM,OAAO,GAAG,IAAI,CAAC,aAAa,EAAE,CAAC;YACrC,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,CAAC;QAC5B,CAAC;QACD,OAAO,IAAI,CAAC,eAA0B,CAAC;IACzC,CAAC;IAES,aAAa;QACrB,IAAI,CAAC,eAAe,GAAG,QAAQ,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;QACpD,IAAI,CAAC,eAAe,CAAC,YAAY,CAC7B,OAAO,EAAE,GAAG,aAAa,CAAC,QAAQ,EAAE,CAAC,KAAK,CAAC,EAAC,OAAO,EAAE,oDAAoD,EAAC,CAAC,EAAE,CAAC,CAAC;QACnH,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC,GAAG,CAAC,0BAA0B,CAAC,CAAC;QAC/D,IAAI,IAAI,CAAC,QAAQ,EAAE,CAAC;YAClB,IAAI,CAAC,QAAQ,CAAC,qBAAqB,CAAC,GAAG,CAAC,IAAI,CAAC,eAAe,EAAE,IAAI,CAAC,CAAC;QACtE,CAAC;QAED,IAAI,IAAI,CAAC,YAAY,EAAE,CAAC;YACtB,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;QAC/C,CAAC;QACD,IAAI,IAAI,CAAC,QAAQ,EAAE,CAAC;YAClB,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC;QACjD,CAAC;QACD,IAAI,IAAI,CAAC,QAAQ,EAAE,CAAC;YAClB,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC;QACjD,CAAC;QACD,IAAI,IAAI,CAAC,QAAQ,EAAE,CAAC;YAClB,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC;QACjD,CAAC;QACD,IAAI,IAAI,CAAC,KAAK,EAAE,CAAC;YACf,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;QAC9C,CAAC;QACD,IAAI,IAAI,CAAC,QAAQ,EAAE,CAAC;YAClB,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC;QACjD,CAAC;QACD,IAAI,IAAI,CAAC,WAAW,EAAE,CAAC;YACrB,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC;QACpD,CAAC;QACD,IAAI,IAAI,CAAC,cAAc,EAAE,CAAC;YACxB,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC,GAAG,CAAC,eAAe,CAAC,CAAC;QACtD,CAAC;QACD,OAAO,IAAI,CAAC,eAAe,CAAC;IAC9B,CAAC;IAED,eAAe;QACb,OAAO,IAAI,CAAC,eAAe,IAAI,IAAI,CAAC;IACtC,CAAC;IAES,YAAY;QACpB,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC;IAC9B,CAAC;IAES,WAAW,CAAC,OAAgB;QACpC,OAAO,CAAC,cAAc,EAAE,CAAC;QACzB,IAAI,CAAC,IAAI,CAAC,QAAQ,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE,CAAC;YACnC,OAAO;QACT,CAAC;QACD,MAAM,YAAY,GAAG,IAAI,CAAC,QAAQ,CAAC,mBAAmB,CAAC;QACvD,MAAM,mBAAmB,GAAG,EAAE,CAAC;QAC/B,sCAAsC;QACtC,IAAI,IAAI,CAAC,YAAY,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,MAAM,EAAE,CAAC;YAC7C,mBAAmB,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,MAAM,EAAE,EAAC,GAAG,EAAE,IAAI,CAAC,KAAK,GAAG,CAAC,EAAC,CAAC,CAAC,CAAC;QAChF,CAAC;QACD,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,YAAY,CAAC,MAAM,EAAE,EAAE,CAAC,EAAE,CAAC;YAC7C,MAAM,MAAM,GAAG,YAAY,CAAC,CAAC,CAAC,CAAC;YAC/B,MAAM,IAAI,GAAG,OAAO,CAAC,WAAW,CAAC,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC,CAAC;YAC7D,4FAA4F;YAE5F,IAAI,MAAM,CAAC,QAAQ,qCAAqB,IAAI,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC,KAAK,IAAI,EAAE,CAAC;gBAC1E,IAAI,CAAC,qBAAqB,CAAC,UAAU,CAAC,SAAS,CAAC,OAAO,CAAC,EAAE,IAAI,EAAE,MAAM,CAAC,EAAE,CAAC,CAAC;YAC7E,CAAC;YAED,mBAAmB,CAAC,IAAI,CAAC,GAAG,MAAM,CAAC,KAAK,KAAK,IAAI,CAAC,qBAAqB,CAAC,GAAG,CAAC,MAAM,CAAC,EAAE,CAAC,IAAI,IAAI,CAAC,WAAW,EAAE,CAAC,CAAC;QAChH,CAAC;QACD,IAAI,CAAC,kBAAkB,GAAG,mBAAmB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QAEzD,MAAM,UAAU,GAAG,IAAI,CAAC,iBAAiB,CAAC,QAAQ,CAAC,CAAC;QACpD,EAAE,CAAC,SAAS,CAAC,SAAS,CAAC,UAAU,EAAE,IAAI,CAAC,CAAC;QACzC,OAAO,CAAC,WAAW,CAAC,UAAU,CAAC,CAAC;IAClC,CAAC;IAED,IAAI,IAAI;QACN,OAAO,IAAI,CAAC,KAAK,CAAC;IACpB,CAAC;IAED,IAAI,IAAI,CAAC,CAAe;QACtB,IAAI,CAAC,KAAK,GAAG,CAAC,IAAI,EAAE,CAAC;QACrB,IAAI,CAAC,OAAO,EAAE,CAAC;IACjB,CAAC;IAED,IAAI,QAAQ;QACV,IAAI,IAAI,CAAC,gBAAgB,KAAK,SAAS,EAAE,CAAC;YACxC,OAAO,IAAI,CAAC,gBAAgB,CAAC;QAC/B,CAAC;QAED,IAAI,eAAe,GAA2B,IAAI,CAAC,MAAM,CAAC;QAC1D,OAAO,eAAe,IAAI,CAAC,eAAe,CAAC,MAAM,EAAE,CAAC;YAClD,IAAI,CAAC,eAAe,CAAC,QAAQ,EAAE,CAAC;gBAC9B,IAAI,CAAC,gBAAgB,GAAG,KAAK,CAAC;gBAC9B,OAAO,KAAK,CAAC;YACf,CAAC;YAED,eAAe,GAAG,eAAe,CAAC,MAAM,CAAC;QAC3C,CAAC;QAED,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;QACrB,OAAO,IAAI,CAAC;IACd,CAAC;IAED,IAAI,QAAQ,CAAC,CAAU;QACrB,IAAI,IAAI,CAAC,gBAAgB,KAAK,CAAC,EAAE,CAAC;YAChC,OAAO;QACT,CAAC;QAED,IAAI,CAAC,gBAAgB,GAAG,CAAC,CAAC;QAE1B,IAAI,IAAI,CAAC,eAAe,EAAE,CAAC;YACzB,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC,MAAM,CAAC,UAAU,EAAE,IAAI,CAAC,gBAAgB,CAAC,CAAC;QAC3E,CAAC;QAED,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,QAAQ,CAAC,MAAM,EAAE,EAAE,CAAC,EAAE,CAAC;YAC9C,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,QAAQ,GAAG,CAAC,IAAI,IAAI,CAAC,QAAQ,CAAC;QACjD,CAAC;IACH,CAAC;IAED,OAAO;QACL,OAAO,IAAI,CAAC,KAAK,CAAC;IACpB,CAAC;IAED,QAAQ,CAAC,KAAc;QACrB,IAAI,IAAI,CAAC,KAAK,KAAK,KAAK,EAAE,CAAC;YACzB,OAAO;QACT,CAAC;QACD,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;QACnB,IAAI,CAAC,IAAI,CAAC,eAAe,EAAE,CAAC;YAC1B,OAAO;QACT,CAAC;QACD,IAAI,KAAK,EAAE,CAAC;YACV,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;QAC9C,CAAC;aAAM,CAAC;YACN,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;QACjD,CAAC;IACH,CAAC;IAED,WAAW,CAAC,QAAiB;QAC3B,IAAI,IAAI,CAAC,QAAQ,KAAK,QAAQ,EAAE,CAAC;YAC/B,OAAO;QACT,CAAC;QACD,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC;QACzB,IAAI,CAAC,IAAI,CAAC,eAAe,EAAE,CAAC;YAC1B,OAAO;QACT,CAAC;QACD,IAAI,QAAQ,EAAE,CAAC;YACb,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC;QACjD,CAAC;aAAM,CAAC;YACN,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC;QACpD,CAAC;IACH,CAAC;IAED,cAAc,CAAC,WAAoB;QACjC,IAAI,IAAI,CAAC,WAAW,KAAK,WAAW,EAAE,CAAC;YACrC,OAAO;QACT,CAAC;QACD,IAAI,CAAC,WAAW,GAAG,WAAW,CAAC;QAC/B,IAAI,CAAC,IAAI,CAAC,eAAe,EAAE,CAAC;YAC1B,OAAO;QACT,CAAC;QACD,IAAI,WAAW,EAAE,CAAC;YAChB,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC;QACpD,CAAC;aAAM,CAAC;YACN,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC,MAAM,CAAC,aAAa,CAAC,CAAC;QACvD,CAAC;IACH,CAAC;IAED,WAAW;QACT,OAAO,IAAI,CAAC,YAAY,CAAC;IAC3B,CAAC;IAED,cAAc,CAAC,CAAU;QACvB,IAAI,IAAI,CAAC,YAAY,KAAK,CAAC,EAAE,CAAC;YAC5B,OAAO;QACT,CAAC;QAED,IAAI,CAAC,YAAY,GAAG,CAAC,CAAC;QAEtB,IAAI,CAAC,IAAI,CAAC,eAAe,EAAE,CAAC;YAC1B,OAAO;QACT,CAAC;QAED,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC,MAAM,CAAC,QAAQ,EAAE,IAAI,CAAC,YAAY,CAAC,CAAC;QACnE,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC,MAAM,CAAC,UAAU,EAAE,IAAI,CAAC,YAAY,IAAI,IAAI,CAAC,QAAQ,CAAC,CAAC;IACxF,CAAC;IAED,IAAI,KAAK;QACP,IAAI,IAAI,CAAC,MAAM,KAAK,SAAS,EAAE,CAAC;YAC9B,OAAO,IAAI,CAAC,MAAM,CAAC;QACrB,CAAC;QACD,IAAI,IAAI,CAAC,MAAM,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,MAAM,EAAE,CAAC;YACvC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC,KAAK,GAAG,CAAC,CAAC;QACtC,CAAC;aAAM,CAAC;YACN,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC;QAClB,CAAC;QACD,OAAO,IAAI,CAAC,MAAM,CAAC;IACrB,CAAC;IAED,IAAI,WAAW;QACb,OAAO,IAAI,CAAC,KAAK,GAAG,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACtE,CAAC;IAED,IAAI,qBAAqB;QACvB,OAAO,IAAI,CAAC,sBAAsB,CAAC;IACrC,CAAC;IAED,IAAI,qBAAqB,CAAC,CAAU;QAClC,IAAI,CAAC,sBAAsB,GAAG,CAAC,CAAC;QAChC,IAAI,CAAC,IAAI,IAAI,CAAC,QAAQ,EAAE,CAAC;YACvB,IAAI,CAAC,MAAM,EAAE,CAAC;QAChB,CAAC;IACH,CAAC;IAED,IAAI,QAAQ;QACV,OAAO,IAAI,CAAC,SAAS,CAAC;IACxB,CAAC;IAED,IAAI,QAAQ,CAAC,CAAU;QACrB,IAAI,CAAC,EAAE,CAAC;YACN,IAAI,CAAC,MAAM,EAAE,CAAC;QAChB,CAAC;aAAM,CAAC;YACN,IAAI,CAAC,QAAQ,EAAE,CAAC;QAClB,CAAC;IACH,CAAC;IAED,IAAI,QAAQ;QACV,OAAO,IAAI,CAAC,gBAAgB,CAAC;IAC/B,CAAC;IAED,IAAI,QAAQ,CAAC,CAAU;QACrB,IAAI,CAAC,EAAE,CAAC;YACN,IAAI,CAAC,MAAM,EAAE,CAAC;QAChB,CAAC;aAAM,CAAC;YACN,IAAI,CAAC,QAAQ,EAAE,CAAC;QAClB,CAAC;IACH,CAAC;IAED,OAAO;QACL,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE,CAAC;YACnB,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC;QAC9B,CAAC;QACD,IAAI,CAAC,IAAI,CAAC,eAAe,EAAE,CAAC;YAC1B,OAAO;QACT,CAAC;QACD,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC;IACzC,CAAC;IAED,iBAAiB,CAAC,SAAiB;QACjC,MAAM,IAAI,GAAG,QAAQ,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;QAC1C,IAAI,SAAS,EAAE,CAAC;YACd,IAAI,CAAC,SAAS,GAAG,SAAS,CAAC;QAC7B,CAAC;QACD,MAAM,SAAS,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,CAAC,CAAC,IAAI,CAAC;QACjE,IAAI,SAAS,EAAE,CAAC;YACd,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC;QAChC,CAAC;QACD,OAAO,IAAI,CAAC;IACd,CAAC;IAED,QAAQ,CAAC,QAAgB;QACvB,MAAM,IAAI,GAAG,IAAI,CAAC,iBAAiB,CAAC,QAAQ,GAAG,SAAS,CAAC,CAAC;QAC1D,iBAAiB,CAAC,GAAG,CAAC,IAAI,EAAE,QAAQ,CAAC,CAAC;QAEtC,IAAI,IAAI,CAAC,QAAQ,EAAE,CAAC;YAClB,MAAM,YAAY,GAAG,IAAI,CAAC,QAAQ,CAAC,gBAAgB,CAAC,QAAQ,CAAC,CAAC;YAE9D,IAAI,CAAC,YAAY,CACb,OAAO,EACP,GACI,aAAa,CAAC,SAAS,EAAE;iBACpB,KAAK,CAAC;gBACL,KAAK,EAAE,IAAI;gBACX,OAAO,EAAE,YAAY,CAAC,CAAC,CAAC,oBAAoB,CAAC,CAAC,CAAC,KAAK;gBACpD,QAAQ,EAAE,YAAY;gBACtB,MAAM,EAAE,YAAY;aACrB,CAAC;iBACD,OAAO,CAAC,QAAQ,CAAC,eAAe,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC,EAAE,CAAC,CAAC;YACxE,MAAM,SAAS,GAAG,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC,KAAK,CAAC;YACxD,IAAI,SAAS,EAAE,CAAC;gBACd,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC;YAChC,CAAC;YAED,IAAI,QAAQ,KAAK,IAAI,CAAC,QAAQ,CAAC,kBAAkB,EAAE,CAAC;gBAClD,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC;gBACjC,IAAI,IAAI,CAAC,WAAW,EAAE,CAAC;oBACrB,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,cAAc,EAAE,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,CAAC;gBAClE,CAAC;YACH,CAAC;YAED,kFAAkF;YAClF,IAAI,YAAY,EAAE,CAAC;gBACjB,IAAI,CAAC,QAAQ,GAAG,CAAC,CAAC;gBAClB,IAAI,CAAC,YAAY,GAAG,MAAM,CAAC;YAC7B,CAAC;QACH,CAAC;QAED,OAAO,IAAI,CAAC;IACd,CAAC;IAED,UAAU,CAAC,QAAgB;QACzB,MAAM,IAAI,GAAG,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC;QACrC,MAAM,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;QACjC,IAAI,IAAI,YAAY,IAAI,EAAE,CAAC;YACzB,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;QACzB,CAAC;aAAM,IAAI,IAAI,KAAK,IAAI,IAAI,IAAI,CAAC,QAAQ,EAAE,CAAC;YAC1C,IAAI,CAAC,QAAQ,CAAC,iBAAiB,CAAC,IAAI,EAAG,IAAe,CAAC,CAAC;QAC1D,CAAC;QAED,OAAO,IAAI,CAAC;IACd,CAAC;IAED,qBAAqB,CAAC,IAAY,EAAE,IAAa,EAAE,QAAgB;QACjE,IAAI,CAAC,qBAAqB,CAAC,GAAG,CAAC,QAAQ,EAAE,IAAI,CAAC,CAAC;QAC/C,gFAAgF;QAChF,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,QAAQ,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;YAC9C,EAAE,CAAC,SAAS,CAAC,SAAS,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC;QACjD,CAAC;QACD,EAAE,CAAC,SAAS,CAAC,QAAQ,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;IACpC,CAAC;IAED,cAAc;QACZ,OAAO,EAAE,CAAC;IACZ,CAAC;IAED,WAAW,CAAC,KAAsB;QAChC,IAAI,CAAC,WAAW,CAAC,KAAK,EAAE,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;IAChD,CAAC;IAED,SAAS,CAAC,UAAoB;QAC5B,wGAAwG;QACxG,IAAI,CAAC,MAAM,GAAG,SAAS,CAAC;QACxB,OAAO,IAAI,CAAC,gBAAgB,CAAC;QAC7B,IAAI,UAAU,EAAE,CAAC;YACf,OAAO;QACT,CAAC;QACD,IAAI,IAAI,CAAC,eAAe,EAAE,CAAC;YACzB,IAAI,CAAC,eAAe,CAAC,WAAW,GAAG,IAAI,CAAC,WAAW,CAAC;QACtD,CAAC;QACD,IAAI,IAAI,CAAC,WAAW,EAAE,CAAC;YACrB,IAAI,CAAC,WAAW,CAAC,eAAe,GAAG,IAAI,CAAC,eAAe,CAAC;QAC1D,CAAC;QACD,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;QACrB,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;QACnB,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;QACxB,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC;QAC5B,IAAI,CAAC,gBAAgB,GAAG,KAAK,CAAC;IAChC,CAAC;IAED,WAAW,CAAC,KAAsB,EAAE,KAAa;QAC/C,IAAI,CAAC,KAAK,EAAE,CAAC;YACX,MAAM,IAAI,KAAK,CAAC,gDAAgD,CAAC,CAAC;QACpE,CAAC;QACD,IAAI,KAAK,CAAC,MAAM,KAAK,IAAI,EAAE,CAAC;YAC1B,MAAM,YAAY,GAAG,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;YAClD,IAAI,YAAY,GAAG,CAAC,EAAE,CAAC;gBACrB,OAAO,CAAC,MAAM,CAAC,KAAK,EAAE,6BAA6B,CAAC,CAAC;YACvD,CAAC;YACD,IAAI,YAAY,KAAK,KAAK,EAAE,CAAC;gBAC3B,OAAO;YACT,CAAC;YACD,IAAI,YAAY,GAAG,KAAK,EAAE,CAAC;gBACzB,EAAE,KAAK,CAAC;YACV,CAAC;QACH,CAAC;QAED,KAAK,CAAC,MAAM,EAAE,CAAC;QAEf,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,EAAE,KAAK,CAAC,CAAC;QACtC,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC;QAE1B,KAAK,CAAC,MAAM,GAAG,IAAI,CAAC;QACpB,KAAK,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC;QAC/B,KAAK,CAAC,mBAAmB,CAAC,KAAK,CAAC,CAAC;QAEjC,KAAK,CAAC,sBAAsB,GAAG,IAAI,CAAC;QAEpC,IAAI,OAAO,GAA2C,KAAK,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;QACxE,OAAO,OAAO,EAAE,CAAC;YACf,OAAO,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC;YACxB,OAAO,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC;YACjC,OAAO,CAAC,gBAAgB,GAAG,KAAK,CAAC;YACjC,OAAO,CAAC,sBAAsB,GAAG,IAAI,CAAC;YACtC,OAAO,GAAG,OAAO,CAAC,gBAAgB,CAAC,KAAK,EAAE,KAAK,EAAE,IAAI,CAAC,CAAC;QACzD,CAAC;QAED,IAAI,IAAI,CAAC,QAAQ,EAAE,CAAC;YAClB,KAAK,CAAC,MAAM,EAAE,CAAC;QACjB,CAAC;QACD,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE,CAAC;YACnB,KAAK,CAAC,QAAQ,GAAG,KAAK,CAAC;QACzB,CAAC;IACH,CAAC;IAED,MAAM;QACJ,IAAI,IAAI,CAAC,MAAM,EAAE,CAAC;YAChB,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;QAChC,CAAC;IACH,CAAC;IAED,WAAW,CAAC,KAAsB;QAChC,IAAI,CAAC,KAAK,EAAE,CAAC;YACX,MAAM,IAAI,KAAK,CAAC,gDAAgD,CAAC,CAAC;QACpE,CAAC;QACD,IAAI,KAAK,CAAC,MAAM,KAAK,IAAI,EAAE,CAAC;YAC1B,MAAM,IAAI,KAAK,CAAC,gDAAgD,CAAC,CAAC;QACpE,CAAC;QAED,IAAI,IAAI,CAAC,QAAQ,EAAE,CAAC;YAClB,IAAI,CAAC,QAAQ,CAAC,4BAA4B,CAAC,KAAK,EAAE,KAAK,CAAC,CAAC;QAC3D,CAAC;QAED,KAAK,CAAC,MAAM,EAAE,CAAC;QACf,KAAK,CAAC,SAAS,EAAE,CAAC;QAClB,QAAQ,CAAC,cAAc,CAAC,aAAa,CAAC,IAAI,CAAC,QAAQ,EAAE,KAAK,EAAE,IAAI,CAAC,CAAC;QAElE,IAAI,IAAI,CAAC,QAAQ,CAAC,MAAM,IAAI,CAAC,EAAE,CAAC;YAC9B,IAAI,CAAC,cAAc,CAAC,KAAK,CAAC,CAAC;QAC7B,CAAC;IACH,CAAC;IAED,cAAc;QACZ,IAAI,IAAI,CAAC,QAAQ,EAAE,CAAC;YAClB,IAAI,CAAC,QAAQ,CAAC,4BAA4B,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;QACzD,CAAC;QACD,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,QAAQ,CAAC,MAAM,EAAE,EAAE,CAAC,EAAE,CAAC;YAC9C,MAAM,KAAK,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;YAC/B,KAAK,CAAC,MAAM,EAAE,CAAC;YACf,KAAK,CAAC,SAAS,EAAE,CAAC;QACpB,CAAC;QAED,IAAI,CAAC,QAAQ,GAAG,EAAE,CAAC;QACnB,IAAI,CAAC,cAAc,CAAC,KAAK,CAAC,CAAC;IAC7B,CAAC;IAED,mBAAmB,CAAC,OAAe;QACjC,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE,CAAC;YACjB,OAAO;QACT,CAAC;QAED,MAAM,aAAa,GAAG,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,OAAO,GAAG,CAAC,CAAC,IAAI,IAAI,CAAC;QAChE,IAAI,aAAa,EAAE,CAAC;YAClB,aAAa,CAAC,WAAW,GAAG,IAAI,CAAC;QACnC,CAAC;QACD,IAAI,CAAC,eAAe,GAAG,aAAa,CAAC;QAErC,MAAM,SAAS,GAAG,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,OAAO,GAAG,CAAC,CAAC,IAAI,IAAI,CAAC;QAC5D,IAAI,SAAS,EAAE,CAAC;YACd,SAAS,CAAC,eAAe,GAAG,IAAI,CAAC;QACnC,CAAC;QACD,IAAI,CAAC,WAAW,GAAG,SAAS,CAAC;IAC/B,CAAC;IAED,QAAQ;QACN,IAAI,IAAI,CAAC,MAAM,EAAE,CAAC;YAChB,OAAO;QACT,CAAC;QACD,IAAI,IAAI,CAAC,eAAe,EAAE,CAAC;YACzB,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC;QACpD,CAAC;QAED,IAAI,CAAC,gBAAgB,GAAG,KAAK,CAAC;QAC9B,IAAI,IAAI,CAAC,QAAQ,IAAI,IAAI,CAAC,QAAQ,EAAE,CAAC;YACnC,IAAI,CAAC,QAAQ,CAAC,wBAAwB,EAAE,CAAC;QAC3C,CAAC;QAED,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,QAAQ,CAAC,MAAM,EAAE,EAAE,CAAC,EAAE,CAAC;YAC9C,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,QAAQ,GAAG,KAAK,CAAC;QACpC,CAAC;IACH,CAAC;IAED,mBAAmB;QACjB,IAAI,IAAI,GAAgC,IAAI,CAAC;QAC7C,OAAO,IAAI,EAAE,CAAC;YACZ,IAAI,IAAI,CAAC,QAAQ,EAAE,CAAC;gBAClB,IAAI,CAAC,QAAQ,EAAE,CAAC;YAClB,CAAC;YACD,IAAI,GAAG,IAAI,CAAC,gBAAgB,CAAC,KAAK,EAAE,IAAI,EAAE,IAAI,CAAC,CAAC;QAClD,CAAC;IACH,CAAC;IAED,QAAQ;IACR,CAAC;IAED,MAAM;QACJ,IAAI,CAAC,IAAI,CAAC,YAAY,IAAI,IAAI,CAAC,gBAAgB,EAAE,CAAC;YAChD,OAAO;QACT,CAAC;QACD,IAAI,IAAI,CAAC,MAAM,EAAE,CAAC;YAChB,OAAO;QACT,CAAC;QAED,IAAI,IAAI,CAAC,QAAQ,IAAI,CAAC,IAAI,CAAC,sBAAsB,EAAE,CAAC;YAClD,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,QAAQ,CAAC,MAAM,EAAE,EAAE,CAAC,EAAE,CAAC;gBAC9C,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,QAAQ,GAAG,IAAI,CAAC;YACnC,CAAC;QACH,CAAC;QAED,IAAI,IAAI,CAAC,sBAAsB,EAAE,CAAC;YAChC,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,QAAQ,CAAC,MAAM,EAAE,EAAE,CAAC,EAAE,CAAC;gBAC9C,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,MAAM,EAAE,CAAC;YAC5B,CAAC;YAED,IAAI,CAAC,QAAQ,EAAE,CAAC;YAEhB,IAAI,IAAI,CAAC,gBAAgB,EAAE,CAAC;gBAC1B,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,QAAQ,CAAC,MAAM,EAAE,EAAE,CAAC,EAAE,CAAC;oBAC9C,MAAM,KAAK,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;oBAC/B,IAAI,IAAI,CAAC,QAAQ,EAAE,CAAC;wBAClB,KAAK,CAAC,QAAQ,GAAG,IAAI,CAAC;oBACxB,CAAC;oBACD,KAAK,CAAC,MAAM,EAAE,CAAC;gBACjB,CAAC;YACH,CAAC;YAED,IAAI,CAAC,sBAAsB,GAAG,KAAK,CAAC;QACtC,CAAC;QAED,IAAI,IAAI,CAAC,eAAe,EAAE,CAAC;YACzB,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC;QACjD,CAAC;QACD,IAAI,IAAI,CAAC,QAAQ,IAAI,IAAI,CAAC,QAAQ,EAAE,CAAC;YACnC,IAAI,CAAC,QAAQ,CAAC,wBAAwB,EAAE,CAAC;QAC3C,CAAC;QAED,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC;IAC/B,CAAC;IAED,iBAAiB;QACf,IAAI,IAAI,GAAgC,IAAI,CAAC;QAC7C,OAAO,IAAI,EAAE,CAAC;YACZ,IAAI,CAAC,MAAM,EAAE,CAAC;YACd,IAAI,GAAG,IAAI,CAAC,gBAAgB,CAAC,KAAK,EAAE,IAAI,CAAC,CAAC;QAC5C,CAAC;IACH,CAAC;IAED,MAAM;QACJ,IAAI,IAAI,CAAC,MAAM,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE,CAAC;YAClC,OAAO;QACT,CAAC;QACD,IAAI,eAAe,GAA2B,IAAI,CAAC,MAAM,CAAC;QAC1D,OAAO,eAAe,IAAI,CAAC,eAAe,CAAC,MAAM,EAAE,CAAC;YAClD,IAAI,CAAC,eAAe,CAAC,QAAQ,EAAE,CAAC;gBAC9B,eAAe,CAAC,MAAM,EAAE,CAAC;YAC3B,CAAC;YACD,eAAe,GAAG,eAAe,CAAC,MAAM,CAAC;QAC3C,CAAC;QAED,IAAI,CAAC,QAAQ,CAAC,UAAU,CAAC,IAAI,CAAC,OAAO,EAAiB,CAAC,CAAC;IAC1D,CAAC;IAED,MAAM,CAAC,oBAA8B;QACnC,IAAI,CAAC,IAAI,CAAC,QAAQ,IAAI,CAAC,IAAI,CAAC,UAAU,IAAI,IAAI,CAAC,QAAQ,EAAE,CAAC;YACxD,OAAO;QACT,CAAC;QAED,IAAI,IAAI,CAAC,QAAQ,CAAC,YAAY,EAAE,CAAC;YAC/B,IAAI,CAAC,QAAQ,CAAC,YAAY,CAAC,QAAQ,EAAE,CAAC;QACxC,CAAC;QAED,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;QACtB,IAAI,CAAC,QAAQ,CAAC,YAAY,GAAG,IAAI,CAAC;QAElC,IAAI,IAAI,CAAC,eAAe,EAAE,CAAC;YACzB,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC;YAC/C,IAAI,CAAC,eAAe,CAAC,KAAK,EAAE,CAAC;YAC7B,IAAI,CAAC,QAAQ,CAAC,eAAe,CAAC,IAAI,CAAC,CAAC;YACpC,IAAI,CAAC,QAAQ,CAAC,wBAAwB,EAAE,CAAC;QAC3C,CAAC;QAED,IAAI,CAAC,oBAAoB,EAAE,CAAC;YAC1B,IAAI,CAAC,QAAQ,CAAC,wBAAwB,4CAAuB,IAAI,CAAC,CAAC;QACrE,CAAC;IACH,CAAC;IAED,eAAe;QACb,IAAI,IAAI,CAAC,MAAM,EAAE,CAAC;YAChB,OAAO;QACT,CAAC;QACD,IAAI,CAAC,MAAM,EAAE,CAAC;QACd,IAAI,CAAC,MAAM,EAAE,CAAC;IAChB,CAAC;IAED,QAAQ,CAAC,sBAAgC;QACvC,IAAI,CAAC,IAAI,CAAC,QAAQ,IAAI,IAAI,CAAC,QAAQ,CAAC,YAAY,KAAK,IAAI,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE,CAAC;YAC5E,OAAO;QACT,CAAC;QAED,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;QACvB,IAAI,CAAC,QAAQ,CAAC,YAAY,GAAG,IAAI,CAAC;QAElC,IAAI,IAAI,CAAC,eAAe,EAAE,CAAC;YACzB,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC;YAClD,IAAI,CAAC,QAAQ,CAAC,eAAe,CAAC,KAAK,CAAC,CAAC;QACvC,CAAC;QAED,IAAI,CAAC,sBAAsB,EAAE,CAAC;YAC5B,IAAI,CAAC,QAAQ,CAAC,wBAAwB,+CAAwB,CAAC;QACjE,CAAC;IACH,CAAC;IAED,gBAAgB,CAAC,UAAmB,EAAE,UAAiC,EAAE,YAAsB,EAAE,IAEhG;QACC,IAAI,CAAC,YAAY,IAAI,IAAI,CAAC,YAAY,EAAE,CAAC;YACvC,IAAI,CAAC,QAAQ,EAAE,CAAC;QAClB,CAAC;QAED,IAAI,IAAI,EAAE,CAAC;YACT,IAAI,CAAC,WAAW,GAAG,CAAC,CAAC;QACvB,CAAC;QAED,IAAI,IAAI,GAAgC,CAAC,CAAC,UAAU,IAAI,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC;QACjG,IAAI,IAAI,IAAI,CAAC,CAAC,UAAU,IAAI,IAAI,CAAC,QAAQ,CAAC,EAAE,CAAC;YAC3C,IAAI,IAAI,EAAE,CAAC;gBACT,IAAI,CAAC,WAAW,GAAG,CAAC,CAAC;YACvB,CAAC;YACD,OAAO,IAAI,CAAC;QACd,CAAC;QAED,IAAI,IAAI,KAAK,UAAU,EAAE,CAAC;YACxB,OAAO,IAAI,CAAC;QACd,CAAC;QAED,IAAI,GAAG,CAAC,CAAC,UAAU,IAAI,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,IAAI,CAAC;QAChE,IAAI,IAAI,EAAE,CAAC;YACT,OAAO,IAAI,CAAC;QACd,CAAC;QAED,IAAI,GAAG,IAAI,CAAC;QACZ,OAAO,IAAI,IAAI,CAAC,IAAI,CAAC,MAAM,IAAI,CAAC,CAAC,CAAC,CAAC,UAAU,IAAI,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,IAAI,CAAC;YACnF,IAAI,CAAC,MAAM,KAAK,UAAU,EAAE,CAAC;YAClC,IAAI,IAAI,EAAE,CAAC;gBACT,IAAI,CAAC,WAAW,IAAI,CAAC,CAAC;YACxB,CAAC;YACD,IAAI,GAAG,IAAI,CAAC,MAAM,CAAC;QACrB,CAAC;QAED,IAAI,CAAC,IAAI,EAAE,CAAC;YACV,OAAO,IAAI,CAAC;QACd,CAAC;QAED,OAAO,CAAC,CAAC,UAAU,IAAI,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,IAAI,CAAC;IAClE,CAAC;IAED,oBAAoB,CAAC,UAAmB,EAAE,YAAsB;QAC9D,IAAI,IAAI,GAA2B,CAAC,CAAC,UAAU,IAAI,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC,CAAC,IAAI,CAAC;QAChG,IAAI,CAAC,YAAY,IAAI,IAAI,IAAI,IAAI,CAAC,YAAY,EAAE,CAAC;YAC/C,IAAI,CAAC,QAAQ,EAAE,CAAC;QAClB,CAAC;QAED,OAAO,IAAI;YACJ,CAAC,CAAC,CAAC,UAAU,IAAI,CAAC,IAAI,CAAC,QAAQ,IAAI,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,QAAQ,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,EAAE,CAAC;YAC5G,IAAI,CAAC,YAAY,IAAI,IAAI,IAAI,IAAI,CAAC,YAAY,EAAE,CAAC;gBAC/C,IAAI,CAAC,QAAQ,EAAE,CAAC;YAClB,CAAC;YACD,IAAI,GAAG,CAAC,CAAC,CAAC,UAAU,IAAI,CAAC,IAAI,CAAC,QAAQ,IAAI,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,QAAQ,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC;QAC9G,CAAC;QAED,IAAI,IAAI,EAAE,CAAC;YACT,OAAO,IAAI,CAAC;QACd,CAAC;QAED,IAAI,CAAC,IAAI,CAAC,MAAM,IAAI,IAAI,CAAC,MAAM,CAAC,MAAM,EAAE,CAAC;YACvC,OAAO,IAAI,CAAC;QACd,CAAC;QAED,OAAO,IAAI,CAAC,MAAM,CAAC;IACrB,CAAC;IAED,+BAA+B,CAAC,KAAiB;QAC/C,IAAI,CAAC,IAAI,CAAC,YAAY,EAAE,CAAC;YACvB,OAAO,KAAK,CAAC;QACf,CAAC;QACD,MAAM,IAAI,GAAG,EAAE,CAAC,OAAO,CAAC,+BAA+B,CAAE,KAAK,CAAC,MAAe,EAAE,IAAI,CAAC,CAAC;QACtF,IAAI,CAAC,IAAI,IAAI,CAAC,CAAC,IAAI,YAAY,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,YAAY,CAAC,EAAE,CAAC;YACtF,OAAO,KAAK,CAAC;QACf,CAAC;QAED,MAAM,IAAI,GAAG,IAAI,CAAC,qBAAqB,EAAE,CAAC,IAAI,GAAG,IAAI,CAAC,WAAW,CAAC;QAClE,OAAO,KAAK,CAAC,KAAK,IAAI,IAAI,IAAI,KAAK,CAAC,KAAK,IAAI,IAAI,GAAG,IAAI,CAAC,4BAA4B,CAAC;IACxF,CAAC;IAEO,MAAM;QACZ,IAAI,CAAC,IAAI,CAAC,QAAQ,IAAI,IAAI,CAAC,gBAAgB,EAAE,CAAC;YAC5C,OAAO;QACT,CAAC;QAED,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC;QAE7B,MAAM,YAAY,GAAG,IAAI,CAAC,oBAAoB,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;QAC3D,MAAM,eAAe,GAAG,YAAY,CAAC,CAAC,CAAC,YAAY,CAAC,OAAO,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,YAAY,CAAC;QAC3F,IAAI,CAAC,QAAQ,CAAC,aAAa,CAAC,YAAY,CAAC,IAAI,CAAC,OAAO,EAAE,EAAE,eAAe,CAAC,WAAW,CAAC,CAAC;QAEtF,IAAI,IAAI,CAAC,gBAAgB,EAAE,CAAC;YAC1B,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,QAAQ,CAAC,MAAM,EAAE,EAAE,CAAC,EAAE,CAAC;gBAC9C,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,MAAM,EAAE,CAAC;YAC5B,CAAC;QACH,CAAC;IACH,CAAC;IAEO,MAAM;QACZ,IAAI,CAAC,IAAI,CAAC,gBAAgB,EAAE,CAAC;YAC3B,OAAO;QACT,CAAC;QAED,IAAI,CAAC,gBAAgB,GAAG,KAAK,CAAC;QAE9B,IAAI,IAAI,CAAC,eAAe,EAAE,CAAC;YACzB,IAAI,CAAC,eAAe,CAAC,MAAM,EAAE,CAAC;QAChC,CAAC;QAED,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,QAAQ,CAAC,MAAM,EAAE,EAAE,CAAC,EAAE,CAAC;YAC9C,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,MAAM,EAAE,CAAC;QAC5B,CAAC;IACH,CAAC;IAED,YAAY;QACV,IAAI,IAAI,CAAC,aAAa,EAAE,CAAC;YACvB,OAAO;QACT,CAAC;QAED,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE,CAAC;YACjB,MAAM,IAAI,KAAK,CAAC,wCAAwC,CAAC,CAAC;QAC5D,CAAC;QACD,IAAI,CAAC,aAAa,GAAG,EAAC,MAAM,EAAE,IAAI,CAAC,MAAM,EAAE,KAAK,EAAE,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,OAAO,CAAC,IAAI,CAAC,EAAC,CAAC;IACxF,CAAC;IAED,eAAe;QACb,IAAI,CAAC,IAAI,CAAC,aAAa,EAAE,CAAC;YACxB,OAAO;QACT,CAAC;QAED,IAAI,IAAI,CAAC,MAAM,KAAK,IAAI,CAAC,aAAa,CAAC,MAAM,EAAE,CAAC;YAC9C,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,WAAW,CAAC,IAAI,EAAE,IAAI,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QACxE,CAAC;QAED,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC;IAC5B,CAAC;CACF;AAED,MAAM,OAAO,oBAAwB,SAAQ,YAAe;IACjD,cAAc,CAAU;IACjC,YAAY,IAA+B,EAAE,WAAqB;QAChE,KAAK,CAAC,IAAI,EAAE,WAAW,CAAC,CAAC;QACzB,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC;IAC7B,CAAC;CACF;AAED,MAAM,OAAO,cAAkB,SAAQ,EAAE,CAAC,MAAM,CAAC,IAAI;IAC1C,QAAQ,CAAkB;IACnC,YAAY,QAAyB,EAAE,OAAqB;QAC1D,KAAK,CAAC,OAAO,CAAC,CAAC;QACf,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC;QACzB,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;QAC3C,IAAI,CAAC,wBAAwB,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;QAChD,IAAI,CAAC,mBAAmB,CAAC,cAAc,CAAC,CAAC;IAC3C,CAAC;IAEQ,QAAQ;QACf,KAAK,CAAC,QAAQ,EAAE,CAAC;QACjB,IAAI,CAAC,QAAQ,CAAC,QAAQ,EAAE,CAAC;IAC3B,CAAC;IAEQ,QAAQ;QACf,IAAI,CAAC,QAAQ,CAAC,QAAQ,EAAE,CAAC;QACzB,KAAK,CAAC,QAAQ,EAAE,CAAC;IACnB,CAAC;IAEQ,QAAQ;QACf,KAAK,CAAC,QAAQ,EAAE,CAAC;QACjB,IAAI,CAAC,QAAQ,CAAC,QAAQ,EAAE,CAAC;IAC3B,CAAC;IAEQ,mCAAmC;QAC1C,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,eAAe,CAAC,CAAC;IACzC,CAAC;CACF","sourcesContent":["/*\n * Copyright (C) 2008 Apple Inc. All Rights Reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions\n * are met:\n * 1. Redistributions of source code must retain the above copyright\n *        notice, this list of conditions and the following disclaimer.\n * 2. Redistributions in binary form must reproduce the above copyright\n *        notice, this list of conditions and the following disclaimer in the\n *        documentation and/or other materials provided with the distribution.\n *\n * THIS SOFTWARE IS PROVIDED BY APPLE INC. ``AS IS'' AND ANY\n * EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR\n * PURPOSE ARE DISCLAIMED.         IN NO EVENT SHALL APPLE INC. OR\n * CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,\n * EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,\n * PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR\n * PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY\n * OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n/* eslint-disable @typescript-eslint/no-explicit-any */\n/* eslint-disable @devtools/no-imperative-dom-api */\n\nimport * as Common from '../../../../core/common/common.js';\nimport * as Host from '../../../../core/host/host.js';\nimport * as i18n from '../../../../core/i18n/i18n.js';\nimport * as Platform from '../../../../core/platform/platform.js';\nimport * as VisualLogging from '../../../visual_logging/visual_logging.js';\nimport * as UI from '../../legacy.js';\n\nimport dataGridStyles from './dataGrid.css.js';\nimport type {DataGridInternalToken} from './DataGridElement.js';\n\nconst UIStrings = {\n  /**\n   * @description Accessible text label for expandible nodes in datagrids\n   */\n  expanded: 'expanded',\n  /**\n   * @description accessible name for expandible nodes in datagrids\n   */\n  collapsed: 'collapsed',\n  /**\n   * @description Accessible text for datagrid\n   * @example {Coverage grid} PH1\n   * @example {expanded} PH2\n   */\n  sRowS: '{PH1} Row {PH2}',\n  /**\n   * @description Number of rows in a grid\n   * @example {1} PH1\n   */\n  rowsS: 'Rows: {PH1}',\n  /**\n   * @description Default Accessible Text for a Datagrid. This text is read to the user by a\n   * screenreader when they navigate to a table structure. The placeholders tell the user something\n   * brief about the table contents i.e. the topic and how much data is in it.\n   * @example {Network} PH1\n   * @example {Rows: 27} PH2\n   */\n  sSUseTheUpAndDownArrowKeysTo:\n      '{PH1} {PH2}, use the up and down arrow keys to navigate and interact with the rows of the table; Use browse mode to read cell by cell.',\n  /**\n   * @description A context menu item in the Data Grid of a data grid\n   */\n  sortByString: 'Sort By',\n  /**\n   * @description A context menu item in data grids to reset the columns to their default weight\n   */\n  resetColumns: 'Reset Columns',\n  /**\n   * @description A context menu item in data grids to list header options.\n   */\n  headerOptions: 'Header Options',\n  /**\n   * @description Text to refresh the page\n   */\n  refresh: 'Refresh',\n  /**\n   * @description A context menu item in the Data Grid of a data grid\n   */\n  addNew: 'Add new',\n  /**\n   * @description A context menu item in the Data Grid of a data grid\n   * @example {pattern} PH1\n   */\n  editS: 'Edit \"{PH1}\"',\n  /**\n   * @description Text to delete something\n   */\n  delete: 'Delete',\n  /**\n   * @description Depth of a node in the datagrid\n   * @example {1} PH1\n   */\n  levelS: 'level {PH1}',\n  /**\n   * @description Text exposed to screen readers on checked items.\n   */\n  checked: 'checked',\n  /**\n   * @description Accessible text indicating an empty row is created.\n   */\n  emptyRowCreated: 'An empty table row has been created. You may double click or use context menu to edit.',\n  /**\n   * @description Text for screen reader to announce when focusing on a sortable column in data grid.\n   * @example {ascending} PH1\n   */\n  enterToSort: 'Column sort state: {PH1}. Press enter to apply sorting filter',\n  /**\n   * @description Label for sortable column headers.\n   */\n  sortableColumn: 'Sortable column. Press enter to apply sorting filter',\n} as const;\nconst str_ = i18n.i18n.registerUIStrings('ui/legacy/components/data_grid/DataGrid.ts', UIStrings);\nconst i18nString = i18n.i18n.getLocalizedString.bind(undefined, str_);\n\nconst elementToLongTextMap = new WeakMap<Element, string>();\n\nconst nodeToColumnIdMap = new WeakMap<Node, string>();\n\nconst elementToPreferedWidthMap = new WeakMap<Element, number>();\n\nconst elementToPositionMap = new WeakMap<Element, number>();\n\nconst elementToIndexMap = new WeakMap<Element, number>();\n\nexport class DataGridImpl<T> extends Common.ObjectWrapper.ObjectWrapper<EventTypes<T>> {\n  element: HTMLDivElement;\n  displayName: string;\n  private editCallback:\n      ((node: any, columnId: string, valueBeforeEditing: any, newText: any, moveDirection?: string) => void)|undefined;\n  deleteCallback: ((arg0: any) => void)|undefined;\n  refreshCallback: (() => void)|undefined;\n  private dataTableHeaders: Record<string, Element>;\n  scrollContainerInternal: Element;\n  #dataContainer: Element;\n  private readonly dataTable: HTMLTableElement;\n  protected inline: boolean;\n  private columnsArray: ColumnDescriptor[];\n  columns: Record<string, ColumnDescriptor>;\n  visibleColumnsArray: ColumnDescriptor[];\n  cellClass: string|null;\n  #dataTableHead: HTMLTableSectionElement;\n  private readonly headerRow: Element;\n  private readonly dataTableColumnGroup: Element;\n  dataTableBody: Element;\n  topFillerRow: HTMLElement;\n  private bottomFillerRow: HTMLElement;\n  private editing: boolean;\n  selectedNode: DataGridNode<T>|null;\n  expandNodesWhenArrowing: boolean;\n  indentWidth: number;\n  private resizers: HTMLElement[];\n  private columnWidthsInitialized: boolean;\n  private cornerWidth: number;\n  private resizeMethod: ResizeMethod;\n  private headerContextMenuCallback: ((arg0: UI.ContextMenu.SubMenu) => void)|null;\n  private rowContextMenuCallback: ((arg0: UI.ContextMenu.ContextMenu, arg1: DataGridNode<T>) => void)|null;\n  elementToDataGridNode: WeakMap<Node, DataGridNode<T>>;\n  disclosureColumnId?: string;\n  private sortColumnCell?: Element;\n  #rootNode?: DataGridNode<T>;\n  private editingNode?: DataGridNode<T>|null;\n  private columnWeightsSetting?: Common.Settings.Setting<any>;\n  creationNode?: DataGridNode<any>;\n  private currentResizer?: EventTarget|null;\n  private dataGridWidget?: any;\n\n  constructor(dataGridParameters: Parameters) {\n    super();\n    const {displayName, columns: columnsArray, deleteCallback, refreshCallback} = dataGridParameters;\n    this.element = document.createElement('div');\n    this.element.classList.add('data-grid');\n    this.element.tabIndex = 0;\n    this.element.addEventListener('keydown', this.keyDown.bind(this), false);\n    this.element.addEventListener('contextmenu', this.contextMenu.bind(this), true);\n    this.element.addEventListener('focusin', event => {\n      this.updateGridAccessibleNameOnFocus();\n      event.consume(true);\n    });\n    this.element.addEventListener('focusout', event => {\n      event.consume(true);\n    });\n\n    UI.ARIAUtils.markAsApplication(this.element);\n    this.displayName = displayName;\n\n    this.deleteCallback = deleteCallback;\n    this.refreshCallback = refreshCallback;\n\n    this.dataTableHeaders = {};\n\n    this.#dataContainer = this.element.createChild('div', 'data-container');\n    this.dataTable = this.#dataContainer.createChild('table', 'data');\n    this.scrollContainerInternal = this.#dataContainer;\n\n    // FIXME: Add a createCallback which is different from editCallback and has different\n    // behavior when creating a new node.\n    this.dataTable.addEventListener('dblclick', this.ondblclick.bind(this), false);\n    this.dataTable.addEventListener('mousedown', this.mouseDownInDataTable.bind(this));\n    this.dataTable.addEventListener('click', this.clickInDataTable.bind(this), true);\n\n    this.inline = false;\n\n    this.columnsArray = [];\n    this.columns = {};\n    this.visibleColumnsArray = columnsArray;\n\n    columnsArray.forEach(column => this.#addColumn(column));\n\n    this.cellClass = null;\n\n    this.dataTableColumnGroup = this.dataTable.createChild('colgroup');\n\n    this.#dataTableHead = this.dataTable.createChild('thead');\n    this.headerRow = this.#dataTableHead.createChild('tr');\n\n    this.dataTableBody = this.dataTable.createChild('tbody');\n    this.topFillerRow = this.dataTableBody.createChild('tr', 'data-grid-filler-row revealed');\n    UI.ARIAUtils.setHidden(this.topFillerRow, true);\n    this.bottomFillerRow = this.dataTableBody.createChild('tr', 'data-grid-filler-row revealed');\n    UI.ARIAUtils.setHidden(this.bottomFillerRow, true);\n\n    this.setVerticalPadding(0, 0, true);\n    this.refreshHeader();\n\n    this.editing = false;\n    this.selectedNode = null;\n    /** Currently by default this is true to expand nodes when arrowing with keyboard. */\n    this.expandNodesWhenArrowing = true;\n    this.setRootNode(new DataGridNode<T>());\n\n    this.setHasSelection(false);\n\n    this.indentWidth = 15;\n    this.resizers = [];\n    this.columnWidthsInitialized = false;\n    this.cornerWidth = CornerWidth;\n    this.resizeMethod = ResizeMethod.NEAREST;\n\n    this.headerContextMenuCallback = null;\n    this.rowContextMenuCallback = null;\n\n    this.elementToDataGridNode = new WeakMap();\n  }\n\n  setEditCallback(\n      editCallback:\n          ((node: any, columnId: string, valueBeforeEditing: any, newText: any, moveDirection?: string) => void)|\n      undefined,\n      _internalToken: DataGridInternalToken): void {\n    this.editCallback = editCallback;\n  }\n\n  private firstSelectableNode(): DataGridNode<T>|null|undefined {\n    let firstSelectableNode: (DataGridNode<T>|undefined) = this.#rootNode;\n    while (firstSelectableNode && !firstSelectableNode.selectable) {\n      firstSelectableNode = firstSelectableNode.traverseNextNode(true) || undefined;\n    }\n    return firstSelectableNode;\n  }\n\n  private lastSelectableNode(): DataGridNode<T>|undefined {\n    let lastSelectableNode: DataGridNode<T>|(DataGridNode<T>| undefined) = this.#rootNode;\n    let iterator: (DataGridNode<T>|undefined) = this.#rootNode;\n    while (iterator) {\n      if (iterator.selectable) {\n        lastSelectableNode = iterator;\n      }\n      iterator = iterator.traverseNextNode(true) || undefined;\n    }\n    return lastSelectableNode;\n  }\n\n  setElementContent(element: Element, value: string): void {\n    const columnId = this.columnIdFromNode(element);\n    if (!columnId) {\n      return;\n    }\n    const column = this.columns[columnId];\n    const parentElement = element.parentElement;\n    let gridNode;\n    if (parentElement) {\n      gridNode = this.elementToDataGridNode.get(parentElement);\n    }\n    if (column.dataType === DataType.BOOLEAN) {\n      DataGridImpl.setElementBoolean(element, Boolean(value), gridNode);\n    } else if (value !== null) {\n      DataGridImpl.setElementText(element, value, Boolean(column.longText), gridNode);\n    }\n  }\n\n  static setElementText(element: Element, newText: string, longText: boolean, gridNode?: DataGridNode<string>): void {\n    if (longText && newText.length > 1000) {\n      element.textContent = Platform.StringUtilities.trimEndWithMaxLength(newText, 1000);\n      UI.Tooltip.Tooltip.install(element as HTMLElement, newText);\n      elementToLongTextMap.set(element, newText);\n    } else {\n      element.textContent = newText;\n      UI.Tooltip.Tooltip.install(element as HTMLElement, '');\n      elementToLongTextMap.delete(element);\n    }\n    if (gridNode) {\n      DataGridImpl.updateNodeAccessibleText(gridNode);\n    }\n  }\n\n  static setElementBoolean(element: Element, value: boolean, gridNode?: DataGridNode<string>): void {\n    element.textContent = value ? '\\u2713' : '';\n    UI.Tooltip.Tooltip.install(element as HTMLElement, '');\n    if (gridNode) {\n      DataGridImpl.updateNodeAccessibleText(gridNode);\n    }\n  }\n\n  static updateNodeAccessibleText(gridNode: DataGridNode<string>): void {\n    let accessibleText = '';\n    let colElement: Element|null = gridNode.elementInternal?.children[0] || null;\n    if (!colElement) {\n      return;\n    }\n\n    while (colElement && !colElement.classList.contains('corner')) {\n      let columnClass = null;\n      for (const cssClass of colElement.classList) {\n        if (cssClass.includes('-column')) {\n          columnClass = cssClass.substring(0, cssClass.indexOf('-column'));\n          break;\n        }\n      }\n      if (columnClass && gridNode.dataGrid) {\n        const colName = gridNode.dataGrid.columns[columnClass];\n        if (colName) {\n          accessibleText += `${colName.title}: ${colElement.textContent}, `;\n        }\n      }\n      colElement = colElement.nextElementSibling;\n    }\n\n    if (accessibleText.length > 0) {\n      // Trim off comma and space at the end.\n      accessibleText = accessibleText.substring(0, accessibleText.length - 2);\n    }\n    gridNode.nodeAccessibleText = accessibleText;\n  }\n\n  setStriped(isStriped: boolean): void {\n    this.element.classList.toggle('striped-data-grid', isStriped);\n  }\n\n  setFocusable(focusable: boolean): void {\n    this.element.tabIndex = focusable ? 0 : -1;\n    if (focusable === false) {\n      UI.ARIAUtils.removeRole(this.element);\n    }\n  }\n\n  setHasSelection(hasSelected: boolean): void {\n    // 'no-selection' class causes datagrid to have a focus-indicator border\n    this.element.classList.toggle('no-selection', !hasSelected);\n  }\n\n  announceSelectedGridNode(): void {\n    // Only alert if the datagrid has focus\n    if (this.element === Platform.DOMUtilities.deepActiveElement(this.element.ownerDocument) &&\n        this.selectedNode?.existingElement()) {\n      // Update the expand/collapse state for the current selected node\n      let expandText;\n      if (this.selectedNode.hasChildren()) {\n        expandText = this.selectedNode.expanded ? i18nString(UIStrings.expanded) : i18nString(UIStrings.collapsed);\n      }\n      const accessibleText =\n          expandText ? `${this.selectedNode.nodeAccessibleText}, ${expandText}` : this.selectedNode.nodeAccessibleText;\n      UI.ARIAUtils.LiveAnnouncer.alert(accessibleText);\n    }\n  }\n\n  protected getNumberOfRows(): number {\n    return this.#rootNode ? this.enumerateChildren(this.#rootNode, [], 1).length : 0;\n  }\n\n  updateGridAccessibleNameOnFocus(): void {\n    // When a grid gets focus\n    // 1) If an item is selected - Read the content of the row\n    let accessibleText;\n    if (this.selectedNode?.existingElement()) {\n      // TODO(l10n): Don't concatenate strings.\n      let expandText = '';\n      if (this.selectedNode.hasChildren()) {\n        expandText = this.selectedNode.expanded ? i18nString(UIStrings.expanded) : i18nString(UIStrings.collapsed);\n      }\n      const rowHeader = i18nString(UIStrings.sRowS, {PH1: this.displayName, PH2: expandText});\n      accessibleText = `${rowHeader} ${this.selectedNode.nodeAccessibleText}`;\n    } else {\n      // 2) If there is no selected item - Read the name of the grid and give instructions\n      if (!this.#rootNode) {\n        return;\n      }\n      const numberOfRows = this.getNumberOfRows();\n      const items = i18nString(UIStrings.rowsS, {PH1: numberOfRows});\n      accessibleText = i18nString(UIStrings.sSUseTheUpAndDownArrowKeysTo, {PH1: this.displayName, PH2: items});\n    }\n    UI.ARIAUtils.LiveAnnouncer.alert(accessibleText);\n  }\n\n  #addColumn(column: ColumnDescriptor, position?: number): void {\n    column.defaultWeight = column.weight;\n\n    const columnId = column.id;\n    if (columnId in this.columns) {\n      this.#removeColumn(columnId);\n    }\n\n    if (position === undefined) {\n      position = this.columnsArray.length;\n    }\n\n    this.columnsArray.splice(position, 0, column);\n    this.columns[columnId] = column;\n    if (column.disclosure) {\n      this.disclosureColumnId = columnId;\n    }\n\n    const cell = document.createElement('th');\n    cell.setAttribute(\n        'jslog',\n        `${\n            VisualLogging.tableHeader()\n                .track({click: column.sortable, resize: true})\n                .context(Platform.StringUtilities.toKebabCase(columnId))}`);\n    cell.className = columnId + '-column';\n    cell.setAttribute('tabindex', '0');\n    cell.setAttribute('role', 'columnheader');\n    nodeToColumnIdMap.set(cell, columnId);\n    this.dataTableHeaders[columnId] = cell;\n\n    const div = document.createElement('div');\n    if (column.titleDOMFragment) {\n      div.appendChild(column.titleDOMFragment);\n    } else {\n      div.textContent = column.title || null;\n    }\n    cell.appendChild(div);\n\n    if (column.sort) {\n      cell.classList.add(column.sort);\n      this.sortColumnCell = cell;\n    }\n\n    if (column.sortable) {\n      cell.addEventListener('click', this.clickInHeaderCell.bind(this), false);\n      /**\n       * For a11y reasons to allow for keyboard navigation through the table headers\n       * we additionally have a keydown event listener.\n       */\n      cell.addEventListener('keydown', this.keydownHeaderCell.bind(this), false);\n      cell.classList.add('sortable');\n      const icon = document.createElement('span');\n      icon.className = 'sort-order-icon';\n      cell.createChild('div', 'sort-order-icon-container').appendChild(icon);\n\n      if (column.title) {\n        UI.ARIAUtils.setLabel(cell, i18nString(UIStrings.sortableColumn));\n      }\n    }\n  }\n\n  addColumn(column: ColumnDescriptor, position?: number): void {\n    this.#addColumn(column, position);\n  }\n\n  #removeColumn(columnId: string): void {\n    const column = this.columns[columnId];\n    if (!column) {\n      return;\n    }\n    delete this.columns[columnId];\n    const index = this.columnsArray.findIndex(columnConfig => columnConfig.id === columnId);\n    this.columnsArray.splice(index, 1);\n    const cell = this.dataTableHeaders[columnId];\n    if (cell.parentElement) {\n      cell.parentElement.removeChild(cell);\n    }\n    delete this.dataTableHeaders[columnId];\n  }\n\n  removeColumn(columnId: string): void {\n    this.#removeColumn(columnId);\n  }\n\n  setCellClass(cellClass: string): void {\n    this.cellClass = cellClass;\n  }\n\n  private refreshHeader(): void {\n    this.dataTableColumnGroup.removeChildren();\n    this.headerRow.removeChildren();\n    this.topFillerRow.removeChildren();\n    this.bottomFillerRow.removeChildren();\n\n    for (let i = 0; i < this.visibleColumnsArray.length; ++i) {\n      const column = this.visibleColumnsArray[i];\n      const columnId = column.id;\n      const dataColumn = this.dataTableColumnGroup.createChild('col');\n      if (column.width) {\n        dataColumn.style.width = column.width;\n      }\n      this.headerRow.appendChild(this.dataTableHeaders[columnId]);\n      const topFillerRowCell = this.topFillerRow.createChild('th', 'top-filler-td');\n      topFillerRowCell.textContent = column.title || null;\n      topFillerRowCell.scope = 'col';\n      const bottomFillerRowChild = this.bottomFillerRow.createChild('td', 'bottom-filler-td');\n      nodeToColumnIdMap.set(bottomFillerRowChild, columnId);\n    }\n\n    const headerCorner = this.headerRow.createChild('th', 'corner');\n    UI.ARIAUtils.setHidden(headerCorner, true);\n\n    const topFillerRowCornerCell = this.topFillerRow.createChild('th', 'corner');\n    topFillerRowCornerCell.classList.add('top-filler-td');\n    topFillerRowCornerCell.scope = 'col';\n\n    this.bottomFillerRow.createChild('td', 'corner').classList.add('bottom-filler-td');\n\n    this.dataTableColumnGroup.createChild('col', 'corner');\n  }\n\n  protected setVerticalPadding(top: number, bottom: number, isConstructorTime = false): void {\n    const topPx = top + 'px';\n    const bottomPx = (top || bottom) ? bottom + 'px' : 'auto';\n    if (this.topFillerRow.style.height === topPx && this.bottomFillerRow.style.height === bottomPx) {\n      return;\n    }\n    this.topFillerRow.style.height = topPx;\n    this.bottomFillerRow.style.height = bottomPx;\n    if (!isConstructorTime) {\n      this.dispatchEventToListeners(Events.PADDING_CHANGED);\n    }\n  }\n\n  protected setRootNode(rootNode: DataGridNode<T>): void {\n    if (this.#rootNode) {\n      this.#rootNode.removeChildren();\n      this.#rootNode.dataGrid = null;\n      this.#rootNode.isRoot = false;\n    }\n    this.#rootNode = rootNode;\n    rootNode.isRoot = true;\n    rootNode.setHasChildren(false);\n    rootNode.expandedInternal = true;\n    rootNode.revealedInternal = true;\n    rootNode.selectable = false;\n    rootNode.dataGrid = this;\n  }\n\n  rootNode(): DataGridNode<T> {\n    let rootNode: DataGridNode<T>|(DataGridNode<T>| undefined) = this.#rootNode;\n    if (!rootNode) {\n      rootNode = new DataGridNode();\n      this.setRootNode(rootNode);\n    }\n    return rootNode;\n  }\n\n  isColumnEditable(columnId: string): boolean {\n    const column = this.columns[columnId];\n    return Boolean(column && column.editable && this.editCallback);\n  }\n\n  private ondblclick(event: Event): void {\n    if (!this.editCallback || this.editing || this.editingNode) {\n      return;\n    }\n\n    const columnId = this.columnIdFromNode((event.target as Node));\n    if (!columnId || !this.isColumnEditable(columnId)) {\n      return;\n    }\n    this.startEditing((event.target as Node));\n  }\n\n  private startEditingColumnOfDataGridNode(node: DataGridNode<T>, cellIndex: number): void {\n    this.editing = true;\n    this.editingNode = node;\n    this.editingNode.select();\n\n    const editingNodeElement = this.editingNode.element();\n    if (!editingNodeElement) {\n      return;\n    }\n    const element = editingNodeElement.children[cellIndex];\n    const elementLongText = elementToLongTextMap.get(element);\n    if (elementLongText) {\n      element.textContent = elementLongText;\n    }\n    const column = this.visibleColumnsArray[cellIndex];\n    if (column.dataType === DataType.BOOLEAN) {\n      const checkboxElement = UI.UIUtils.CheckboxLabel.create(undefined, (node.data[column.id] as boolean));\n      UI.ARIAUtils.setLabel(checkboxElement, column.title || '');\n\n      let hasChanged = false;\n      checkboxElement.style.height = '100%';\n      checkboxElement.classList.add('inside-datagrid');\n      const initialValue = checkboxElement.checked;\n\n      checkboxElement.addEventListener('change', () => {\n        hasChanged = true;\n        this.editingCommitted(element, checkboxElement.checked, initialValue, undefined, 'forward');\n      }, false);\n\n      checkboxElement.addEventListener('keydown', event => {\n        if (event.key === 'Tab') {\n          event.consume(true);\n          hasChanged = true;\n          return this.editingCommitted(\n              element, checkboxElement.checked, initialValue, undefined, event.shiftKey ? 'backward' : 'forward');\n        }\n        if (event.key === ' ') {\n          event.consume(true);\n          checkboxElement.checked = !checkboxElement.checked;\n        } else if (event.key === 'Enter') {\n          event.consume(true);\n          hasChanged = true;\n          this.editingCommitted(element, checkboxElement.checked, initialValue, undefined, 'forward');\n        }\n      }, false);\n\n      checkboxElement.addEventListener('blur', () => {\n        if (hasChanged) {\n          return;\n        }\n        this.editingCommitted(element, checkboxElement.checked, checkboxElement.checked, undefined, 'next');\n      }, false);\n\n      element.innerHTML = '';\n      element.appendChild(checkboxElement);\n      checkboxElement.focus();\n    } else {\n      UI.InplaceEditor.InplaceEditor.startEditing(element, this.startEditingConfig(element));\n      const componentSelection = element.getComponentSelection();\n      if (componentSelection) {\n        componentSelection.selectAllChildren(element);\n      }\n    }\n  }\n\n  startEditingNextEditableColumnOfDataGridNode(node: DataGridNode<T>, columnIdentifier: string, inclusive?: boolean):\n      void {\n    const column = this.columns[columnIdentifier];\n    const cellIndex = this.visibleColumnsArray.indexOf(column);\n    const nextEditableColumn = this.nextEditableColumn(cellIndex, false, inclusive);\n    if (nextEditableColumn !== -1) {\n      this.startEditingColumnOfDataGridNode(node, nextEditableColumn);\n    }\n  }\n\n  private startEditing(target: Node): void {\n    const element = (UI.UIUtils.enclosingNodeOrSelfWithNodeName(target, 'td') as Element | null);\n    if (!element) {\n      return;\n    }\n\n    this.editingNode = this.dataGridNodeFromNode(target);\n    if (!this.editingNode) {\n      if (!this.creationNode) {\n        return;\n      }\n      this.editingNode = this.creationNode;\n    }\n\n    // Force editing the 1st column when editing the creation node\n    if (this.editingNode instanceof CreationDataGridNode && this.editingNode.isCreationNode) {\n      this.startEditingColumnOfDataGridNode(this.editingNode, this.nextEditableColumn(-1));\n      return;\n    }\n\n    const columnId = this.columnIdFromNode(target);\n    if (!columnId) {\n      return;\n    }\n    const column = this.columns[columnId];\n    const cellIndex = this.visibleColumnsArray.indexOf(column);\n    if (this.editingNode) {\n      this.startEditingColumnOfDataGridNode(this.editingNode, cellIndex);\n    }\n  }\n\n  renderInline(): void {\n    this.element.classList.add('inline');\n    this.cornerWidth = 0;\n    this.inline = true;\n    this.updateWidths();\n  }\n\n  private startEditingConfig(_element: Element): UI.InplaceEditor.Config<any> {\n    return new UI.InplaceEditor.Config(this.editingCommitted.bind(this), this.editingCancelled.bind(this), undefined);\n  }\n\n  private editingCommitted(\n      element: Element,\n      newText: any,\n      _oldText: string|boolean|null,\n      _context: string|undefined,\n      moveDirection: string,\n      ): void {\n    const columnId = this.columnIdFromNode(element);\n    if (!columnId) {\n      this.editingCancelled(element);\n      return;\n    }\n    const column = this.columns[columnId];\n    const cellIndex = this.visibleColumnsArray.indexOf(column);\n    if (!this.editingNode) {\n      return;\n    }\n    const valueBeforeEditing = this.editingNode.data[columnId];\n    const currentEditingNode = this.editingNode;\n\n    function moveToNextIfNeeded(this: DataGridImpl<T>, wasChange: boolean): void {\n      if (!moveDirection) {\n        return;\n      }\n\n      if (moveDirection === 'forward') {\n        const firstEditableColumn = this.nextEditableColumn(-1);\n        const isCreationNode = currentEditingNode instanceof CreationDataGridNode && currentEditingNode.isCreationNode;\n        if (isCreationNode && cellIndex === firstEditableColumn && !wasChange) {\n          return;\n        }\n\n        const nextEditableColumn = this.nextEditableColumn(cellIndex);\n        if (nextEditableColumn !== -1) {\n          this.startEditingColumnOfDataGridNode(currentEditingNode, nextEditableColumn);\n          return;\n        }\n\n        const nextDataGridNode = currentEditingNode.traverseNextNode(true, null, true);\n        if (nextDataGridNode) {\n          this.startEditingColumnOfDataGridNode(nextDataGridNode, firstEditableColumn);\n          return;\n        }\n        if (isCreationNode && wasChange && this.creationNode) {\n          this.addCreationNode(false);\n          this.startEditingColumnOfDataGridNode(this.creationNode, firstEditableColumn);\n          return;\n        }\n        return;\n      }\n\n      if (moveDirection === 'backward') {\n        const prevEditableColumn = this.nextEditableColumn(cellIndex, true);\n        if (prevEditableColumn !== -1) {\n          this.startEditingColumnOfDataGridNode(currentEditingNode, prevEditableColumn);\n          return;\n        }\n\n        const lastEditableColumn = this.nextEditableColumn(this.visibleColumnsArray.length, true);\n        const nextDataGridNode = currentEditingNode.traversePreviousNode(true, true);\n        if (nextDataGridNode) {\n          this.startEditingColumnOfDataGridNode(nextDataGridNode, lastEditableColumn);\n        }\n        return;\n      }\n    }\n\n    // Show trimmed text after editing.\n    this.setElementContent(element, newText);\n\n    if (valueBeforeEditing === newText) {\n      this.editingCancelled(element);\n      moveToNextIfNeeded.call(this, false);\n      return;\n    }\n\n    // Update the text in the datagrid that we typed\n    this.editingNode.data[columnId] = newText;\n    if (!this.editCallback) {\n      return;\n    }\n    // Make the callback - expects an editing node (table row), the column number that is being edited,\n    // the text that used to be there, and the new text.\n    this.editCallback(this.editingNode, columnId, valueBeforeEditing, newText, moveDirection);\n\n    if (this.editingNode instanceof CreationDataGridNode && this.editingNode.isCreationNode) {\n      this.addCreationNode(false);\n    }\n\n    this.editingCancelled(element);\n    moveToNextIfNeeded.call(this, true);\n  }\n\n  private editingCancelled(_element: Element): void {\n    this.editing = false;\n    this.editingNode = null;\n  }\n\n  private nextEditableColumn(cellIndex: number, moveBackward?: boolean, inclusive?: boolean): number {\n    const increment = moveBackward ? -1 : 1;\n    const start = inclusive ? cellIndex : cellIndex + increment;\n    const columns = this.visibleColumnsArray;\n    for (let i = start; (i >= 0) && (i < columns.length); i += increment) {\n      if (this.isColumnEditable(columns[i].id)) {\n        return i;\n      }\n    }\n    return -1;\n  }\n\n  sortColumnId(): string|null {\n    if (!this.sortColumnCell) {\n      return null;\n    }\n    return nodeToColumnIdMap.get(this.sortColumnCell) || null;\n  }\n\n  sortOrder(): string|null {\n    if (!this.sortColumnCell || this.sortColumnCell.classList.contains(Order.Ascending)) {\n      return Order.Ascending;\n    }\n    if (this.sortColumnCell.classList.contains(Order.Descending)) {\n      return Order.Descending;\n    }\n    return null;\n  }\n\n  isSortOrderAscending(): boolean {\n    return !this.sortColumnCell || this.sortColumnCell.classList.contains(Order.Ascending);\n  }\n\n  private autoSizeWidths(widths: number[], minPercent: number, maxPercent?: number): number[] {\n    if (minPercent) {\n      minPercent = Math.min(minPercent, Math.floor(100 / widths.length));\n    }\n    let totalWidth = 0;\n    for (let i = 0; i < widths.length; ++i) {\n      totalWidth += widths[i];\n    }\n    let totalPercentWidth = 0;\n    for (let i = 0; i < widths.length; ++i) {\n      let width = Math.round(100 * widths[i] / totalWidth);\n      if (minPercent && width < minPercent) {\n        width = minPercent;\n      } else if (maxPercent && width > maxPercent) {\n        width = maxPercent;\n      }\n      totalPercentWidth += width;\n      widths[i] = width;\n    }\n    let recoupPercent = totalPercentWidth - 100;\n\n    while (minPercent && recoupPercent > 0) {\n      for (let i = 0; i < widths.length; ++i) {\n        if (widths[i] > minPercent) {\n          --widths[i];\n          --recoupPercent;\n          if (!recoupPercent) {\n            break;\n          }\n        }\n      }\n    }\n\n    while (maxPercent && recoupPercent < 0) {\n      for (let i = 0; i < widths.length; ++i) {\n        if (widths[i] < maxPercent) {\n          ++widths[i];\n          ++recoupPercent;\n          if (!recoupPercent) {\n            break;\n          }\n        }\n      }\n    }\n\n    return widths;\n  }\n\n  /**\n   * The range of |minPercent| and |maxPercent| is [0, 100].\n   *\n   * FYI: Only used in test: chromium/src/third_party/blink/web_tests/http/tests/devtools/components/datagrid.js\n   */\n  autoSizeColumns(minPercent: number, maxPercent?: number, maxDescentLevel?: number): void {\n    let widths: number[] = [];\n    for (let i = 0; i < this.columnsArray.length; ++i) {\n      widths.push((this.columnsArray[i].title || '').length);\n    }\n\n    maxDescentLevel = maxDescentLevel || 0;\n    if (!this.#rootNode) {\n      return;\n    }\n    const children = this.enumerateChildren(this.#rootNode, [], maxDescentLevel + 1);\n    for (let i = 0; i < children.length; ++i) {\n      const node = children[i];\n      for (let j = 0; j < this.columnsArray.length; ++j) {\n        const text = String(node.data[this.columnsArray[j].id]);\n        if (text.length > widths[j]) {\n          widths[j] = text.length;\n        }\n      }\n    }\n\n    widths = this.autoSizeWidths(widths, minPercent, maxPercent);\n\n    for (let i = 0; i < this.columnsArray.length; ++i) {\n      this.columnsArray[i].weight = widths[i];\n    }\n    this.columnWidthsInitialized = false;\n    this.updateWidths();\n  }\n\n  private enumerateChildren(rootNode: DataGridNode<T>, result: Array<DataGridNode<T>>, maxLevel: number):\n      Array<DataGridNode<T>> {\n    if (!rootNode.isRoot) {\n      result.push(rootNode);\n    }\n    if (!maxLevel) {\n      return [];\n    }\n    for (let i = 0; i < rootNode.children.length; ++i) {\n      this.enumerateChildren(rootNode.children[i], result, maxLevel - 1);\n    }\n    return result;\n  }\n\n  onResize(): void {\n    this.updateWidths();\n  }\n\n  // Updates the widths of the table, including the positions of the column\n  // resizers.\n  //\n  // IMPORTANT: This function MUST be called once after the element of the\n  // DataGrid is attached to its parent element and every subsequent time the\n  // width of the parent element is changed in order to make it possible to\n  // resize the columns.\n  //\n  // If this function is not called after the DataGrid is attached to its\n  // parent element, then the DataGrid's columns will not be resizable.\n  updateWidths(): void {\n    // Do not attempt to use offsetes if we're not attached to the document tree yet.\n    if (!this.columnWidthsInitialized && this.element.offsetWidth) {\n      // Give all the columns initial widths now so that during a resize,\n      // when the two columns that get resized get a percent value for\n      // their widths, all the other columns already have percent values\n      // for their widths.\n\n      // Use container size to avoid changes of table width caused by change of column widths.\n      const tableWidth = this.element.offsetWidth - this.cornerWidth;\n      const cells = this.#dataTableHead.rows[0].cells;\n      const numColumns = cells.length - 1;  // Do not process corner column.\n      for (let i = 0; i < numColumns; i++) {\n        const column = this.visibleColumnsArray[i];\n        if (!column.weight) {\n          column.weight = 100 * this.getPreferredWidth(i) / tableWidth || 10;\n        }\n      }\n      this.columnWidthsInitialized = true;\n    }\n    this.applyColumnWeights();\n  }\n\n  indexOfVisibleColumn(columnId: string): number {\n    return this.visibleColumnsArray.findIndex(column => column.id === columnId);\n  }\n\n  setName(name: string): void {\n    this.columnWeightsSetting =\n        Common.Settings.Settings.instance().createSetting('data-grid-' + name + '-column-weights', {});\n    this.loadColumnWeights();\n  }\n\n  private resetColumnWeights(): void {\n    for (const column of this.columnsArray) {\n      if (!column.defaultWeight) {\n        continue;\n      }\n      column.weight = column.defaultWeight;\n    }\n    this.applyColumnWeights();\n    this.saveColumnWeights();\n  }\n\n  private loadColumnWeights(): void {\n    if (!this.columnWeightsSetting) {\n      return;\n    }\n    const weights = this.columnWeightsSetting.get();\n    for (let i = 0; i < this.columnsArray.length; ++i) {\n      const column = this.columnsArray[i];\n      const weight = weights[column.id];\n      if (weight) {\n        column.weight = weight;\n      }\n    }\n    this.applyColumnWeights();\n  }\n\n  private saveColumnWeights(): void {\n    if (!this.columnWeightsSetting) {\n      return;\n    }\n    const weights: Record<string, any> = {};\n    for (let i = 0; i < this.columnsArray.length; ++i) {\n      const column = this.columnsArray[i];\n      weights[column.id] = column.weight;\n    }\n    this.columnWeightsSetting.set(weights);\n  }\n\n  wasShown(): void {\n    this.loadColumnWeights();\n  }\n\n  willHide(): void {\n  }\n\n  private getPreferredWidth(columnIndex: number): number {\n    return elementToPreferedWidthMap.get(this.dataTableColumnGroup.children[columnIndex]) ||\n        this.#dataTableHead.rows[0].cells[columnIndex].offsetWidth;\n  }\n\n  private applyColumnWeights(): void {\n    // Subtract 1 to prevent unnecessary overflow in x-axis\n    let tableWidth = this.element.offsetWidth - this.cornerWidth - 1;\n    if (tableWidth <= 0) {\n      return;\n    }\n\n    let sumOfWeights = 0.0;\n    const fixedColumnWidths = [];\n    for (let i = 0; i < this.visibleColumnsArray.length; ++i) {\n      const column = this.visibleColumnsArray[i];\n      if (column.fixedWidth) {\n        const width = this.getPreferredWidth(i);\n        fixedColumnWidths[i] = width;\n        tableWidth -= width;\n      } else {\n        sumOfWeights += (this.visibleColumnsArray[i].weight || 0);\n      }\n    }\n    let sum = 0;\n    let lastOffset = 0;\n    const minColumnWidth = ColumnResizePadding;  // px\n\n    for (let i = 0; i < this.visibleColumnsArray.length; ++i) {\n      const column = this.visibleColumnsArray[i];\n      let width;\n      if (column.fixedWidth) {\n        width = fixedColumnWidths[i];\n      } else {\n        sum += (column.weight || 0);\n        const offset = (sum * tableWidth / sumOfWeights) | 0;\n        width = Math.max(offset - lastOffset, minColumnWidth);\n        lastOffset = offset;\n      }\n      this.setPreferredWidth(i, width);\n    }\n\n    this.positionResizers();\n  }\n\n  setColumnsVisibility(columnsVisibility: Set<string>): void {\n    this.visibleColumnsArray = [];\n    for (const column of this.columnsArray) {\n      if (columnsVisibility.has(column.id)) {\n        this.visibleColumnsArray.push(column);\n      }\n    }\n    this.refreshHeader();\n    this.applyColumnWeights();\n    const nodes = this.enumerateChildren(this.rootNode(), [], -1);\n    for (const node of nodes) {\n      node.refresh();\n    }\n  }\n\n  get scrollContainer(): HTMLElement {\n    return this.scrollContainerInternal as HTMLElement;\n  }\n\n  private positionResizers(): void {\n    const headerTableColumns = this.dataTableColumnGroup.children;\n    const numColumns = headerTableColumns.length - 1;  // Do not process corner column.\n    const left: number[] = [];\n    const resizers = this.resizers;\n\n    while (resizers.length > numColumns - 1) {\n      const resizer = resizers.pop();\n      if (resizer) {\n        resizer.remove();\n      }\n    }\n\n    for (let i = 0; i < numColumns - 1; i++) {\n      // Get the width of the cell in the first (and only) row of the\n      // header table in order to determine the width of the column, since\n      // it is not possible to query a column for its width.\n      left[i] = (left[i - 1] || 0) + this.#dataTableHead.rows[0].cells[i].offsetWidth;\n    }\n\n    // Make n - 1 resizers for n columns.\n    for (let i = 0; i < numColumns - 1; i++) {\n      let resizer: HTMLDivElement|HTMLElement = resizers[i];\n      if (!resizer) {\n        // This is the first call to updateWidth, so the resizers need\n        // to be created.\n        resizer = document.createElement('div');\n        elementToIndexMap.set(resizer, i);\n        resizer.classList.add('data-grid-resizer');\n        // This resizer is associated with the column to its right.\n        UI.UIUtils.installDragHandle(\n            resizer, this.startResizerDragging.bind(this), this.resizerDragging.bind(this),\n            this.endResizerDragging.bind(this), 'col-resize');\n        this.element.appendChild(resizer);\n        resizers.push((resizer as HTMLElement));\n      }\n      if (elementToPositionMap.get(resizer) !== left[i]) {\n        elementToPositionMap.set(resizer, left[i]);\n        resizer.style.left = left[i] + 'px';\n      }\n    }\n  }\n\n  addCreationNode(hasChildren?: boolean): void {\n    if (this.creationNode) {\n      this.creationNode.isCreationNode = false;\n    }\n    const emptyData: Record<string, any> = {};\n    for (const column in this.columns) {\n      emptyData[column] = null;\n    }\n    this.creationNode = new CreationDataGridNode(emptyData, hasChildren);\n    UI.ARIAUtils.LiveAnnouncer.alert(i18nString(UIStrings.emptyRowCreated));\n    this.rootNode().appendChild(this.creationNode);\n  }\n\n  private keyDown(event: Event): void {\n    if (!(event instanceof KeyboardEvent)) {\n      return;\n    }\n    if (this.selectedNode) {\n      if ((this.selectedNode.element() as HTMLElement).tabIndex < 0) {\n        void VisualLogging.logKeyDown(this.selectedNode.element(), event);\n      }\n    }\n\n    if (event.shiftKey || event.metaKey || event.ctrlKey || this.editing || UI.UIUtils.isEditing()) {\n      return;\n    }\n\n    let handled = false;\n    let nextSelectedNode;\n    if (!this.selectedNode) {\n      // Select the first or last node based on the arrow key direction\n      if (event.key === 'ArrowUp' && !event.altKey) {\n        nextSelectedNode = this.lastSelectableNode();\n      } else if (event.key === 'ArrowDown' && !event.altKey) {\n        nextSelectedNode = this.firstSelectableNode();\n      }\n      handled = nextSelectedNode ? true : false;\n    } else if (event.key === 'ArrowUp' && !event.altKey) {\n      nextSelectedNode = this.selectedNode.traversePreviousNode(true);\n      while (nextSelectedNode && !nextSelectedNode.selectable) {\n        nextSelectedNode = nextSelectedNode.traversePreviousNode(true);\n      }\n      handled = nextSelectedNode ? true : false;\n    } else if (event.key === 'ArrowDown' && !event.altKey) {\n      nextSelectedNode = this.selectedNode.traverseNextNode(true);\n      while (nextSelectedNode && !nextSelectedNode.selectable) {\n        nextSelectedNode = nextSelectedNode.traverseNextNode(true);\n      }\n      handled = nextSelectedNode ? true : false;\n    } else if (event.key === 'ArrowLeft') {\n      if (this.selectedNode.expanded) {\n        if (event.altKey) {\n          this.selectedNode.collapseRecursively();\n        } else {\n          this.selectedNode.collapse();\n        }\n        handled = true;\n      } else if (this.selectedNode.parent && !this.selectedNode.parent.isRoot) {\n        handled = true;\n        if (this.selectedNode.parent.selectable) {\n          nextSelectedNode = this.selectedNode.parent;\n          handled = nextSelectedNode ? true : false;\n        } else if (this.selectedNode.parent) {\n          this.selectedNode.parent.collapse();\n        }\n      }\n    } else if (event.key === 'ArrowRight') {\n      /** We do not want to expand if this setting is disabled. */\n      if (!this.expandNodesWhenArrowing) {\n        return;\n      }\n      if (!this.selectedNode.revealed) {\n        this.selectedNode.reveal();\n        handled = true;\n      } else if (this.selectedNode.hasChildren()) {\n        handled = true;\n        if (this.selectedNode.expanded) {\n          nextSelectedNode = this.selectedNode.children[0];\n          handled = nextSelectedNode ? true : false;\n        } else if (event.altKey) {\n          this.selectedNode.expandRecursively();\n        } else {\n          this.selectedNode.expand();\n        }\n      }\n    } else if (event.keyCode === 8 || event.keyCode === 46) {\n      if (this.deleteCallback) {\n        handled = true;\n        this.deleteCallback(this.selectedNode);\n      }\n    } else if (event.key === 'Enter') {\n      if (this.editCallback) {\n        handled = true;\n        const selectedNodeElement = this.selectedNode.element();\n        if (!selectedNodeElement) {\n          return;\n        }\n        this.startEditing(selectedNodeElement.children[this.nextEditableColumn(-1)]);\n      } else {\n        this.dispatchEventToListeners(Events.OPENED_NODE, this.selectedNode);\n      }\n    }\n\n    if (nextSelectedNode) {\n      nextSelectedNode.reveal();\n      nextSelectedNode.select();\n    }\n\n    const activeElement = (Platform.DOMUtilities.deepActiveElement(this.element.ownerDocument) as HTMLElement | null);\n    if (handled && this.element !== activeElement && !this.element.contains(activeElement)) {\n      // crbug.com/1005449, crbug.com/1329956\n      // navigational or delete keys pressed but current DataGrid panel has lost focus;\n      // re-focus to ensure subsequent keydowns can be registered within this DataGrid\n      this.element.focus();\n    }\n\n    if (handled) {\n      event.consume(true);\n    }\n  }\n\n  updateSelectionBeforeRemoval(root: DataGridNode<T>|null, _onlyAffectsSubtree: boolean): void {\n    let ancestor: (DataGridNode<T>|null) = this.selectedNode;\n    while (ancestor && ancestor !== root) {\n      ancestor = ancestor.parent;\n    }\n    // Selection is not in the subtree being deleted.\n    if (!ancestor) {\n      return;\n    }\n\n    let nextSelectedNode;\n    // Skip subtree being deleted when looking for the next selectable node.\n    ancestor = root;\n    while (ancestor && !ancestor.nextSibling) {\n      ancestor = ancestor.parent;\n    }\n    if (ancestor) {\n      nextSelectedNode = ancestor.nextSibling;\n    }\n    while (nextSelectedNode && !nextSelectedNode.selectable) {\n      nextSelectedNode = nextSelectedNode.traverseNextNode(true);\n    }\n    if (!nextSelectedNode || nextSelectedNode.isCreationNode) {\n      if (!root) {\n        return;\n      }\n      nextSelectedNode = root.traversePreviousNode(true);\n      while (nextSelectedNode && !nextSelectedNode.selectable) {\n        nextSelectedNode = nextSelectedNode.traversePreviousNode(true);\n      }\n    }\n    if (nextSelectedNode) {\n      nextSelectedNode.reveal();\n      nextSelectedNode.select();\n    } else if (this.selectedNode) {\n      this.selectedNode.deselect();\n    }\n  }\n\n  dataGridNodeFromNode(target: Node): DataGridNode<T>|null {\n    const rowElement = UI.UIUtils.enclosingNodeOrSelfWithNodeName(target, 'tr');\n    return (rowElement && this.elementToDataGridNode.get(rowElement)) || null;\n  }\n\n  columnIdFromNode(target: Node): string|null {\n    const cellElement = UI.UIUtils.enclosingNodeOrSelfWithNodeName(target, 'td');\n    return (cellElement && nodeToColumnIdMap.get(cellElement)) || null;\n  }\n\n  /**\n   * Mark the data-grid as inert, meaning that it will not capture any user interactions.\n   * Useful in some panels where the empty state is actually an absolutely\n   * positioned div put over the panel, and in that case we need to ensure the\n   * hidden, empty data grid, does not capture any user interaction - in particular if they tab through the UI.\n   */\n  setInert(isInert: boolean): void {\n    if (isInert) {\n      this.element.setAttribute('inert', 'inert');\n    } else {\n      this.element.removeAttribute('inert');\n    }\n  }\n\n  private clickInHeaderCell(event: Event): void {\n    const cell = UI.UIUtils.enclosingNodeOrSelfWithNodeName((event.target as Node), 'th');\n    if (!cell) {\n      return;\n    }\n    this.sortByColumnHeaderCell((cell as HTMLElement));\n  }\n\n  private keydownHeaderCell(event: KeyboardEvent): void {\n    if (event.key === 'Enter' || event.key === ' ') {\n      this.clickInHeaderCell(event);\n    }\n  }\n\n  /**\n   * Sorts by column header cell.\n   * Additionally applies the aria-sort label to a column's th.\n   * Guidance on values of attribute taken from\n   * https://www.w3.org/TR/wai-aria-practices/examples/grid/dataGrids.html.\n   */\n  private sortByColumnHeaderCell(cell: Element): void {\n    if (!nodeToColumnIdMap.has(cell) || !cell.classList.contains('sortable')) {\n      return;\n    }\n\n    let sortOrder = Order.Ascending;\n    if ((cell === this.sortColumnCell) && this.isSortOrderAscending()) {\n      sortOrder = Order.Descending;\n    }\n\n    if (this.sortColumnCell) {\n      this.sortColumnCell.classList.remove(Order.Ascending, Order.Descending);\n      this.sortColumnCell.removeAttribute('aria-sort');\n    }\n    this.sortColumnCell = cell;\n\n    cell.classList.add(sortOrder);\n    const ariaLabel = this.isSortOrderAscending() ? 'ascending' : 'descending';\n    cell.setAttribute('aria-sort', ariaLabel);\n    UI.ARIAUtils.LiveAnnouncer.alert(i18nString(UIStrings.enterToSort, {PH1: ariaLabel || ''}));\n\n    this.dispatchEventToListeners(Events.SORTING_CHANGED);\n  }\n\n  markColumnAsSortedBy(columnId: string, sortOrder: Order): void {\n    if (this.sortColumnCell) {\n      this.sortColumnCell.classList.remove(Order.Ascending, Order.Descending);\n    }\n    this.sortColumnCell = this.dataTableHeaders[columnId];\n    this.sortColumnCell.classList.add(sortOrder);\n  }\n\n  headerTableHeader(columnId: string): Element {\n    return this.dataTableHeaders[columnId];\n  }\n\n  private mouseDownInDataTable(event: Event): void {\n    const target = (event.target as Node);\n    const gridNode = this.dataGridNodeFromNode(target);\n    if (!gridNode || !gridNode.selectable || gridNode.isEventWithinDisclosureTriangle((event as MouseEvent))) {\n      return;\n    }\n\n    const columnId = this.columnIdFromNode(target);\n    if (columnId && this.columns[columnId].nonSelectable) {\n      return;\n    }\n\n    /**\n     * Support Meta-Click (Cmd/Alt) or Ctrl-Click to toggle; if the row is\n     * selected we will then deselect it. You might think: why do we even gate\n     * this behind an additional key?\n     * Well, we tried to change that, but there are instances where we have\n     * multiple click handlers on a row, and so we cannot rely on select() only\n     * being called once. Sometimes by the time this event listener gets called,\n     * another click() handler has already marked this node as selected, so if\n     * we deselect it here, we are making the user unable to actually select a\n     * node. See crbug.com/409474445 for some cotext\n     */\n    const mouseEvent = event as MouseEvent;\n    const modifier = Host.Platform.platform() === 'mac' ? mouseEvent.metaKey : mouseEvent.ctrlKey;\n    if (modifier) {\n      if (gridNode.selected) {\n        gridNode.deselect();\n      } else {\n        gridNode.select();\n      }\n    } else {\n      gridNode.select();\n      this.dispatchEventToListeners(Events.OPENED_NODE, gridNode);\n    }\n  }\n\n  setHeaderContextMenuCallback(callback: ((arg0: UI.ContextMenu.SubMenu) => void)|null): void {\n    this.headerContextMenuCallback = callback;\n  }\n\n  setRowContextMenuCallback(callback: ((arg0: UI.ContextMenu.ContextMenu, arg1: DataGridNode<T>) => void)|null): void {\n    this.rowContextMenuCallback = callback;\n  }\n\n  private contextMenu(event: Event): void {\n    if (!(event instanceof MouseEvent)) {\n      return;\n    }\n    const contextMenu = new UI.ContextMenu.ContextMenu(event);\n    const target = (event.target as Node);\n\n    const sortableVisibleColumns = this.visibleColumnsArray.filter(column => {\n      return (column.sortable && column.title);\n    });\n\n    const sortableHiddenColumns = this.columnsArray.filter(\n        column => sortableVisibleColumns.indexOf(column) === -1 && column.allowInSortByEvenWhenHidden);\n\n    const sortableColumns = [...sortableVisibleColumns, ...sortableHiddenColumns];\n    if (sortableColumns.length > 0) {\n      const sortMenu =\n          contextMenu.defaultSection().appendSubMenuItem(i18nString(UIStrings.sortByString), false, 'sort-by');\n      for (const column of sortableColumns) {\n        const headerCell = this.dataTableHeaders[column.id];\n        sortMenu.defaultSection().appendItem(\n            (column.title as string), this.sortByColumnHeaderCell.bind(this, headerCell), {\n              jslogContext: Platform.StringUtilities.toKebabCase(column.id),\n            });\n      }\n    }\n\n    if (target.isSelfOrDescendant(this.#dataTableHead)) {\n      if (this.headerContextMenuCallback) {\n        this.headerContextMenuCallback(contextMenu);\n      }\n      contextMenu.defaultSection().appendItem(\n          i18nString(UIStrings.resetColumns), this.resetColumnWeights.bind(this), {jslogContext: 'reset-columns'});\n      void contextMenu.show();\n      return;\n    }\n\n    // Add header context menu to a subsection available from the body\n    const headerSubMenu =\n        contextMenu.defaultSection().appendSubMenuItem(i18nString(UIStrings.headerOptions), false, 'header-options');\n    if (this.headerContextMenuCallback) {\n      this.headerContextMenuCallback(headerSubMenu);\n    }\n    headerSubMenu.defaultSection().appendItem(\n        i18nString(UIStrings.resetColumns), this.resetColumnWeights.bind(this), {jslogContext: 'reset-columns'});\n\n    const isContextMenuKey = (event.button === 0);\n    const gridNode = isContextMenuKey ? this.selectedNode : this.dataGridNodeFromNode(target);\n    const selectedNodeElement = this.selectedNode?.existingElement();\n    if (isContextMenuKey && selectedNodeElement) {\n      const boundingRowRect = selectedNodeElement.getBoundingClientRect();\n      if (boundingRowRect) {\n        const x = (boundingRowRect.right + boundingRowRect.left) / 2;\n        const y = (boundingRowRect.bottom + boundingRowRect.top) / 2;\n        contextMenu.setX(x);\n        contextMenu.setY(y);\n      }\n    }\n    if (this.refreshCallback && (!gridNode || gridNode !== this.creationNode)) {\n      contextMenu.defaultSection().appendItem(\n          i18nString(UIStrings.refresh), this.refreshCallback.bind(this), {jslogContext: 'refresh'});\n    }\n\n    if (gridNode && gridNode.selectable && !gridNode.isEventWithinDisclosureTriangle(event)) {\n      if (this.editCallback) {\n        if (gridNode === this.creationNode) {\n          const firstEditColumnIndex = this.nextEditableColumn(-1);\n          const tableCellElement = gridNode.element().children[firstEditColumnIndex];\n          contextMenu.defaultSection().appendItem(\n              i18nString(UIStrings.addNew), this.startEditing.bind(this, tableCellElement), {jslogContext: 'add-new'});\n        } else if (isContextMenuKey) {\n          const firstEditColumnIndex = this.nextEditableColumn(-1);\n          if (firstEditColumnIndex > -1) {\n            const firstColumn = this.visibleColumnsArray[firstEditColumnIndex];\n            if (firstColumn && this.isColumnEditable(firstColumn.id)) {\n              contextMenu.defaultSection().appendItem(\n                  i18nString(UIStrings.editS, {PH1: String(firstColumn.title)}),\n                  this.startEditingColumnOfDataGridNode.bind(this, gridNode, firstEditColumnIndex),\n                  {jslogContext: 'edit'});\n            }\n          }\n        } else {\n          const columnId = this.columnIdFromNode(target);\n          if (columnId && this.isColumnEditable(columnId)) {\n            contextMenu.defaultSection().appendItem(\n                i18nString(UIStrings.editS, {PH1: String(this.columns[columnId].title)}),\n                this.startEditing.bind(this, target), {jslogContext: 'edit'});\n          }\n        }\n      }\n      if (this.deleteCallback && gridNode !== this.creationNode) {\n        contextMenu.defaultSection().appendItem(\n            i18nString(UIStrings.delete), this.deleteCallback.bind(this, gridNode), {jslogContext: 'delete'});\n      }\n      if (this.rowContextMenuCallback) {\n        this.rowContextMenuCallback(contextMenu, gridNode);\n      }\n    }\n\n    void contextMenu.show();\n  }\n\n  private clickInDataTable(event: MouseEvent): void {\n    const gridNode = this.dataGridNodeFromNode((event.target as Node));\n    if (!gridNode || !gridNode.hasChildren() || !gridNode.isEventWithinDisclosureTriangle(event)) {\n      return;\n    }\n\n    if (gridNode.expanded) {\n      if (event.altKey) {\n        gridNode.collapseRecursively();\n      } else {\n        gridNode.collapse();\n      }\n    } else if (event.altKey) {\n      gridNode.expandRecursively();\n    } else {\n      gridNode.expand();\n    }\n  }\n\n  setResizeMethod(method: ResizeMethod): void {\n    this.resizeMethod = method;\n  }\n\n  private startResizerDragging(event: Event): boolean {\n    this.currentResizer = event.target;\n    return true;\n  }\n\n  private endResizerDragging(): void {\n    this.currentResizer = null;\n    this.saveColumnWeights();\n  }\n\n  private resizerDragging(event: MouseEvent): void {\n    const resizer = (this.currentResizer as HTMLElement);\n    if (!resizer) {\n      return;\n    }\n\n    // Constrain the dragpoint to be within the containing div of the\n    // datagrid.\n    let dragPoint: number = event.clientX - this.element.getBoundingClientRect().left;\n    let leftEdgeOfPreviousColumn = 0;\n    // Constrain the dragpoint to be within the space made up by the\n    // column directly to the left and the column directly to the right.\n    let leftCellIndex = elementToIndexMap.get(resizer);\n    if (leftCellIndex === undefined) {\n      return;\n    }\n    let rightCellIndex: number = leftCellIndex + 1;\n    for (let i = 0; i < leftCellIndex; i++) {\n      leftEdgeOfPreviousColumn += this.getPreferredWidth(i);\n    }\n\n    // Differences for other resize methods\n    if (this.resizeMethod === ResizeMethod.LAST) {\n      rightCellIndex = this.resizers.length;\n    } else if (this.resizeMethod === ResizeMethod.FIRST) {\n      leftEdgeOfPreviousColumn += this.getPreferredWidth(leftCellIndex) - this.getPreferredWidth(0);\n      leftCellIndex = 0;\n    }\n\n    const rightEdgeOfNextColumn =\n        leftEdgeOfPreviousColumn + this.getPreferredWidth(leftCellIndex) + this.getPreferredWidth(rightCellIndex);\n\n    // Give each column some padding so that they don't disappear.\n    const leftMinimum = leftEdgeOfPreviousColumn + ColumnResizePadding;\n    const rightMaximum = rightEdgeOfNextColumn - ColumnResizePadding;\n    if (leftMinimum > rightMaximum) {\n      return;\n    }\n\n    dragPoint = Platform.NumberUtilities.clamp(dragPoint, leftMinimum, rightMaximum);\n\n    const position = (dragPoint - CenterResizerOverBorderAdjustment);\n    elementToPositionMap.set(resizer, position);\n    resizer.style.left = position + 'px';\n\n    this.setPreferredWidth(leftCellIndex, dragPoint - leftEdgeOfPreviousColumn);\n    this.setPreferredWidth(rightCellIndex, rightEdgeOfNextColumn - dragPoint);\n\n    const leftColumn = this.visibleColumnsArray[leftCellIndex];\n    const rightColumn = this.visibleColumnsArray[rightCellIndex];\n    if (leftColumn.weight && rightColumn.weight) {\n      const sumOfWeights = leftColumn.weight + rightColumn.weight;\n      const delta = rightEdgeOfNextColumn - leftEdgeOfPreviousColumn;\n      leftColumn.weight = (dragPoint - leftEdgeOfPreviousColumn) * sumOfWeights / delta;\n      rightColumn.weight = (rightEdgeOfNextColumn - dragPoint) * sumOfWeights / delta;\n    }\n\n    this.positionResizers();\n    this.updateWidths();\n    event.preventDefault();\n  }\n\n  private setPreferredWidth(columnIndex: number, width: number): void {\n    const dataTableChildElement = (this.dataTableColumnGroup.children[columnIndex] as HTMLElement);\n    elementToPreferedWidthMap.set(dataTableChildElement, width);\n    dataTableChildElement.style.width = width + 'px';\n  }\n\n  columnOffset(columnId: string): number {\n    if (!this.element.offsetWidth) {\n      return 0;\n    }\n    for (let i = 1; i < this.visibleColumnsArray.length; ++i) {\n      if (columnId === this.visibleColumnsArray[i].id) {\n        if (this.resizers[i - 1]) {\n          return elementToPositionMap.get(this.resizers[i - 1]) || 0;\n        }\n      }\n    }\n    return 0;\n  }\n\n  asWidget(element?: HTMLElement): DataGridWidget<T> {\n    if (!this.dataGridWidget) {\n      this.dataGridWidget = new DataGridWidget(this, element);\n    }\n    return this.dataGridWidget;\n  }\n\n  topFillerRowElement(): HTMLElement {\n    return this.topFillerRow;\n  }\n\n  // Note on the following methods:\n  // The header row is a child of the scrollable container, and uses position: sticky\n  // so it can visually obscure other elements below it in the grid. We need to manually\n  // subtract the header's height when calculating the actual client area in which\n  // data rows are visible. However, if a caller has set a different scroll container\n  // then we report 0 height and the caller is expected to ensure their chosen scroll\n  // container's height matches the visible scrollable data area as seen by the user.\n\n  protected headerHeightInScroller(): number {\n    return this.scrollContainer === this.#dataContainer ? this.headerHeight() : 0;\n  }\n\n  headerHeight(): number {\n    return this.#dataTableHead.offsetHeight;\n  }\n\n  revealNode(element: HTMLElement): void {\n    element.scrollIntoViewIfNeeded(false);\n    // The header row is a child of the scrollable container, and uses position: sticky\n    // so scrollIntoViewIfNeeded may place the element behind it. If the element is\n    // obscured by the header, adjust the scrollTop so that the element is fully revealed.\n    if (element.offsetTop - this.scrollContainer.scrollTop < this.headerHeight()) {\n      this.scrollContainer.scrollTop = element.offsetTop - this.headerHeight();\n    }\n  }\n}\n\n/** Keep in sync with .data-grid col.corner style rule. **/\nexport const CornerWidth = 14;\n\nexport const enum Events {\n  SELECTED_NODE = 'SelectedNode',\n  DESELECTED_NODE = 'DeselectedNode',\n  OPENED_NODE = 'OpenedNode',\n  SORTING_CHANGED = 'SortingChanged',\n  PADDING_CHANGED = 'PaddingChanged',\n}\n\nexport interface EventTypes<T> {\n  [Events.SELECTED_NODE]: DataGridNode<T>;\n  [Events.DESELECTED_NODE]: void;\n  [Events.OPENED_NODE]: DataGridNode<T>;\n  [Events.SORTING_CHANGED]: void;\n  [Events.PADDING_CHANGED]: void;\n}\n\nexport enum Order {\n  /* eslint-disable @typescript-eslint/naming-convention -- Used by web_tests. */\n  Ascending = 'sort-ascending',\n  Descending = 'sort-descending',\n  /* eslint-enable @typescript-eslint/naming-convention */\n}\n\nexport const enum Align {\n  CENTER = 'center',\n  RIGHT = 'right',\n}\n\nexport const enum DataType {\n  STRING = 'String',\n  BOOLEAN = 'Boolean',\n}\n\nexport const ColumnResizePadding = 30;\nexport const CenterResizerOverBorderAdjustment = 3;\n\nexport const enum ResizeMethod {\n  NEAREST = 'nearest',\n  FIRST = 'first',\n  LAST = 'last',\n}\n\nexport type DataGridData = Record<string, any>;\n\nexport class DataGridNode<T> {\n  elementInternal: HTMLElement|null = null;\n  expandedInternal = false;\n  #selected = false;\n  private dirty = false;\n  private inactive = false;\n  private highlighted = false;\n  #depth: number|undefined;\n  revealedInternal: boolean|undefined;\n  protected attachedInternal = false;\n  private savedPosition: {\n    parent: DataGridNode<T>,\n    index: number,\n  }|null = null;\n  #shouldRefreshChildren = true;\n\n  children: Array<DataGridNode<T>> = [];\n  dataGrid: DataGridImpl<T>|null = null;\n  parent: DataGridNode<T>|null = null;\n  previousSibling: DataGridNode<T>|null = null;\n  nextSibling: DataGridNode<T>|null = null;\n  #disclosureToggleHitBoxWidth = 20;\n  selectable = true;\n  isRoot = false;\n  nodeAccessibleText = '';\n  cellAccessibleTextMap = new Map<string, string>();\n  isCreationNode = false;\n  #data: DataGridData;\n  #hasChildren: boolean;\n\n  constructor(data?: DataGridData|null, hasChildren?: boolean) {\n    this.#data = data || {};\n    this.#hasChildren = hasChildren || false;\n  }\n\n  element(): Element {\n    if (!this.elementInternal) {\n      const element = this.createElement();\n      this.createCells(element);\n    }\n    return this.elementInternal as Element;\n  }\n\n  protected createElement(): HTMLElement {\n    this.elementInternal = document.createElement('tr');\n    this.elementInternal.setAttribute(\n        'jslog', `${VisualLogging.tableRow().track({keydown: 'ArrowUp|ArrowDown|ArrowLeft|ArrowRight|Enter|Space'})}`);\n    this.elementInternal.classList.add('data-grid-data-grid-node');\n    if (this.dataGrid) {\n      this.dataGrid.elementToDataGridNode.set(this.elementInternal, this);\n    }\n\n    if (this.#hasChildren) {\n      this.elementInternal.classList.add('parent');\n    }\n    if (this.expanded) {\n      this.elementInternal.classList.add('expanded');\n    }\n    if (this.selected) {\n      this.elementInternal.classList.add('selected');\n    }\n    if (this.revealed) {\n      this.elementInternal.classList.add('revealed');\n    }\n    if (this.dirty) {\n      this.elementInternal.classList.add('dirty');\n    }\n    if (this.inactive) {\n      this.elementInternal.classList.add('inactive');\n    }\n    if (this.highlighted) {\n      this.elementInternal.classList.add('highlighted');\n    }\n    if (this.isCreationNode) {\n      this.elementInternal.classList.add('creation-node');\n    }\n    return this.elementInternal;\n  }\n\n  existingElement(): HTMLElement|null {\n    return this.elementInternal || null;\n  }\n\n  protected resetElement(): void {\n    this.elementInternal = null;\n  }\n\n  protected createCells(element: Element): void {\n    element.removeChildren();\n    if (!this.dataGrid || !this.parent) {\n      return;\n    }\n    const columnsArray = this.dataGrid.visibleColumnsArray;\n    const accessibleTextArray = [];\n    // Add depth if node is part of a tree\n    if (this.#hasChildren || !this.parent.isRoot) {\n      accessibleTextArray.push(i18nString(UIStrings.levelS, {PH1: this.depth + 1}));\n    }\n    for (let i = 0; i < columnsArray.length; ++i) {\n      const column = columnsArray[i];\n      const cell = element.appendChild(this.createCell(column.id));\n      // Add each visibile cell to the node's accessible text by gathering 'Column Title: content'\n\n      if (column.dataType === DataType.BOOLEAN && this.data[column.id] === true) {\n        this.setCellAccessibleName(i18nString(UIStrings.checked), cell, column.id);\n      }\n\n      accessibleTextArray.push(`${column.title}: ${this.cellAccessibleTextMap.get(column.id) || cell.textContent}`);\n    }\n    this.nodeAccessibleText = accessibleTextArray.join(', ');\n\n    const cornerCell = this.createTDWithClass('corner');\n    UI.ARIAUtils.setHidden(cornerCell, true);\n    element.appendChild(cornerCell);\n  }\n\n  get data(): DataGridData {\n    return this.#data;\n  }\n\n  set data(x: DataGridData) {\n    this.#data = x || {};\n    this.refresh();\n  }\n\n  get revealed(): boolean {\n    if (this.revealedInternal !== undefined) {\n      return this.revealedInternal;\n    }\n\n    let currentAncestor: (DataGridNode<T>|null) = this.parent;\n    while (currentAncestor && !currentAncestor.isRoot) {\n      if (!currentAncestor.expanded) {\n        this.revealedInternal = false;\n        return false;\n      }\n\n      currentAncestor = currentAncestor.parent;\n    }\n\n    this.revealed = true;\n    return true;\n  }\n\n  set revealed(x: boolean) {\n    if (this.revealedInternal === x) {\n      return;\n    }\n\n    this.revealedInternal = x;\n\n    if (this.elementInternal) {\n      this.elementInternal.classList.toggle('revealed', this.revealedInternal);\n    }\n\n    for (let i = 0; i < this.children.length; ++i) {\n      this.children[i].revealed = x && this.expanded;\n    }\n  }\n\n  isDirty(): boolean {\n    return this.dirty;\n  }\n\n  setDirty(dirty: boolean): void {\n    if (this.dirty === dirty) {\n      return;\n    }\n    this.dirty = dirty;\n    if (!this.elementInternal) {\n      return;\n    }\n    if (dirty) {\n      this.elementInternal.classList.add('dirty');\n    } else {\n      this.elementInternal.classList.remove('dirty');\n    }\n  }\n\n  setInactive(inactive: boolean): void {\n    if (this.inactive === inactive) {\n      return;\n    }\n    this.inactive = inactive;\n    if (!this.elementInternal) {\n      return;\n    }\n    if (inactive) {\n      this.elementInternal.classList.add('inactive');\n    } else {\n      this.elementInternal.classList.remove('inactive');\n    }\n  }\n\n  setHighlighted(highlighted: boolean): void {\n    if (this.highlighted === highlighted) {\n      return;\n    }\n    this.highlighted = highlighted;\n    if (!this.elementInternal) {\n      return;\n    }\n    if (highlighted) {\n      this.elementInternal.classList.add('highlighted');\n    } else {\n      this.elementInternal.classList.remove('highlighted');\n    }\n  }\n\n  hasChildren(): boolean {\n    return this.#hasChildren;\n  }\n\n  setHasChildren(x: boolean): void {\n    if (this.#hasChildren === x) {\n      return;\n    }\n\n    this.#hasChildren = x;\n\n    if (!this.elementInternal) {\n      return;\n    }\n\n    this.elementInternal.classList.toggle('parent', this.#hasChildren);\n    this.elementInternal.classList.toggle('expanded', this.#hasChildren && this.expanded);\n  }\n\n  get depth(): number {\n    if (this.#depth !== undefined) {\n      return this.#depth;\n    }\n    if (this.parent && !this.parent.isRoot) {\n      this.#depth = this.parent.depth + 1;\n    } else {\n      this.#depth = 0;\n    }\n    return this.#depth;\n  }\n\n  get leftPadding(): number {\n    return this.depth * (this.dataGrid ? this.dataGrid.indentWidth : 1);\n  }\n\n  get shouldRefreshChildren(): boolean {\n    return this.#shouldRefreshChildren;\n  }\n\n  set shouldRefreshChildren(x: boolean) {\n    this.#shouldRefreshChildren = x;\n    if (x && this.expanded) {\n      this.expand();\n    }\n  }\n\n  get selected(): boolean {\n    return this.#selected;\n  }\n\n  set selected(x: boolean) {\n    if (x) {\n      this.select();\n    } else {\n      this.deselect();\n    }\n  }\n\n  get expanded(): boolean {\n    return this.expandedInternal;\n  }\n\n  set expanded(x: boolean) {\n    if (x) {\n      this.expand();\n    } else {\n      this.collapse();\n    }\n  }\n\n  refresh(): void {\n    if (!this.dataGrid) {\n      this.elementInternal = null;\n    }\n    if (!this.elementInternal) {\n      return;\n    }\n    this.createCells(this.elementInternal);\n  }\n\n  createTDWithClass(className: string): HTMLElement {\n    const cell = document.createElement('td');\n    if (className) {\n      cell.className = className;\n    }\n    const cellClass = this.dataGrid ? this.dataGrid.cellClass : null;\n    if (cellClass) {\n      cell.classList.add(cellClass);\n    }\n    return cell;\n  }\n\n  createTD(columnId: string): HTMLElement {\n    const cell = this.createTDWithClass(columnId + '-column');\n    nodeToColumnIdMap.set(cell, columnId);\n\n    if (this.dataGrid) {\n      const editableCell = this.dataGrid.isColumnEditable(columnId);\n\n      cell.setAttribute(\n          'jslog',\n          `${\n              VisualLogging.tableCell()\n                  .track({\n                    click: true,\n                    keydown: editableCell ? 'Enter|Space|Escape' : false,\n                    dblclick: editableCell,\n                    change: editableCell,\n                  })\n                  .context(Platform.StringUtilities.toKebabCase(columnId))}`);\n      const alignment = this.dataGrid.columns[columnId].align;\n      if (alignment) {\n        cell.classList.add(alignment);\n      }\n\n      if (columnId === this.dataGrid.disclosureColumnId) {\n        cell.classList.add('disclosure');\n        if (this.leftPadding) {\n          cell.style.setProperty('padding-left', this.leftPadding + 'px');\n        }\n      }\n\n      // Allow accessibility tool to identify the editable cell and display context menu\n      if (editableCell) {\n        cell.tabIndex = 0;\n        cell.ariaHasPopup = 'true';\n      }\n    }\n\n    return cell;\n  }\n\n  createCell(columnId: string): HTMLElement {\n    const cell = this.createTD(columnId);\n    const data = this.data[columnId];\n    if (data instanceof Node) {\n      cell.appendChild(data);\n    } else if (data !== null && this.dataGrid) {\n      this.dataGrid.setElementContent(cell, (data as string));\n    }\n\n    return cell;\n  }\n\n  setCellAccessibleName(name: string, cell: Element, columnId: string): void {\n    this.cellAccessibleTextMap.set(columnId, name);\n    // Mark all direct children of cell as hidden so cell name is properly announced\n    for (let i = 0; i < cell.children.length; i++) {\n      UI.ARIAUtils.setHidden(cell.children[i], true);\n    }\n    UI.ARIAUtils.setLabel(cell, name);\n  }\n\n  nodeSelfHeight(): number {\n    return 20;\n  }\n\n  appendChild(child: DataGridNode<T>): void {\n    this.insertChild(child, this.children.length);\n  }\n\n  resetNode(onlyCaches?: boolean): void {\n    // @TODO(allada) This is a hack to make sure ViewportDataGrid can clean up these caches. Try Not To Use.\n    this.#depth = undefined;\n    delete this.revealedInternal;\n    if (onlyCaches) {\n      return;\n    }\n    if (this.previousSibling) {\n      this.previousSibling.nextSibling = this.nextSibling;\n    }\n    if (this.nextSibling) {\n      this.nextSibling.previousSibling = this.previousSibling;\n    }\n    this.dataGrid = null;\n    this.parent = null;\n    this.nextSibling = null;\n    this.previousSibling = null;\n    this.attachedInternal = false;\n  }\n\n  insertChild(child: DataGridNode<T>, index: number): void {\n    if (!child) {\n      throw new Error('insertChild: Node can\\'t be undefined or null.');\n    }\n    if (child.parent === this) {\n      const currentIndex = this.children.indexOf(child);\n      if (currentIndex < 0) {\n        console.assert(false, 'Inconsistent DataGrid state');\n      }\n      if (currentIndex === index) {\n        return;\n      }\n      if (currentIndex < index) {\n        --index;\n      }\n    }\n\n    child.remove();\n\n    this.children.splice(index, 0, child);\n    this.setHasChildren(true);\n\n    child.parent = this;\n    child.dataGrid = this.dataGrid;\n    child.recalculateSiblings(index);\n\n    child.#shouldRefreshChildren = true;\n\n    let current: (DataGridNode<T>|null)|DataGridNode<T> = child.children[0];\n    while (current) {\n      current.resetNode(true);\n      current.dataGrid = this.dataGrid;\n      current.attachedInternal = false;\n      current.#shouldRefreshChildren = true;\n      current = current.traverseNextNode(false, child, true);\n    }\n\n    if (this.expanded) {\n      child.attach();\n    }\n    if (!this.revealed) {\n      child.revealed = false;\n    }\n  }\n\n  remove(): void {\n    if (this.parent) {\n      this.parent.removeChild(this);\n    }\n  }\n\n  removeChild(child: DataGridNode<T>): void {\n    if (!child) {\n      throw new Error('removeChild: Node can\\'t be undefined or null.');\n    }\n    if (child.parent !== this) {\n      throw new Error('removeChild: Node is not a child of this node.');\n    }\n\n    if (this.dataGrid) {\n      this.dataGrid.updateSelectionBeforeRemoval(child, false);\n    }\n\n    child.detach();\n    child.resetNode();\n    Platform.ArrayUtilities.removeElement(this.children, child, true);\n\n    if (this.children.length <= 0) {\n      this.setHasChildren(false);\n    }\n  }\n\n  removeChildren(): void {\n    if (this.dataGrid) {\n      this.dataGrid.updateSelectionBeforeRemoval(this, true);\n    }\n    for (let i = 0; i < this.children.length; ++i) {\n      const child = this.children[i];\n      child.detach();\n      child.resetNode();\n    }\n\n    this.children = [];\n    this.setHasChildren(false);\n  }\n\n  recalculateSiblings(myIndex: number): void {\n    if (!this.parent) {\n      return;\n    }\n\n    const previousChild = this.parent.children[myIndex - 1] || null;\n    if (previousChild) {\n      previousChild.nextSibling = this;\n    }\n    this.previousSibling = previousChild;\n\n    const nextChild = this.parent.children[myIndex + 1] || null;\n    if (nextChild) {\n      nextChild.previousSibling = this;\n    }\n    this.nextSibling = nextChild;\n  }\n\n  collapse(): void {\n    if (this.isRoot) {\n      return;\n    }\n    if (this.elementInternal) {\n      this.elementInternal.classList.remove('expanded');\n    }\n\n    this.expandedInternal = false;\n    if (this.selected && this.dataGrid) {\n      this.dataGrid.announceSelectedGridNode();\n    }\n\n    for (let i = 0; i < this.children.length; ++i) {\n      this.children[i].revealed = false;\n    }\n  }\n\n  collapseRecursively(): void {\n    let item: (DataGridNode<T>|null)|this = this;\n    while (item) {\n      if (item.expanded) {\n        item.collapse();\n      }\n      item = item.traverseNextNode(false, this, true);\n    }\n  }\n\n  populate(): void {\n  }\n\n  expand(): void {\n    if (!this.#hasChildren || this.expandedInternal) {\n      return;\n    }\n    if (this.isRoot) {\n      return;\n    }\n\n    if (this.revealed && !this.#shouldRefreshChildren) {\n      for (let i = 0; i < this.children.length; ++i) {\n        this.children[i].revealed = true;\n      }\n    }\n\n    if (this.#shouldRefreshChildren) {\n      for (let i = 0; i < this.children.length; ++i) {\n        this.children[i].detach();\n      }\n\n      this.populate();\n\n      if (this.attachedInternal) {\n        for (let i = 0; i < this.children.length; ++i) {\n          const child = this.children[i];\n          if (this.revealed) {\n            child.revealed = true;\n          }\n          child.attach();\n        }\n      }\n\n      this.#shouldRefreshChildren = false;\n    }\n\n    if (this.elementInternal) {\n      this.elementInternal.classList.add('expanded');\n    }\n    if (this.selected && this.dataGrid) {\n      this.dataGrid.announceSelectedGridNode();\n    }\n\n    this.expandedInternal = true;\n  }\n\n  expandRecursively(): void {\n    let item: (DataGridNode<T>|null)|this = this;\n    while (item) {\n      item.expand();\n      item = item.traverseNextNode(false, this);\n    }\n  }\n\n  reveal(): void {\n    if (this.isRoot || !this.dataGrid) {\n      return;\n    }\n    let currentAncestor: (DataGridNode<T>|null) = this.parent;\n    while (currentAncestor && !currentAncestor.isRoot) {\n      if (!currentAncestor.expanded) {\n        currentAncestor.expand();\n      }\n      currentAncestor = currentAncestor.parent;\n    }\n\n    this.dataGrid.revealNode(this.element() as HTMLElement);\n  }\n\n  select(supressSelectedEvent?: boolean): void {\n    if (!this.dataGrid || !this.selectable || this.selected) {\n      return;\n    }\n\n    if (this.dataGrid.selectedNode) {\n      this.dataGrid.selectedNode.deselect();\n    }\n\n    this.#selected = true;\n    this.dataGrid.selectedNode = this;\n\n    if (this.elementInternal) {\n      this.elementInternal.classList.add('selected');\n      this.elementInternal.focus();\n      this.dataGrid.setHasSelection(true);\n      this.dataGrid.announceSelectedGridNode();\n    }\n\n    if (!supressSelectedEvent) {\n      this.dataGrid.dispatchEventToListeners(Events.SELECTED_NODE, this);\n    }\n  }\n\n  revealAndSelect(): void {\n    if (this.isRoot) {\n      return;\n    }\n    this.reveal();\n    this.select();\n  }\n\n  deselect(supressDeselectedEvent?: boolean): void {\n    if (!this.dataGrid || this.dataGrid.selectedNode !== this || !this.selected) {\n      return;\n    }\n\n    this.#selected = false;\n    this.dataGrid.selectedNode = null;\n\n    if (this.elementInternal) {\n      this.elementInternal.classList.remove('selected');\n      this.dataGrid.setHasSelection(false);\n    }\n\n    if (!supressDeselectedEvent) {\n      this.dataGrid.dispatchEventToListeners(Events.DESELECTED_NODE);\n    }\n  }\n\n  traverseNextNode(skipHidden: boolean, stayWithin?: DataGridNode<T>|null, dontPopulate?: boolean, info?: {\n    depthChange: number,\n  }): DataGridNode<T>|null {\n    if (!dontPopulate && this.#hasChildren) {\n      this.populate();\n    }\n\n    if (info) {\n      info.depthChange = 0;\n    }\n\n    let node: (DataGridNode<T>|null)|this = (!skipHidden || this.revealed) ? this.children[0] : null;\n    if (node && (!skipHidden || this.expanded)) {\n      if (info) {\n        info.depthChange = 1;\n      }\n      return node;\n    }\n\n    if (this === stayWithin) {\n      return null;\n    }\n\n    node = (!skipHidden || this.revealed) ? this.nextSibling : null;\n    if (node) {\n      return node;\n    }\n\n    node = this;\n    while (node && !node.isRoot && !((!skipHidden || node.revealed) ? node.nextSibling : null) &&\n           node.parent !== stayWithin) {\n      if (info) {\n        info.depthChange -= 1;\n      }\n      node = node.parent;\n    }\n\n    if (!node) {\n      return null;\n    }\n\n    return (!skipHidden || node.revealed) ? node.nextSibling : null;\n  }\n\n  traversePreviousNode(skipHidden: boolean, dontPopulate?: boolean): DataGridNode<T>|null {\n    let node: (DataGridNode<T>|null) = (!skipHidden || this.revealed) ? this.previousSibling : null;\n    if (!dontPopulate && node && node.#hasChildren) {\n      node.populate();\n    }\n\n    while (node &&\n           ((!skipHidden || (node.revealed && node.expanded)) ? node.children[node.children.length - 1] : null)) {\n      if (!dontPopulate && node && node.#hasChildren) {\n        node.populate();\n      }\n      node = ((!skipHidden || (node.revealed && node.expanded)) ? node.children[node.children.length - 1] : null);\n    }\n\n    if (node) {\n      return node;\n    }\n\n    if (!this.parent || this.parent.isRoot) {\n      return null;\n    }\n\n    return this.parent;\n  }\n\n  isEventWithinDisclosureTriangle(event: MouseEvent): boolean {\n    if (!this.#hasChildren) {\n      return false;\n    }\n    const cell = UI.UIUtils.enclosingNodeOrSelfWithNodeName((event.target as Node), 'td');\n    if (!cell || !(cell instanceof HTMLElement) || !cell.classList.contains('disclosure')) {\n      return false;\n    }\n\n    const left = cell.getBoundingClientRect().left + this.leftPadding;\n    return event.pageX >= left && event.pageX <= left + this.#disclosureToggleHitBoxWidth;\n  }\n\n  private attach(): void {\n    if (!this.dataGrid || this.attachedInternal) {\n      return;\n    }\n\n    this.attachedInternal = true;\n\n    const previousNode = this.traversePreviousNode(true, true);\n    const previousElement = previousNode ? previousNode.element() : this.dataGrid.topFillerRow;\n    this.dataGrid.dataTableBody.insertBefore(this.element(), previousElement.nextSibling);\n\n    if (this.expandedInternal) {\n      for (let i = 0; i < this.children.length; ++i) {\n        this.children[i].attach();\n      }\n    }\n  }\n\n  private detach(): void {\n    if (!this.attachedInternal) {\n      return;\n    }\n\n    this.attachedInternal = false;\n\n    if (this.elementInternal) {\n      this.elementInternal.remove();\n    }\n\n    for (let i = 0; i < this.children.length; ++i) {\n      this.children[i].detach();\n    }\n  }\n\n  savePosition(): void {\n    if (this.savedPosition) {\n      return;\n    }\n\n    if (!this.parent) {\n      throw new Error('savePosition: Node must have a parent.');\n    }\n    this.savedPosition = {parent: this.parent, index: this.parent.children.indexOf(this)};\n  }\n\n  restorePosition(): void {\n    if (!this.savedPosition) {\n      return;\n    }\n\n    if (this.parent !== this.savedPosition.parent) {\n      this.savedPosition.parent.insertChild(this, this.savedPosition.index);\n    }\n\n    this.savedPosition = null;\n  }\n}\n\nexport class CreationDataGridNode<T> extends DataGridNode<T> {\n  override isCreationNode: boolean;\n  constructor(data?: Record<string, any>|null, hasChildren?: boolean) {\n    super(data, hasChildren);\n    this.isCreationNode = true;\n  }\n}\n\nexport class DataGridWidget<T> extends UI.Widget.VBox {\n  readonly dataGrid: DataGridImpl<T>;\n  constructor(dataGrid: DataGridImpl<T>, element?: HTMLElement) {\n    super(element);\n    this.dataGrid = dataGrid;\n    this.element.appendChild(dataGrid.element);\n    this.setDefaultFocusedElement(dataGrid.element);\n    this.registerRequiredCSS(dataGridStyles);\n  }\n\n  override wasShown(): void {\n    super.wasShown();\n    this.dataGrid.wasShown();\n  }\n\n  override willHide(): void {\n    this.dataGrid.willHide();\n    super.willHide();\n  }\n\n  override onResize(): void {\n    super.onResize();\n    this.dataGrid.onResize();\n  }\n\n  override elementsToRestoreScrollPositionsFor(): Element[] {\n    return [this.dataGrid.scrollContainer];\n  }\n}\n\nexport interface Parameters {\n  displayName: string;\n  columns: ColumnDescriptor[];\n  deleteCallback?: ((arg0: any) => void);\n  refreshCallback?: (() => void);\n}\nexport interface ColumnDescriptor {\n  id: Lowercase<string>;\n  title?: Common.UIString.LocalizedString;\n  titleDOMFragment?: DocumentFragment|null;\n  sortable: boolean;\n  sort?: Order|null;\n  align?: Align|null;\n  width?: string;\n  fixedWidth?: boolean;\n  editable?: boolean;\n  nonSelectable?: boolean;\n  longText?: boolean;\n  disclosure?: boolean;\n  weight?: number;\n  allowInSortByEvenWhenHidden?: boolean;\n  dataType?: DataType|null;\n  defaultWeight?: number;\n}\n"]}