{
  "version": 3,
  "sources": ["../../../../../../../../front_end/ui/legacy/components/inline_editor/AnimationTimingModel.ts", "../../../../../../../../front_end/ui/legacy/components/inline_editor/CSSLinearEasingModel.ts", "../../../../../../../../front_end/ui/legacy/components/inline_editor/AnimationTimingUI.ts", "../../../../../../../../front_end/ui/legacy/components/inline_editor/BezierUI.ts", "../../../../../../../../front_end/ui/legacy/components/inline_editor/BezierEditor.ts", "bezierEditor.css.js", "../../../../../../../../front_end/ui/legacy/components/inline_editor/ColorMixSwatch.ts", "colorMixSwatch.css.js", "../../../../../../../../front_end/ui/legacy/components/inline_editor/ColorSwatch.ts", "colorSwatch.css.js", "../../../../../../../../front_end/ui/legacy/components/inline_editor/CSSAngle.ts", "../../../../../../../../front_end/ui/legacy/components/inline_editor/CSSAngleEditor.ts", "cssAngleEditor.css.js", "../../../../../../../../front_end/ui/legacy/components/inline_editor/CSSAngleUtils.ts", "../../../../../../../../front_end/ui/legacy/components/inline_editor/CSSAngleSwatch.ts", "cssAngleSwatch.css.js", "cssAngle.css.js", "../../../../../../../../front_end/ui/legacy/components/inline_editor/InlineEditorUtils.ts", "../../../../../../../../front_end/ui/legacy/components/inline_editor/CSSShadowEditor.ts", "cssShadowEditor.css.js", "../../../../../../../../front_end/ui/legacy/components/inline_editor/FontEditor.ts", "fontEditor.css.js", "../../../../../../../../front_end/ui/legacy/components/inline_editor/FontEditorUnitConverter.ts", "../../../../../../../../front_end/ui/legacy/components/inline_editor/FontEditorUtils.ts", "../../../../../../../../front_end/ui/legacy/components/inline_editor/LinkSwatch.ts", "linkSwatch.css.js", "../../../../../../../../front_end/ui/legacy/components/inline_editor/Swatches.ts", "cssShadowSwatch.css.js", "../../../../../../../../front_end/ui/legacy/components/inline_editor/SwatchPopoverHelper.ts", "swatchPopover.css.js"],
  "sourcesContent": ["// Copyright 2023 The Chromium Authors\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\nimport * as Geometry from '../../../../models/geometry/geometry.js';\n\nimport {CSSLinearEasingModel} from './CSSLinearEasingModel.js';\n\n/**\n * Provides a unified interface for both linear easing and cubic bezier\n * models and handles the parsing for animation-timing texts.\n **/\nexport abstract class AnimationTimingModel {\n  abstract asCSSText(): string;\n\n  static parse(text: string): AnimationTimingModel|null {\n    // Try to parse as a CSSLinearEasingModel first.\n    // The reason is: `linear` keyword is valid in both\n    // models, however we want to treat it as a `CSSLinearEasingModel`\n    // for visualizing in animation timing tool.\n    const cssLinearEasingModel = CSSLinearEasingModel.parse(text);\n    if (cssLinearEasingModel) {\n      return cssLinearEasingModel;\n    }\n\n    return Geometry.CubicBezier.parse(text) || null;\n  }\n}\n\nexport const LINEAR_BEZIER = Geometry.LINEAR_BEZIER;\n", "// Copyright 2023 The Chromium Authors\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\nimport * as CodeMirror from '../../../../third_party/codemirror.next/codemirror.next.js';\n\nconst cssParser = CodeMirror.css.cssLanguage.parser;\n\nexport interface Point {\n  input: number;\n  output: number;\n}\n\ninterface LinearStop {\n  number: number;\n  lengthA?: number;\n  lengthB?: number;\n}\n\nconst numberFormatter = new Intl.NumberFormat('en', {\n  maximumFractionDigits: 2,\n});\n\nfunction findNextDefinedInputIndex(points: Point[], currentIndex: number): number {\n  for (let i = currentIndex; i < points.length; i++) {\n    if (!isNaN(points[i].input)) {\n      return i;\n    }\n  }\n\n  return -1;\n}\n\nfunction consumeLinearStop(cursor: CodeMirror.TreeCursor, referenceText: string): LinearStop|null {\n  const tokens = [];\n  while (cursor.type.name !== ',' && cursor.type.name !== ')') {\n    const token = referenceText.substring(cursor.from, cursor.to);\n    if (cursor.type.name !== 'NumberLiteral') {\n      // There is something that is not a number inside the argument.\n      return null;\n    }\n\n    tokens.push(token);\n    cursor.next(false);\n  }\n\n  // Invalid syntax `linear(0 50% 60% 40%, 1)`.\n  if (tokens.length > 3) {\n    return null;\n  }\n\n  const percentages = tokens.filter(token => token.includes('%'));\n  // There can't be more than 2 percentages.\n  if (percentages.length > 2) {\n    return null;\n  }\n\n  const numbers = tokens.filter(token => !token.includes('%'));\n  // There must only be 1 number.\n  if (numbers.length !== 1) {\n    return null;\n  }\n\n  return {\n    number: Number(numbers[0]),\n    lengthA: percentages[0] ? Number(percentages[0].substring(0, percentages[0].length - 1)) : undefined,\n    lengthB: percentages[1] ? Number(percentages[1].substring(0, percentages[1].length - 1)) : undefined,\n  };\n}\n\nfunction consumeLinearFunction(text: string): LinearStop[]|null {\n  const textToParse = `*{--a: ${text}}`;\n  const parsed = cssParser.parse(textToParse);\n  // Take the cursor from declaration\n  const cursor = parsed.cursorAt(textToParse.indexOf(':') + 1);\n\n  // Move until the `ArgList`\n  while (cursor.name !== 'ArgList' && cursor.next(true)) {\n    // If the callee is not the `linear` function, return null\n    if (cursor.name === 'Callee' && textToParse.substring(cursor.from, cursor.to) !== 'linear') {\n      return null;\n    }\n  }\n\n  if (cursor.name !== 'ArgList') {\n    return null;\n  }\n\n  // We're on the `ArgList`, enter into it\n  cursor.firstChild();\n  const stops = [];\n  while (cursor.type.name !== ')' && cursor.next(false)) {\n    const linearStop = consumeLinearStop(cursor, textToParse);\n    if (!linearStop) {\n      // Parsing a `linearStop` was invalid; abort.\n      return null;\n    }\n\n    stops.push(linearStop);\n  }\n  return stops;\n}\n\nconst KeywordToValue: Record<string, string> = {\n  linear: 'linear(0 0%, 1 100%)',\n};\n\nexport class CSSLinearEasingModel {\n  #points: Point[];\n\n  constructor(points: Point[]) {\n    this.#points = points;\n  }\n\n  // https://w3c.github.io/csswg-drafts/css-easing/#linear-easing-function-parsing\n  static parse(text: string): CSSLinearEasingModel|null {\n    // Parse `linear` keyword as `linear(0 0%, 1 100%)` function.\n    if (KeywordToValue[text]) {\n      return CSSLinearEasingModel.parse(KeywordToValue[text]);\n    }\n\n    const stops = consumeLinearFunction(text);\n    // 1. Let function be a new linear easing function.\n    // 2. Let largestInput be negative infinity.\n    // 3. If there are less than two items in stopList, then return failure.\n    if (!stops || stops.length < 2) {\n      return null;\n    }\n\n    // 4. For each stop in stopList:\n    let largestInput = -Infinity;\n    const points: Point[] = [];\n    for (let i = 0; i < stops.length; i++) {\n      const stop = stops[i];\n      // 4.1. Let point be a new linear easing point with its output set\n      // to stop’s <number> as a number.\n      const point: Point = {input: NaN, output: stop.number};\n      // 4.2. Append point to function’s points.\n      points.push(point);\n\n      // 4.3. If stop has a <linear-stop-length>, then:\n      if (stop.lengthA !== undefined) {\n        // 4.3.1. Set point’s input to whichever is greater:\n        // stop’s <linear-stop-length>'s first <percentage> as a number,\n        // or largestInput.\n        point.input = Math.max(stop.lengthA, largestInput);\n        // 4.3.2. Set largestInput to point’s input.\n        largestInput = point.input;\n\n        // 4.3.3. If stop’s <linear-stop-length> has a second <percentage>, then:\n        if (stop.lengthB !== undefined) {\n          // 4.3.3.1. Let extraPoint be a new linear easing point with its output\n          // set to stop’s <number> as a number.\n          const extraPoint: Point = {input: NaN, output: point.output};\n          // 4.3.3.2. Append extraPoint to function’s points.\n          points.push(extraPoint);\n          // 4.3.3.3. Set extraPoint’s input to whichever is greater:\n          // stop’s <linear-stop-length>'s second <percentage>\n          // as a number, or largestInput.\n          extraPoint.input = Math.max(stop.lengthB, largestInput);\n          // 4.3.3.4. Set largestInput to extraPoint’s input.\n          largestInput = extraPoint.input;\n        }\n        // 4.4. Otherwise, if stop is the first item in stopList, then:\n      } else if (i === 0) {\n        // 4.4.1. Set point’s input to 0.\n        point.input = 0;\n        // 4.4.2. Set largestInput to 0.\n        largestInput = 0;\n        // 4.5. Otherwise, if stop is the last item in stopList,\n        // then set point’s input to whichever is greater: 1 or largestInput.\n      } else if (i === stops.length - 1) {\n        point.input = Math.max(100, largestInput);\n      }\n    }\n\n    // 5. For runs of items in function’s points that have a null input, assign a\n    // number to the input by linearly interpolating between the closest previous\n    // and next points that have a non-null input.\n    let upperIndex = 0;\n    for (let i = 1; i < points.length; i++) {\n      if (isNaN(points[i].input)) {\n        if (i > upperIndex) {\n          // Since the last point's input is always defined\n          // we know that `upperIndex` cannot be `-1`.\n          upperIndex = findNextDefinedInputIndex(points, i);\n        }\n\n        points[i].input =\n            points[i - 1].input + (points[upperIndex].input - points[i - 1].input) / (upperIndex - (i - 1));\n      }\n    }\n\n    return new CSSLinearEasingModel(points);\n  }\n\n  addPoint(point: Point, index?: number): void {\n    if (index !== undefined) {\n      this.#points.splice(index, 0, point);\n      return;\n    }\n\n    this.#points.push(point);\n  }\n\n  removePoint(index: number): void {\n    this.#points.splice(index, 1);\n  }\n\n  setPoint(index: number, point: Point): void {\n    this.#points[index] = point;\n  }\n\n  points(): Point[] {\n    return this.#points;\n  }\n\n  asCSSText(): string {\n    const args =\n        this.#points.map(point => `${numberFormatter.format(point.output)} ${numberFormatter.format(point.input)}%`)\n            .join(', ');\n    const text = `linear(${args})`;\n\n    // If a keyword matches to this function, return the keyword value of it.\n    for (const [keyword, value] of Object.entries(KeywordToValue)) {\n      if (value === text) {\n        return keyword;\n      }\n    }\n\n    return text;\n  }\n}\n", "// Copyright 2023 The Chromium Authors\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n/* eslint-disable @devtools/no-imperative-dom-api */\n\nimport * as Platform from '../../../../core/platform/platform.js';\nimport * as Geometry from '../../../../models/geometry/geometry.js';\nimport * as VisualLogging from '../../../visual_logging/visual_logging.js';\nimport * as UI from '../../legacy.js';\n\nimport type {AnimationTimingModel} from './AnimationTimingModel.js';\nimport {BezierUI} from './BezierUI.js';\nimport {CSSLinearEasingModel, type Point} from './CSSLinearEasingModel.js';\n\nconst DOUBLE_CLICK_DELAY = 500;\n\ninterface Params {\n  container: Element;\n  bezier: Geometry.CubicBezier;\n  onBezierChange: (bezier: Geometry.CubicBezier) => void;\n}\n\nclass BezierCurveUI {\n  #curveUI: BezierUI;\n  #bezier: Geometry.CubicBezier;\n  #curve: Element;\n  #mouseDownPosition?: Geometry.Point;\n  #controlPosition?: Geometry.Point;\n  #selectedPoint?: number;\n  #onBezierChange: (bezier: Geometry.CubicBezier) => void;\n\n  constructor({bezier, container, onBezierChange}: Params) {\n    this.#bezier = bezier;\n    this.#curveUI = new BezierUI({\n      width: 150,\n      height: 250,\n      marginTop: 50,\n      controlPointRadius: 7,\n      shouldDrawLine: true,\n    });\n\n    this.#curve = UI.UIUtils.createSVGChild(container, 'svg', 'bezier-curve');\n    this.#onBezierChange = onBezierChange;\n\n    UI.UIUtils.installDragHandle(\n        this.#curve, this.dragStart.bind(this), this.dragMove.bind(this), this.dragEnd.bind(this), 'default');\n  }\n\n  private dragStart(event: MouseEvent): boolean {\n    this.#mouseDownPosition = new Geometry.Point(event.x, event.y);\n    const ui = this.#curveUI;\n    this.#controlPosition = new Geometry.Point(\n        Platform.NumberUtilities.clamp((event.offsetX - ui.radius) / ui.curveWidth(), 0, 1),\n        (ui.curveHeight() + ui.marginTop + ui.radius - event.offsetY) / ui.curveHeight());\n\n    const firstControlPointIsCloser = this.#controlPosition.distanceTo(this.#bezier.controlPoints[0]) <\n        this.#controlPosition.distanceTo(this.#bezier.controlPoints[1]);\n    this.#selectedPoint = firstControlPointIsCloser ? 0 : 1;\n\n    this.#bezier.controlPoints[this.#selectedPoint] = this.#controlPosition;\n    this.#onBezierChange(this.#bezier);\n\n    event.consume(true);\n    return true;\n  }\n\n  private updateControlPosition(mouseX: number, mouseY: number): void {\n    if (this.#mouseDownPosition === undefined || this.#controlPosition === undefined ||\n        this.#selectedPoint === undefined) {\n      return;\n    }\n    const deltaX = (mouseX - this.#mouseDownPosition.x) / this.#curveUI.curveWidth();\n    const deltaY = (mouseY - this.#mouseDownPosition.y) / this.#curveUI.curveHeight();\n    const newPosition = new Geometry.Point(\n        Platform.NumberUtilities.clamp(this.#controlPosition.x + deltaX, 0, 1), this.#controlPosition.y - deltaY);\n    this.#bezier.controlPoints[this.#selectedPoint] = newPosition;\n  }\n\n  private dragMove(event: MouseEvent): void {\n    this.updateControlPosition(event.x, event.y);\n    this.#onBezierChange(this.#bezier);\n  }\n\n  private dragEnd(event: MouseEvent): void {\n    this.updateControlPosition(event.x, event.y);\n    this.#onBezierChange(this.#bezier);\n  }\n\n  setBezier(bezier: Geometry.CubicBezier): void {\n    this.#bezier = bezier;\n    this.draw();\n  }\n\n  draw(): void {\n    this.#curveUI.drawCurve(this.#bezier, this.#curve);\n  }\n}\n\ninterface LinearEasingPresentationParams {\n  width: number;\n  height: number;\n  marginTop: number;\n  pointRadius: number;\n}\ninterface Position {\n  x: number;\n  y: number;\n}\nclass LinearEasingPresentation {\n  params: LinearEasingPresentationParams;\n  renderedPositions?: Position[];\n\n  constructor(params: LinearEasingPresentationParams) {\n    this.params = params;\n  }\n\n  #curveWidth(): number {\n    return this.params.width - this.params.pointRadius * 2;\n  }\n\n  #curveHeight(): number {\n    return this.params.height - this.params.pointRadius * 2 - this.params.marginTop * 2;\n  }\n\n  #drawControlPoint(parentElement: Element, controlX: number, controlY: number, index: number): void {\n    const circle = UI.UIUtils.createSVGChild(parentElement, 'circle', 'bezier-control-circle');\n    circle.setAttribute(\n        'jslog', `${VisualLogging.controlPoint('bezier.linear-control-circle').track({drag: true, dblclick: true})}`);\n    circle.setAttribute('data-point-index', String(index));\n    circle.setAttribute('cx', String(controlX));\n    circle.setAttribute('cy', String(controlY));\n    circle.setAttribute('r', String(this.params.pointRadius));\n  }\n\n  timingPointToPosition(point: Point): Position {\n    return {\n      x: (point.input / 100) * this.#curveWidth() + this.params.pointRadius,\n      y: (1 - point.output) * this.#curveHeight() + this.params.pointRadius,\n    };\n  }\n\n  positionToTimingPoint(position: Position): Point {\n    return {\n      input: ((position.x - this.params.pointRadius) / this.#curveWidth()) * 100,\n      output: 1 - (position.y - this.params.pointRadius) / this.#curveHeight(),\n    };\n  }\n\n  draw(linearEasingModel: CSSLinearEasingModel, svg: Element): void {\n    svg.setAttribute('width', String(this.#curveWidth()));\n    svg.setAttribute('height', String(this.#curveHeight()));\n    svg.removeChildren();\n    const group = UI.UIUtils.createSVGChild(svg, 'g');\n\n    const positions = linearEasingModel.points().map(point => this.timingPointToPosition(point));\n    this.renderedPositions = positions;\n    let startingPoint = positions[0];\n    for (let i = 1; i < positions.length; i++) {\n      const position = positions[i];\n      const line = UI.UIUtils.createSVGChild(group, 'path', 'bezier-path linear-path');\n      line.setAttribute('d', `M ${startingPoint.x} ${startingPoint.y} L ${position.x} ${position.y}`);\n      line.setAttribute('data-line-index', String(i));\n      startingPoint = position;\n    }\n\n    for (let i = 0; i < positions.length; i++) {\n      const point = positions[i];\n      this.#drawControlPoint(group, point.x, point.y, i);\n    }\n  }\n}\n\nclass LinearEasingUI {\n  #model: CSSLinearEasingModel;\n  #onChange: (model: CSSLinearEasingModel) => void;\n  #presentation: LinearEasingPresentation;\n  #selectedPointIndex?: number;\n  #doubleClickTimer?: number;\n  #pointIndexForDoubleClick?: number;\n  #mouseDownPosition?: {x: number, y: number};\n\n  #svg: Element;\n\n  constructor({\n    model,\n    container,\n    onChange,\n  }: {\n    model: CSSLinearEasingModel,\n    container: HTMLElement,\n    onChange: (model: CSSLinearEasingModel) => void,\n  }) {\n    this.#model = model;\n    this.#onChange = onChange;\n    this.#presentation = new LinearEasingPresentation({\n      width: 150,\n      height: 250,\n      pointRadius: 7,\n      marginTop: 50,\n    });\n    this.#svg = UI.UIUtils.createSVGChild(container, 'svg', 'bezier-curve linear');\n\n    UI.UIUtils.installDragHandle(\n        this.#svg, this.#dragStart.bind(this), this.#dragMove.bind(this), this.#dragEnd.bind(this), 'default');\n  }\n\n  #handleLineClick(event: MouseEvent, lineIndex: number): void {\n    const newPoint = this.#presentation.positionToTimingPoint({x: event.offsetX, y: event.offsetY});\n    this.#model.addPoint(newPoint, lineIndex);\n    this.#selectedPointIndex = undefined;\n    this.#mouseDownPosition = undefined;\n  }\n\n  #handleControlPointClick(event: MouseEvent, pointIndex: number): void {\n    this.#selectedPointIndex = pointIndex;\n    this.#mouseDownPosition = {x: event.x, y: event.y};\n\n    // This is a workaround to understand whether the user double clicked\n    // a point or not. The reason is, we also want to handle drag interactions\n    // for the point and the way we install drag handlers (starting with mousedown event)\n    // doesn't allow us to register a `dblclick` handler. So, we're checking\n    // whether user double clicked (or mouse downed) a point with a timer.\n    // `#pointIndexForDoubleClick` holds the point clicked in a double click\n    // delay time frame. We reset that point after\n    // the DOUBLE_CLICK_DELAY time has passed.\n    clearTimeout(this.#doubleClickTimer);\n    if (this.#pointIndexForDoubleClick === this.#selectedPointIndex) {\n      this.#model.removePoint(this.#selectedPointIndex);\n      this.#pointIndexForDoubleClick = undefined;\n      this.#selectedPointIndex = undefined;\n      this.#mouseDownPosition = undefined;\n      return;\n    }\n\n    this.#pointIndexForDoubleClick = this.#selectedPointIndex;\n    this.#doubleClickTimer = window.setTimeout(() => {\n      this.#pointIndexForDoubleClick = undefined;\n    }, DOUBLE_CLICK_DELAY);\n  }\n\n  #dragStart(event: MouseEvent): boolean {\n    if (!(event.target instanceof SVGElement)) {\n      return false;\n    }\n\n    if (event.target.dataset.lineIndex !== undefined) {\n      this.#handleLineClick(event, Number(event.target.dataset.lineIndex));\n      event.consume(true);\n      return true;\n    }\n\n    if (event.target.dataset.pointIndex !== undefined) {\n      this.#handleControlPointClick(event, Number(event.target.dataset.pointIndex));\n      event.consume(true);\n      return true;\n    }\n\n    return false;\n  }\n\n  #updatePointPosition(mouseX: number, mouseY: number): void {\n    if (this.#selectedPointIndex === undefined || this.#mouseDownPosition === undefined) {\n      return;\n    }\n\n    const controlPosition = this.#presentation.renderedPositions?.[this.#selectedPointIndex];\n    if (!controlPosition) {\n      return;\n    }\n\n    const deltaX = mouseX - this.#mouseDownPosition.x;\n    const deltaY = mouseY - this.#mouseDownPosition.y;\n\n    this.#mouseDownPosition = {\n      x: mouseX,\n      y: mouseY,\n    };\n\n    const newPoint = {\n      x: controlPosition.x + deltaX,\n      y: controlPosition.y + deltaY,\n    };\n\n    this.#model.setPoint(this.#selectedPointIndex, this.#presentation.positionToTimingPoint(newPoint));\n  }\n\n  #dragMove(event: MouseEvent): void {\n    this.#updatePointPosition(event.x, event.y);\n    this.#onChange(this.#model);\n  }\n\n  #dragEnd(event: MouseEvent): void {\n    this.#updatePointPosition(event.x, event.y);\n    this.#onChange(this.#model);\n  }\n\n  setCSSLinearEasingModel(model: CSSLinearEasingModel): void {\n    this.#model = model;\n    this.draw();\n  }\n\n  draw(): void {\n    this.#presentation.draw(this.#model, this.#svg);\n  }\n}\n\nexport class PresetUI {\n  #linearEasingPresentation: LinearEasingPresentation;\n  #bezierPresentation: BezierUI;\n\n  constructor() {\n    this.#linearEasingPresentation = new LinearEasingPresentation({\n      width: 40,\n      height: 40,\n      marginTop: 0,\n      pointRadius: 2,\n    });\n\n    this.#bezierPresentation = new BezierUI({\n      width: 40,\n      height: 40,\n      marginTop: 0,\n      controlPointRadius: 2,\n      shouldDrawLine: false,\n    });\n  }\n\n  draw(model: AnimationTimingModel, svg: Element): void {\n    if (model instanceof CSSLinearEasingModel) {\n      this.#linearEasingPresentation.draw(model, svg);\n    } else if (model instanceof Geometry.CubicBezier) {\n      this.#bezierPresentation.drawCurve(model, svg);\n    }\n  }\n}\n\ninterface AnimationTimingUIParams {\n  model: AnimationTimingModel;\n  onChange: (model: AnimationTimingModel) => void;\n}\nexport class AnimationTimingUI {\n  #container: HTMLElement;\n  #bezierContainer: HTMLElement;\n  #linearEasingContainer: HTMLElement;\n  #model: AnimationTimingModel;\n  #onChange: (model: AnimationTimingModel) => void;\n  #bezierCurveUI?: BezierCurveUI;\n  #linearEasingUI?: LinearEasingUI;\n\n  constructor({model, onChange}: AnimationTimingUIParams) {\n    this.#container = document.createElement('div');\n    this.#container.className = 'animation-timing-ui';\n    this.#container.style.width = '150px';\n    this.#container.style.height = '250px';\n\n    this.#bezierContainer = document.createElement('div');\n    this.#bezierContainer.classList.add('bezier-ui-container');\n    this.#linearEasingContainer = document.createElement('div');\n    this.#linearEasingContainer.classList.add('linear-easing-ui-container');\n\n    this.#container.appendChild(this.#bezierContainer);\n    this.#container.appendChild(this.#linearEasingContainer);\n\n    this.#model = model;\n    this.#onChange = onChange;\n\n    if (this.#model instanceof Geometry.CubicBezier) {\n      this.#bezierCurveUI =\n          new BezierCurveUI({bezier: this.#model, container: this.#bezierContainer, onBezierChange: this.#onChange});\n    } else if (this.#model instanceof CSSLinearEasingModel) {\n      this.#linearEasingUI = new LinearEasingUI({\n        model: this.#model,\n        container: this.#linearEasingContainer,\n        onChange: this.#onChange,\n      });\n    }\n  }\n\n  element(): Element {\n    return this.#container;\n  }\n\n  setModel(model: AnimationTimingModel): void {\n    this.#model = model;\n    if (this.#model instanceof Geometry.CubicBezier) {\n      if (this.#bezierCurveUI) {\n        this.#bezierCurveUI.setBezier(this.#model);\n      } else {\n        this.#bezierCurveUI =\n            new BezierCurveUI({bezier: this.#model, container: this.#bezierContainer, onBezierChange: this.#onChange});\n      }\n    } else if (this.#model instanceof CSSLinearEasingModel) {\n      if (this.#linearEasingUI) {\n        this.#linearEasingUI.setCSSLinearEasingModel(this.#model);\n      } else {\n        this.#linearEasingUI =\n            new LinearEasingUI({model: this.#model, container: this.#linearEasingContainer, onChange: this.#onChange});\n      }\n    }\n\n    this.draw();\n  }\n\n  draw(): void {\n    this.#linearEasingContainer.classList.toggle('hidden', !(this.#model instanceof CSSLinearEasingModel));\n    this.#bezierContainer.classList.toggle('hidden', !(this.#model instanceof Geometry.CubicBezier));\n\n    if (this.#bezierCurveUI) {\n      this.#bezierCurveUI.draw();\n    }\n\n    if (this.#linearEasingUI) {\n      this.#linearEasingUI.draw();\n    }\n  }\n}\n", "// Copyright 2015 The Chromium Authors\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\nimport * as Geometry from '../../../../models/geometry/geometry.js';\nimport * as VisualLogging from '../../../visual_logging/visual_logging.js';\nimport * as UI from '../../legacy.js';\n\ninterface Params {\n  width: number;\n  height: number;\n  marginTop: number;\n  controlPointRadius: number;\n  shouldDrawLine: boolean;\n}\n\nexport class BezierUI {\n  width: number;\n  height: number;\n  marginTop: number;\n  radius: number;\n  shouldDrawLine: boolean;\n\n  constructor({width, height, marginTop, controlPointRadius, shouldDrawLine}: Params) {\n    this.width = width;\n    this.height = height;\n    this.marginTop = marginTop;\n    this.radius = controlPointRadius;\n    this.shouldDrawLine = shouldDrawLine;\n  }\n\n  static drawVelocityChart(bezier: Geometry.CubicBezier, path: Element, width: number): void {\n    const height = Height;\n    let pathBuilder: Array<string|number>|Array<string|number> = ['M', 0, height];\n    /** @constant */ const sampleSize = 1 / 40;\n\n    let prev = bezier.evaluateAt(0);\n    for (let t = sampleSize; t < 1 + sampleSize; t += sampleSize) {\n      const current = bezier.evaluateAt(t);\n      let slope: number = (current.y - prev.y) / (current.x - prev.x);\n      const weightedX = prev.x * (1 - t) + current.x * t;\n      slope = Math.tanh(slope / 1.5);  // Normalise slope\n      pathBuilder = pathBuilder.concat(['L', (weightedX * width).toFixed(2), (height - slope * height).toFixed(2)]);\n      prev = current;\n    }\n    pathBuilder = pathBuilder.concat(['L', width.toFixed(2), height, 'Z']);\n    path.setAttribute('d', pathBuilder.join(' '));\n  }\n\n  curveWidth(): number {\n    return this.width - this.radius * 2;\n  }\n\n  curveHeight(): number {\n    return this.height - this.radius * 2 - this.marginTop * 2;\n  }\n\n  private drawLine(parentElement: Element, className: string, x1: number, y1: number, x2: number, y2: number): void {\n    const line = UI.UIUtils.createSVGChild(parentElement, 'line', className);\n    line.setAttribute('x1', String(x1 + this.radius));\n    line.setAttribute('y1', String(y1 + this.radius + this.marginTop));\n    line.setAttribute('x2', String(x2 + this.radius));\n    line.setAttribute('y2', String(y2 + this.radius + this.marginTop));\n  }\n\n  private drawControlPoints(parentElement: Element, startX: number, startY: number, controlX: number, controlY: number):\n      void {\n    this.drawLine(parentElement, 'bezier-control-line', startX, startY, controlX, controlY);\n    const circle = UI.UIUtils.createSVGChild(parentElement, 'circle', 'bezier-control-circle');\n    circle.setAttribute('jslog', `${VisualLogging.controlPoint('bezier.control-circle').track({drag: true})}`);\n    circle.setAttribute('cx', String(controlX + this.radius));\n    circle.setAttribute('cy', String(controlY + this.radius + this.marginTop));\n    circle.setAttribute('r', String(this.radius));\n  }\n\n  drawCurve(bezier: Geometry.CubicBezier|null, svg: Element): void {\n    if (!bezier) {\n      return;\n    }\n    const width = this.curveWidth();\n    const height = this.curveHeight();\n    svg.setAttribute('width', String(this.width));\n    svg.setAttribute('height', String(this.height));\n    svg.removeChildren();\n    const group = UI.UIUtils.createSVGChild(svg, 'g');\n\n    if (this.shouldDrawLine) {\n      this.drawLine(group, 'linear-line', 0, height, width, 0);\n    }\n\n    const curve = UI.UIUtils.createSVGChild(group, 'path', 'bezier-path');\n    const curvePoints = [\n      new Geometry.Point(\n          bezier.controlPoints[0].x * width + this.radius,\n          (1 - bezier.controlPoints[0].y) * height + this.radius + this.marginTop),\n      new Geometry.Point(\n          bezier.controlPoints[1].x * width + this.radius,\n          (1 - bezier.controlPoints[1].y) * height + this.radius + this.marginTop),\n      new Geometry.Point(width + this.radius, this.marginTop + this.radius),\n    ];\n    curve.setAttribute(\n        'd', 'M' + this.radius + ',' + (height + this.radius + this.marginTop) + ' C' + curvePoints.join(' '));\n\n    this.drawControlPoints(\n        group, 0, height, bezier.controlPoints[0].x * width, (1 - bezier.controlPoints[0].y) * height);\n    this.drawControlPoints(\n        group, width, 0, bezier.controlPoints[1].x * width, (1 - bezier.controlPoints[1].y) * height);\n  }\n}\n\nexport const Height = 26;\n", "// Copyright 2015 The Chromium Authors\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n/* eslint-disable @devtools/no-imperative-dom-api */\n\nimport * as Common from '../../../../core/common/common.js';\nimport * as VisualLogging from '../../../visual_logging/visual_logging.js';\nimport * as UI from '../../legacy.js';\n\nimport {AnimationTimingModel} from './AnimationTimingModel.js';\nimport {AnimationTimingUI, PresetUI} from './AnimationTimingUI.js';\nimport bezierEditorStyles from './bezierEditor.css.js';\n\nconst PREVIEW_ANIMATION_DEBOUNCE_DELAY = 300;\n\nexport class BezierEditor extends Common.ObjectWrapper.eventMixin<EventTypes, typeof UI.Widget.VBox>(UI.Widget.VBox) {\n  private model: AnimationTimingModel;\n  private previewElement: HTMLElement;\n  private readonly previewOnion: HTMLElement;\n  private readonly outerContainer: HTMLElement;\n  private selectedCategory: PresetCategory|null;\n  private readonly presetsContainer: HTMLElement;\n  private readonly presetUI: PresetUI;\n  private readonly presetCategories: PresetCategory[];\n  private animationTimingUI?: AnimationTimingUI;\n  private readonly header: HTMLElement;\n  private label: HTMLElement;\n  private previewAnimation?: Animation;\n  private debouncedStartPreviewAnimation: () => void;\n\n  constructor(model: AnimationTimingModel) {\n    super({useShadowDom: true});\n    this.registerRequiredCSS(bezierEditorStyles);\n\n    this.model = model;\n    this.contentElement.tabIndex = 0;\n    this.contentElement.setAttribute(\n        'jslog', `${VisualLogging.dialog('bezierEditor').parent('mapped').track({keydown: 'Enter|Escape'})}`);\n    this.setDefaultFocusedElement(this.contentElement);\n    this.element.style.overflowY = 'auto';\n\n    // Preview UI\n    this.previewElement = this.contentElement.createChild('div', 'bezier-preview-container');\n    this.previewElement.setAttribute('jslog', `${VisualLogging.preview().track({click: true})}`);\n    this.previewElement.createChild('div', 'bezier-preview-animation');\n    this.previewElement.addEventListener('click', this.startPreviewAnimation.bind(this));\n    this.previewOnion = this.contentElement.createChild('div', 'bezier-preview-onion');\n    this.previewOnion.setAttribute('jslog', `${VisualLogging.preview().track({click: true})}`);\n    this.previewOnion.addEventListener('click', this.startPreviewAnimation.bind(this));\n\n    this.outerContainer = this.contentElement.createChild('div', 'bezier-container');\n\n    // Presets UI\n    this.selectedCategory = null;\n    this.presetsContainer = this.outerContainer.createChild('div', 'bezier-presets');\n    this.presetUI = new PresetUI();\n\n    this.presetCategories = [];\n    for (let i = 0; i < Presets.length; i++) {\n      const category = this.createCategory(Presets[i]);\n      if (!category) {\n        continue;\n      }\n\n      this.presetCategories[i] = category;\n      this.presetsContainer.appendChild(this.presetCategories[i].icon);\n    }\n\n    // Curve UI\n    this.debouncedStartPreviewAnimation =\n        Common.Debouncer.debounce(this.startPreviewAnimation.bind(this), PREVIEW_ANIMATION_DEBOUNCE_DELAY);\n    this.animationTimingUI = new AnimationTimingUI({\n      model: this.model,\n      onChange: (model: AnimationTimingModel) => {\n        this.setModel(model);\n        this.onchange();\n        this.unselectPresets();\n        this.debouncedStartPreviewAnimation();\n      },\n    });\n    this.animationTimingUI.element().setAttribute(\n        'jslog', `${VisualLogging.bezierCurveEditor().track({click: true, drag: true})}`);\n    this.outerContainer.appendChild(this.animationTimingUI.element());\n\n    this.header = this.contentElement.createChild('div', 'bezier-header');\n    const minus = this.createPresetModifyIcon(this.header, 'bezier-preset-minus', 'M 12 6 L 8 10 L 12 14');\n    minus.addEventListener('click', this.presetModifyClicked.bind(this, false));\n    minus.setAttribute('jslog', `${VisualLogging.action('bezier.prev-preset').track({click: true})}`);\n    const plus = this.createPresetModifyIcon(this.header, 'bezier-preset-plus', 'M 8 6 L 12 10 L 8 14');\n    plus.addEventListener('click', this.presetModifyClicked.bind(this, true));\n    plus.setAttribute('jslog', `${VisualLogging.action('bezier.next-preset').track({click: true})}`);\n    this.label = this.header.createChild('span', 'source-code bezier-display-value');\n  }\n\n  setModel(model: AnimationTimingModel): void {\n    this.model = model;\n    this.animationTimingUI?.setModel(this.model);\n    this.updateUI();\n  }\n\n  override wasShown(): void {\n    super.wasShown();\n    this.unselectPresets();\n    // Check if bezier matches a preset\n    for (const category of this.presetCategories) {\n      for (let i = 0; i < category.presets.length; i++) {\n        if (this.model.asCSSText() === category.presets[i].value) {\n          category.presetIndex = i;\n          this.presetCategorySelected(category);\n        }\n      }\n    }\n\n    this.updateUI();\n    this.startPreviewAnimation();\n  }\n\n  private onchange(): void {\n    this.updateUI();\n    this.dispatchEventToListeners(Events.BEZIER_CHANGED, this.model.asCSSText());\n  }\n\n  private updateUI(): void {\n    const labelText = this.selectedCategory ? this.selectedCategory.presets[this.selectedCategory.presetIndex].name :\n                                              this.model.asCSSText().replace(/\\s(-\\d\\.\\d)/g, '$1');\n    this.label.textContent = labelText;\n    this.animationTimingUI?.draw();\n  }\n\n  private createCategory(presetGroup: Array<{\n    name: string,\n    value: string,\n  }>): PresetCategory|null {\n    const pivot = AnimationTimingModel.parse(presetGroup[0].value);\n    if (!pivot) {\n      return null;\n    }\n\n    const presetElement = document.createElement('div');\n    presetElement.classList.add('bezier-preset-category');\n    presetElement.setAttribute(\n        'jslog', `${VisualLogging.bezierPresetCategory().track({click: true}).context(presetGroup[0].name)}`);\n    const iconElement = UI.UIUtils.createSVGChild(presetElement, 'svg', 'bezier-preset monospace');\n    const category = {presets: presetGroup, presetIndex: 0, icon: presetElement};\n    this.presetUI.draw(pivot, iconElement);\n    iconElement.addEventListener('click', this.presetCategorySelected.bind(this, category));\n    return category;\n  }\n\n  private createPresetModifyIcon(parentElement: Element, className: string, drawPath: string): SVGElement {\n    const icon = UI.UIUtils.createSVGChild(parentElement, 'svg', 'bezier-preset-modify ' + className);\n    icon.setAttribute('width', '20');\n    icon.setAttribute('height', '20');\n    const path = UI.UIUtils.createSVGChild(icon, 'path');\n    path.setAttribute('d', drawPath);\n    return icon;\n  }\n\n  private unselectPresets(): void {\n    for (const category of this.presetCategories) {\n      category.icon.classList.remove('bezier-preset-selected');\n    }\n    this.selectedCategory = null;\n    this.header.classList.remove('bezier-header-active');\n  }\n\n  private presetCategorySelected(category: PresetCategory, event?: Event): void {\n    if (this.selectedCategory === category) {\n      return;\n    }\n    this.unselectPresets();\n    this.header.classList.add('bezier-header-active');\n    this.selectedCategory = category;\n    this.selectedCategory.icon.classList.add('bezier-preset-selected');\n    const newModel = AnimationTimingModel.parse(category.presets[category.presetIndex].value);\n    if (newModel) {\n      this.setModel(newModel);\n      this.onchange();\n      this.startPreviewAnimation();\n    }\n    if (event) {\n      event.consume(true);\n    }\n  }\n\n  private presetModifyClicked(intensify: boolean, _event: Event): void {\n    if (this.selectedCategory === null) {\n      return;\n    }\n\n    const length = this.selectedCategory.presets.length;\n    this.selectedCategory.presetIndex = (this.selectedCategory.presetIndex + (intensify ? 1 : -1) + length) % length;\n    const selectedPreset = this.selectedCategory.presets[this.selectedCategory.presetIndex].value;\n    const newModel = AnimationTimingModel.parse(selectedPreset);\n    if (newModel) {\n      this.setModel(newModel);\n      this.onchange();\n      this.startPreviewAnimation();\n    }\n  }\n\n  private startPreviewAnimation(): void {\n    this.previewOnion.removeChildren();\n\n    if (this.previewAnimation) {\n      this.previewAnimation.cancel();\n    }\n\n    const animationDuration = 1600;\n    const numberOnionSlices = 20;\n\n    const keyframes = [\n      {offset: 0, transform: 'translateX(0px)', opacity: 1},\n      {offset: 1, transform: 'translateX(218px)', opacity: 1},\n    ];\n    this.previewAnimation = this.previewElement.animate(keyframes, {\n      easing: this.model.asCSSText(),\n      duration: animationDuration,\n    });\n    this.previewOnion.removeChildren();\n    for (let i = 0; i <= numberOnionSlices; i++) {\n      const slice = this.previewOnion.createChild('div', 'bezier-preview-animation');\n      const player = slice.animate(\n          [{transform: 'translateX(0px)', easing: this.model.asCSSText()}, {transform: 'translateX(218px)'}],\n          {duration: animationDuration, fill: 'forwards'});\n      player.pause();\n      player.currentTime = animationDuration * i / numberOnionSlices;\n    }\n  }\n}\n\nexport const enum Events {\n  BEZIER_CHANGED = 'BezierChanged',\n}\n\nexport interface EventTypes {\n  [Events.BEZIER_CHANGED]: string;\n}\n\nexport const Presets = [\n  [\n    {name: 'linear', value: 'linear'},\n    {\n      name: 'elastic',\n      value:\n          'linear(0 0%, 0.22 2.1%, 0.86 6.5%, 1.11 8.6%, 1.3 10.7%, 1.35 11.8%, 1.37 12.9%, 1.37 13.7%, 1.36 14.5%, 1.32 16.2%, 1.03 21.8%, 0.94 24%, 0.89 25.9%, 0.88 26.85%, 0.87 27.8%, 0.87 29.25%, 0.88 30.7%, 0.91 32.4%, 0.98 36.4%, 1.01 38.3%, 1.04 40.5%, 1.05 42.7%, 1.05 44.1%, 1.04 45.7%, 1 53.3%, 0.99 55.4%, 0.98 57.5%, 0.99 60.7%, 1 68.1%, 1.01 72.2%, 1 86.7%, 1 100%)',\n    },\n    {\n      name: 'bounce',\n      value:\n          'linear(0 0%, 0 2.27%, 0.02 4.53%, 0.04 6.8%, 0.06 9.07%, 0.1 11.33%, 0.14 13.6%, 0.25 18.15%, 0.39 22.7%, 0.56 27.25%, 0.77 31.8%, 1 36.35%, 0.89 40.9%, 0.85 43.18%, 0.81 45.45%, 0.79 47.72%, 0.77 50%, 0.75 52.27%, 0.75 54.55%, 0.75 56.82%, 0.77 59.1%, 0.79 61.38%, 0.81 63.65%, 0.85 65.93%, 0.89 68.2%, 1 72.7%, 0.97 74.98%, 0.95 77.25%, 0.94 79.53%, 0.94 81.8%, 0.94 84.08%, 0.95 86.35%, 0.97 88.63%, 1 90.9%, 0.99 93.18%, 0.98 95.45%, 0.99 97.73%, 1 100%)',\n    },\n    {\n      name: 'emphasized',\n      value:\n          'linear(0 0%, 0 1.8%, 0.01 3.6%, 0.03 6.35%, 0.07 9.1%, 0.13 11.4%, 0.19 13.4%, 0.27 15%, 0.34 16.1%, 0.54 18.35%, 0.66 20.6%, 0.72 22.4%, 0.77 24.6%, 0.81 27.3%, 0.85 30.4%, 0.88 35.1%, 0.92 40.6%, 0.94 47.2%, 0.96 55%, 0.98 64%, 0.99 74.4%, 1 86.4%, 1 100%)',\n    },\n  ],\n  [\n    {name: 'ease-in-out', value: 'ease-in-out'},\n    {name: 'In Out · Sine', value: 'cubic-bezier(0.45, 0.05, 0.55, 0.95)'},\n    {name: 'In Out · Quadratic', value: 'cubic-bezier(0.46, 0.03, 0.52, 0.96)'},\n    {name: 'In Out · Cubic', value: 'cubic-bezier(0.65, 0.05, 0.36, 1)'},\n    {name: 'Fast Out, Slow In', value: 'cubic-bezier(0.4, 0, 0.2, 1)'},\n    {name: 'In Out · Back', value: 'cubic-bezier(0.68, -0.55, 0.27, 1.55)'},\n  ],\n  [\n    {name: 'Fast Out, Linear In', value: 'cubic-bezier(0.4, 0, 1, 1)'},\n    {name: 'ease-in', value: 'ease-in'},\n    {name: 'In · Sine', value: 'cubic-bezier(0.47, 0, 0.75, 0.72)'},\n    {name: 'In · Quadratic', value: 'cubic-bezier(0.55, 0.09, 0.68, 0.53)'},\n    {name: 'In · Cubic', value: 'cubic-bezier(0.55, 0.06, 0.68, 0.19)'},\n    {name: 'In · Back', value: 'cubic-bezier(0.6, -0.28, 0.74, 0.05)'},\n  ],\n  [\n    {name: 'ease-out', value: 'ease-out'},\n    {name: 'Out · Sine', value: 'cubic-bezier(0.39, 0.58, 0.57, 1)'},\n    {name: 'Out · Quadratic', value: 'cubic-bezier(0.25, 0.46, 0.45, 0.94)'},\n    {name: 'Out · Cubic', value: 'cubic-bezier(0.22, 0.61, 0.36, 1)'},\n    {name: 'Linear Out, Slow In', value: 'cubic-bezier(0, 0, 0.2, 1)'},\n    {name: 'Out · Back', value: 'cubic-bezier(0.18, 0.89, 0.32, 1.28)'},\n  ],\n];\nexport interface PresetCategory {\n  presets: Array<{\n    name: string,\n    value: string,\n  }>;\n  icon: Element;\n  presetIndex: number;\n}\n", "// Copyright 2025 The Chromium Authors\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n// IMPORTANT: this file is auto generated. Please do not edit this file.\n/* istanbul ignore file */\nexport default `/*\n * Copyright 2015 The Chromium Authors\n * Use of this source code is governed by a BSD-style license that can be\n * found in the LICENSE file.\n */\n\n:host {\n  width: 270px;\n  height: 350px;\n  user-select: none;\n  padding: 16px;\n  overflow: hidden;\n}\n\n.bezier-preset-selected > svg {\n  background-color: var(--sys-color-tonal-container);\n}\n\n.bezier-container {\n  --override-bezier-control-color: var(--sys-color-purple-bright);\n\n  display: flex;\n  margin-top: 38px;\n  flex-shrink: 0;\n  /* overflown bezier visualization must be on top of the source text */\n  z-index: 2;\n  background-image: radial-gradient(circle, var(--sys-color-surface-variant) 1px, var(--color-background-inverted-opacity-0) 1px);\n  background-size: 17px 17px;\n  background-position: -5px -10px;\n}\n\n.bezier-preset {\n  width: 50px;\n  height: 50px;\n  padding: 5px;\n  margin: auto;\n  background-color: var(--sys-color-surface1);\n  border-radius: 3px;\n}\n\n.bezier-preset line.bezier-control-line {\n  stroke: var(--sys-color-token-subtle);\n  stroke-width: 1;\n  stroke-linecap: round;\n  fill: none;\n}\n\n.bezier-preset circle.bezier-control-circle {\n  fill: var(--sys-color-token-subtle);\n}\n\n.bezier-preset path.bezier-path {\n  stroke: var(--sys-color-inverse-surface);\n  stroke-width: 2;\n  stroke-linecap: round;\n  fill: none;\n}\n\n.bezier-preset-selected path.bezier-path,\n.bezier-preset-selected line.bezier-control-line {\n  stroke: var(--sys-color-on-tonal-container);\n}\n\n.bezier-preset-selected circle.bezier-control-circle {\n  fill: var(--sys-color-on-tonal-container);\n}\n\n.bezier-curve line.linear-line {\n  stroke: var(--sys-color-neutral-outline);\n  stroke-width: 2;\n  stroke-linecap: round;\n  fill: none;\n}\n\n.bezier-curve line.bezier-control-line {\n  stroke: var(--override-bezier-control-color);\n  stroke-width: 2;\n  stroke-linecap: round;\n  fill: none;\n  opacity: 60%;\n}\n\n.bezier-curve circle.bezier-control-circle {\n  fill: var(--override-bezier-control-color);\n  cursor: pointer;\n}\n\n.bezier-curve path.bezier-path {\n  stroke: var(--sys-color-inverse-surface);\n  stroke-width: 3;\n  stroke-linecap: round;\n  fill: none;\n}\n\n.bezier-curve path.bezier-path.linear-path {\n  cursor: pointer;\n}\n\n.bezier-preview-container {\n  position: relative;\n  background-color: var(--sys-color-cdt-base-container);\n  overflow: hidden;\n  border-radius: 20px;\n  width: 200%;\n  height: 20px;\n  z-index: 2;\n  flex-shrink: 0;\n  opacity: 0%;\n}\n\n.bezier-preview-animation {\n  background-color: var(--sys-color-purple-bright);\n  width: 20px;\n  height: 20px;\n  border-radius: 20px;\n  position: absolute;\n}\n\n.bezier-preview-onion {\n  margin-top: -20px;\n  position: relative;\n  z-index: 1;\n}\n\n.bezier-preview-onion > .bezier-preview-animation {\n  opacity: 10%;\n}\n\nsvg.bezier-preset-modify {\n  background-color: var(--sys-color-cdt-base-container);\n  border-radius: 35px;\n  display: inline-block;\n  visibility: hidden;\n  transition: transform 100ms cubic-bezier(0.4, 0, 0.2, 1);\n  cursor: pointer;\n  position: absolute;\n}\n\nsvg.bezier-preset-modify:hover,\n.bezier-preset:hover {\n  background-color: var(--sys-color-state-hover-on-subtle);\n}\n\n.bezier-preset-selected .bezier-preset:hover {\n  background-color: var(--sys-color-tonal-container);\n}\n\n.bezier-preset-modify path {\n  stroke-width: 2;\n  stroke: var(--sys-color-on-surface-subtle);\n  fill: none;\n}\n\n.bezier-presets {\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n}\n\n.bezier-preset-selected .bezier-preset-modify {\n  opacity: 100%;\n}\n\n.bezier-preset-category {\n  width: 50px;\n  cursor: pointer;\n  transition: transform 100ms cubic-bezier(0.4, 0, 0.2, 1);\n}\n\nspan.bezier-display-value {\n  width: 100%;\n  user-select: text;\n  display: block;\n  text-align: center;\n  line-height: 20px;\n  min-height: 20px;\n  cursor: text;\n}\n\nsvg.bezier-curve {\n  margin-left: 32px;\n  margin-top: -8px;\n}\n\nsvg.bezier-curve.linear {\n  margin-top: 42px;\n  overflow: visible;\n}\n\nsvg.bezier-preset-modify.bezier-preset-plus {\n  right: 0;\n}\n\n.bezier-header {\n  margin-top: 16px;\n  z-index: 1;\n}\n\nsvg.bezier-preset-modify:active {\n  transform: scale(1.1);\n  background-color: var(--sys-color-state-ripple-neutral-on-subtle);\n}\n\n.bezier-preset-category:active {\n  transform: scale(1.05);\n}\n\n.bezier-header-active > svg.bezier-preset-modify {\n  visibility: visible;\n}\n\n.bezier-preset-modify:active path {\n  stroke: var(--sys-color-on-surface-subtle);\n}\n\n/*# sourceURL=${import.meta.resolve('./bezierEditor.css')} */`;", "// Copyright 2022 The Chromium Authors\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n/* eslint-disable @devtools/no-lit-render-outside-of-view */\n\nimport * as Common from '../../../../core/common/common.js';\nimport * as Platform from '../../../../core/platform/platform.js';\nimport * as Lit from '../../../lit/lit.js';\nimport * as VisualLogging from '../../../visual_logging/visual_logging.js';\n\nimport colorMixSwatchStyles from './colorMixSwatch.css.js';\n\nconst {html, render, Directives: {ref}} = Lit;\n\nexport class ColorMixChangedEvent extends Event {\n  static readonly eventName = 'colormixchanged';\n\n  data: {text: string};\n\n  constructor(text: string) {\n    super(ColorMixChangedEvent.eventName, {});\n    this.data = {text};\n  }\n}\n\nexport class ColorMixSwatch extends HTMLElement {\n  private readonly shadow = this.attachShadow({mode: 'open'});\n  private colorMixText = '';     // color-mix(in srgb, hotpink, white)\n  private firstColorText = '';   // hotpink\n  private secondColorText = '';  // white\n  #icon: HTMLElement|null = null;\n\n  mixedColor(): Common.Color.Color|null {\n    const colorText = this.#icon?.computedStyleMap().get('color')?.toString() ?? null;\n    return colorText ? Common.Color.parse(colorText) : null;\n  }\n\n  setFirstColor(text: string): void {\n    // We need to replace `colorMixText` because it is the CSS for the\n    // the middle section where we actually show the mixed colors.\n    // So, when a color changed, we need to update colorMixText to\n    // reflect the new color (not the old one).\n    if (this.firstColorText) {\n      this.colorMixText = this.colorMixText.replace(this.firstColorText, text);\n    }\n    this.firstColorText = text;\n    this.dispatchEvent(new ColorMixChangedEvent(this.colorMixText));\n    this.#render();\n  }\n\n  setSecondColor(text: string): void {\n    // We need to replace from the last to handle the same colors case\n    // i.e. replacing the second color of `color-mix(in srgb, red 50%, red 10%)`\n    // to `blue` should result in `color-mix(in srgb, red 50%, blue 10%)`.\n    if (this.secondColorText) {\n      this.colorMixText = Platform.StringUtilities.replaceLast(this.colorMixText, this.secondColorText, text);\n    }\n    this.secondColorText = text;\n    this.dispatchEvent(new ColorMixChangedEvent(this.colorMixText));\n    this.#render();\n  }\n\n  setColorMixText(text: string): void {\n    this.colorMixText = text;\n    this.dispatchEvent(new ColorMixChangedEvent(this.colorMixText));\n    this.#render();\n  }\n\n  getText(): string {\n    return this.colorMixText;\n  }\n\n  #render(): void {\n    if (!this.colorMixText || !this.firstColorText || !this.secondColorText) {\n      render(this.colorMixText, this.shadow, {host: this});\n      return;\n    }\n\n    // Disabled until https://crbug.com/1079231 is fixed.\n    // clang-format off\n\n    // Note that we use a <slot> with a default value here to display the color text. Consumers of this component are\n    // free to append any content to replace what is being shown here.\n    // Note also that whitespace between nodes is removed on purpose to avoid pushing these elements apart. Do not\n    // re-format the HTML code.\n    render(\n      html`<style>${colorMixSwatchStyles}</style><div class=\"swatch-icon\"\n      ${ref(e => {this.#icon = e as HTMLElement; })}\n      jslog=${VisualLogging.cssColorMix()}\n      style=\"--color: ${this.colorMixText}\">\n        <span class=\"swatch swatch-left\" id=\"swatch-1\" style=\"--color: ${this.firstColorText}\"></span>\n        <span class=\"swatch swatch-right\" id=\"swatch-2\" style=\"--color: ${this.secondColorText}\"></span>\n        <span class=\"swatch swatch-mix\" id=\"mix-result\" style=\"--color: ${this.colorMixText}\"></span></div>`,\n      this.shadow, {host: this});\n    // clang-format on\n  }\n}\n\ncustomElements.define('devtools-color-mix-swatch', ColorMixSwatch);\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    'devtools-color-mix-swatch': ColorMixSwatch;\n  }\n\n  interface HTMLElementEventMap {\n    [ColorMixChangedEvent.eventName]: ColorMixChangedEvent;\n  }\n}\n", "// Copyright 2025 The Chromium Authors\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n// IMPORTANT: this file is auto generated. Please do not edit this file.\n/* istanbul ignore file */\nexport default `/*\n * Copyright 2022 The Chromium Authors\n * Use of this source code is governed by a BSD-style license that can be\n * found in the LICENSE file.\n */\n\n.swatch-icon {\n  display: inline-grid;\n  inline-size: 15px;\n  grid: [stack] 1fr / [stack] 1fr;\n  margin-left: 1px;\n  margin-right: 1px;\n  vertical-align: -1px;\n  color: var(--color); /* stylelint-disable-line plugin/use_theme_colors */\n}\n\n.swatch {\n  aspect-ratio: 1 / 1;\n  display: inline-block;\n  width: 10px;\n  border-radius: 1e5px;\n  /* stylelint-disable-next-line plugin/use_theme_colors */\n  background: linear-gradient(var(--color), var(--color)),\n    var(--image-file-checker);\n  box-shadow: inset 0 0 0 0.5px rgb(128 128 128 / 60%); /* stylelint-disable-line plugin/use_theme_colors */\n  grid-area: stack;\n}\n\n.swatch-right {\n  justify-self: end;\n}\n\n.swatch-mix {\n  box-shadow: none;\n  justify-self: end;\n  mask: radial-gradient(\n    circle at 0% center,\n    rgb(0 0 0) 50%,\n    rgb(0 0 0 / 0%) calc(50% + 0.5px)\n  );\n}\n\n/*# sourceURL=${import.meta.resolve('./colorMixSwatch.css')} */`;", "// Copyright 2020 The Chromium Authors\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n/* eslint-disable @devtools/no-lit-render-outside-of-view */\n\nimport type * as Common from '../../../../core/common/common.js';\nimport * as i18n from '../../../../core/i18n/i18n.js';\nimport * as ColorPicker from '../../../legacy/components/color_picker/color_picker.js';\nimport * as Lit from '../../../lit/lit.js';\nimport * as VisualLogging from '../../../visual_logging/visual_logging.js';\n\nimport colorSwatchStyles from './colorSwatch.css.js';\n\nconst {html} = Lit;\n\nconst UIStrings = {\n  /**\n   * @description Icon element title in Color Swatch of the inline editor in the Styles tab\n   */\n  shiftclickToChangeColorFormat: 'Shift-click to change color format',\n} as const;\nconst str_ = i18n.i18n.registerUIStrings('ui/legacy/components/inline_editor/ColorSwatch.ts', UIStrings);\nconst i18nString = i18n.i18n.getLocalizedString.bind(undefined, str_);\n\nexport class ColorFormatChangedEvent extends Event {\n  static readonly eventName = 'colorformatchanged';\n\n  data: {color: Common.Color.Color};\n\n  constructor(color: Common.Color.Color) {\n    super(ColorFormatChangedEvent.eventName, {});\n    this.data = {color};\n  }\n}\n\nexport class ColorChangedEvent extends Event {\n  static readonly eventName = 'colorchanged';\n\n  data: {color: Common.Color.Color};\n\n  constructor(color: Common.Color.Color) {\n    super(ColorChangedEvent.eventName, {});\n    this.data = {color};\n  }\n}\n\nexport class ClickEvent extends Event {\n  static readonly eventName = 'swatchclick';\n\n  constructor() {\n    super(ClickEvent.eventName, {});\n  }\n}\n\nexport class ColorSwatch extends HTMLElement {\n  readonly #shadow = this.attachShadow({mode: 'open'});\n  #tooltip: string = i18nString(UIStrings.shiftclickToChangeColorFormat);\n  #color: Common.Color.Color|null = null;\n  #readonly = false;\n\n  constructor(tooltip?: string) {\n    super();\n    if (tooltip) {\n      this.#tooltip = tooltip;\n    }\n    this.tabIndex = -1;\n    this.addEventListener('keydown', e => this.#onActivate(e));\n  }\n\n  static isColorSwatch(element: Element): element is ColorSwatch {\n    return element.localName === 'devtools-color-swatch';\n  }\n\n  get readonly(): boolean {\n    return this.#readonly;\n  }\n\n  set readonly(readonly: boolean) {\n    if (this.#readonly === readonly) {\n      return;\n    }\n\n    this.#readonly = readonly;\n    if (this.#color) {\n      this.color = this.#color;\n    }\n  }\n\n  get color(): Common.Color.Color|null {\n    return this.#color;\n  }\n\n  get anchorBox(): AnchorBox|null {\n    const swatch = this.#shadow.querySelector('.color-swatch');\n    return swatch ? swatch.boxInWindow() : null;\n  }\n\n  getText(): string|undefined {\n    return this.#color?.getAuthoredText() ?? this.#color?.asString();\n  }\n\n  /**\n   * Render this swatch given a color object or text to be parsed as a color.\n   * @param color The color object or string to use for this swatch.\n   */\n  set color(color: Common.Color.Color) {\n    this.#color = color;\n\n    const colorSwatchClasses = Lit.Directives.classMap({\n      'color-swatch': true,\n      readonly: this.#readonly,\n    });\n\n    // Disabled until https://crbug.com/1079231 is fixed.\n    // clang-format off\n    // Note that we use a <slot> with a default value here to display the color text. Consumers of this component are\n    // free to append any content to replace what is being shown here.\n    // Note also that whitespace between nodes is removed on purpose to avoid pushing these elements apart. Do not\n    // re-format the HTML code.\n    Lit.render(\n      html`<style>${colorSwatchStyles}</style><span\n          class=${colorSwatchClasses}\n          title=${this.#tooltip}><span\n            class=\"color-swatch-inner\"\n            style=\"background-color: ${color.asString()};\"\n            jslog=${VisualLogging.showStyleEditor('color').track({click: true})}\n            @click=${this.#onActivate}\n            @mousedown=${this.#consume}\n            @dblclick=${this.#consume}></span></span>`,\n      this.#shadow, {host: this});\n    // clang-format on\n    this.dispatchEvent(new ColorChangedEvent(color));\n  }\n\n  #onActivate(e: KeyboardEvent|MouseEvent): void {\n    if (this.#readonly) {\n      return;\n    }\n\n    if ((e instanceof KeyboardEvent && e.key !== 'Enter' && e.key !== ' ') ||\n        (e instanceof MouseEvent && e.button > 1)) {\n      return;\n    }\n\n    if (e.shiftKey) {\n      e.stopPropagation();\n      this.#showFormatPicker(e);\n      return;\n    }\n\n    this.dispatchEvent(new ClickEvent());\n    this.#consume(e);\n  }\n\n  #consume(e: Event): void {\n    e.stopPropagation();\n  }\n\n  #showFormatPicker(e: Event): void {\n    if (!this.#color) {\n      return;\n    }\n\n    const contextMenu = new ColorPicker.FormatPickerContextMenu.FormatPickerContextMenu(this.#color);\n    void contextMenu.show(e, color => {\n      this.dispatchEvent(new ColorFormatChangedEvent(color));\n    });\n  }\n}\n\ncustomElements.define('devtools-color-swatch', ColorSwatch);\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    'devtools-color-swatch': ColorSwatch;\n  }\n\n  interface HTMLElementEventMap {\n    [ColorChangedEvent.eventName]: ColorChangedEvent;\n    [ColorFormatChangedEvent.eventName]: ColorFormatChangedEvent;\n    [ClickEvent.eventName]: Event;\n  }\n}\n", "// Copyright 2025 The Chromium Authors\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n// IMPORTANT: this file is auto generated. Please do not edit this file.\n/* istanbul ignore file */\nexport default `/*\n * Copyright 2015 The Chromium Authors\n * Use of this source code is governed by a BSD-style license that can be\n * found in the LICENSE file.\n */\n\n:host {\n  white-space: nowrap;\n}\n\n.color-swatch {\n  position: relative;\n  margin-left: 1px;\n  margin-right: 2px;\n  width: 12px;\n  height: 12px;\n  transform: scale(0.8);\n  vertical-align: -2px;\n  display: inline-block;\n  user-select: none;\n  background-image: var(--image-file-checker);\n  line-height: 10px;\n}\n\n.color-swatch-inner {\n  width: 100%;\n  height: 100%;\n  display: inline-block;\n  border: 1px solid var(--sys-color-neutral-outline);\n  box-sizing: border-box;\n  cursor: pointer;\n}\n\n.color-swatch.readonly .color-swatch-inner {\n  cursor: unset;\n}\n\n.color-swatch:not(.readonly) .color-swatch-inner:hover {\n  border: 1px solid var(--sys-color-outline);\n}\n\n@media (forced-colors: active) {\n  .color-swatch {\n    forced-color-adjust: none;\n  }\n}\n\n/*# sourceURL=${import.meta.resolve('./colorSwatch.css')} */`;", "// Copyright 2020 The Chromium Authors\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n/* eslint-disable @devtools/no-lit-render-outside-of-view */\n\nimport './CSSAngleEditor.js';\nimport './CSSAngleSwatch.js';\n\nimport * as Platform from '../../../../core/platform/platform.js';\nimport * as Lit from '../../../lit/lit.js';\n\nimport cssAngleStyles from './cssAngle.css.js';\nimport {\n  type Angle,\n  AngleUnit,\n  convertAngleUnit,\n  getNewAngleFromEvent,\n  getNextUnit,\n  parseText,\n  roundAngleByUnit,\n} from './CSSAngleUtils.js';\nimport {ValueChangedEvent} from './InlineEditorUtils.js';\n\nconst {render, html} = Lit;\nconst styleMap = Lit.Directives.styleMap;\n\nexport class PopoverToggledEvent extends Event {\n  static readonly eventName = 'popovertoggled';\n  data: {open: boolean};\n\n  constructor(open: boolean) {\n    super(PopoverToggledEvent.eventName, {});\n    this.data = {open};\n  }\n}\n\nexport class UnitChangedEvent extends Event {\n  static readonly eventName = 'unitchanged';\n  data: {value: string};\n\n  constructor(value: string) {\n    super(UnitChangedEvent.eventName, {});\n    this.data = {value};\n  }\n}\n\ninterface EventTypes {\n  [PopoverToggledEvent.eventName]: PopoverToggledEvent;\n  [UnitChangedEvent.eventName]: UnitChangedEvent;\n  [ValueChangedEvent.eventName]: ValueChangedEvent;\n}\n\nexport interface CSSAngleData {\n  angleText: string;\n  containingPane: HTMLElement;\n}\n\nconst DefaultAngle = {\n  value: 0,\n  unit: AngleUnit.RAD,\n};\n\nexport class CSSAngle extends HTMLElement {\n  private angle: Angle = DefaultAngle;\n  private displayedAngle: Angle = DefaultAngle;\n  private propertyValue = '';\n  private containingPane?: HTMLElement;\n  private angleElement: HTMLElement|null = null;\n  private swatchElement: HTMLElement|null = null;\n  private popoverOpen = false;\n  private popoverStyleTop = '';\n  private popoverStyleLeft = '';\n  private onMinifyingAction = this.minify.bind(this);\n\n  set data(data: CSSAngleData) {\n    const parsedResult = parseText(data.angleText);\n    if (!parsedResult) {\n      return;\n    }\n    this.angle = parsedResult;\n    this.displayedAngle = {...parsedResult};\n    this.containingPane = data.containingPane;\n    this.render();\n  }\n\n  disconnectedCallback(): void {\n    this.unbindMinifyingAction();\n  }\n\n  // We bind and unbind mouse event listeners upon popping over and minifying,\n  // because we anticipate most of the time this widget is minified even when\n  // it's attached to the DOM tree.\n  popOver(): void {\n    if (!this.containingPane) {\n      return;\n    }\n\n    if (!this.angleElement) {\n      this.angleElement = this.querySelector<HTMLElement>('.css-angle');\n    }\n    if (!this.swatchElement) {\n      this.swatchElement = this.querySelector('devtools-css-angle-swatch');\n    }\n    if (!this.angleElement || !this.swatchElement) {\n      return;\n    }\n\n    this.dispatchEvent(new PopoverToggledEvent(true));\n    this.bindMinifyingAction();\n\n    const miniIconBottom = this.swatchElement.getBoundingClientRect().bottom;\n    const miniIconLeft = this.swatchElement.getBoundingClientRect().left;\n    if (miniIconBottom && miniIconLeft) {\n      // We offset mini icon's X and Y positions with the containing styles\n      // pane's positions because DevTools' root SplitWidget's\n      // sidebar slot, where most of the DevTools content lives,\n      // has an offset of positions, which makes all of its children's DOMRect\n      // positions to have this offset.\n      const offsetTop = this.containingPane.getBoundingClientRect().top;\n      const offsetLeft = this.containingPane.getBoundingClientRect().left;\n      this.popoverStyleTop = `${miniIconBottom - offsetTop}px`;\n      this.popoverStyleLeft = `${miniIconLeft - offsetLeft}px`;\n    }\n\n    this.popoverOpen = true;\n    this.render();\n    this.angleElement.focus();\n  }\n\n  override addEventListener<K extends keyof EventTypes>(\n      type: K, listener: (this: CSSAngle, ev: EventTypes[K]) => void,\n      options?: boolean|AddEventListenerOptions|undefined): void;\n  override addEventListener<K extends keyof HTMLElementEventMap>(\n      type: K, listener: (this: HTMLElement, ev: HTMLElementEventMap[K]) => void,\n      options?: boolean|AddEventListenerOptions|undefined): void;\n  override addEventListener(\n      type: string, listener: EventListenerOrEventListenerObject,\n      options?: boolean|AddEventListenerOptions|undefined): void {\n    super.addEventListener(type, listener, options);\n  }\n\n  minify(): void {\n    if (this.popoverOpen === false) {\n      return;\n    }\n\n    this.popoverOpen = false;\n    this.dispatchEvent(new PopoverToggledEvent(false));\n    this.unbindMinifyingAction();\n    this.render();\n  }\n\n  updateProperty(value: string): void {\n    this.propertyValue = value;\n    this.render();\n  }\n\n  updateAngle(angle: Angle): void {\n    this.displayedAngle = roundAngleByUnit(convertAngleUnit(angle, this.displayedAngle.unit));\n    this.angle = this.displayedAngle;\n    this.dispatchEvent(new ValueChangedEvent(`${this.angle.value}${this.angle.unit}`));\n    this.render();\n  }\n\n  private displayNextUnit(): void {\n    const nextUnit = getNextUnit(this.displayedAngle.unit);\n    this.displayedAngle = roundAngleByUnit(convertAngleUnit(this.angle, nextUnit));\n    this.dispatchEvent(new UnitChangedEvent(`${this.displayedAngle.value}${this.displayedAngle.unit}`));\n  }\n\n  private bindMinifyingAction(): void {\n    document.addEventListener('mousedown', this.onMinifyingAction);\n    if (this.containingPane) {\n      this.containingPane.addEventListener('scroll', this.onMinifyingAction);\n    }\n  }\n\n  private unbindMinifyingAction(): void {\n    document.removeEventListener('mousedown', this.onMinifyingAction);\n    if (this.containingPane) {\n      this.containingPane.removeEventListener('scroll', this.onMinifyingAction);\n    }\n  }\n\n  private onMiniIconClick(event: MouseEvent|KeyboardEvent): void {\n    event.stopPropagation();\n    if (event.shiftKey && !this.popoverOpen) {\n      this.displayNextUnit();\n      return;\n    }\n    this.popoverOpen ? this.minify() : this.popOver();\n  }\n\n  // Fix that the previous text will be selected when double-clicking the angle icon\n  private consume(event: MouseEvent): void {\n    event.stopPropagation();\n  }\n\n  private onKeydown(event: KeyboardEvent): void {\n    if (!this.popoverOpen) {\n      if (Platform.KeyboardUtilities.isEnterOrSpaceKey(event)) {\n        this.onMiniIconClick(event);\n        event.preventDefault();\n      }\n      return;\n    }\n\n    switch (event.key) {\n      case 'Escape':\n        event.stopPropagation();\n        this.minify();\n        this.blur();\n        break;\n      case 'ArrowUp':\n      case 'ArrowDown': {\n        const newAngle = getNewAngleFromEvent(this.angle, event);\n        if (newAngle) {\n          this.updateAngle(newAngle);\n        }\n        event.preventDefault();\n        break;\n      }\n    }\n  }\n\n  private render(): void {\n    // Disabled until https://crbug.com/1079231 is fixed.\n    // clang-format off\n    render(html`\n      <style>${cssAngleStyles}</style>\n      <div class=\"css-angle\" @focusout=${this.minify} @keydown=${this.onKeydown} tabindex=\"-1\">\n        <div class=\"preview\">\n          <devtools-css-angle-swatch\n            @click=${this.onMiniIconClick}\n            @mousedown=${this.consume}\n            @dblclick=${this.consume}\n            .data=${{\n              angle: this.angle,\n            }}>\n          </devtools-css-angle-swatch>\n          <slot></slot>\n        </div>\n        ${this.popoverOpen ? this.renderPopover() : null}\n      </div>\n    `, this, {\n      host: this,\n    });\n    // clang-format on\n  }\n\n  private renderPopover(): Lit.TemplateResult {\n    let contextualBackground = '';\n    if (this.propertyValue && !this.propertyValue.match(/url\\(.*\\)/i)) {\n      contextualBackground = this.propertyValue;\n    }\n\n    // Disabled until https://crbug.com/1079231 is fixed.\n    // clang-format off\n    return html`\n      <devtools-css-angle-editor\n        class=\"popover popover-css-angle\"\n        style=${styleMap({top: this.popoverStyleTop, left: this.popoverStyleLeft})}\n        .data=${{\n          angle: this.angle,\n          onAngleUpdate: (angle: Angle):void => {\n            this.updateAngle(angle);\n          },\n          background: contextualBackground,\n        }}>\n      </devtools-css-angle-editor>`;\n    // clang-format on\n  }\n}\n\ncustomElements.define('devtools-css-angle', CSSAngle);\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    'devtools-css-angle': CSSAngle;\n  }\n}\n", "// Copyright 2020 The Chromium Authors\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n/* eslint-disable @devtools/no-lit-render-outside-of-view */\n\nimport * as Common from '../../../../core/common/common.js';\nimport * as Lit from '../../../lit/lit.js';\nimport * as VisualLogging from '../../../visual_logging/visual_logging.js';\n\nimport cssAngleEditorStyles from './cssAngleEditor.css.js';\nimport {\n  type Angle,\n  AngleUnit,\n  get2DTranslationsForAngle,\n  getAngleFromRadians,\n  getNewAngleFromEvent,\n  getRadiansFromAngle,\n} from './CSSAngleUtils.js';\n\nconst {render, html} = Lit;\nconst styleMap = Lit.Directives.styleMap;\n\nconst CLOCK_DIAL_LENGTH = 6;\n\nexport interface CSSAngleEditorData {\n  angle: Angle;\n  onAngleUpdate: (angle: Angle) => void;\n  background: string;\n}\n\nexport class CSSAngleEditor extends HTMLElement {\n  private readonly shadow = this.attachShadow({mode: 'open'});\n  private angle: Angle = {\n    value: 0,\n    unit: AngleUnit.RAD,\n  };\n  private onAngleUpdate?: (angle: Angle) => void;\n  private background = '';\n  private clockRadius = 77 / 2;  // By default the clock is 77 * 77.\n  private dialTemplates?: Lit.TemplateResult[];\n  private mousemoveThrottler = new Common.Throttler.Throttler(16.67 /* 60fps */);\n  private mousemoveListener = this.onMousemove.bind(this);\n\n  connectedCallback(): void {\n    this.style.setProperty('--clock-dial-length', `${CLOCK_DIAL_LENGTH}px`);\n  }\n\n  set data(data: CSSAngleEditorData) {\n    this.angle = data.angle;\n    this.onAngleUpdate = data.onAngleUpdate;\n    this.background = data.background;\n    this.render();\n  }\n\n  private updateAngleFromMousePosition(mouseX: number, mouseY: number, shouldSnapToMultipleOf15Degrees: boolean): void {\n    const clock = this.shadow.querySelector('.clock');\n    if (!clock || !this.onAngleUpdate) {\n      return;\n    }\n\n    const {top, right, bottom, left} = clock.getBoundingClientRect();\n    this.clockRadius = (right - left) / 2;\n    const clockCenterX = (left + right) / 2;\n    const clockCenterY = (bottom + top) / 2;\n    const radian = -Math.atan2(mouseX - clockCenterX, mouseY - clockCenterY) + Math.PI;\n    if (shouldSnapToMultipleOf15Degrees) {\n      const multipleInRadian = getRadiansFromAngle({\n        value: 15,\n        unit: AngleUnit.DEG,\n      });\n      const closestMultipleOf15Degrees = Math.round(radian / multipleInRadian) * multipleInRadian;\n      this.onAngleUpdate(getAngleFromRadians(closestMultipleOf15Degrees, this.angle.unit));\n    } else {\n      this.onAngleUpdate(getAngleFromRadians(radian, this.angle.unit));\n    }\n  }\n\n  private onEditorMousedown(event: MouseEvent): void {\n    event.stopPropagation();\n    this.updateAngleFromMousePosition(event.pageX, event.pageY, event.shiftKey);\n    const targetDocument = event.target instanceof Node && event.target.ownerDocument;\n    const editor = this.shadow.querySelector<HTMLElement>('.editor');\n    if (targetDocument && editor) {\n      targetDocument.addEventListener('mousemove', this.mousemoveListener, {capture: true});\n      editor.classList.add('interacting');\n      targetDocument.addEventListener('mouseup', () => {\n        targetDocument.removeEventListener('mousemove', this.mousemoveListener, {capture: true});\n        editor.classList.remove('interacting');\n      }, {once: true});\n    }\n  }\n\n  private onMousemove(event: MouseEvent): void {\n    const isPressed = event.buttons === 1;\n    if (!isPressed) {\n      return;\n    }\n\n    event.preventDefault();\n\n    void this.mousemoveThrottler.schedule(() => {\n      this.updateAngleFromMousePosition(event.pageX, event.pageY, event.shiftKey);\n      return Promise.resolve();\n    });\n  }\n\n  private onEditorWheel(event: WheelEvent): void {\n    if (!this.onAngleUpdate) {\n      return;\n    }\n\n    const newAngle = getNewAngleFromEvent(this.angle, event);\n    if (newAngle) {\n      this.onAngleUpdate(newAngle);\n    }\n\n    event.preventDefault();\n  }\n\n  private render(): void {\n    const clockStyles = {\n      background: this.background,\n    };\n\n    const {translateX, translateY} = get2DTranslationsForAngle(this.angle, this.clockRadius / 2);\n    const handStyles = {\n      transform: `translate(${translateX}px, ${translateY}px) rotate(${this.angle.value}${this.angle.unit})`,\n    };\n\n    // Disabled until https://crbug.com/1079231 is fixed.\n    // clang-format off\n    render(html`\n      <style>${cssAngleEditorStyles}</style>\n      <div class=\"editor\" jslog=${VisualLogging.dialog('cssAngleEditor').track({click: true, drag: true, resize: true, keydown: 'Enter|Escape'})}>\n        <span class=\"pointer\"></span>\n        <div\n          class=\"clock\"\n          style=${styleMap(clockStyles)}\n          @mousedown=${this.onEditorMousedown}\n          @wheel=${this.onEditorWheel}>\n          ${this.renderDials()}\n          <div class=\"hand\" style=${styleMap(handStyles)}></div>\n          <span class=\"center\"></span>\n        </div>\n      </div>\n    `, this.shadow, {\n      host: this,\n    });\n    // clang-format on\n  }\n\n  private renderDials(): Lit.TemplateResult[] {\n    if (!this.dialTemplates) {\n      // Disabled until https://crbug.com/1079231 is fixed.\n      // clang-format off\n      this.dialTemplates = [0, 45, 90, 135, 180, 225, 270, 315].map(deg => {\n        const radius = this.clockRadius - CLOCK_DIAL_LENGTH - 3 /* clock border */;\n        const {translateX, translateY} = get2DTranslationsForAngle({\n          value: deg,\n          unit: AngleUnit.DEG,\n        }, radius);\n        const dialStyles = {\n          transform: `translate(${translateX}px, ${translateY}px) rotate(${deg}deg)`,\n        };\n        return html`<span class=\"dial\" style=${styleMap(dialStyles)}></span>`;\n      });\n      // clang-format on\n    }\n\n    return this.dialTemplates;\n  }\n}\n\ncustomElements.define('devtools-css-angle-editor', CSSAngleEditor);\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    'devtools-css-angle-editor': CSSAngleEditor;\n  }\n}\n", "// Copyright 2025 The Chromium Authors\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n// IMPORTANT: this file is auto generated. Please do not edit this file.\n/* istanbul ignore file */\nexport default `/*\n * Copyright 2021 The Chromium Authors\n * Use of this source code is governed by a BSD-style license that can be\n * found in the LICENSE file.\n */\n\n.editor.interacting::before {\n  content: '';\n  position: fixed;\n  inset: 0;\n}\n\n.clock,\n.pointer,\n.center,\n.hand,\n.dial {\n  position: absolute;\n}\n\n.clock {\n  top: 6px;\n  width: 6em;\n  height: 6em;\n  background-color: var(--sys-color-cdt-base-container);\n  border: 0.5em solid var(--sys-color-neutral-outline);\n  border-radius: 9em;\n  box-shadow: var(--drop-shadow), inset 0 0 15px var(--box-shadow-outline-color);\n  transform: translateX(-3em);\n}\n\n.center,\n.hand {\n  box-shadow: 0 0 2px var(--box-shadow-outline-color);\n}\n\n.pointer {\n  margin: auto;\n  top: 0;\n  left: -0.4em;\n  right: 0;\n  width: 0;\n  height: 0;\n  border-style: solid;\n  border-width: 0 0.9em 0.9em;\n  border-color: transparent transparent var(--sys-color-neutral-outline)\n    transparent;\n}\n\n.center,\n.hand,\n.dial {\n  margin: auto;\n  inset: 0;\n}\n\n.center {\n  width: 0.7em;\n  height: 0.7em;\n  border-radius: 10px;\n}\n\n.dial {\n  width: 2px;\n  height: var(--clock-dial-length);\n  background-color: var(--override-dial-color);\n  border-radius: 1px;\n}\n\n.hand {\n  height: 50%;\n  width: 0.3em;\n  background: var(--sys-color-tonal-container);\n}\n\n.hand::before {\n  content: '';\n  display: inline-block;\n  position: absolute;\n  top: -0.6em;\n  left: -0.35em;\n  width: 1em;\n  height: 1em;\n  border-radius: 50%;\n  cursor: pointer;\n  box-shadow: 0 0 5px var(--box-shadow-outline-color);\n}\n\n.hand::before,\n.center {\n  background-color: var(--sys-color-tonal-container);\n}\n\n:host-context(.theme-with-dark-background) .hand::before {\n  /* stylelint-disable-next-line plugin/use_theme_colors */\n  box-shadow: 0 0 5px hsl(0deg 0% 0% / 80%);\n}\n\n:host-context(.theme-with-dark-background) .center,\n:host-context(.theme-with-dark-background) .hand {\n  /* stylelint-disable-next-line plugin/use_theme_colors */\n  box-shadow: 0 0 2px hsl(0deg 0% 0% / 60%);\n}\n\n:host-context(.theme-with-dark-background) .clock {\n  /* stylelint-disable-next-line plugin/use_theme_colors */\n  background-color: hsl(225deg 5% 27%);\n}\n\n/*# sourceURL=${import.meta.resolve('./cssAngleEditor.css')} */`;", "// Copyright 2020 The Chromium Authors\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\nimport * as Platform from '../../../../core/platform/platform.js';\nimport * as Geometry from '../../../../models/geometry/geometry.js';\nimport * as UI from '../../legacy.js';\n\nexport const CSSAngleRegex = /(?<value>[+-]?\\d*\\.?\\d+)(?<unit>deg|grad|rad|turn)/;\n\nexport const enum AngleUnit {\n  DEG = 'deg',\n  GRAD = 'grad',\n  RAD = 'rad',\n  TURN = 'turn',\n}\n\nexport interface Angle {\n  value: number;\n  unit: AngleUnit;\n}\n\nexport const parseText = (text: string): Angle|null => {\n  const result = text.match(CSSAngleRegex);\n  if (!result?.groups) {\n    return null;\n  }\n\n  return {\n    value: Number(result.groups.value),\n    unit: result.groups.unit as AngleUnit,\n  };\n};\n\nexport const getAngleFromRadians = (rad: number, targetUnit: AngleUnit): Angle => {\n  let value = rad;\n  switch (targetUnit) {\n    case AngleUnit.GRAD:\n      value = Geometry.radiansToGradians(rad);\n      break;\n    case AngleUnit.DEG:\n      value = Geometry.radiansToDegrees(rad);\n      break;\n    case AngleUnit.TURN:\n      value = Geometry.radiansToTurns(rad);\n      break;\n  }\n\n  return {\n    value,\n    unit: targetUnit,\n  };\n};\n\nexport const getRadiansFromAngle = (angle: Angle): number => {\n  switch (angle.unit) {\n    case AngleUnit.DEG:\n      return Geometry.degreesToRadians(angle.value);\n    case AngleUnit.GRAD:\n      return Geometry.gradiansToRadians(angle.value);\n    case AngleUnit.TURN:\n      return Geometry.turnsToRadians(angle.value);\n  }\n\n  return angle.value;\n};\n\nexport const get2DTranslationsForAngle = (angle: Angle, radius: number): {translateX: number, translateY: number} => {\n  const radian = getRadiansFromAngle(angle);\n  return {\n    translateX: Math.sin(radian) * radius,\n    translateY: -Math.cos(radian) * radius,\n  };\n};\n\nexport const roundAngleByUnit = (angle: Angle): Angle => {\n  let roundedValue = angle.value;\n\n  switch (angle.unit) {\n    case AngleUnit.DEG:\n    case AngleUnit.GRAD:\n      // Round to nearest whole unit.\n      roundedValue = Math.round(angle.value);\n      break;\n    case AngleUnit.RAD:\n      // Allow up to 4 decimals.\n      roundedValue = Math.round(angle.value * 10000) / 10000;\n      break;\n    case AngleUnit.TURN:\n      // Allow up to 2 decimals.\n      roundedValue = Math.round(angle.value * 100) / 100;\n      break;\n    default:\n      Platform.assertNever(angle.unit, `Unknown angle unit: ${angle.unit}`);\n  }\n\n  return {\n    value: roundedValue,\n    unit: angle.unit,\n  };\n};\n\nexport const getNextUnit = (currentUnit: AngleUnit): AngleUnit => {\n  switch (currentUnit) {\n    case AngleUnit.DEG:\n      return AngleUnit.GRAD;\n    case AngleUnit.GRAD:\n      return AngleUnit.RAD;\n    case AngleUnit.RAD:\n      return AngleUnit.TURN;\n    default:\n      return AngleUnit.DEG;\n  }\n};\n\nexport const convertAngleUnit = (angle: Angle, newUnit: AngleUnit): Angle => {\n  if (angle.unit === newUnit) {\n    return angle;\n  }\n  const radian = getRadiansFromAngle(angle);\n  return getAngleFromRadians(radian, newUnit);\n};\n\nexport const getNewAngleFromEvent = (angle: Angle, event: MouseEvent|KeyboardEvent): Angle|undefined => {\n  const direction = UI.UIUtils.getValueModificationDirection(event);\n  if (direction === null) {\n    return;\n  }\n  let diff = direction === 'Up' ? Math.PI / 180 : -Math.PI / 180;\n  if (event.shiftKey) {\n    diff *= 10;\n  }\n\n  const radian = getRadiansFromAngle(angle);\n  return getAngleFromRadians(radian + diff, angle.unit);\n};\n", "// Copyright 2020 The Chromium Authors\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n/* eslint-disable @devtools/no-lit-render-outside-of-view */\n\nimport * as Lit from '../../../lit/lit.js';\n\nimport cssAngleSwatchStyles from './cssAngleSwatch.css.js';\nimport {type Angle, AngleUnit, get2DTranslationsForAngle} from './CSSAngleUtils.js';\n\nconst {render, html} = Lit;\nconst styleMap = Lit.Directives.styleMap;\n\nconst swatchWidth = 11;\n\nexport interface CSSAngleSwatchData {\n  angle: Angle;\n}\n\nexport class CSSAngleSwatch extends HTMLElement {\n  private readonly shadow = this.attachShadow({mode: 'open'});\n  private angle: Angle = {\n    value: 0,\n    unit: AngleUnit.RAD,\n  };\n\n  set data(data: CSSAngleSwatchData) {\n    this.angle = data.angle;\n    this.render();\n  }\n\n  private render(): void {\n    const {translateX, translateY} = get2DTranslationsForAngle(this.angle, swatchWidth / 4);\n    const miniHandStyle = {\n      transform: `translate(${translateX}px, ${translateY}px) rotate(${this.angle.value}${this.angle.unit})`,\n    };\n\n    // Disabled until https://crbug.com/1079231 is fixed.\n    // clang-format off\n    render(html`\n      <style>${cssAngleSwatchStyles}</style>\n      <div class=\"swatch\">\n        <span class=\"mini-hand\" style=${styleMap(miniHandStyle)}></span>\n      </div>\n    `, this.shadow, {\n      host: this,\n    });\n    // clang-format on\n  }\n}\n\ncustomElements.define('devtools-css-angle-swatch', CSSAngleSwatch);\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    'devtools-css-angle-swatch': CSSAngleSwatch;\n  }\n}\n", "// Copyright 2025 The Chromium Authors\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n// IMPORTANT: this file is auto generated. Please do not edit this file.\n/* istanbul ignore file */\nexport default `/*\n * Copyright 2021 The Chromium Authors\n * Use of this source code is governed by a BSD-style license that can be\n * found in the LICENSE file.\n */\n\n.swatch {\n  position: relative;\n  display: inline-block;\n  margin-bottom: -2px;\n  width: 1em;\n  height: 1em;\n  border: 1px solid var(--sys-color-neutral-outline);\n  border-radius: 50%;\n  overflow: hidden;\n  cursor: pointer;\n  background-color: var(--sys-color-neutral-container);\n}\n\n.mini-hand {\n  position: absolute;\n  margin: auto;\n  inset: 0;\n  height: 55%;\n  width: 2px;\n  background-color: var(--sys-color-tonal-container);\n  border-radius: 5px;\n}\n\n/*# sourceURL=${import.meta.resolve('./cssAngleSwatch.css')} */`;", "// Copyright 2025 The Chromium Authors\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n// IMPORTANT: this file is auto generated. Please do not edit this file.\n/* istanbul ignore file */\nexport default `/*\n * Copyright 2021 The Chromium Authors\n * Use of this source code is governed by a BSD-style license that can be\n * found in the LICENSE file.\n */\n\n.css-angle {\n  display: inline-block;\n  position: relative;\n  outline: none;\n\n  .preview {\n    display: inline-block;\n  }\n}\n\ndevtools-css-angle-swatch {\n  display: inline-block;\n  user-select: none;\n}\n\ndevtools-css-angle-editor {\n  --override-dial-color: var(--sys-color-neutral-outline);\n\n  position: fixed;\n  z-index: 2;\n}\n\n/*# sourceURL=${import.meta.resolve('./cssAngle.css')} */`;", "// Copyright 2021 The Chromium Authors\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\nexport class ValueChangedEvent extends Event {\n  static readonly eventName = 'valuechanged';\n  data: {value: string};\n\n  constructor(value: string) {\n    super(ValueChangedEvent.eventName, {});\n    this.data = {value};\n  }\n}\n", "// Copyright 2016 The Chromium Authors\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n/* eslint-disable @devtools/no-imperative-dom-api */\n\nimport * as Common from '../../../../core/common/common.js';\nimport * as i18n from '../../../../core/i18n/i18n.js';\nimport * as Platform from '../../../../core/platform/platform.js';\nimport * as Geometry from '../../../../models/geometry/geometry.js';\nimport * as VisualLogging from '../../../visual_logging/visual_logging.js';\nimport * as UI from '../../legacy.js';\n\nimport cssShadowEditorStyles from './cssShadowEditor.css.js';\n\nconst UIStrings = {\n  /**\n   * @description Text that refers to some types\n   */\n  type: 'Type',\n  /**\n   * @description Text in CSSShadow Editor of the inline editor in the Styles tab\n   */\n  xOffset: 'X offset',\n  /**\n   * @description Text in CSSShadow Editor of the inline editor in the Styles tab\n   */\n  yOffset: 'Y offset',\n  /**\n   * @description Text in CSSShadow Editor of the inline editor in the Styles tab. Noun which is a\n   * label for an input that allows the user to specify how blurred the box-shadow should be.\n   */\n  blur: 'Blur',\n  /**\n   * @description Text in CSSShadow Editor of the inline editor in the Styles tab\n   */\n  spread: 'Spread',\n} as const;\nconst str_ = i18n.i18n.registerUIStrings('ui/legacy/components/inline_editor/CSSShadowEditor.ts', UIStrings);\nconst i18nString = i18n.i18n.getLocalizedString.bind(undefined, str_);\n\nconst maxRange = 20;\nconst defaultUnit = 'px';\nconst sliderThumbRadius = 6;\nconst canvasSize = 88;\n\nexport interface CSSShadowModel {\n  setInset(inset: boolean): void;\n  setOffsetX(offsetX: CSSLength): void;\n  setOffsetY(offsetY: CSSLength): void;\n  setBlurRadius(blurRadius: CSSLength): void;\n  setSpreadRadius(spreadRadius: CSSLength): void;\n  isBoxShadow(): boolean;\n  inset(): boolean;\n  offsetX(): CSSLength;\n  offsetY(): CSSLength;\n  blurRadius(): CSSLength;\n  spreadRadius(): CSSLength;\n}\n\nconst CSS_LENGTH_REGEX = (function(): string {\n  const number = '([+-]?(?:[0-9]*[.])?[0-9]+(?:[eE][+-]?[0-9]+)?)';\n  const unit = '(ch|cm|em|ex|in|mm|pc|pt|px|rem|vh|vmax|vmin|vw)';\n  const zero = '[+-]?(?:0*[.])?0+(?:[eE][+-]?[0-9]+)?';\n  return new RegExp(number + unit + '|' + zero, 'gi').source;\n})();\n\nexport class CSSLength {\n  amount: number;\n  unit: string;\n  constructor(amount: number, unit: string) {\n    this.amount = amount;\n    this.unit = unit;\n  }\n\n  static parse(text: string): CSSLength|null {\n    const lengthRegex = new RegExp('^(?:' + CSS_LENGTH_REGEX + ')$', 'i');\n    const match = text.match(lengthRegex);\n    if (!match) {\n      return null;\n    }\n    if (match.length > 2 && match[2]) {\n      return new CSSLength(parseFloat(match[1]), match[2]);\n    }\n    return CSSLength.zero();\n  }\n\n  static zero(): CSSLength {\n    return new CSSLength(0, '');\n  }\n\n  asCSSText(): string {\n    return this.amount + this.unit;\n  }\n}\n\nexport class CSSShadowEditor extends Common.ObjectWrapper.eventMixin<EventTypes, typeof UI.Widget.VBox>(\n    UI.Widget.VBox) {\n  private readonly typeField: HTMLElement;\n  private readonly outsetButton: HTMLElement;\n  private readonly insetButton: HTMLElement;\n  private xInput: HTMLInputElement;\n  private yInput: HTMLInputElement;\n  private xySlider: HTMLCanvasElement;\n  private halfCanvasSize: number;\n  private readonly innerCanvasSize: number;\n  private blurInput: HTMLInputElement;\n  private blurSlider: HTMLInputElement;\n  private readonly spreadField: HTMLElement;\n  private spreadInput: HTMLInputElement;\n  private spreadSlider: HTMLInputElement;\n  private model!: CSSShadowModel;\n  private canvasOrigin!: Geometry.Point;\n  private changedElement?: HTMLInputElement|null;\n  constructor() {\n    super({useShadowDom: true});\n    this.registerRequiredCSS(cssShadowEditorStyles);\n    this.contentElement.tabIndex = 0;\n    this.contentElement.setAttribute(\n        'jslog', `${VisualLogging.dialog('cssShadowEditor').parent('mapped').track({keydown: 'Enter|Escape'})}`);\n    this.setDefaultFocusedElement(this.contentElement);\n\n    this.typeField = this.contentElement.createChild('div', 'shadow-editor-field shadow-editor-flex-field');\n    this.typeField.createChild('label', 'shadow-editor-label').textContent = i18nString(UIStrings.type);\n    this.outsetButton = this.typeField.createChild('button', 'shadow-editor-button-left');\n    this.outsetButton.textContent = i18n.i18n.lockedString('Outset');\n    this.outsetButton.addEventListener('click', this.onButtonClick.bind(this), false);\n    this.insetButton = this.typeField.createChild('button', 'shadow-editor-button-right');\n    this.insetButton.textContent = i18n.i18n.lockedString('Inset');\n    this.insetButton.addEventListener('click', this.onButtonClick.bind(this), false);\n\n    const xField = this.contentElement.createChild('div', 'shadow-editor-field');\n    this.xInput = this.createTextInput(xField, i18nString(UIStrings.xOffset), 'x-offset');\n    const yField = this.contentElement.createChild('div', 'shadow-editor-field');\n    this.yInput = this.createTextInput(yField, i18nString(UIStrings.yOffset), 'y-offset');\n    this.xySlider = xField.createChild('canvas', 'shadow-editor-2D-slider');\n    this.xySlider.setAttribute('jslog', `${VisualLogging.slider('xy').track({\n                                 click: true,\n                                 drag: true,\n                                 keydown: 'ArrowUp|ArrowDown|ArrowLeft|ArrowRight',\n                               })}`);\n    this.xySlider.width = canvasSize;\n    this.xySlider.height = canvasSize;\n    this.xySlider.tabIndex = -1;\n    this.halfCanvasSize = canvasSize / 2;\n    this.innerCanvasSize = this.halfCanvasSize - sliderThumbRadius;\n    UI.UIUtils.installDragHandle(this.xySlider, this.dragStart.bind(this), this.dragMove.bind(this), null, 'default');\n    this.xySlider.addEventListener('keydown', this.onCanvasArrowKey.bind(this), false);\n    this.xySlider.addEventListener('blur', this.onCanvasBlur.bind(this), false);\n\n    const blurField =\n        this.contentElement.createChild('div', 'shadow-editor-field shadow-editor-flex-field shadow-editor-blur-field');\n    this.blurInput = this.createTextInput(blurField, i18nString(UIStrings.blur), 'blur');\n    this.blurSlider = this.createSlider(blurField, 'blur');\n\n    this.spreadField = this.contentElement.createChild('div', 'shadow-editor-field shadow-editor-flex-field');\n    this.spreadInput = this.createTextInput(this.spreadField, i18nString(UIStrings.spread), 'spread');\n    this.spreadSlider = this.createSlider(this.spreadField, 'spread');\n  }\n\n  private createTextInput(field: Element, propertyName: string, jslogContext: string): HTMLInputElement {\n    const label = field.createChild('label', 'shadow-editor-label');\n    label.textContent = propertyName;\n    label.setAttribute('for', propertyName);\n    const textInput = UI.UIUtils.createInput('shadow-editor-text-input', 'text');\n    field.appendChild(textInput);\n    textInput.id = propertyName;\n    textInput.addEventListener('keydown', this.handleValueModification.bind(this), false);\n    textInput.addEventListener('wheel', this.handleValueModification.bind(this), false);\n    textInput.addEventListener('input', this.onTextInput.bind(this), false);\n    textInput.addEventListener('blur', this.onTextBlur.bind(this), false);\n    textInput.setAttribute(\n        'jslog', `${VisualLogging.value().track({change: true, keydown: 'ArrowUp|ArrowDown'}).context(jslogContext)}`);\n    return textInput;\n  }\n\n  private createSlider(field: Element, jslogContext: string): HTMLInputElement {\n    const slider = UI.UIUtils.createSlider(0, maxRange, -1);\n    slider.addEventListener('input', this.onSliderInput.bind(this), false);\n    slider.setAttribute('jslog', `${VisualLogging.slider().track({click: true, drag: true}).context(jslogContext)}`);\n    field.appendChild(slider);\n    return slider;\n  }\n\n  override wasShown(): void {\n    super.wasShown();\n    this.updateUI();\n  }\n\n  setModel(model: CSSShadowModel): void {\n    this.model = model;\n    this.typeField.classList.toggle('hidden', !model.isBoxShadow());\n    this.spreadField.classList.toggle('hidden', !model.isBoxShadow());\n    this.updateUI();\n  }\n\n  private updateUI(): void {\n    this.updateButtons();\n    this.xInput.value = this.model.offsetX().asCSSText();\n    this.yInput.value = this.model.offsetY().asCSSText();\n    this.blurInput.value = this.model.blurRadius().asCSSText();\n    this.spreadInput.value = this.model.spreadRadius().asCSSText();\n    this.blurSlider.value = this.model.blurRadius().amount.toString();\n    this.spreadSlider.value = this.model.spreadRadius().amount.toString();\n    this.updateCanvas(false);\n  }\n\n  private updateButtons(): void {\n    this.insetButton.classList.toggle('enabled', this.model.inset());\n    this.outsetButton.classList.toggle('enabled', !this.model.inset());\n  }\n\n  private updateCanvas(drawFocus: boolean): void {\n    const context = this.xySlider.getContext('2d');\n    if (!context) {\n      throw new Error('Unable to obtain canvas context');\n    }\n    context.clearRect(0, 0, this.xySlider.width, this.xySlider.height);\n\n    // Draw dashed axes.\n    context.save();\n    context.setLineDash([1, 1]);\n    context.strokeStyle = 'rgba(210, 210, 210, 0.8)';\n    context.beginPath();\n    context.moveTo(this.halfCanvasSize, 0);\n    context.lineTo(this.halfCanvasSize, canvasSize);\n    context.moveTo(0, this.halfCanvasSize);\n    context.lineTo(canvasSize, this.halfCanvasSize);\n    context.stroke();\n    context.restore();\n\n    const thumbPoint = this.sliderThumbPosition();\n    // Draw 2D slider line.\n    context.save();\n    context.translate(this.halfCanvasSize, this.halfCanvasSize);\n    context.lineWidth = 2;\n    context.strokeStyle = 'rgba(130, 130, 130, 0.75)';\n    context.beginPath();\n    context.moveTo(0, 0);\n    context.lineTo(thumbPoint.x, thumbPoint.y);\n    context.stroke();\n    // Draw 2D slider thumb.\n    if (drawFocus) {\n      context.beginPath();\n      context.fillStyle = 'rgba(66, 133, 244, 0.4)';\n      context.arc(thumbPoint.x, thumbPoint.y, sliderThumbRadius + 2, 0, 2 * Math.PI);\n      context.fill();\n    }\n    context.beginPath();\n    context.fillStyle = '#4285F4';\n    context.arc(thumbPoint.x, thumbPoint.y, sliderThumbRadius, 0, 2 * Math.PI);\n    context.fill();\n    context.restore();\n  }\n\n  private onButtonClick(event: Event): void {\n    const insetClicked = (event.currentTarget === this.insetButton);\n    if (insetClicked && this.model.inset() || !insetClicked && !this.model.inset()) {\n      return;\n    }\n    this.model.setInset(insetClicked);\n    this.updateButtons();\n    this.dispatchEventToListeners(Events.SHADOW_CHANGED, this.model);\n  }\n\n  private handleValueModification(event: Event): void {\n    const target = (event.currentTarget as HTMLInputElement);\n    const modifiedValue = UI.UIUtils.createReplacementString(target.value, event, customNumberHandler);\n    if (!modifiedValue) {\n      return;\n    }\n    const length = CSSLength.parse(modifiedValue);\n    if (!length) {\n      return;\n    }\n    if (event.currentTarget === this.blurInput && length.amount < 0) {\n      length.amount = 0;\n    }\n    target.value = length.asCSSText();\n    target.selectionStart = 0;\n    target.selectionEnd = target.value.length;\n    this.onTextInput(event);\n    event.consume(true);\n\n    function customNumberHandler(prefix: string, number: number, suffix: string): string {\n      if (!suffix.length) {\n        suffix = defaultUnit;\n      }\n      return prefix + number + suffix;\n    }\n  }\n\n  private onTextInput(event: Event): void {\n    const currentTarget = (event.currentTarget as HTMLInputElement);\n    this.changedElement = currentTarget;\n    this.changedElement.classList.remove('invalid');\n    const length = CSSLength.parse(currentTarget.value);\n    if (!length || currentTarget === this.blurInput && length.amount < 0) {\n      return;\n    }\n    if (currentTarget === this.xInput) {\n      this.model.setOffsetX(length);\n      this.updateCanvas(false);\n    } else if (currentTarget === this.yInput) {\n      this.model.setOffsetY(length);\n      this.updateCanvas(false);\n    } else if (currentTarget === this.blurInput) {\n      this.model.setBlurRadius(length);\n      this.blurSlider.value = length.amount.toString();\n    } else if (currentTarget === this.spreadInput) {\n      this.model.setSpreadRadius(length);\n      this.spreadSlider.value = length.amount.toString();\n    }\n    this.dispatchEventToListeners(Events.SHADOW_CHANGED, this.model);\n  }\n\n  private onTextBlur(): void {\n    if (!this.changedElement) {\n      return;\n    }\n    let length: (CSSLength|null)|CSSLength =\n        !this.changedElement.value.trim() ? CSSLength.zero() : CSSLength.parse(this.changedElement.value);\n    if (!length) {\n      length = CSSLength.parse(this.changedElement.value + defaultUnit);\n    }\n    if (!length) {\n      this.changedElement.classList.add('invalid');\n      this.changedElement = null;\n      return;\n    }\n    if (this.changedElement === this.xInput) {\n      this.model.setOffsetX(length);\n      this.xInput.value = length.asCSSText();\n      this.updateCanvas(false);\n    } else if (this.changedElement === this.yInput) {\n      this.model.setOffsetY(length);\n      this.yInput.value = length.asCSSText();\n      this.updateCanvas(false);\n    } else if (this.changedElement === this.blurInput) {\n      if (length.amount < 0) {\n        length = CSSLength.zero();\n      }\n      this.model.setBlurRadius(length);\n      this.blurInput.value = length.asCSSText();\n      this.blurSlider.value = length.amount.toString();\n    } else if (this.changedElement === this.spreadInput) {\n      this.model.setSpreadRadius(length);\n      this.spreadInput.value = length.asCSSText();\n      this.spreadSlider.value = length.amount.toString();\n    }\n    this.changedElement = null;\n    this.dispatchEventToListeners(Events.SHADOW_CHANGED, this.model);\n  }\n\n  private onSliderInput(event: Event): void {\n    if (event.currentTarget === this.blurSlider) {\n      this.model.setBlurRadius(\n          new CSSLength(Number(this.blurSlider.value), this.model.blurRadius().unit || defaultUnit));\n      this.blurInput.value = this.model.blurRadius().asCSSText();\n      this.blurInput.classList.remove('invalid');\n    } else if (event.currentTarget === this.spreadSlider) {\n      this.model.setSpreadRadius(\n          new CSSLength(Number(this.spreadSlider.value), this.model.spreadRadius().unit || defaultUnit));\n      this.spreadInput.value = this.model.spreadRadius().asCSSText();\n      this.spreadInput.classList.remove('invalid');\n    }\n    this.dispatchEventToListeners(Events.SHADOW_CHANGED, this.model);\n  }\n\n  private dragStart(event: MouseEvent): boolean {\n    this.xySlider.focus();\n    this.updateCanvas(true);\n    this.canvasOrigin = new Geometry.Point(\n        this.xySlider.getBoundingClientRect().left + this.halfCanvasSize,\n        this.xySlider.getBoundingClientRect().top + this.halfCanvasSize);\n    const clickedPoint = new Geometry.Point(event.x - this.canvasOrigin.x, event.y - this.canvasOrigin.y);\n    const thumbPoint = this.sliderThumbPosition();\n    if (clickedPoint.distanceTo(thumbPoint) >= sliderThumbRadius) {\n      this.dragMove(event);\n    }\n    return true;\n  }\n\n  private dragMove(event: MouseEvent): void {\n    let point: Geometry.Point = new Geometry.Point(event.x - this.canvasOrigin.x, event.y - this.canvasOrigin.y);\n    if (event.shiftKey) {\n      point = this.snapToClosestDirection(point);\n    }\n    const constrainedPoint = this.constrainPoint(point, this.innerCanvasSize);\n    const newX = Math.round((constrainedPoint.x / this.innerCanvasSize) * maxRange);\n    const newY = Math.round((constrainedPoint.y / this.innerCanvasSize) * maxRange);\n\n    if (event.shiftKey) {\n      this.model.setOffsetX(new CSSLength(newX, this.model.offsetX().unit || defaultUnit));\n      this.model.setOffsetY(new CSSLength(newY, this.model.offsetY().unit || defaultUnit));\n    } else {\n      if (!event.altKey) {\n        this.model.setOffsetX(new CSSLength(newX, this.model.offsetX().unit || defaultUnit));\n      }\n      if (!UI.KeyboardShortcut.KeyboardShortcut.eventHasCtrlEquivalentKey(event)) {\n        this.model.setOffsetY(new CSSLength(newY, this.model.offsetY().unit || defaultUnit));\n      }\n    }\n    this.xInput.value = this.model.offsetX().asCSSText();\n    this.yInput.value = this.model.offsetY().asCSSText();\n    this.xInput.classList.remove('invalid');\n    this.yInput.classList.remove('invalid');\n    this.updateCanvas(true);\n    this.dispatchEventToListeners(Events.SHADOW_CHANGED, this.model);\n  }\n\n  private onCanvasBlur(): void {\n    this.updateCanvas(false);\n  }\n\n  private onCanvasArrowKey(event: Event): void {\n    const keyboardEvent = (event as KeyboardEvent);\n    let shiftX = 0;\n    let shiftY = 0;\n    if (keyboardEvent.key === 'ArrowRight') {\n      shiftX = 1;\n    } else if (keyboardEvent.key === 'ArrowLeft') {\n      shiftX = -1;\n    } else if (keyboardEvent.key === 'ArrowUp') {\n      shiftY = -1;\n    } else if (keyboardEvent.key === 'ArrowDown') {\n      shiftY = 1;\n    }\n\n    if (!shiftX && !shiftY) {\n      return;\n    }\n    event.consume(true);\n\n    if (shiftX) {\n      const offsetX = this.model.offsetX();\n      const newAmount = Platform.NumberUtilities.clamp(offsetX.amount + shiftX, -maxRange, maxRange);\n      if (newAmount === offsetX.amount) {\n        return;\n      }\n      this.model.setOffsetX(new CSSLength(newAmount, offsetX.unit || defaultUnit));\n      this.xInput.value = this.model.offsetX().asCSSText();\n      this.xInput.classList.remove('invalid');\n    }\n    if (shiftY) {\n      const offsetY = this.model.offsetY();\n      const newAmount = Platform.NumberUtilities.clamp(offsetY.amount + shiftY, -maxRange, maxRange);\n      if (newAmount === offsetY.amount) {\n        return;\n      }\n      this.model.setOffsetY(new CSSLength(newAmount, offsetY.unit || defaultUnit));\n      this.yInput.value = this.model.offsetY().asCSSText();\n      this.yInput.classList.remove('invalid');\n    }\n    this.updateCanvas(true);\n    this.dispatchEventToListeners(Events.SHADOW_CHANGED, this.model);\n  }\n\n  private constrainPoint(point: Geometry.Point, max: number): Geometry.Point {\n    if (Math.abs(point.x) <= max && Math.abs(point.y) <= max) {\n      return new Geometry.Point(point.x, point.y);\n    }\n    return point.scale(max / Math.max(Math.abs(point.x), Math.abs(point.y)));\n  }\n\n  private snapToClosestDirection(point: Geometry.Point): Geometry.Point {\n    let minDistance: number = Number.MAX_VALUE;\n    let closestPoint: Geometry.Point = point;\n\n    const directions = [\n      new Geometry.Point(0, -1), new Geometry.Point(1, -1), new Geometry.Point(1, 0),\n      new Geometry.Point(1, 1),  // Southeast\n    ];\n\n    for (const direction of directions) {\n      const projection = point.projectOn(direction);\n      const distance = point.distanceTo(projection);\n      if (distance < minDistance) {\n        minDistance = distance;\n        closestPoint = projection;\n      }\n    }\n\n    return closestPoint;\n  }\n\n  private sliderThumbPosition(): Geometry.Point {\n    const x = (this.model.offsetX().amount / maxRange) * this.innerCanvasSize;\n    const y = (this.model.offsetY().amount / maxRange) * this.innerCanvasSize;\n    return this.constrainPoint(new Geometry.Point(x, y), this.innerCanvasSize);\n  }\n}\n\nexport const enum Events {\n  SHADOW_CHANGED = 'ShadowChanged',\n}\n\nexport interface EventTypes {\n  [Events.SHADOW_CHANGED]: CSSShadowModel;\n}\n", "// Copyright 2025 The Chromium Authors\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n// IMPORTANT: this file is auto generated. Please do not edit this file.\n/* istanbul ignore file */\nexport default `/*\n * Copyright 2016 The Chromium Authors\n * Use of this source code is governed by a BSD-style license that can be\n * found in the LICENSE file.\n */\n\n:host {\n  user-select: none;\n  border: 1px solid transparent;\n}\n\n.shadow-editor-field {\n  height: 24px;\n  margin-top: 8px;\n  font-size: 12px;\n  flex-shrink: 0;\n}\n\n.shadow-editor-field:last-of-type {\n  margin-bottom: 8px;\n}\n\n.shadow-editor-flex-field {\n  display: flex;\n  align-items: center;\n  flex-direction: row;\n}\n\n.shadow-editor-field.shadow-editor-blur-field {\n  margin-top: 40px;\n}\n\n.shadow-editor-2D-slider {\n  position: absolute;\n  height: 88px;\n  width: 88px;\n  border: 1px solid var(--divider-line);\n  border-radius: 2px;\n}\n\n.shadow-editor-label {\n  display: inline-block;\n  width: 52px;\n  height: 24px;\n  line-height: 24px;\n  margin-right: 8px;\n  text-align: right;\n}\n\n.shadow-editor-button-left,\n.shadow-editor-button-right {\n  width: 74px;\n  height: 24px;\n  padding: 3px 7px;\n  line-height: 16px;\n  border: 1px solid var(--divider-line);\n  color: var(--sys-color-on-surface);\n  background-color: var(--sys-color-cdt-base-container);\n  text-align: center;\n  font-weight: 500;\n}\n\n.shadow-editor-button-left {\n  border-radius: 2px 0 0 2px;\n}\n\n.shadow-editor-button-right {\n  border-radius: 0 2px 2px 0;\n  border-left-width: 0;\n}\n\n.shadow-editor-button-left:hover,\n.shadow-editor-button-right:hover {\n  box-shadow: 0 1px 1px var(--color-background-elevation-1);\n}\n\n.shadow-editor-button-left:focus,\n.shadow-editor-button-right:focus {\n  background-color: var(--color-background-elevation-1);\n}\n\n.shadow-editor-button-left.enabled,\n.shadow-editor-button-right.enabled {\n  --override-button-text-color: #fff;\n\n  background-color: var(--color-primary-old);\n  color: var(--override-button-text-color);\n}\n\n.shadow-editor-button-left.enabled:focus,\n.shadow-editor-button-right.enabled:focus {\n  background-color: var(--color-primary-variant);\n}\n\n.shadow-editor-text-input {\n  width: 52px;\n  margin-right: 8px;\n  text-align: right;\n  box-shadow: var(--legacy-focus-ring-inactive-shadow);\n}\n\n@media (forced-colors: active) {\n  .shadow-editor-button-left:hover,\n  .shadow-editor-button-left.enabled:focus,\n  .shadow-editor-button-right:hover .shadow-editor-button-left.enabled,\n  .shadow-editor-button-right.enabled,\n  .shadow-editor-button-right.enabled:focus {\n    forced-color-adjust: none;\n    background-color: Highlight;\n    color: HighlightText;\n  }\n}\n\n/*# sourceURL=${import.meta.resolve('./cssShadowEditor.css')} */`;", "// Copyright 2020 The Chromium Authors\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n/* eslint-disable @devtools/no-imperative-dom-api */\n\nimport '../../legacy.js';\n\nimport * as Common from '../../../../core/common/common.js';\nimport * as i18n from '../../../../core/i18n/i18n.js';\nimport * as Platform from '../../../../core/platform/platform.js';\nimport {Icon} from '../../../kit/kit.js';\nimport * as VisualLogging from '../../../visual_logging/visual_logging.js';\nimport * as UI from '../../legacy.js';\n\nimport fontEditorStyles from './fontEditor.css.js';\nimport * as FontEditorUnitConverter from './FontEditorUnitConverter.js';\nimport * as FontEditorUtils from './FontEditorUtils.js';\n\nconst UIStrings = {\n  /**\n   * @description Font editor label for font family selector\n   */\n  fontFamily: 'Font Family',\n  /**\n   * @description Section header for CSS property inputs\n   */\n  cssProperties: 'CSS Properties',\n  /**\n   * @description Font size slider label for Font Editor\n   */\n  fontSize: 'Font Size',\n  /**\n   * @description Line height slider label for Font Editor\n   */\n  lineHeight: 'Line Height',\n  /**\n   * @description Font weight slider label for Font Editor\n   */\n  fontWeight: 'Font Weight',\n  /**\n   * @description Label for letter-spacing labels\n   */\n  spacing: 'Spacing',\n  /**\n   * @description Label for numbered fallback selectors\n   * @example {2} PH1\n   */\n  fallbackS: 'Fallback {PH1}',\n  /**\n   * @description Announcement for deleting an empty font family selector in the Font Editor\n   * @example {2} PH1\n   */\n  thereIsNoValueToDeleteAtIndexS: 'There is no value to delete at index: {PH1}',\n  /**\n   * @description Announcement when deleting a font selector in the Font Editor\n   * @example {2} PH1\n   */\n  fontSelectorDeletedAtIndexS: 'Font Selector deleted at index: {PH1}',\n  /**\n   * @description Label for Font Editor button to delete font family/fallback selectors\n   * @example {Fallback 1} PH1\n   */\n  deleteS: 'Delete {PH1}',\n  /**\n   * @description Warning message for Font Editor invalid text input. The placeholder is the name of\n   * the CSS attribute that is incorrect.\n   * @example {font-size} PH1\n   */\n  PleaseEnterAValidValueForSText: '* Please enter a valid value for {PH1} text input',\n  /**\n   * @description Error text in Font Editor\n   * @example {font-size} PH1\n   */\n  thisPropertyIsSetToContainUnits:\n      'This property is set to contain units but does not have a defined corresponding unitsArray: {PH1}',\n  /**\n   * @description Label for slider input in the Font Editor.\n   * @example {font-size} PH1\n   */\n  sSliderInput: '{PH1} Slider Input',\n  /**\n   * @description Accessible label for a text input for a property in the Font Editor.\n   * @example {font-size} PH1\n   */\n  sTextInput: '{PH1} Text Input',\n  /**\n   * @description Font Editor units text box label\n   */\n  units: 'Units',\n  /**\n   * @description Accessible name for Font Editor unit input. The placeholder is the name of the font\n   * property that this UI input controls. e.g. font-size, line-height, line-weight.\n   * @example {font-size} PH1\n   */\n  sUnitInput: '{PH1} Unit Input',\n  /**\n   * @description Text used in the Font Editor for the key values selector\n   * @example {font-size} PH1\n   */\n  sKeyValueSelector: '{PH1} Key Value Selector',\n  /**\n   * @description Label for Font Editor toggle input type button. The placeholder is the name of the\n   * font property that this UI input controls. e.g. font-size, line-height, line-weight. Tooltip for\n   * a button next to the text input which allows the user to change the input type. When they click\n   * this button, the UI changes to allow the user to choose from a list of pre-selected font\n   * categories.\n   * @example {font-size} PH1\n   */\n  sToggleInputType: '{PH1} toggle input type',\n  /**\n   * @description Label for Font Editor alert in CSS Properties section when toggling inputs\n   */\n  selectorInputMode: 'Selector Input Mode',\n  /**\n   * @description Label for Font Editor alert in CSS Properties section when toggling inputs\n   */\n  sliderInputMode: 'Slider Input Mode',\n} as const;\nconst str_ = i18n.i18n.registerUIStrings('ui/legacy/components/inline_editor/FontEditor.ts', UIStrings);\nconst i18nString = i18n.i18n.getLocalizedString.bind(undefined, str_);\n\nexport class FontEditor extends Common.ObjectWrapper.eventMixin<EventTypes, typeof UI.Widget.VBox>(UI.Widget.VBox) {\n  private readonly propertyMap: Map<string, string>;\n  private readonly fontSelectorSection: HTMLElement;\n  private fontSelectors: FontEditor.FontSelectorObject[];\n  private fontsList: Array<Map<string, string[]>>|null;\n\n  constructor(propertyMap: Map<string, string>) {\n    super({useShadowDom: true});\n    this.registerRequiredCSS(fontEditorStyles);\n    this.propertyMap = propertyMap;\n    this.contentElement.tabIndex = 0;\n    this.contentElement.setAttribute(\n        'jslog', `${VisualLogging.dialog('font-editor').parent('mapped').track({keydown: 'Enter|Escape'})}`);\n    this.setDefaultFocusedElement(this.contentElement);\n\n    // Font Selector Section\n    this.fontSelectorSection = this.contentElement.createChild('div', 'font-selector-section');\n    this.fontSelectorSection.createChild('h2', 'font-section-header').textContent = i18nString(UIStrings.fontFamily);\n\n    this.fontSelectors = [];\n\n    this.fontsList = null;\n\n    const propertyValue: string|undefined = this.propertyMap.get('font-family');\n\n    void this.createFontSelectorSection(propertyValue);\n\n    //  CSS Font Property Section\n    const cssPropertySection = this.contentElement.createChild('div', 'font-section');\n    cssPropertySection.createChild('h2', 'font-section-header').textContent = i18nString(UIStrings.cssProperties);\n\n    // The regexes only handle valid property values as invalid values are not passed into the property map.\n    const fontSizePropertyInfo = this.getPropertyInfo('font-size', FontEditorUtils.FontSizeStaticParams.regex);\n\n    const lineHeightPropertyInfo = this.getPropertyInfo('line-height', FontEditorUtils.LineHeightStaticParams.regex);\n\n    const fontWeightPropertyInfo = this.getPropertyInfo('font-weight', FontEditorUtils.FontWeightStaticParams.regex);\n\n    const letterSpacingPropertyInfo =\n        this.getPropertyInfo('letter-spacing', FontEditorUtils.LetterSpacingStaticParams.regex);\n\n    new FontPropertyInputs(\n        'font-size', i18nString(UIStrings.fontSize), cssPropertySection, fontSizePropertyInfo,\n        FontEditorUtils.FontSizeStaticParams, this.updatePropertyValue.bind(this), this.resizePopout.bind(this),\n        /** hasUnits= */ true);\n    new FontPropertyInputs(\n        'line-height', i18nString(UIStrings.lineHeight), cssPropertySection, lineHeightPropertyInfo,\n        FontEditorUtils.LineHeightStaticParams, this.updatePropertyValue.bind(this), this.resizePopout.bind(this),\n        /** hasUnits= */ true);\n    new FontPropertyInputs(\n        'font-weight', i18nString(UIStrings.fontWeight), cssPropertySection, fontWeightPropertyInfo,\n        FontEditorUtils.FontWeightStaticParams, this.updatePropertyValue.bind(this), this.resizePopout.bind(this),\n        /** hasUnits= */ false);\n    new FontPropertyInputs(\n        'letter-spacing', i18nString(UIStrings.spacing), cssPropertySection, letterSpacingPropertyInfo,\n        FontEditorUtils.LetterSpacingStaticParams, this.updatePropertyValue.bind(this), this.resizePopout.bind(this),\n        /** hasUnits= */ true);\n  }\n\n  private async createFontSelectorSection(propertyValue?: string): Promise<void> {\n    if (propertyValue) {\n      // FIXME(crbug.com/1148434): propertyValue will not be split correctly for font family names that contain commas.\n      // e.g. font-family: \"Name,with,commas\"\n      const splitValue = propertyValue.split(',');\n      await this.createFontSelector(splitValue[0], /* isPrimary= */ true);\n      if (!FontEditorUtils.GlobalValues.includes(splitValue[0])) {\n        // We add one to the splitValue length so that we have an additional empty fallback selector\n        for (let i = 1; i < splitValue.length + 1; i++) {\n          void this.createFontSelector(splitValue[i]);\n        }\n      }\n    } else {\n      void this.createFontSelector('', true);\n    }\n    this.resizePopout();\n  }\n\n  private async createFontsList(): Promise<Array<Map<string, string[]>>> {\n    const computedFontArray = await FontEditorUtils.generateComputedFontArray();\n    const computedMap = new Map<string, string[]>();\n    const splicedArray = this.splitComputedFontArray(computedFontArray);\n\n    computedMap.set('Computed Fonts', splicedArray);\n    const systemMap = new Map<string, string[]>();\n    systemMap.set('System Fonts', FontEditorUtils.SystemFonts);\n    systemMap.set('Generic Families', FontEditorUtils.GenericFonts);\n\n    const fontList = [];\n    fontList.push(computedMap);\n    fontList.push(systemMap);\n    return fontList;\n  }\n\n  private splitComputedFontArray(computedFontArray: string[]): string[] {\n    const array: string[] = [];\n    for (const fontFamilyValue of computedFontArray) {\n      if (fontFamilyValue.includes(',')) {\n        const fonts = fontFamilyValue.split(',');\n        fonts.forEach(element => {\n          if (array.findIndex(item => item.toLowerCase() === element.trim().toLowerCase().replace(/\"/g, '\\'')) === -1) {\n            array.push(element.trim().replace(/\"/g, ''));\n          }\n        });\n      } else if (\n          array.findIndex(item => item.toLowerCase() === fontFamilyValue.toLowerCase().replace('\"', '\\'')) === -1) {\n        array.push(fontFamilyValue.replace(/\"/g, ''));\n      }\n    }\n    return array;\n  }\n\n  private async createFontSelector(value: string, isPrimary?: boolean): Promise<void> {\n    // FIXME(crbug.com/1148434): Custom font family names that use single/double quotes in the font family name will not be handled correctly.\n    // e.g. font-family: \"FontWith\\\"DoubleQuotes\"\n    value = value ? value.trim() : '';\n    if (value) {\n      const firstChar = value.charAt(0);\n      if (firstChar === '\\'') {\n        value = value.replace(/'/g, '');\n      } else if (firstChar === '\"') {\n        value = value.replace(/\"/g, '');\n      }\n    }\n    const selectorField = this.fontSelectorSection.createChild('div', 'shadow-editor-field shadow-editor-flex-field');\n    if (!this.fontsList) {\n      this.fontsList = await this.createFontsList();\n    }\n    let label;\n    if (isPrimary) {\n      label = i18nString(UIStrings.fontFamily);\n      const globalValuesMap = new Map([['Global Values', FontEditorUtils.GlobalValues]]);\n      const primaryFontList = [...this.fontsList];\n      primaryFontList.push(globalValuesMap);\n      this.createSelector(selectorField, label, primaryFontList, value.trim(), 'primary-font-family');\n    } else {\n      label = i18nString(UIStrings.fallbackS, {PH1: this.fontSelectors.length});\n      this.createSelector(selectorField, label, this.fontsList, value.trim(), 'fallback-font-family');\n    }\n  }\n\n  private deleteFontSelector(index: number, isGlobalValue?: boolean): void {\n    let fontSelectorObject: FontEditor.FontSelectorObject = this.fontSelectors[index];\n    const isPrimary = index === 0;\n    if (fontSelectorObject.input.value === '' && !isGlobalValue) {\n      UI.ARIAUtils.LiveAnnouncer.alert(i18nString(UIStrings.thereIsNoValueToDeleteAtIndexS, {PH1: index}));\n      return;\n    }\n    if (isPrimary) {\n      // When deleting the primary font selector, we overwrite the value of the primary selector\n      // with the value of the secondary selector and delete the secondary selector.\n      const secondarySelector = this.fontSelectors[1];\n      let newPrimarySelectorValue = '';\n      if (secondarySelector) {\n        newPrimarySelectorValue = secondarySelector.input.value;\n        fontSelectorObject = secondarySelector;\n      }\n      const primarySelector = this.fontSelectors[0].input;\n      primarySelector.value = newPrimarySelectorValue;\n      index = 1;\n    }\n    if (fontSelectorObject.input.parentNode) {\n      const hasSecondarySelector = this.fontSelectors.length > 1;\n      if (!isPrimary || hasSecondarySelector) {\n        const selectorElement = fontSelectorObject.input.parentElement;\n        if (selectorElement) {\n          selectorElement.remove();\n          this.fontSelectors.splice(index, 1);\n          this.updateFontSelectorList();\n        }\n      }\n      UI.ARIAUtils.LiveAnnouncer.alert(i18nString(UIStrings.fontSelectorDeletedAtIndexS, {PH1: index}));\n    }\n    this.onFontSelectorChanged();\n    this.resizePopout();\n    const focusIndex = isPrimary ? 0 : index - 1;\n    this.fontSelectors[focusIndex].input.focus();\n  }\n\n  private updateFontSelectorList(): void {\n    for (let i = 0; i < this.fontSelectors.length; i++) {\n      const fontSelectorObject = this.fontSelectors[i];\n      let label;\n      if (i === 0) {\n        label = i18nString(UIStrings.fontFamily);\n      } else {\n        label = i18nString(UIStrings.fallbackS, {PH1: i});\n      }\n      fontSelectorObject.label.textContent = label;\n      UI.ARIAUtils.setLabel(fontSelectorObject.input, label);\n      fontSelectorObject.deleteButton.setTitle(i18nString(UIStrings.deleteS, {PH1: label}));\n      fontSelectorObject.index = i;\n    }\n  }\n\n  private getPropertyInfo(name: string, regex: RegExp): FontEditor.PropertyInfo {\n    const value = this.propertyMap.get(name);\n    if (value) {\n      const valueString = value;\n      const match = valueString.match(regex);\n      if (match) {\n        const retValue = match[1].charAt(0) === '+' ? match[1].substr(1) : match[1];\n        const retUnits = match[2] ? match[2] : '';\n        return {value: retValue, units: retUnits};\n      }\n      return {value: valueString, units: null};\n    }\n    return {value: null, units: null};\n  }\n\n  private createSelector(\n      field: Element, label: string, options: Array<Map<string, string[]>>, currentValue: string,\n      jslogContext: string): void {\n    const index = this.fontSelectors.length;\n    const selectInput = (UI.UIUtils.createSelect(label, options));\n    selectInput.value = currentValue;\n    selectInput.setAttribute('jslog', `${VisualLogging.dropDown(jslogContext).track({click: true, change: true})}`);\n    const selectLabel = UI.UIUtils.createLabel(label, 'shadow-editor-label', selectInput);\n    selectInput.addEventListener('input', this.onFontSelectorChanged.bind(this), false);\n    // We want to prevent the Enter key from propagating to the SwatchPopoverHelper which will close the editor.\n    selectInput.addEventListener('keydown', (event: KeyboardEvent) => {\n      if (event.key === 'Enter') {\n        event.consume();\n      }\n    }, false);\n    field.appendChild(selectLabel);\n    field.appendChild(selectInput);\n\n    const deleteToolbar = field.createChild('devtools-toolbar');\n    const deleteButton =\n        new UI.Toolbar.ToolbarButton(i18nString(UIStrings.deleteS, {PH1: label}), 'bin', undefined, 'delete');\n    deleteToolbar.appendToolbarItem(deleteButton);\n    const fontSelectorObject = {label: selectLabel, input: selectInput, deleteButton, index};\n    deleteButton.addEventListener(UI.Toolbar.ToolbarButton.Events.CLICK, () => {\n      this.deleteFontSelector(fontSelectorObject.index);\n    });\n    deleteButton.element.addEventListener('keydown', (event: KeyboardEvent) => {\n      if (Platform.KeyboardUtilities.isEnterOrSpaceKey(event)) {\n        this.deleteFontSelector(fontSelectorObject.index);\n        event.consume();\n      }\n    }, false);\n    this.fontSelectors.push(fontSelectorObject);\n  }\n\n  private onFontSelectorChanged(): void {\n    let value = '';\n    const isGlobalValue = FontEditorUtils.GlobalValues.includes(this.fontSelectors[0].input.value);\n\n    if (isGlobalValue) {\n      for (let i = 1; i < this.fontSelectors.length; i++) {\n        this.deleteFontSelector(i, /** isGlobalValue= */ true);\n      }\n    }\n    for (const fontSelector of this.fontSelectors) {\n      const fontSelectorInput = fontSelector.input;\n      if (fontSelectorInput.value !== '') {\n        if (value === '') {\n          value = this.fontSelectors[0].input.value;\n        } else {\n          value += ', ' + fontSelectorInput.value;\n        }\n      }\n    }\n    // Add an extra blank selector as long as the last selector doesn't have an empty value, the primary\n    // selector's value is not a global value and if the list of selectors has not exceeded 10.\n    if (this.fontSelectors[this.fontSelectors.length - 1].input.value !== '' && !isGlobalValue &&\n        this.fontSelectors.length < 10) {\n      void this.createFontSelector(/** value= */ '');\n      this.resizePopout();\n    }\n    this.updatePropertyValue('font-family', value);\n  }\n\n  private updatePropertyValue(propertyName: string, value: string): void {\n    this.dispatchEventToListeners(Events.FONT_CHANGED, {propertyName, value});\n  }\n\n  private resizePopout(): void {\n    this.dispatchEventToListeners(Events.FONT_EDITOR_RESIZED);\n  }\n}\n\nnamespace FontEditor {\n  export interface PropertyInfo {\n    value: string|null;\n    units: string|null;\n  }\n\n  export interface FontSelectorObject {\n    label: Element;\n    input: HTMLSelectElement;\n    deleteButton: UI.Toolbar.ToolbarButton;\n    index: number;\n  }\n\n  export interface PropertyRange {\n    min: number;\n    max: number;\n    step: number;\n  }\n\n  export interface FontPropertyInputStaticParams {\n    regex: RegExp;\n    units: Set<string>|null;\n    keyValues: Set<string>;\n    rangeMap: Map<string, FontEditor.PropertyRange>;\n    defaultUnit: string|null;\n  }\n}\n\nexport const enum Events {\n  FONT_CHANGED = 'FontChanged',\n  FONT_EDITOR_RESIZED = 'FontEditorResized',\n}\n\nexport interface FontChangedEvent {\n  propertyName: string;\n  value: string;\n}\n\nexport interface EventTypes {\n  [Events.FONT_CHANGED]: FontChangedEvent;\n  [Events.FONT_EDITOR_RESIZED]: void;\n}\n\nclass FontPropertyInputs {\n  private showSliderMode: boolean;\n  private errorText: HTMLElement;\n  private propertyInfo: FontEditor.PropertyInfo;\n  private readonly propertyName: string;\n  private readonly staticParams: FontEditor.FontPropertyInputStaticParams;\n  private readonly hasUnits: boolean|undefined;\n  private units: string;\n  private readonly addedUnit: boolean|undefined;\n  private initialRange: FontEditor.PropertyRange;\n  private readonly boundUpdateCallback: (arg0: string, arg1: string) => void;\n  private readonly boundResizeCallback: () => void;\n  private sliderInput: HTMLInputElement;\n  private textBoxInput: HTMLInputElement;\n  private unitInput: HTMLSelectElement;\n  private selectorInput: HTMLSelectElement;\n  private applyNextInput: boolean;\n\n  constructor(\n      propertyName: string, label: string, field: Element, propertyInfo: FontEditor.PropertyInfo,\n      staticParams: FontEditor.FontPropertyInputStaticParams, updateCallback: (arg0: string, arg1: string) => void,\n      resizeCallback: () => void, hasUnits?: boolean) {\n    this.showSliderMode = true;\n    const propertyField = field.createChild('div', 'shadow-editor-field shadow-editor-flex-field');\n    this.errorText = field.createChild('div', 'error-text');\n    this.errorText.textContent = i18nString(UIStrings.PleaseEnterAValidValueForSText, {PH1: propertyName});\n    this.errorText.hidden = true;\n    UI.ARIAUtils.markAsAlert(this.errorText);\n    this.propertyInfo = propertyInfo;\n    this.propertyName = propertyName;\n    this.staticParams = staticParams;\n\n    // Unit handling\n    this.hasUnits = hasUnits;\n    if (this.hasUnits && this.staticParams.units && this.staticParams.defaultUnit !== null) {\n      const defaultUnits = this.staticParams.defaultUnit;\n      this.units = propertyInfo.units !== null ? propertyInfo.units : defaultUnits;\n      this.addedUnit = !this.staticParams.units.has(this.units);\n    } else if (this.hasUnits) {\n      throw new Error(i18nString(UIStrings.thisPropertyIsSetToContainUnits, {PH1: propertyName}));\n    } else {\n      this.units = '';\n    }\n    this.initialRange = this.getUnitRange();\n\n    this.boundUpdateCallback = updateCallback;\n    this.boundResizeCallback = resizeCallback;\n    const propertyLabel = UI.UIUtils.createLabel(label, 'shadow-editor-label');\n    propertyField.append(propertyLabel);\n    this.sliderInput = this.createSliderInput(propertyField, propertyName);\n    this.textBoxInput = this.createTextBoxInput(propertyField, propertyName);\n    UI.ARIAUtils.bindLabelToControl(propertyLabel, this.textBoxInput);\n    this.unitInput = this.createUnitInput(propertyField, `${propertyName}-unit`);\n    this.selectorInput = this.createSelectorInput(propertyField, propertyName);\n    this.createTypeToggle(propertyField, `${propertyName}-value-type`);\n    this.checkSelectorValueAndToggle();\n    this.applyNextInput = false;\n  }\n\n  private setInvalidTextBoxInput(invalid: boolean): void {\n    if (invalid) {\n      if (this.errorText.hidden) {\n        this.errorText.hidden = false;\n        this.textBoxInput.classList.add('error-input');\n        this.boundResizeCallback();\n      }\n    } else if (!this.errorText.hidden) {\n      this.errorText.hidden = true;\n      this.textBoxInput.classList.remove('error-input');\n      this.boundResizeCallback();\n    }\n  }\n\n  private checkSelectorValueAndToggle(): boolean {\n    if (this.staticParams.keyValues && this.propertyInfo.value !== null &&\n        (this.staticParams.keyValues.has(this.propertyInfo.value))) {\n      this.toggleInputType();\n      return true;\n    }\n    return false;\n  }\n\n  private getUnitRange(): FontEditor.PropertyRange {\n    let min = 0;\n    let max = 100;\n    let step = 1;\n    if (this.propertyInfo.value !== null && /\\d/.test(this.propertyInfo.value)) {\n      if (this.staticParams.rangeMap.get(this.units)) {\n        const unitRangeMap = this.staticParams.rangeMap.get(this.units);\n        if (unitRangeMap) {\n          min = Math.min(unitRangeMap.min, parseFloat(this.propertyInfo.value));\n          max = Math.max(unitRangeMap.max, parseFloat(this.propertyInfo.value));\n          step = unitRangeMap.step;\n        }\n      } else {\n        const unitRangeMap = this.staticParams.rangeMap.get('px');\n        if (unitRangeMap) {\n          min = Math.min(unitRangeMap.min, parseFloat(this.propertyInfo.value));\n          max = Math.max(unitRangeMap.max, parseFloat(this.propertyInfo.value));\n          step = unitRangeMap.step;\n        }\n      }\n    } else {\n      const unitRangeMap = this.staticParams.rangeMap.get(this.units);\n      if (unitRangeMap) {\n        min = unitRangeMap.min;\n        max = unitRangeMap.max;\n        step = unitRangeMap.step;\n      }\n    }\n    return {min, max, step};\n  }\n\n  private createSliderInput(field: Element, jslogContext: string): HTMLInputElement {\n    const min = this.initialRange.min;\n    const max = this.initialRange.max;\n    const step = this.initialRange.step;\n\n    const slider = UI.UIUtils.createSlider(min, max, -1);\n    slider.step = step.toString();\n    slider.tabIndex = 0;\n    if (this.propertyInfo.value) {\n      slider.value = this.propertyInfo.value;\n    } else {\n      const newValue = (min + max) / 2;\n      slider.value = newValue.toString();\n    }\n    slider.addEventListener('input', event => {\n      this.onSliderInput(event, /** apply= */ false);\n    });\n\n    slider.addEventListener('mouseup', event => {\n      this.onSliderInput(event, /** apply= */ true);\n    });\n    slider.addEventListener('keydown', event => {\n      if (event.key === 'ArrowUp' || event.key === 'ArrowDown' || event.key === 'ArrowLeft' ||\n          event.key === 'ArrowRight') {\n        // Pressing an arrow key will trigger two events for the slider: A keyboard event and an input event\n        // The keyboard event will come before the slider value has changed and the subsequent input event will cause\n        // the value to change.  We use the applyNextInput boolean to tell onSliderInput that the next input event\n        // is coming because of the keyboard event and that it should be applied to the section.\n        this.applyNextInput = true;\n      }\n    });\n    field.appendChild(slider);\n    UI.ARIAUtils.setLabel(slider, i18nString(UIStrings.sSliderInput, {PH1: this.propertyName}));\n    slider.setAttribute('jslog', `${VisualLogging.slider(jslogContext).track({change: true})}`);\n    return slider;\n  }\n\n  private createTextBoxInput(field: Element, jslogContext: string): HTMLInputElement {\n    const textBoxInput: HTMLInputElement = UI.UIUtils.createInput('shadow-editor-text-input', 'number', jslogContext);\n\n    textBoxInput.step = this.initialRange.step.toString();\n    textBoxInput.classList.add('font-editor-text-input');\n    if (this.propertyInfo.value !== null) {\n      if (this.propertyInfo.value.charAt(0) === '+') {\n        this.propertyInfo.value = this.propertyInfo.value.substr(1);\n      }\n      textBoxInput.value = this.propertyInfo.value;\n    }\n    textBoxInput.step = 'any';\n    textBoxInput.addEventListener('input', this.onTextBoxInput.bind(this), false);\n    field.appendChild(textBoxInput);\n    UI.ARIAUtils.setLabel(textBoxInput, i18nString(UIStrings.sTextInput, {PH1: this.propertyName}));\n    return textBoxInput;\n  }\n\n  private createUnitInput(field: Element, jslogContext: string): HTMLSelectElement {\n    let unitInput;\n    if (this.hasUnits && this.staticParams.units) {\n      const currentValue = this.propertyInfo.units;\n      const options = this.staticParams.units;\n      unitInput = UI.UIUtils.createSelect(i18nString(UIStrings.units), options);\n      unitInput.classList.add('font-editor-select');\n      if (this.addedUnit && currentValue) {\n        unitInput.add(new Option(currentValue, currentValue));\n      }\n      if (currentValue) {\n        unitInput.value = currentValue;\n      }\n      unitInput.addEventListener('change', this.onUnitInput.bind(this), false);\n    } else {\n      unitInput = UI.UIUtils.createSelect(i18nString(UIStrings.units), []);\n      unitInput.classList.add('font-editor-select');\n      unitInput.disabled = true;\n    }\n    unitInput.setAttribute('jslog', `${VisualLogging.dropDown(jslogContext).track({click: true, change: true})}`);\n    // We want to prevent the Enter key from propagating to the SwatchPopoverHelper which will close the editor.\n    unitInput.addEventListener('keydown', (event: KeyboardEvent) => {\n      if (event.key === 'Enter') {\n        event.consume();\n      }\n    }, false);\n    field.appendChild(unitInput);\n    UI.ARIAUtils.setLabel(unitInput, i18nString(UIStrings.sUnitInput, {PH1: this.propertyName}));\n\n    return unitInput;\n  }\n\n  private createSelectorInput(field: Element, jslogContext: string): HTMLSelectElement {\n    const selectInput: HTMLSelectElement = UI.UIUtils.createSelect(\n        i18nString(UIStrings.sKeyValueSelector, {PH1: this.propertyName}), this.staticParams.keyValues);\n    selectInput.classList.add('font-selector-input');\n    if (this.propertyInfo.value) {\n      selectInput.value = this.propertyInfo.value;\n    }\n    selectInput.addEventListener('input', this.onSelectorInput.bind(this), false);\n    // We want to prevent the Enter key from propagating to the SwatchPopoverHelper which will close the editor.\n    selectInput.addEventListener('keydown', (event: KeyboardEvent) => {\n      if (event.key === 'Enter') {\n        event.consume();\n      }\n    }, false);\n    field.appendChild(selectInput);\n    selectInput.hidden = true;\n    selectInput.setAttribute('jslog', `${VisualLogging.dropDown(jslogContext).track({click: true, change: true})}`);\n    return selectInput;\n  }\n\n  private onSelectorInput(event: Event): void {\n    if (event.currentTarget) {\n      const value = (event.currentTarget as HTMLInputElement).value;\n      this.textBoxInput.value = '';\n      const newValue = (parseFloat(this.sliderInput.min) + parseFloat(this.sliderInput.max)) / 2;\n      this.sliderInput.value = newValue.toString();\n      this.setInvalidTextBoxInput(false);\n      this.boundUpdateCallback(this.propertyName, value);\n    }\n  }\n\n  private onSliderInput(event: Event, apply: boolean): void {\n    const target = (event.currentTarget as HTMLInputElement);\n    if (target) {\n      const value = target.value;\n      this.textBoxInput.value = value;\n      this.selectorInput.value = '';\n      const valueString = this.hasUnits ? value + this.unitInput.value : value.toString();\n      this.setInvalidTextBoxInput(false);\n      if (apply || this.applyNextInput) {\n        this.boundUpdateCallback(this.propertyName, valueString);\n        this.applyNextInput = false;\n      }\n    }\n  }\n\n  private onTextBoxInput(event: Event): void {\n    const target = (event.currentTarget as HTMLInputElement);\n    if (target) {\n      const value = target.value;\n      const units = value === '' ? '' : this.unitInput.value;\n      const valueString = value + units;\n      if (this.staticParams.regex.test(valueString) || (value === '' && !target.validationMessage.length)) {\n        if (parseFloat(value) > parseFloat(this.sliderInput.max)) {\n          this.sliderInput.max = value;\n        } else if (parseFloat(value) < parseFloat(this.sliderInput.min)) {\n          this.sliderInput.min = value;\n        }\n        this.sliderInput.value = value;\n        this.selectorInput.value = '';\n        this.setInvalidTextBoxInput(false);\n        this.boundUpdateCallback(this.propertyName, valueString);\n      } else {\n        this.setInvalidTextBoxInput(true);\n      }\n    }\n  }\n\n  private async onUnitInput(event: Event): Promise<void> {\n    const unitInput = (event.currentTarget as HTMLInputElement);\n    const hasFocus = unitInput.hasFocus();\n    const newUnit = unitInput.value;\n    unitInput.disabled = true;\n    const prevUnit = this.units;\n    const conversionMultiplier =\n        await FontEditorUnitConverter.getUnitConversionMultiplier(prevUnit, newUnit, this.propertyName === 'font-size');\n    this.setInputUnits(conversionMultiplier, newUnit);\n    if (this.textBoxInput.value) {\n      this.boundUpdateCallback(this.propertyName, this.textBoxInput.value + newUnit);\n    }\n    this.units = newUnit;\n    unitInput.disabled = false;\n    if (hasFocus) {\n      unitInput.focus();\n    }\n  }\n\n  private createTypeToggle(field: Element, jslogContext: string): void {\n    const displaySwitcher = field.createChild('div', 'spectrum-switcher');\n    const icon = new Icon();\n    icon.name = 'fold-more';\n    icon.classList.add('medium');\n    displaySwitcher.appendChild(icon);\n    UI.UIUtils.setTitle(displaySwitcher, i18nString(UIStrings.sToggleInputType, {PH1: this.propertyName}));\n    displaySwitcher.tabIndex = 0;\n    self.onInvokeElement(displaySwitcher, this.toggleInputType.bind(this));\n    UI.ARIAUtils.markAsButton(displaySwitcher);\n    displaySwitcher.setAttribute('jslog', `${VisualLogging.toggle(jslogContext).track({click: true})}`);\n  }\n\n  private toggleInputType(event?: Event): void {\n    if (event && (event as KeyboardEvent).key === 'Enter') {\n      event.consume();\n    }\n    if (this.showSliderMode) {\n      // Show selector input type\n      this.sliderInput.hidden = true;\n      this.textBoxInput.hidden = true;\n      this.unitInput.hidden = true;\n      this.selectorInput.hidden = false;\n      this.showSliderMode = false;\n      UI.ARIAUtils.LiveAnnouncer.alert(i18nString(UIStrings.selectorInputMode));\n    } else {\n      // Show sliderinput type\n      this.sliderInput.hidden = false;\n      this.textBoxInput.hidden = false;\n      this.unitInput.hidden = false;\n      this.selectorInput.hidden = true;\n      this.showSliderMode = true;\n      UI.ARIAUtils.LiveAnnouncer.alert(i18nString(UIStrings.sliderInputMode));\n    }\n  }\n\n  private setInputUnits(multiplier: number, newUnit: string): void {\n    const newRangeMap = this.staticParams.rangeMap.get(newUnit);\n    let newMin, newMax, newStep;\n    if (newRangeMap) {\n      newMin = newRangeMap.min;\n      newMax = newRangeMap.max;\n      newStep = newRangeMap.step;\n    } else {\n      newMin = 0;\n      newMax = 100;\n      newStep = 1;\n    }\n    let hasValue = false;\n    const roundingPrecision = FontEditorUtils.getRoundingPrecision(newStep);\n    let newValue: number = (newMin + newMax) / 2;\n    if (this.textBoxInput.value) {\n      hasValue = true;\n      newValue = parseFloat((parseFloat(this.textBoxInput.value) * multiplier).toFixed(roundingPrecision));\n    }\n    this.sliderInput.min = Math.min(newValue, newMin).toString();\n    this.sliderInput.max = Math.max(newValue, newMax).toString();\n    this.sliderInput.step = newStep.toString();\n    this.textBoxInput.step = newStep.toString();\n    if (hasValue) {\n      this.textBoxInput.value = newValue.toString();\n    }\n    this.sliderInput.value = newValue.toString();\n  }\n}\n", "// Copyright 2025 The Chromium Authors\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n// IMPORTANT: this file is auto generated. Please do not edit this file.\n/* istanbul ignore file */\nexport default `/*\n * Copyright 2020 The Chromium Authors\n * Use of this source code is governed by a BSD-style license that can be\n * found in the LICENSE file.\n */\n\n:host {\n  user-select: none;\n  padding: 4px 12px 12px;\n}\n\n.error-input {\n  box-shadow: 0 0 0 1px var(--sys-color-error);\n}\n\n.error-text {\n  color: var(--sys-color-error);\n  padding: 6px 0;\n}\n\n.warning-input {\n  --override-warning-input-color: #ffdd9e;\n\n  box-shadow: 0 0 0 1px var(--override-warning-input-color);\n}\n\n.theme-with-dark-background .warning-input,\n:host-context(.theme-with-dark-background) .warning-input {\n  --override-warning-input-color: rgb(97 63 0);\n}\n\n.hide-warning {\n  display: none;\n}\n\n.font-section-header {\n  font-weight: normal;\n  font-size: 17px;\n  text-align: left;\n}\n\n.font-section-subheader {\n  font-size: 12px;\n  text-align: left;\n  font-weight: bold;\n}\n\n.font-selector-section {\n  overflow-y: auto;\n  padding-bottom: 10px;\n}\n\n.font-selector-input {\n  width: 204px;\n  text-align-last: center;\n}\n\n.font-reset-button {\n  width: 100%;\n  margin-top: 10px;\n}\n\n.font-section {\n  border-top: 1px solid var(--sys-color-divider);\n}\n\nselect.font-editor-select {\n  min-width: 50px;\n  min-height: 27px;\n}\n\ninput::-webkit-outer-spin-button,\ninput::-webkit-inner-spin-button {\n  display: none;\n  margin: 0;\n}\n\n.preview-text {\n  max-width: 300px;\n  word-break: normal;\n  overflow-wrap: anywhere;\n  display: block;\n}\n\n.rendered-font-list-label {\n  font-weight: bold;\n  font-size: 12px;\n}\n\n.rendered-font-list {\n  padding: 5px 0;\n}\n\n.shadow-editor-field {\n  height: 24px;\n  margin-top: 8px;\n  font-size: 12px;\n  flex-shrink: 0;\n}\n\n.shadow-editor-field:last-of-type {\n  margin-bottom: 8px;\n}\n\n.shadow-editor-flex-field {\n  display: flex;\n  align-items: center;\n  flex-direction: row;\n}\n\n.shadow-editor-field.shadow-editor-blur-field {\n  margin-top: 40px;\n}\n\n.shadow-editor-2D-slider {\n  position: absolute;\n  height: 88px;\n  width: 88px;\n  border: 1px solid var(--divider-line);\n  border-radius: 2px;\n}\n\n.shadow-editor-label {\n  display: inline-block;\n  width: 70px;\n  height: 24px;\n  line-height: 24px;\n  margin-right: 8px;\n  text-align: left;\n}\n\n.shadow-editor-button-left,\n.shadow-editor-button-right {\n  width: 74px;\n  height: 24px;\n  padding: 3px 7px;\n  line-height: 16px;\n  border: 1px solid var(--divider-line);\n  color: var(--sys-color-on-surface);\n  background-color: var(--sys-color-cdt-base-container);\n  text-align: center;\n  font-weight: 500;\n}\n\n.shadow-editor-button-left {\n  border-radius: 2px 0 0 2px;\n}\n\n.shadow-editor-button-right {\n  border-radius: 0 2px 2px 0;\n  border-left-width: 0;\n}\n\n.shadow-editor-button-left:hover,\n.shadow-editor-button-right:hover {\n  box-shadow: 0 1px 1px var(--divider-line);\n}\n\n.shadow-editor-button-left:focus,\n.shadow-editor-button-right:focus {\n  background-color: var(--sys-color-state-focus-highlight);\n}\n\n.shadow-editor-text-input {\n  width: 50px;\n  margin: 8px;\n  text-align: center;\n  box-shadow: var(--legacy-focus-ring-inactive-shadow);\n}\n\n.spectrum-switcher {\n  border-radius: 2px;\n  height: 20px;\n  width: 20px;\n  padding: 2px;\n  margin-left: 5px;\n}\n\n.spectrum-switcher:hover {\n  background-color: var(--sys-color-state-hover-on-subtle);\n}\n\n.spectrum-switcher:focus-visible {\n  background-color: var(--sys-color-state-focus-highlight);\n}\n\n/*# sourceURL=${import.meta.resolve('./fontEditor.css')} */`;", "// Copyright 2020 The Chromium Authors\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\nimport * as SDK from '../../../../core/sdk/sdk.js';\nimport * as CssOverviewModule from '../../../../panels/css_overview/css_overview.js';\nimport * as UI from '../../legacy.js';\n\nconst computedArrayFontSizeIndex = 6;\n\nfunction getPxMultiplier(): number {\n  return 1;\n}\nasync function getEmMultiplier(isFontSizeProperty?: boolean): Promise<number> {\n  const selectedNode = UI.Context.Context.instance().flavor(SDK.DOMModel.DOMNode);\n  let currentFontSize;\n  if (selectedNode?.parentNode && selectedNode.nodeName() !== 'HTML') {\n    const [model] =\n        SDK.TargetManager.TargetManager.instance().models(CssOverviewModule.CSSOverviewModel.CSSOverviewModel);\n    const fontSizeNodeId = isFontSizeProperty ? selectedNode.parentNode.id : selectedNode.id;\n    const computedFontSize = await model.getComputedStyleForNode(fontSizeNodeId).then(findFontSizeValue);\n    const computedFontSizeValue = computedFontSize.replace(/[a-z]/g, '');\n    currentFontSize = parseFloat(computedFontSizeValue);\n  } else {\n    currentFontSize = 16;\n  }\n  return currentFontSize;\n}\n\nasync function getRemMultiplier(): Promise<number> {\n  const selectedNode = UI.Context.Context.instance().flavor(SDK.DOMModel.DOMNode);\n  const htmlNode = findHtmlNode(selectedNode);\n  if (!htmlNode?.id) {\n    return 16;\n  }\n  const [model] =\n      SDK.TargetManager.TargetManager.instance().models(CssOverviewModule.CSSOverviewModel.CSSOverviewModel);\n  const computedRootFontSize = await model.getComputedStyleForNode(htmlNode.id).then(findFontSizeValue);\n  const rootFontSizeValue = computedRootFontSize.replace(/[a-z]/g, '');\n  const rootFontSize = parseFloat(rootFontSizeValue);\n  return rootFontSize;\n}\n\nasync function getPercentMultiplier(isFontSizeProperty?: boolean): Promise<number> {\n  const emMultiplier = await getEmMultiplier(isFontSizeProperty);\n  const percMultiplier = emMultiplier / 100;\n  return percMultiplier;\n}\n\nasync function getVhMultiplier(): Promise<number> {\n  const viewportObject = await getViewportObject();\n  if (!viewportObject) {\n    return 1;\n  }\n  const viewportHeight = viewportObject.height;\n  const vhMultiplier = viewportHeight / 100;\n  return vhMultiplier;\n}\n\nasync function getVwMultiplier(): Promise<number> {\n  const viewportObject = await getViewportObject();\n  if (!viewportObject) {\n    return 1;\n  }\n  const viewportWidth = viewportObject.width;\n  const vwMultiplier = viewportWidth / 100;\n  return vwMultiplier;\n}\n\nasync function getVminMultiplier(): Promise<number> {\n  const viewportObject = await getViewportObject();\n  if (!viewportObject) {\n    return 1;\n  }\n  const viewportWidth = viewportObject.width;\n  const viewportHeight = viewportObject.height;\n  const minViewportSize = Math.min(viewportWidth, viewportHeight);\n  const vminMultiplier = minViewportSize / 100;\n  return vminMultiplier;\n}\n\nasync function getVmaxMultiplier(): Promise<number> {\n  const viewportObject = await getViewportObject();\n  if (!viewportObject) {\n    return 1;\n  }\n  const viewportWidth = viewportObject.width;\n  const viewportHeight = viewportObject.height;\n  const maxViewportSize = Math.max(viewportWidth, viewportHeight);\n  const vmaxMultiplier = maxViewportSize / 100;\n  return vmaxMultiplier;\n}\n\nfunction getCmMultiplier(): number {\n  return 37.795;\n}\n\nfunction getMmMultiplier(): number {\n  return 3.7795;\n}\n\nfunction getInMultiplier(): number {\n  return 96;\n}\n\nfunction getPtMultiplier(): number {\n  return 4 / 3;\n}\n\nfunction getPcMultiplier(): number {\n  return 16;\n}\n\nfunction findFontSizeValue(computedObject: {\n  computedStyle: Array<{\n    name: string,\n    value: string,\n  }>,\n  getError: () => void,\n}): string {\n  const computedArray: Array<{\n    name: string,\n    value: string,\n  }> = computedObject.computedStyle;\n  let index = computedArrayFontSizeIndex;\n  if (computedArray[index].name && computedArray[index].name !== 'font-size') {\n    for (let i = 0; i < computedArray.length; i++) {\n      if (computedArray[i].name === 'font-size') {\n        index = i;\n        break;\n      }\n    }\n  }\n  return computedArray[index].value;\n}\n\nfunction findHtmlNode(selectedNode: SDK.DOMModel.DOMNode|null): SDK.DOMModel.DOMNode|null {\n  let node: SDK.DOMModel.DOMNode|(SDK.DOMModel.DOMNode | null) = selectedNode;\n  while (node && node.nodeName() !== 'HTML') {\n    if (node.parentNode) {\n      node = node.parentNode;\n    } else {\n      break;\n    }\n  }\n  return node;\n}\n\nconst widthEvaluateParams = {\n  expression: 'window.innerWidth',\n  includeCommandLineAPI: false,\n  silent: true,\n  returnByValue: false,\n  generatePreview: false,\n  userGesture: false,\n  awaitPromise: true,\n  throwOnSideEffect: false,\n  disableBreaks: true,\n  replMode: false,\n  allowUnsafeEvalBlockedByCSP: false,\n};\n\nconst heightEvaluateParams = {\n  expression: 'window.innerHeight',\n  includeCommandLineAPI: false,\n  silent: true,\n  returnByValue: false,\n  generatePreview: false,\n  userGesture: false,\n  awaitPromise: true,\n  throwOnSideEffect: false,\n  disableBreaks: true,\n  replMode: false,\n  allowUnsafeEvalBlockedByCSP: false,\n};\n\nasync function getViewportObject(): Promise<{\n  width: number,\n  height: number,\n}|null> {\n  const currentExecutionContext = UI.Context.Context.instance().flavor(SDK.RuntimeModel.ExecutionContext);\n  let width, height;\n  if (currentExecutionContext) {\n    const widthObject = await currentExecutionContext.evaluate(widthEvaluateParams, false, false);\n    const heightObject = await currentExecutionContext.evaluate(heightEvaluateParams, false, false);\n    if ('error' in widthObject || 'error' in heightObject) {\n      return null;\n    }\n    if (widthObject.object) {\n      width = widthObject.object.value;\n    }\n    if (heightObject.object) {\n      height = heightObject.object.value;\n    }\n  }\n  if (width === undefined || height === undefined) {\n    const selectedNode = UI.Context.Context.instance().flavor(SDK.DOMModel.DOMNode);\n    if (!selectedNode) {\n      return null;\n    }\n    const pageLayout = await selectedNode.domModel().target().pageAgent().invoke_getLayoutMetrics();\n    const zoom = pageLayout.visualViewport.zoom ? pageLayout.visualViewport.zoom : 1;\n    height = pageLayout.visualViewport.clientHeight / zoom;\n    width = pageLayout.visualViewport.clientWidth / zoom;\n  }\n  return {width, height};\n}\n\nconst unitConversionMap = new Map<string, (isFontSize?: boolean) => number | Promise<number>>();\nunitConversionMap.set('px', getPxMultiplier);\nunitConversionMap.set('em', getEmMultiplier);\nunitConversionMap.set('rem', getRemMultiplier);\nunitConversionMap.set('%', getPercentMultiplier);\nunitConversionMap.set('vh', getVhMultiplier);\nunitConversionMap.set('vw', getVwMultiplier);\nunitConversionMap.set('vmin', getVminMultiplier);\nunitConversionMap.set('vmax', getVmaxMultiplier);\nunitConversionMap.set('cm', getCmMultiplier);\nunitConversionMap.set('mm', getMmMultiplier);\nunitConversionMap.set('in', getInMultiplier);\nunitConversionMap.set('pt', getPtMultiplier);\nunitConversionMap.set('pc', getPcMultiplier);\n\nexport async function getUnitConversionMultiplier(\n    prevUnit: string, newUnit: string, isFontSize?: boolean): Promise<number> {\n  if (prevUnit === '') {\n    prevUnit = 'em';\n  }\n  if (newUnit === '') {\n    newUnit = 'em';\n  }\n  let prevUnitMultiplier, newUnitMultiplier;\n  const prevUnitFunction = unitConversionMap.get(prevUnit);\n  const newUnitFunction = unitConversionMap.get(newUnit);\n  if (prevUnitFunction && newUnitFunction) {\n    if (prevUnit === 'em' || prevUnit === '%') {\n      prevUnitMultiplier = await prevUnitFunction(isFontSize);\n    } else {\n      prevUnitMultiplier = await prevUnitFunction();\n    }\n    if (newUnit === 'em' || newUnit === '%') {\n      newUnitMultiplier = await newUnitFunction(isFontSize);\n    } else {\n      newUnitMultiplier = await newUnitFunction();\n    }\n  } else {\n    return 1;\n  }\n  return prevUnitMultiplier / newUnitMultiplier;\n}\n", "// Copyright 2020 The Chromium Authors\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\nimport * as SDK from '../../../../core/sdk/sdk.js';\nimport * as CssOverviewModule from '../../../../panels/css_overview/css_overview.js';\n\n// The following regexes are used within the Font Editor and will only parse valid property values.\n// Example Input/Outputs:\n// font-size: \"20px\" -> (20)(px)\n// line-height: \"0.5em\" -> (0.5)(em)\n// font-weight: \"300\" -> (300);\n// letter-spacing: -.625rem -> (-.625)(rem)\nconst fontSizeRegex = /(^[\\+\\d\\.]+)([a-zA-Z%]+)/;\nconst lineHeightRegex = /(^[\\+\\d\\.]+)([a-zA-Z%]*)/;\nconst fontWeightRegex = /(^[\\+\\d\\.]+)/;\nconst letterSpacingRegex = /([\\+-0-9\\.]+)([a-zA-Z%]+)/;\n\nconst fontSizeUnits = new Set(['px', 'em', 'rem', '%', 'vh', 'vw']);\nconst lineHeightUnits = new Set(['', 'px', 'em', '%']);\nconst letterSpacingUnits = new Set(['em', 'rem', 'px']);\n\nconst fontSizeKeyValuesArray = [\n  '',\n  'xx-small',\n  'x-small',\n  'smaller',\n  'small',\n  'medium',\n  'large',\n  'larger',\n  'x-large',\n  'xx-large',\n];\nconst lineHeightKeyValuesArray = ['', 'normal'];\nconst fontWeightKeyValuesArray = ['', 'lighter', 'normal', 'bold', 'bolder'];\nconst letterSpacingKeyValuesArray = ['', 'normal'];\n\nexport const GlobalValues = ['inherit', 'initial', 'unset'];\n\nfontSizeKeyValuesArray.push(...GlobalValues);\nlineHeightKeyValuesArray.push(...GlobalValues);\nfontWeightKeyValuesArray.push(...GlobalValues);\nletterSpacingKeyValuesArray.push(...GlobalValues);\n\nconst fontSizeKeyValues = new Set(fontSizeKeyValuesArray);\nconst lineHeightKeyValues = new Set(lineHeightKeyValuesArray);\nconst fontWeightKeyValues = new Set(fontWeightKeyValuesArray);\nconst letterSpacingKeyValues = new Set(letterSpacingKeyValuesArray);\n\nconst fontSizeRangeMap = new Map([\n  // Common Units\n  ['px', {min: 0, max: 72, step: 1}],\n  ['em', {min: 0, max: 4.5, step: .1}],\n  ['rem', {min: 0, max: 4.5, step: .1}],\n  ['%', {min: 0, max: 450, step: 1}],\n  ['vh', {min: 0, max: 10, step: .1}],\n  ['vw', {min: 0, max: 10, step: .1}],\n\n  // Extra Units\n  ['vmin', {min: 0, max: 10, step: .1}],\n  ['vmax', {min: 0, max: 10, step: .1}],\n  ['cm', {min: 0, max: 2, step: .1}],\n  ['mm', {min: 0, max: 20, step: .1}],\n  ['in', {min: 0, max: 1, step: .01}],\n  ['pt', {min: 0, max: 54, step: 1}],\n  ['pc', {min: 0, max: 4.5, step: .1}],\n]);\n\nconst lineHeightRangeMap = new Map([\n  // Common Units\n  ['', {min: 0, max: 2, step: .1}],\n  ['em', {min: 0, max: 2, step: .1}],\n  ['%', {min: 0, max: 200, step: 1}],\n  ['px', {min: 0, max: 32, step: 1}],\n\n  // Extra Units\n  ['rem', {min: 0, max: 2, step: .1}],\n  ['vh', {min: 0, max: 4.5, step: .1}],\n  ['vw', {min: 0, max: 4.5, step: .1}],\n  ['vmin', {min: 0, max: 4.5, step: .1}],\n  ['vmax', {min: 0, max: 4.5, step: .1}],\n  ['cm', {min: 0, max: 1, step: .1}],\n  ['mm', {min: 0, max: 8.5, step: .1}],\n  ['in', {min: 0, max: .5, step: .1}],\n  ['pt', {min: 0, max: 24, step: 1}],\n  ['pc', {min: 0, max: 2, step: .1}],\n]);\n\nconst fontWeightRangeMap = new Map([\n  ['', {min: 100, max: 700, step: 100}],\n]);\n\nconst letterSpacingRangeMap = new Map([\n  // Common Units\n  ['px', {min: -10, max: 10, step: .01}],\n  ['em', {min: -0.625, max: 0.625, step: .001}],\n  ['rem', {min: -0.625, max: 0.625, step: .001}],\n\n  // Extra Units\n  ['%', {min: -62.5, max: 62.5, step: .1}],\n  ['vh', {min: -1.5, max: 1.5, step: .01}],\n  ['vw', {min: -1.5, max: 1.5, step: .01}],\n  ['vmin', {min: -1.5, max: 1.5, step: .01}],\n  ['vmax', {min: -1.5, max: 1.5, step: .01}],\n  ['cm', {min: -0.25, max: .025, step: .001}],\n  ['mm', {min: -2.5, max: 2.5, step: .01}],\n  ['in', {min: -0.1, max: 0.1, step: .001}],\n  ['pt', {min: -7.5, max: 7.5, step: .01}],\n  ['pc', {min: -0.625, max: 0.625, step: .001}],\n]);\n\nexport const FontSizeStaticParams = {\n  regex: fontSizeRegex,\n  units: fontSizeUnits,\n  keyValues: fontSizeKeyValues,\n  rangeMap: fontSizeRangeMap,\n  defaultUnit: 'px',\n};\n\nexport const LineHeightStaticParams = {\n  regex: lineHeightRegex,\n  units: lineHeightUnits,\n  keyValues: lineHeightKeyValues,\n  rangeMap: lineHeightRangeMap,\n  defaultUnit: '',\n};\n\nexport const FontWeightStaticParams = {\n  regex: fontWeightRegex,\n  units: null,\n  keyValues: fontWeightKeyValues,\n  rangeMap: fontWeightRangeMap,\n  defaultUnit: null,\n};\n\nexport const LetterSpacingStaticParams = {\n  regex: letterSpacingRegex,\n  units: letterSpacingUnits,\n  keyValues: letterSpacingKeyValues,\n  rangeMap: letterSpacingRangeMap,\n  defaultUnit: 'em',\n};\n\nexport const SystemFonts = [\n  'Arial',\n  'Bookman',\n  'Candara',\n  'Comic Sans MS',\n  'Courier New',\n  'Garamond',\n  'Georgia',\n  'Helvetica',\n  'Impact',\n  'Palatino',\n  'Roboto',\n  'Times New Roman',\n  'Verdana',\n];\n\nexport const GenericFonts = [\n  'serif',\n  'sans-serif',\n  'monspace',\n  'cursive',\n  'fantasy',\n  'system-ui',\n  'ui-serif',\n  'ui-sans-serif',\n  'ui-monospace',\n  'ui-rounded',\n  'emoji',\n  'math',\n  'fangsong',\n];\n\nexport async function generateComputedFontArray(): Promise<string[]> {\n  const modelArray =\n      SDK.TargetManager.TargetManager.instance().models(CssOverviewModule.CSSOverviewModel.CSSOverviewModel);\n  if (modelArray) {\n    const cssOverviewModel = modelArray[0];\n    if (cssOverviewModel) {\n      const {fontInfo} = await cssOverviewModel.getNodeStyleStats();\n      const computedFontArray = Array.from(fontInfo.keys());\n      return computedFontArray;\n    }\n  }\n  return [];\n}\n\nexport function getRoundingPrecision(step: number): 0|1|2|3 {\n  switch (step) {\n    case 1:\n      return 0;\n    case .1:\n      return 1;\n    case .01:\n      return 2;\n    case .001:\n      return 3;\n    default:\n      return 0;\n  }\n}\n", "// Copyright 2020 The Chromium Authors\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n/* eslint-disable @devtools/no-lit-render-outside-of-view */\n\nimport * as Platform from '../../../../core/platform/platform.js';\nimport * as Buttons from '../../../components/buttons/buttons.js';\nimport * as Lit from '../../../lit/lit.js';\nimport * as VisualLogging from '../../../visual_logging/visual_logging.js';\n\nimport linkSwatchStyles from './linkSwatch.css.js';\n\nconst {render, html, nothing, Directives: {ref, ifDefined, classMap}} = Lit;\n\nexport interface LinkSwatchRenderData {\n  tooltip: {tooltipId: string}|{title: string}|undefined;\n  text: string;\n  isDefined: boolean;\n  jslogContext?: string;\n  onLinkActivate: (linkText: string) => void;\n}\n\nexport class LinkSwatch extends HTMLElement {\n  protected onLinkActivate: (linkText: string, event: MouseEvent|KeyboardEvent) => void = () => undefined;\n  #linkElement: HTMLElement|undefined;\n\n  connectedCallback(): void {\n  }\n\n  set data(data: LinkSwatchRenderData) {\n    this.onLinkActivate = (linkText: string, event: MouseEvent|KeyboardEvent) => {\n      if (event instanceof MouseEvent && event.button !== 0) {\n        return;\n      }\n      if (event instanceof KeyboardEvent && event.key !== Platform.KeyboardUtilities.ENTER_KEY && event.key !== ' ') {\n        return;\n      }\n\n      data.onLinkActivate(linkText);\n      event.consume(true);\n    };\n    this.render(data);\n  }\n\n  get linkElement(): HTMLElement|undefined {\n    return this.#linkElement;\n  }\n\n  private render(data: LinkSwatchRenderData): void {\n    const {isDefined, text, jslogContext, tooltip} = data;\n    const classes = classMap({\n      'link-style': true,\n      'text-button': true,\n      'link-swatch-link': true,\n      undefined: !isDefined,\n    });\n    // The linkText's space must be removed, otherwise it cannot be triggered when clicked.\n    const onActivate = isDefined ? this.onLinkActivate.bind(this, text.trim()) : null;\n\n    const title = tooltip && 'title' in tooltip && tooltip.title || undefined;\n    const tooltipId = tooltip && 'tooltipId' in tooltip && tooltip.tooltipId || undefined;\n\n    // clang-format off\n    render(html`\n        <style>${Buttons.textButtonStyles}</style>\n        <style>${linkSwatchStyles}</style>\n        <button .disabled=${!isDefined} class=${classes} type=\"button\" title=${ifDefined(title)}\n                aria-details=${ifDefined(tooltipId)} @click=${onActivate} @keydown=${onActivate}\n                role=\"link\"\n                jslog=${jslogContext ? VisualLogging.link().track({click: true}).context(jslogContext) : nothing}\n                tabindex=${ifDefined(isDefined ? -1 : undefined)}\n                ${ref(e => { this.#linkElement = e as HTMLElement; })}>\n           ${text}\n        </button>`, this);\n    // clang-format on\n  }\n}\n\ncustomElements.define('devtools-link-swatch', LinkSwatch);\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    'devtools-link-swatch': LinkSwatch;\n  }\n}\n", "// Copyright 2025 The Chromium Authors\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n// IMPORTANT: this file is auto generated. Please do not edit this file.\n/* istanbul ignore file */\nexport default `/*\n * Copyright 2021 The Chromium Authors\n * Use of this source code is governed by a BSD-style license that can be\n * found in the LICENSE file.\n */\n\n.link-swatch-link {\n  display: inline;\n}\n\n.link-swatch-link:not(.undefined) {\n  cursor: pointer;\n  text-underline-offset: 2px;\n  color: var(--text-link);\n}\n\n.link-swatch-link:hover:not(.undefined) {\n  text-decoration: underline;\n}\n\n.link-swatch-link:focus:not(:focus-visible) {\n  outline: none;\n}\n\n.link-swatch-link.undefined {\n  opacity: 100%;\n  color: var(--text-disabled);\n}\n\n/*# sourceURL=${import.meta.resolve('./linkSwatch.css')} */`;", "// Copyright 2015 The Chromium Authors\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n/* eslint-disable @devtools/no-lit-render-outside-of-view */\n\nimport '../../../kit/kit.js';\n\nimport type {Icon} from '../../../kit/kit.js';\nimport {html, render} from '../../../lit/lit.js';\n\nimport type {CSSShadowModel} from './CSSShadowEditor.js';\nimport cssShadowSwatchStyles from './cssShadowSwatch.css.js';\n\nexport class CSSShadowSwatch extends HTMLElement {\n  readonly #icon: Icon;\n  readonly #model: CSSShadowModel;\n\n  constructor(model: CSSShadowModel) {\n    super();\n    this.#model = model;\n\n    // clang-format off\n    render(html`\n        <style>${cssShadowSwatchStyles}</style>\n        <devtools-icon tabindex=-1 name=\"shadow\" class=\"shadow-swatch-icon\"></devtools-icon>`,\n        this, {host: this});\n    // clang-format on\n\n    this.#icon = this.querySelector('devtools-icon') as Icon;\n  }\n\n  model(): CSSShadowModel {\n    return this.#model;\n  }\n\n  iconElement(): Icon {\n    return this.#icon;\n  }\n}\n\n// eslint-disable-next-line @devtools/enforce-custom-element-prefix\ncustomElements.define('css-shadow-swatch', CSSShadowSwatch);\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    'css-shadow-swatch': CSSShadowSwatch;\n  }\n}\n", "// Copyright 2025 The Chromium Authors\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n// IMPORTANT: this file is auto generated. Please do not edit this file.\n/* istanbul ignore file */\nexport default `/*\n * Copyright 2016 The Chromium Authors\n * Use of this source code is governed by a BSD-style license that can be\n * found in the LICENSE file.\n */\n\ndevtools-icon.shadow-swatch-icon {\n  color: var(--icon-css);\n  transform: scale(0.7);\n  position: relative;\n  margin: -5px -2px -5px -4px;\n  user-select: none;\n  vertical-align: baseline;\n  cursor: pointer;\n\n  &:hover {\n    color: var(--icon-css-hover);\n  }\n}\n\n/*# sourceURL=${import.meta.resolve('./cssShadowSwatch.css')} */`;", "// Copyright 2016 The Chromium Authors\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\nimport * as Common from '../../../../core/common/common.js';\nimport * as Platform from '../../../../core/platform/platform.js';\nimport * as VisualLogging from '../../../visual_logging/visual_logging.js';\nimport * as UI from '../../legacy.js';\n\nimport {ColorSwatch} from './ColorSwatch.js';\nimport swatchPopoverStyles from './swatchPopover.css.js';\n\nexport class SwatchPopoverHelper extends Common.ObjectWrapper.ObjectWrapper<EventTypes> {\n  private readonly popover: UI.GlassPane.GlassPane;\n  private readonly hideProxy: () => void;\n  private readonly boundOnKeyDown: (event: KeyboardEvent) => void;\n  private readonly boundFocusOut: (event: FocusEvent) => void;\n  private isHidden: boolean;\n  private anchorElement: Element|null;\n  private view?: UI.Widget.Widget;\n  private hiddenCallback?: ((arg0: boolean) => void);\n  private focusRestorer?: UI.Widget.WidgetFocusRestorer;\n\n  constructor() {\n    super();\n    this.popover = new UI.GlassPane.GlassPane();\n    this.popover.setSizeBehavior(UI.GlassPane.SizeBehavior.MEASURE_CONTENT);\n    this.popover.setMarginBehavior(UI.GlassPane.MarginBehavior.DEFAULT_MARGIN);\n    this.popover.element.addEventListener('mousedown', e => e.consume(), false);\n\n    this.hideProxy = this.hide.bind(this, true);\n    this.boundOnKeyDown = this.onKeyDown.bind(this);\n    this.boundFocusOut = this.onFocusOut.bind(this);\n    this.isHidden = true;\n    this.anchorElement = null;\n  }\n\n  private onFocusOut(event: FocusEvent): void {\n    const relatedTarget = (event.relatedTarget as Element | null);\n    if (this.isHidden || !relatedTarget || !this.view || relatedTarget.isSelfOrDescendant(this.view.contentElement)) {\n      return;\n    }\n    this.hideProxy();\n  }\n\n  setAnchorElement(anchorElement: Element): void {\n    this.anchorElement = anchorElement;\n  }\n\n  isShowing(view?: UI.Widget.Widget): boolean {\n    return this.popover.isShowing() && ((view && this.view === view) || !view);\n  }\n\n  show(view: UI.Widget.Widget, anchorElement: Element, hiddenCallback?: ((arg0: boolean) => void)): void {\n    if (this.popover.isShowing()) {\n      if (this.anchorElement === anchorElement) {\n        return;\n      }\n\n      // Reopen the picker for another anchor element.\n      this.hide(true);\n    }\n\n    VisualLogging.setMappedParent(view.contentElement, anchorElement);\n    this.popover.registerRequiredCSS(swatchPopoverStyles);\n    this.dispatchEventToListeners(Events.WILL_SHOW_POPOVER);\n\n    this.isHidden = false;\n    this.anchorElement = anchorElement;\n    this.view = view;\n    this.hiddenCallback = hiddenCallback;\n    this.reposition();\n    view.focus();\n\n    const document = this.popover.element.ownerDocument;\n    document.addEventListener('mousedown', this.hideProxy, false);\n    if (document.defaultView) {\n      document.defaultView.addEventListener('resize', this.hideProxy, false);\n    }\n    this.view.contentElement.addEventListener('keydown', this.boundOnKeyDown, false);\n  }\n\n  reposition(): void {\n    // This protects against trying to reposition the popover after it has been hidden.\n    if (this.isHidden || !this.view) {\n      return;\n    }\n    // Unbind \"blur\" listener to avoid reenterability: |popover.show()| will hide the popover and trigger it synchronously.\n    this.view.contentElement.removeEventListener('focusout', this.boundFocusOut, false);\n    this.view.show(this.popover.contentElement);\n    if (this.anchorElement) {\n      let anchorBox = this.anchorElement.boxInWindow();\n      if (ColorSwatch.isColorSwatch(this.anchorElement)) {\n        const swatch = (this.anchorElement);\n        if (!swatch.anchorBox) {\n          return;\n        }\n        anchorBox = swatch.anchorBox;\n      }\n\n      this.popover.setContentAnchorBox(anchorBox);\n      this.popover.show((this.anchorElement.ownerDocument));\n    }\n    this.view.contentElement.addEventListener('focusout', this.boundFocusOut, false);\n    if (!this.focusRestorer) {\n      this.focusRestorer = new UI.Widget.WidgetFocusRestorer(this.view);\n    }\n  }\n\n  hide(commitEdit?: boolean): void {\n    if (this.isHidden) {\n      return;\n    }\n    const document = this.popover.element.ownerDocument;\n    this.isHidden = true;\n    this.popover.hide();\n\n    document.removeEventListener('mousedown', this.hideProxy, false);\n    if (document.defaultView) {\n      document.defaultView.removeEventListener('resize', this.hideProxy, false);\n    }\n\n    if (this.hiddenCallback) {\n      this.hiddenCallback.call(null, Boolean(commitEdit));\n    }\n\n    if (this.focusRestorer) {\n      this.focusRestorer.restore();\n    }\n    this.anchorElement = null;\n    if (this.view) {\n      this.view.detach();\n      this.view.contentElement.removeEventListener('keydown', this.boundOnKeyDown, false);\n      this.view.contentElement.removeEventListener('focusout', this.boundFocusOut, false);\n      delete this.view;\n    }\n  }\n\n  private onKeyDown(event: KeyboardEvent): void {\n    if (event.key === 'Enter') {\n      this.hide(true);\n      event.consume(true);\n      return;\n    }\n    if (event.key === Platform.KeyboardUtilities.ESCAPE_KEY) {\n      this.hide(false);\n      event.consume(true);\n    }\n  }\n}\n\nexport const enum Events {\n  WILL_SHOW_POPOVER = 'WillShowPopover',\n}\n\nexport interface EventTypes {\n  [Events.WILL_SHOW_POPOVER]: void;\n}\n", "// Copyright 2025 The Chromium Authors\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n// IMPORTANT: this file is auto generated. Please do not edit this file.\n/* istanbul ignore file */\nexport default `/*\n * Copyright 2017 The Chromium Authors\n * Use of this source code is governed by a BSD-style license that can be\n * found in the LICENSE file.\n */\n\n.widget {\n  display: flex;\n  overflow: auto;\n  user-select: text;\n  font: var(--sys-typescale-body4-regular);\n  line-height: 11px;\n  box-shadow: var(--sys-elevation-level2);\n  background-color: var(--sys-color-base-container-elevated);\n  border-radius: var(--sys-shape-corner-extra-small);\n}\n\n.with-padding {\n  padding: var(--sys-size-4);\n  border-radius: var(--sys-shape-corner-small);\n}\n\n/*# sourceURL=${import.meta.resolve('./swatchPopover.css')} */`;"],
  "mappings": "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",
  "names": ["LINEAR_BEZIER", "value", "LINEAR_BEZIER", "Geometry", "VisualLogging", "UI", "Geometry", "VisualLogging", "UI", "model", "Common", "Platform", "VisualLogging", "Lit", "VisualLogging", "html", "Lit", "Common", "Lit", "VisualLogging", "Platform", "Geometry", "UI", "value", "render", "html", "Lit", "Lit", "render", "html", "Lit", "styleMap", "Platform", "Lit", "value", "render", "html", "Lit", "styleMap", "value", "Common", "i18n", "Platform", "Geometry", "VisualLogging", "UI", "UIStrings", "str_", "i18nString", "slider", "Common", "i18n", "Platform", "VisualLogging", "UI", "UI", "SDK", "CssOverviewModule", "UIStrings", "str_", "i18nString", "value", "slider", "Platform", "Lit", "VisualLogging", "render", "html", "ref", "Lit", "html", "render", "render", "html", "Common", "Platform", "VisualLogging", "UI", "document"]
}
