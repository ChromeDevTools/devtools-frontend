{
  "version": 3,
  "sources": ["../../../../../../../../front_end/ui/legacy/components/object_ui/CustomPreviewComponent.ts", "customPreviewComponent.css.js", "../../../../../../../../front_end/ui/legacy/components/object_ui/ObjectPropertiesSection.ts", "../../../../../../../../front_end/ui/legacy/components/object_ui/JavaScriptREPL.ts", "../../../../../../../../front_end/ui/legacy/components/object_ui/RemoteObjectPreviewFormatter.ts", "objectPropertiesSection.css.js", "objectValue.css.js", "../../../../../../../../front_end/ui/legacy/components/object_ui/ObjectPopoverHelper.ts", "objectPopover.css.js"],
  "sourcesContent": ["// Copyright 2014 The Chromium Authors\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n/* eslint-disable @devtools/no-imperative-dom-api */\n\nimport * as Common from '../../../../core/common/common.js';\nimport * as i18n from '../../../../core/i18n/i18n.js';\nimport type * as SDK from '../../../../core/sdk/sdk.js';\nimport type * as Protocol from '../../../../generated/protocol.js';\nimport * as IconButton from '../../../components/icon_button/icon_button.js';\nimport * as UI from '../../legacy.js';\n\nimport customPreviewComponentStyles from './customPreviewComponent.css.js';\nimport {\n  ObjectPropertiesSection,\n  ObjectPropertiesSectionsTreeOutline,\n  ObjectPropertyTreeElement,\n  ObjectTree,\n} from './ObjectPropertiesSection.js';\n\nconst UIStrings = {\n  /**\n   * @description A context menu item in the Custom Preview Component\n   */\n  showAsJavascriptObject: 'Show as JavaScript object',\n} as const;\nconst str_ = i18n.i18n.registerUIStrings('ui/legacy/components/object_ui/CustomPreviewComponent.ts', UIStrings);\nconst i18nString = i18n.i18n.getLocalizedString.bind(undefined, str_);\n\nexport class CustomPreviewSection {\n  private readonly sectionElement: HTMLSpanElement;\n  private readonly object: SDK.RemoteObject.RemoteObject;\n  private expanded: boolean;\n  private cachedContent: Node|null;\n  private readonly header: Node|undefined;\n  private readonly expandIcon: IconButton.Icon.Icon|undefined;\n  constructor(object: SDK.RemoteObject.RemoteObject) {\n    this.sectionElement = document.createElement('span');\n    this.sectionElement.classList.add('custom-expandable-section');\n    this.object = object;\n    this.expanded = false;\n    this.cachedContent = null;\n    const customPreview = object.customPreview();\n\n    if (!customPreview) {\n      return;\n    }\n\n    let headerJSON;\n    try {\n      headerJSON = JSON.parse(customPreview.header);\n    } catch (e) {\n      Common.Console.Console.instance().error('Broken formatter: header is invalid json ' + e);\n      return;\n    }\n    this.header = this.renderJSONMLTag(headerJSON);\n    if (this.header.nodeType === Node.TEXT_NODE) {\n      Common.Console.Console.instance().error('Broken formatter: header should be an element node.');\n      return;\n    }\n\n    if (customPreview.bodyGetterId) {\n      if (this.header instanceof Element) {\n        this.header.classList.add('custom-expandable-section-header');\n      }\n      this.header.addEventListener('click', this.onClick.bind(this), false);\n      this.expandIcon = IconButton.Icon.create('triangle-right', 'custom-expand-icon');\n      this.header.insertBefore(this.expandIcon, this.header.firstChild);\n    }\n\n    this.sectionElement.appendChild(this.header);\n  }\n\n  element(): Element {\n    return this.sectionElement;\n  }\n\n  private renderJSONMLTag(jsonML: unknown): Node {\n    if (!Array.isArray(jsonML)) {\n      return document.createTextNode(String(jsonML));\n    }\n\n    return jsonML[0] === 'object' ? this.layoutObjectTag(jsonML) : this.renderElement(jsonML);\n  }\n\n  // TODO(crbug.com/1172300) Ignored during the jsdoc to ts migration)\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  private renderElement(object: any[]): Node {\n    const tagName = object.shift();\n    if (!ALLOWED_TAGS.includes(tagName)) {\n      Common.Console.Console.instance().error('Broken formatter: element ' + tagName + ' is not allowed!');\n      return document.createElement('span');\n    }\n    const element = document.createElement((tagName as string));\n    if ((typeof object[0] === 'object') && !Array.isArray(object[0])) {\n      const attributes = object.shift();\n      for (const key in attributes) {\n        const value = attributes[key];\n        if ((key !== 'style') || (typeof value !== 'string')) {\n          continue;\n        }\n\n        element.setAttribute(key, value);\n      }\n    }\n\n    this.appendJsonMLTags(element, object);\n    return element;\n  }\n\n  private layoutObjectTag(objectTag: unknown[]): Node {\n    objectTag.shift();\n    const attributes = objectTag.shift();\n    const remoteObject = this.object.runtimeModel().createRemoteObject((attributes as Protocol.Runtime.RemoteObject));\n    if (remoteObject.customPreview()) {\n      return (new CustomPreviewSection(remoteObject)).element();\n    }\n\n    const sectionElement = ObjectPropertiesSection.defaultObjectPresentation(remoteObject);\n    sectionElement.classList.toggle('custom-expandable-section-standard-section', remoteObject.hasChildren);\n    return sectionElement;\n  }\n\n  private appendJsonMLTags(parentElement: Node, jsonMLTags: unknown[]): void {\n    for (let i = 0; i < jsonMLTags.length; ++i) {\n      parentElement.appendChild(this.renderJSONMLTag(jsonMLTags[i]));\n    }\n  }\n\n  private onClick(event: Event): void {\n    event.consume(true);\n    if (this.cachedContent) {\n      this.toggleExpand();\n    } else {\n      void this.loadBody();\n    }\n  }\n\n  private toggleExpand(): void {\n    this.expanded = !this.expanded;\n    if (this.header instanceof Element) {\n      this.header.classList.toggle('expanded', this.expanded);\n    }\n    if (this.cachedContent instanceof Element) {\n      this.cachedContent.classList.toggle('hidden', !this.expanded);\n    }\n    if (this.expandIcon) {\n      if (this.expanded) {\n        this.expandIcon.name = 'triangle-down';\n      } else {\n        this.expandIcon.name = 'triangle-right';\n      }\n    }\n  }\n  private defaultBodyTreeOutline: ObjectPropertiesSectionsTreeOutline|undefined;\n\n  async loadBody(): Promise<void> {\n    const customPreview = this.object.customPreview();\n\n    if (!customPreview) {\n      return;\n    }\n\n    if (customPreview.bodyGetterId) {\n      const bodyJsonML =\n          await this.object.callFunctionJSON(bodyGetter => bodyGetter(), [{objectId: customPreview.bodyGetterId}]);\n      if (bodyJsonML === null) {\n        // Per https://firefox-source-docs.mozilla.org/devtools-user/custom_formatters/index.html#custom-formatter-structure\n        // we are supposed to fall back to the default format when the `body()` callback returns `null`.\n        this.defaultBodyTreeOutline = new ObjectPropertiesSectionsTreeOutline({readOnly: true});\n        this.defaultBodyTreeOutline.setShowSelectionOnKeyboardFocus(/* show */ true, /* preventTabOrder */ false);\n        this.defaultBodyTreeOutline.element.classList.add('custom-expandable-section-default-body');\n        void ObjectPropertyTreeElement.populate(\n            this.defaultBodyTreeOutline.rootElement(), new ObjectTree(this.object), false, false);\n\n        this.cachedContent = this.defaultBodyTreeOutline.element;\n      } else {\n        this.cachedContent = this.renderJSONMLTag(bodyJsonML);\n      }\n\n      this.sectionElement.appendChild(this.cachedContent);\n      this.toggleExpand();\n    }\n  }\n}\n\nconst ALLOWED_TAGS = ['span', 'div', 'ol', 'li', 'table', 'tr', 'td'];\n\nexport class CustomPreviewComponent {\n  private readonly object: SDK.RemoteObject.RemoteObject;\n  private customPreviewSection: CustomPreviewSection|null;\n  element: HTMLSpanElement;\n  constructor(object: SDK.RemoteObject.RemoteObject) {\n    this.object = object;\n    this.customPreviewSection = new CustomPreviewSection(object);\n    this.element = document.createElement('span');\n    this.element.classList.add('source-code');\n    const shadowRoot = UI.UIUtils.createShadowRootWithCoreStyles(this.element, {cssFile: customPreviewComponentStyles});\n    this.element.addEventListener('contextmenu', this.contextMenuEventFired.bind(this), false);\n    shadowRoot.appendChild(this.customPreviewSection.element());\n  }\n\n  expandIfPossible(): void {\n    const customPreview = this.object.customPreview();\n    if (customPreview && customPreview.bodyGetterId && this.customPreviewSection) {\n      void this.customPreviewSection.loadBody();\n    }\n  }\n\n  private contextMenuEventFired(event: Event): void {\n    const contextMenu = new UI.ContextMenu.ContextMenu(event);\n    if (this.customPreviewSection) {\n      contextMenu.revealSection().appendItem(\n          i18nString(UIStrings.showAsJavascriptObject), this.disassemble.bind(this),\n          {jslogContext: 'show-as-javascript-object'});\n    }\n    contextMenu.appendApplicableItems(this.object);\n    void contextMenu.show();\n  }\n\n  private disassemble(): void {\n    if (this.element.shadowRoot) {\n      this.element.shadowRoot.textContent = '';\n      this.customPreviewSection = null;\n      this.element.shadowRoot.appendChild(ObjectPropertiesSection.defaultObjectPresentation(this.object));\n    }\n  }\n}\n", "// Copyright 2025 The Chromium Authors\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n// IMPORTANT: this file is auto generated. Please do not edit this file.\n/* istanbul ignore file */\nexport default `/*\n * Copyright 2015 The Chromium Authors\n * Use of this source code is governed by a BSD-style license that can be\n * found in the LICENSE file.\n */\n\n.custom-expandable-section {\n  display: inline-flex;\n  flex-direction: column;\n}\n\n.custom-expand-icon {\n  user-select: none;\n  margin-right: 4px;\n  margin-bottom: -4px;\n}\n\n.custom-expandable-section-standard-section {\n  display: inline-flex;\n}\n\n.custom-expandable-section-default-body {\n  padding-left: 12px;\n}\n\n/*# sourceURL=${import.meta.resolve('./customPreviewComponent.css')} */`;", "// Copyright 2020 The Chromium Authors\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n/* eslint-disable @devtools/no-imperative-dom-api */\n\n/*\n * Copyright (C) 2008 Apple Inc. All Rights Reserved.\n * Copyright (C) 2009 Joseph Pecoraro\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions\n * are met:\n * 1. Redistributions of source code must retain the above copyright\n *    notice, this list of conditions and the following disclaimer.\n * 2. Redistributions in binary form must reproduce the above copyright\n *    notice, this list of conditions and the following disclaimer in the\n *    documentation and/or other materials provided with the distribution.\n *\n * THIS SOFTWARE IS PROVIDED BY APPLE INC. ``AS IS'' AND ANY\n * EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR\n * PURPOSE ARE DISCLAIMED.  IN NO EVENT SHALL APPLE INC. OR\n * CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,\n * EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,\n * PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR\n * PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY\n * OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\nimport * as Common from '../../../../core/common/common.js';\nimport * as Host from '../../../../core/host/host.js';\nimport * as i18n from '../../../../core/i18n/i18n.js';\nimport * as Platform from '../../../../core/platform/platform.js';\nimport * as SDK from '../../../../core/sdk/sdk.js';\nimport type * as Protocol from '../../../../generated/protocol.js';\nimport * as TextUtils from '../../../../models/text_utils/text_utils.js';\nimport * as uiI18n from '../../../../ui/i18n/i18n.js';\nimport * as IconButton from '../../../components/icon_button/icon_button.js';\nimport * as TextEditor from '../../../components/text_editor/text_editor.js';\nimport {Directives, html, render} from '../../../lit/lit.js';\nimport * as VisualLogging from '../../../visual_logging/visual_logging.js';\nimport * as UI from '../../legacy.js';\nimport type * as Components from '../utils/utils.js';\n\nimport {CustomPreviewComponent} from './CustomPreviewComponent.js';\nimport {JavaScriptREPL} from './JavaScriptREPL.js';\nimport objectPropertiesSectionStyles from './objectPropertiesSection.css.js';\nimport objectValueStyles from './objectValue.css.js';\nimport {createSpansForNodeTitle, RemoteObjectPreviewFormatter} from './RemoteObjectPreviewFormatter.js';\n\nconst {ifDefined} = Directives;\nconst UIStrings = {\n  /**\n   * @description Text in Object Properties Section\n   * @example {function alert()  [native code] } PH1\n   */\n  exceptionS: '[Exception: {PH1}]',\n  /**\n   * @description Text in Object Properties Section\n   */\n  unknown: 'unknown',\n  /**\n   * @description Text to expand something recursively\n   */\n  expandRecursively: 'Expand recursively',\n  /**\n   * @description Text to collapse children of a parent group\n   */\n  collapseChildren: 'Collapse children',\n  /**\n   * @description Text in Object Properties Section\n   */\n  noProperties: 'No properties',\n  /**\n   * @description Element text content in Object Properties Section\n   */\n  dots: '(...)',\n  /**\n   * @description Element title in Object Properties Section\n   */\n  invokePropertyGetter: 'Invoke property getter',\n  /**\n   * @description Show all text content in Show More Data Grid Node of a data grid\n   * @example {50} PH1\n   */\n  showAllD: 'Show all {PH1}',\n  /**\n   * @description Value element text content in Object Properties Section. Shown when the developer is\n   * viewing a variable in the Scope view, whose value is not available (i.e. because it was optimized\n   * out) by the JavaScript engine, or inspecting a JavaScript object accessor property, which has no\n   * getter. This string should be translated.\n   */\n  valueUnavailable: '<value unavailable>',\n  /**\n   * @description Tooltip for value elements in the Scope view that refer to variables whose values\n   * aren't accessible to the debugger (potentially due to being optimized out by the JavaScript\n   * engine), or for JavaScript object accessor properties which have no getter.\n   */\n  valueNotAccessibleToTheDebugger: 'Value is not accessible to the debugger',\n  /**\n   * @description A context menu item in the Watch Expressions Sidebar Pane of the Sources panel and Network pane request.\n   */\n  copyValue: 'Copy value',\n  /**\n   * @description A context menu item in the Object Properties Section\n   */\n  copyPropertyPath: 'Copy property path',\n  /**\n   * @description Text shown when displaying a JavaScript object that has a string property that is\n   * too large for DevTools to properly display a text editor. This is shown instead of the string in\n   * question. Should be translated.\n   */\n  stringIsTooLargeToEdit: '<string is too large to edit>',\n  /**\n   * @description Text of attribute value when text is too long\n   * @example {30 MB} PH1\n   */\n  showMoreS: 'Show more ({PH1})',\n  /**\n   * @description Text of attribute value when text is too long\n   * @example {30 MB} PH1\n   */\n  longTextWasTruncatedS: 'long text was truncated ({PH1})',\n  /**\n   * @description Text for copying\n   */\n  copy: 'Copy',\n  /**\n   * @description A tooltip text that shows when hovering over a button next to value objects,\n   * which are based on bytes and can be shown in a hexadecimal viewer.\n   * Clicking on the button will display that object in the Memory inspector panel.\n   */\n  openInMemoryInpector: 'Open in Memory inspector panel',\n} as const;\nconst str_ = i18n.i18n.registerUIStrings('ui/legacy/components/object_ui/ObjectPropertiesSection.ts', UIStrings);\nconst i18nString = i18n.i18n.getLocalizedString.bind(undefined, str_);\nconst EXPANDABLE_MAX_LENGTH = 50;\nconst EXPANDABLE_MAX_DEPTH = 100;\n\nconst objectPropertiesSectionMap = new WeakMap<Element, ObjectPropertiesSection>();\n\ninterface NodeChildren {\n  properties?: ObjectTreeNode[];\n  internalProperties?: ObjectTreeNode[];\n  arrayRanges?: ArrayGroupTreeNode[];\n}\n\nabstract class ObjectTreeNodeBase {\n  #children?: NodeChildren;\n  protected extraProperties: ObjectTreeNode[] = [];\n  constructor(\n      readonly parent?: ObjectTreeNodeBase,\n      readonly propertiesMode: ObjectPropertiesMode = ObjectPropertiesMode.OWN_AND_INTERNAL_AND_INHERITED) {\n  }\n\n  abstract get object(): SDK.RemoteObject.RemoteObject|undefined;\n\n  removeChildren(): void {\n    this.#children = undefined;\n  }\n\n  removeChild(child: ObjectTreeNodeBase): void {\n    remove(this.#children?.arrayRanges, child);\n    remove(this.#children?.internalProperties, child);\n    remove(this.#children?.properties, child);\n\n    function remove<T>(array: T[]|undefined, element: T): void {\n      if (!array) {\n        return;\n      }\n      const index = array.indexOf(element);\n      if (index >= 0) {\n        array.splice(index, 1);\n      }\n    }\n  }\n\n  protected selfOrParentIfInternal(): ObjectTreeNodeBase {\n    return this;\n  }\n\n  async children(): Promise<NodeChildren> {\n    if (!this.#children) {\n      this.#children = await this.populateChildren();\n    }\n    return this.#children;\n  }\n\n  protected async populateChildren(): Promise<NodeChildren> {\n    const object = this.object;\n    if (!object) {\n      return {};\n    }\n\n    const effectiveParent = this.selfOrParentIfInternal();\n\n    if (this.arrayLength > ARRAY_LOAD_THRESHOLD) {\n      const ranges = await arrayRangeGroups(object, 0, this.arrayLength - 1);\n      const arrayRanges = ranges?.ranges.map(\n          ([fromIndex, toIndex, count]) => new ArrayGroupTreeNode(object, {fromIndex, toIndex, count}));\n      if (!arrayRanges) {\n        return {};\n      }\n\n      const {properties: objectProperties, internalProperties: objectInternalProperties} =\n          await SDK.RemoteObject.RemoteObject.loadFromObjectPerProto(\n              this.object, true /* generatePreview */, true /* nonIndexedPropertiesOnly */);\n\n      const properties = objectProperties?.map(p => new ObjectTreeNode(p, undefined, effectiveParent, undefined));\n\n      const internalProperties =\n          objectInternalProperties?.map(p => new ObjectTreeNode(p, undefined, effectiveParent, undefined));\n      return {arrayRanges, properties, internalProperties};\n    }\n\n    let objectProperties: SDK.RemoteObject.RemoteObjectProperty[]|null = null;\n    let objectInternalProperties: SDK.RemoteObject.RemoteObjectProperty[]|null = null;\n    switch (this.propertiesMode) {\n      case ObjectPropertiesMode.ALL:\n        ({properties: objectProperties} =\n             await object.getAllProperties(false /* accessorPropertiesOnly */, true /* generatePreview */));\n        break;\n      case ObjectPropertiesMode.OWN_AND_INTERNAL_AND_INHERITED:\n        ({properties: objectProperties, internalProperties: objectInternalProperties} =\n             await SDK.RemoteObject.RemoteObject.loadFromObjectPerProto(object, true /* generatePreview */));\n        break;\n    }\n\n    const properties = objectProperties?.map(p => new ObjectTreeNode(p, undefined, effectiveParent, undefined));\n    properties?.push(...this.extraProperties);\n\n    const internalProperties =\n        objectInternalProperties?.map(p => new ObjectTreeNode(p, undefined, effectiveParent, undefined));\n    return {properties, internalProperties};\n  }\n\n  get hasChildren(): boolean {\n    return this.object?.hasChildren ?? false;\n  }\n\n  get arrayLength(): number {\n    return this.object?.arrayLength() ?? 0;\n  }\n\n  // This is used in web tests\n  async setPropertyValue(name: string|Protocol.Runtime.CallArgument, value: string): Promise<string|undefined> {\n    return await this.object?.setPropertyValue(name, value);\n  }\n\n  addExtraProperties(...properties: SDK.RemoteObject.RemoteObjectProperty[]): void {\n    this.extraProperties.push(...properties.map(p => new ObjectTreeNode(p, undefined, this, undefined)));\n  }\n}\n\nexport class ObjectTree extends ObjectTreeNodeBase {\n  readonly #object: SDK.RemoteObject.RemoteObject;\n\n  constructor(\n      object: SDK.RemoteObject.RemoteObject,\n      propertiesMode: ObjectPropertiesMode = ObjectPropertiesMode.OWN_AND_INTERNAL_AND_INHERITED) {\n    super(undefined, propertiesMode);\n    this.#object = object;\n  }\n  override get object(): SDK.RemoteObject.RemoteObject {\n    return this.#object;\n  }\n}\n\nclass ArrayGroupTreeNode extends ObjectTreeNodeBase {\n  readonly #object: SDK.RemoteObject.RemoteObject;\n  readonly #range: {fromIndex: number, toIndex: number, count: number};\n  constructor(\n      object: SDK.RemoteObject.RemoteObject, range: {fromIndex: number, toIndex: number, count: number},\n      parent?: ObjectTreeNodeBase,\n      propertiesMode: ObjectPropertiesMode = ObjectPropertiesMode.OWN_AND_INTERNAL_AND_INHERITED) {\n    super(parent, propertiesMode);\n    this.#object = object;\n    this.#range = range;\n  }\n\n  protected override async populateChildren(): Promise<NodeChildren> {\n    if (this.#range.count > ArrayGroupingTreeElement.bucketThreshold) {\n      const ranges = await arrayRangeGroups(this.object, this.#range.fromIndex, this.#range.toIndex);\n      const arrayRanges = ranges?.ranges.map(\n          ([fromIndex, toIndex, count]) => new ArrayGroupTreeNode(this.object, {fromIndex, toIndex, count}));\n      return {arrayRanges};\n    }\n\n    const result = await this.#object.callFunction(buildArrayFragment, [\n      {value: this.#range.fromIndex},\n      {value: this.#range.toIndex},\n      {value: ArrayGroupingTreeElement.sparseIterationThreshold},\n    ]);\n    if (!result.object || result.wasThrown) {\n      return {};\n    }\n    const arrayFragment = result.object;\n    const allProperties =\n        await arrayFragment.getAllProperties(false /* accessorPropertiesOnly */, true /* generatePreview */);\n    arrayFragment.release();\n    const properties = allProperties.properties?.map(p => new ObjectTreeNode(p, this.propertiesMode, this, undefined));\n    properties?.push(...this.extraProperties);\n    properties?.sort(ObjectPropertiesSection.compareProperties);\n    return {properties};\n  }\n\n  get singular(): boolean {\n    return this.#range.fromIndex === this.#range.toIndex;\n  }\n\n  get range(): {fromIndex: number, toIndex: number, count: number} {\n    return this.#range;\n  }\n\n  override get object(): SDK.RemoteObject.RemoteObject {\n    return this.#object;\n  }\n}\n\nexport class ObjectTreeNode extends ObjectTreeNodeBase {\n  constructor(\n      readonly property: SDK.RemoteObject.RemoteObjectProperty,\n      propertiesMode: ObjectPropertiesMode = ObjectPropertiesMode.OWN_AND_INTERNAL_AND_INHERITED,\n      parent?: ObjectTreeNodeBase,\n      readonly nonSyntheticParent?: SDK.RemoteObject.RemoteObject,\n  ) {\n    super(parent, propertiesMode);\n  }\n  override get object(): SDK.RemoteObject.RemoteObject|undefined {\n    return this.property.value;\n  }\n\n  get name(): string {\n    return this.property.name;\n  }\n\n  override selfOrParentIfInternal(): ObjectTreeNodeBase {\n    return this.name === '[[Prototype]]' ? (this.parent ?? this) : this;\n  }\n}\n\nexport const getObjectPropertiesSectionFrom = (element: Element): ObjectPropertiesSection|undefined => {\n  return objectPropertiesSectionMap.get(element);\n};\n\nexport class ObjectPropertiesSection extends UI.TreeOutline.TreeOutlineInShadow {\n  private readonly root: ObjectTree;\n  editable: boolean;\n  readonly #objectTreeElement: RootElement;\n  titleElement: Element;\n  skipProtoInternal?: boolean;\n  constructor(\n      object: SDK.RemoteObject.RemoteObject, title?: string|Element|null, linkifier?: Components.Linkifier.Linkifier,\n      showOverflow?: boolean) {\n    super();\n    this.root = new ObjectTree(object);\n    this.editable = true;\n    if (!showOverflow) {\n      this.setHideOverflow(true);\n    }\n    this.setFocusable(true);\n    this.setShowSelectionOnKeyboardFocus(true);\n    this.#objectTreeElement = new RootElement(this.root, linkifier);\n    this.appendChild(this.#objectTreeElement);\n    if (typeof title === 'string' || !title) {\n      this.titleElement = this.element.createChild('span');\n      this.titleElement.textContent = title || '';\n    } else {\n      this.titleElement = title;\n      this.element.appendChild(title);\n    }\n    if (this.titleElement instanceof HTMLElement && !this.titleElement.hasAttribute('tabIndex')) {\n      this.titleElement.tabIndex = -1;\n    }\n\n    objectPropertiesSectionMap.set(this.element, this);\n    this.registerRequiredCSS(objectValueStyles, objectPropertiesSectionStyles);\n    this.rootElement().childrenListElement.classList.add('source-code', 'object-properties-section');\n  }\n\n  static defaultObjectPresentation(\n      object: SDK.RemoteObject.RemoteObject, linkifier?: Components.Linkifier.Linkifier, skipProto?: boolean,\n      readOnly?: boolean): Element {\n    const objectPropertiesSection =\n        ObjectPropertiesSection.defaultObjectPropertiesSection(object, linkifier, skipProto, readOnly);\n    if (!object.hasChildren) {\n      return objectPropertiesSection.titleElement;\n    }\n    return objectPropertiesSection.element;\n  }\n\n  static defaultObjectPropertiesSection(\n      object: SDK.RemoteObject.RemoteObject, linkifier?: Components.Linkifier.Linkifier, skipProto?: boolean,\n      readOnly?: boolean): ObjectPropertiesSection {\n    const titleElement = document.createElement('span');\n    titleElement.classList.add('source-code');\n    const shadowRoot = UI.UIUtils.createShadowRootWithCoreStyles(titleElement, {cssFile: objectValueStyles});\n    const propertyValue =\n        ObjectPropertiesSection.createPropertyValue(object, /* wasThrown */ false, /* showPreview */ true);\n    shadowRoot.appendChild(propertyValue);\n    const objectPropertiesSection = new ObjectPropertiesSection(object, titleElement, linkifier);\n    objectPropertiesSection.editable = false;\n    if (skipProto) {\n      objectPropertiesSection.skipProto();\n    }\n    if (readOnly) {\n      objectPropertiesSection.setEditable(false);\n    }\n\n    return objectPropertiesSection;\n  }\n\n  // The RemoteObjectProperty overload is kept for web test compatibility for now.\n  static compareProperties(\n      propertyA: ObjectTreeNode|SDK.RemoteObject.RemoteObjectProperty,\n      propertyB: ObjectTreeNode|SDK.RemoteObject.RemoteObjectProperty): number {\n    if (propertyA instanceof ObjectTreeNode) {\n      propertyA = propertyA.property;\n    }\n    if (propertyB instanceof ObjectTreeNode) {\n      propertyB = propertyB.property;\n    }\n    if (!propertyA.synthetic && propertyB.synthetic) {\n      return 1;\n    }\n    if (!propertyB.synthetic && propertyA.synthetic) {\n      return -1;\n    }\n    if (!propertyA.isOwn && propertyB.isOwn) {\n      return 1;\n    }\n    if (!propertyB.isOwn && propertyA.isOwn) {\n      return -1;\n    }\n    if (!propertyA.enumerable && propertyB.enumerable) {\n      return 1;\n    }\n    if (!propertyB.enumerable && propertyA.enumerable) {\n      return -1;\n    }\n    if (propertyA.symbol && !propertyB.symbol) {\n      return 1;\n    }\n    if (propertyB.symbol && !propertyA.symbol) {\n      return -1;\n    }\n    if (propertyA.private && !propertyB.private) {\n      return 1;\n    }\n    if (propertyB.private && !propertyA.private) {\n      return -1;\n    }\n    const a = propertyA.name;\n    const b = propertyB.name;\n    if (a.startsWith('_') && !b.startsWith('_')) {\n      return 1;\n    }\n    if (b.startsWith('_') && !a.startsWith('_')) {\n      return -1;\n    }\n    return Platform.StringUtilities.naturalOrderComparator(a, b);\n  }\n\n  static createNameElement(name: string|null, isPrivate?: boolean): Element {\n    if (name === null) {\n      return UI.Fragment.html`<span class=\"name\"></span>`;\n    }\n    if (/^\\s|\\s$|^$|\\n/.test(name)) {\n      return UI.Fragment.html`<span class=\"name\">\"${name.replace(/\\n/g, '\\u21B5')}\"</span>`;\n    }\n    if (isPrivate) {\n      return UI.Fragment.html`<span class=\"name\">\n  <span class=\"private-property-hash\">${name[0]}</span>${name.substring(1)}\n  </span>`;\n    }\n    return UI.Fragment.html`<span class=\"name\">${name}</span>`;\n  }\n\n  static valueElementForFunctionDescription(description?: string, includePreview?: boolean, defaultName?: string):\n      HTMLElement {\n    const valueElement = document.createElement('span');\n    valueElement.classList.add('object-value-function');\n    description = description || '';\n    const text = description.replace(/^function [gs]et /, 'function ')\n                     .replace(/^function [gs]et\\(/, 'function\\(')\n                     .replace(/^[gs]et /, '');\n    defaultName = defaultName || '';\n\n    // This set of best-effort regular expressions captures common function descriptions.\n    // Ideally, some parser would provide prefix, arguments, function body text separately.\n    const asyncMatch = text.match(/^(async\\s+function)/);\n    const isGenerator = text.startsWith('function*');\n    const isGeneratorShorthand = text.startsWith('*');\n    const isBasic = !isGenerator && text.startsWith('function');\n    const isClass = text.startsWith('class ') || text.startsWith('class{');\n    const firstArrowIndex = text.indexOf('=>');\n    const isArrow = !asyncMatch && !isGenerator && !isBasic && !isClass && firstArrowIndex > 0;\n\n    let textAfterPrefix;\n    if (isClass) {\n      textAfterPrefix = text.substring('class'.length);\n      const classNameMatch = /^[^{\\s]+/.exec(textAfterPrefix.trim());\n      let className: string = defaultName;\n      if (classNameMatch) {\n        className = classNameMatch[0].trim() || defaultName;\n      }\n      addElements('class', textAfterPrefix, className);\n    } else if (asyncMatch) {\n      textAfterPrefix = text.substring(asyncMatch[1].length);\n      addElements('async \\u0192', textAfterPrefix, nameAndArguments(textAfterPrefix));\n    } else if (isGenerator) {\n      textAfterPrefix = text.substring('function*'.length);\n      addElements('\\u0192*', textAfterPrefix, nameAndArguments(textAfterPrefix));\n    } else if (isGeneratorShorthand) {\n      textAfterPrefix = text.substring('*'.length);\n      addElements('\\u0192*', textAfterPrefix, nameAndArguments(textAfterPrefix));\n    } else if (isBasic) {\n      textAfterPrefix = text.substring('function'.length);\n      addElements('\\u0192', textAfterPrefix, nameAndArguments(textAfterPrefix));\n    } else if (isArrow) {\n      const maxArrowFunctionCharacterLength = 60;\n      let abbreviation: string = text;\n      if (defaultName) {\n        abbreviation = defaultName + '()';\n      } else if (text.length > maxArrowFunctionCharacterLength) {\n        abbreviation = text.substring(0, firstArrowIndex + 2) + ' {â€¦}';\n      }\n      addElements('', text, abbreviation);\n    } else {\n      addElements('\\u0192', text, nameAndArguments(text));\n    }\n    UI.Tooltip.Tooltip.install(valueElement, Platform.StringUtilities.trimEndWithMaxLength(description, 500));\n    return valueElement;\n\n    function nameAndArguments(contents: string): string {\n      const startOfArgumentsIndex = contents.indexOf('(');\n      const endOfArgumentsMatch = contents.match(/\\)\\s*{/);\n      if (startOfArgumentsIndex !== -1 && endOfArgumentsMatch?.index !== undefined &&\n          endOfArgumentsMatch.index > startOfArgumentsIndex) {\n        const name = contents.substring(0, startOfArgumentsIndex).trim() || defaultName;\n        const args = contents.substring(startOfArgumentsIndex, endOfArgumentsMatch.index + 1);\n        return name + args;\n      }\n      return defaultName + '()';\n    }\n\n    function addElements(prefix: string, body: string, abbreviation: string): void {\n      const maxFunctionBodyLength = 200;\n      if (prefix.length) {\n        valueElement.createChild('span', 'object-value-function-prefix').textContent = prefix + ' ';\n      }\n      if (includePreview) {\n        UI.UIUtils.createTextChild(\n            valueElement, Platform.StringUtilities.trimEndWithMaxLength(body.trim(), maxFunctionBodyLength));\n      } else {\n        UI.UIUtils.createTextChild(valueElement, abbreviation.replace(/\\n/g, ' '));\n      }\n    }\n  }\n\n  static createPropertyValueWithCustomSupport(\n      value: SDK.RemoteObject.RemoteObject, wasThrown: boolean, showPreview: boolean,\n      linkifier?: Components.Linkifier.Linkifier, isSyntheticProperty?: boolean, variableName?: string): HTMLElement {\n    if (value.customPreview()) {\n      const result = (new CustomPreviewComponent(value)).element;\n      result.classList.add('object-properties-section-custom-section');\n      return result;\n    }\n    return ObjectPropertiesSection.createPropertyValue(\n        value, wasThrown, showPreview, linkifier, isSyntheticProperty, variableName);\n  }\n\n  static appendMemoryIcon(element: Element, object: SDK.RemoteObject.RemoteObject, expression?: string): void {\n    if (!object.isLinearMemoryInspectable()) {\n      return;\n    }\n\n    const memoryIcon = new IconButton.Icon.Icon();\n    memoryIcon.name = 'memory';\n    memoryIcon.style.width = 'var(--sys-size-8)';\n    memoryIcon.style.height = '13px';\n    memoryIcon.addEventListener('click', event => {\n      event.consume();\n      void Common.Revealer.reveal(new SDK.RemoteObject.LinearMemoryInspectable(object, expression));\n    });\n    memoryIcon.setAttribute('jslog', `${VisualLogging.action('open-memory-inspector').track({click: true})}`);\n\n    const revealText = i18nString(UIStrings.openInMemoryInpector);\n    UI.Tooltip.Tooltip.install(memoryIcon, revealText);\n    UI.ARIAUtils.setLabel(memoryIcon, revealText);\n\n    // Directly set property on memory icon, so that the memory icon is also\n    // styled within the context of code mirror.\n    memoryIcon.style.setProperty('vertical-align', 'sub');\n    memoryIcon.style.setProperty('cursor', 'pointer');\n\n    element.appendChild(memoryIcon);\n  }\n\n  static createPropertyValue(\n      value: SDK.RemoteObject.RemoteObject, wasThrown: boolean, showPreview: boolean,\n      linkifier?: Components.Linkifier.Linkifier, isSyntheticProperty = false, variableName?: string): HTMLElement {\n    let propertyValue: HTMLElement;\n    const type = value.type;\n    const subtype = value.subtype;\n    const description = value.description || '';\n    const className = value.className;\n    if (type === 'object' && subtype === 'internal#location') {\n      const rawLocation = value.debuggerModel().createRawLocationByScriptId(\n          value.value.scriptId, value.value.lineNumber, value.value.columnNumber);\n      if (rawLocation && linkifier) {\n        return linkifier.linkifyRawLocation(rawLocation, Platform.DevToolsPath.EmptyUrlString);\n      }\n      propertyValue = createUnknownInternalLocationElement();\n    } else if (type === 'string' && typeof description === 'string') {\n      propertyValue = createStringElement();\n    } else if (type === 'object' && subtype === 'trustedtype') {\n      propertyValue = createTrustedTypeElement();\n    } else if (type === 'function') {\n      propertyValue = ObjectPropertiesSection.valueElementForFunctionDescription(description);\n    } else if (type === 'object' && subtype === 'node' && description) {\n      propertyValue = createNodeElement();\n    } else {\n      const valueElement = document.createElement('span');\n      valueElement.classList.add('object-value-' + (subtype || type));\n      if (value.preview && showPreview) {\n        const previewFormatter = new RemoteObjectPreviewFormatter();\n        previewFormatter.appendObjectPreview(valueElement, value.preview, false /* isEntry */);\n        propertyValue = valueElement;\n        UI.Tooltip.Tooltip.install(propertyValue as HTMLElement, description || '');\n      } else if (description.length > maxRenderableStringLength) {\n        propertyValue = new ExpandableTextPropertyValue(valueElement, description, EXPANDABLE_MAX_LENGTH).element;\n      } else {\n        propertyValue = valueElement;\n        propertyValue.textContent = description;\n        UI.Tooltip.Tooltip.install(propertyValue as HTMLElement, description);\n      }\n      if (!isSyntheticProperty) {\n        this.appendMemoryIcon(valueElement, value, variableName);\n      }\n    }\n\n    if (wasThrown) {\n      const wrapperElement = document.createElement('span');\n      wrapperElement.classList.add('error');\n      wrapperElement.classList.add('value');\n      wrapperElement.appendChild(uiI18n.getFormatLocalizedString(str_, UIStrings.exceptionS, {PH1: propertyValue}));\n      propertyValue = wrapperElement;\n    }\n    propertyValue.classList.add('value');\n    return propertyValue;\n\n    function createUnknownInternalLocationElement(): HTMLElement {\n      const valueElement = document.createElement('span');\n      valueElement.textContent = '<' + i18nString(UIStrings.unknown) + '>';\n      UI.Tooltip.Tooltip.install(valueElement, description || '');\n      return valueElement;\n    }\n\n    function createStringElement(): HTMLElement {\n      const valueElement = document.createElement('span');\n      valueElement.classList.add('object-value-string');\n      const text = JSON.stringify(description);\n      let propertyValue: HTMLElement;\n      if (description.length > maxRenderableStringLength) {\n        propertyValue = new ExpandableTextPropertyValue(valueElement, text, EXPANDABLE_MAX_LENGTH).element;\n      } else {\n        UI.UIUtils.createTextChild(valueElement, text);\n        propertyValue = valueElement;\n        UI.Tooltip.Tooltip.install(valueElement, description);\n      }\n      return propertyValue;\n    }\n\n    function createTrustedTypeElement(): HTMLElement {\n      const valueElement = document.createElement('span');\n      valueElement.classList.add('object-value-trustedtype');\n      const text = `${className} \"${description}\"`;\n      let propertyValue;\n      if (text.length > maxRenderableStringLength) {\n        propertyValue = new ExpandableTextPropertyValue(valueElement, text, EXPANDABLE_MAX_LENGTH).element;\n      } else {\n        const contentString = createStringElement();\n        UI.UIUtils.createTextChild(valueElement, `${className} `);\n        valueElement.appendChild(contentString);\n        propertyValue = valueElement;\n        UI.Tooltip.Tooltip.install(valueElement, text);\n      }\n\n      return propertyValue;\n    }\n\n    function createNodeElement(): HTMLElement {\n      const valueElement = document.createElement('span');\n      valueElement.classList.add('object-value-node');\n      createSpansForNodeTitle(valueElement, (description));\n      valueElement.addEventListener('click', event => {\n        void Common.Revealer.reveal(value);\n        event.consume(true);\n      }, false);\n      valueElement.addEventListener(\n          'mousemove', () => SDK.OverlayModel.OverlayModel.highlightObjectAsDOMNode(value), false);\n      valueElement.addEventListener('mouseleave', () => SDK.OverlayModel.OverlayModel.hideDOMNodeHighlight(), false);\n      return valueElement;\n    }\n  }\n\n  static formatObjectAsFunction(\n      func: SDK.RemoteObject.RemoteObject, element: Element, linkify: boolean,\n      includePreview?: boolean): Promise<void> {\n    return func.debuggerModel().functionDetailsPromise(func).then(didGetDetails);\n\n    function didGetDetails(response: SDK.DebuggerModel.FunctionDetails|null): void {\n      if (linkify && response?.location) {\n        element.classList.add('linkified');\n        element.addEventListener('click', () => {\n          void Common.Revealer.reveal(response.location);\n          return false;\n        });\n      }\n\n      // The includePreview flag is false for formats such as console.dir().\n      let defaultName: string|('' | 'anonymous') = includePreview ? '' : 'anonymous';\n      if (response?.functionName) {\n        defaultName = response.functionName;\n      }\n      const valueElement =\n          ObjectPropertiesSection.valueElementForFunctionDescription(func.description, includePreview, defaultName);\n      element.appendChild(valueElement);\n    }\n  }\n\n  static isDisplayableProperty(\n      property: SDK.RemoteObject.RemoteObjectProperty,\n      parentProperty?: SDK.RemoteObject.RemoteObjectProperty): boolean {\n    if (!parentProperty?.synthetic) {\n      return true;\n    }\n    const name = property.name;\n    const useless = (parentProperty.name === '[[Entries]]' && (name === 'length' || name === '__proto__'));\n    return !useless;\n  }\n\n  skipProto(): void {\n    this.skipProtoInternal = true;\n  }\n\n  expand(): void {\n    this.#objectTreeElement.expand();\n  }\n\n  setEditable(value: boolean): void {\n    this.editable = value;\n  }\n\n  objectTreeElement(): UI.TreeOutline.TreeElement {\n    return this.#objectTreeElement;\n  }\n\n  enableContextMenu(): void {\n    this.element.addEventListener('contextmenu', this.contextMenuEventFired.bind(this), false);\n  }\n\n  private contextMenuEventFired(event: Event): void {\n    const contextMenu = new UI.ContextMenu.ContextMenu(event);\n    contextMenu.appendApplicableItems(this.root);\n    if (this.root.object instanceof SDK.RemoteObject.LocalJSONObject) {\n      contextMenu.viewSection().appendItem(\n          i18nString(UIStrings.expandRecursively),\n          this.#objectTreeElement.expandRecursively.bind(this.#objectTreeElement, EXPANDABLE_MAX_DEPTH),\n          {jslogContext: 'expand-recursively'});\n      contextMenu.viewSection().appendItem(\n          i18nString(UIStrings.collapseChildren),\n          this.#objectTreeElement.collapseChildren.bind(this.#objectTreeElement), {jslogContext: 'collapse-children'});\n    }\n    void contextMenu.show();\n  }\n\n  titleLessMode(): void {\n    this.#objectTreeElement.listItemElement.classList.add('hidden');\n    this.#objectTreeElement.childrenListElement.classList.add('title-less-mode');\n    this.#objectTreeElement.expand();\n  }\n}\n\n/** @constant */\nconst ARRAY_LOAD_THRESHOLD = 100;\n\nconst maxRenderableStringLength = 10000;\n\nexport interface TreeOutlineOptions {\n  readOnly?: boolean;\n}\n\nexport class ObjectPropertiesSectionsTreeOutline extends UI.TreeOutline.TreeOutlineInShadow {\n  readonly editable: boolean;\n  constructor(options?: TreeOutlineOptions|null) {\n    super();\n    this.registerRequiredCSS(objectValueStyles, objectPropertiesSectionStyles);\n    this.editable = !(options?.readOnly);\n    this.contentElement.classList.add('source-code');\n    this.contentElement.classList.add('object-properties-section');\n  }\n}\n\nexport const enum ObjectPropertiesMode {\n  ALL = 0,                             // All properties, including prototype properties\n  OWN_AND_INTERNAL_AND_INHERITED = 1,  // Own, internal, and inherited properties\n}\n\nexport class RootElement extends UI.TreeOutline.TreeElement {\n  private readonly object: ObjectTree;\n  private readonly linkifier: Components.Linkifier.Linkifier|undefined;\n  private readonly emptyPlaceholder: string|null|undefined;\n  override toggleOnClick: boolean;\n  constructor(object: ObjectTree, linkifier?: Components.Linkifier.Linkifier, emptyPlaceholder?: string|null) {\n    const contentElement = document.createElement('slot');\n    super(contentElement);\n\n    this.object = object;\n    this.linkifier = linkifier;\n    this.emptyPlaceholder = emptyPlaceholder;\n\n    this.setExpandable(true);\n    this.selectable = true;\n    this.toggleOnClick = true;\n    this.listItemElement.classList.add('object-properties-section-root-element');\n    this.listItemElement.addEventListener('contextmenu', this.onContextMenu.bind(this), false);\n  }\n\n  override onexpand(): void {\n    if (this.treeOutline) {\n      this.treeOutline.element.classList.add('expanded');\n    }\n  }\n\n  override oncollapse(): void {\n    if (this.treeOutline) {\n      this.treeOutline.element.classList.remove('expanded');\n    }\n  }\n\n  override ondblclick(_e: Event): boolean {\n    return true;\n  }\n\n  private onContextMenu(event: Event): void {\n    const contextMenu = new UI.ContextMenu.ContextMenu(event);\n    contextMenu.appendApplicableItems(this.object.object);\n\n    if (this.object instanceof SDK.RemoteObject.LocalJSONObject) {\n      const {value} = this.object;\n      const propertyValue = typeof value === 'object' ? JSON.stringify(value, null, 2) : value;\n      const copyValueHandler = (): void => {\n        Host.userMetrics.actionTaken(Host.UserMetrics.Action.NetworkPanelCopyValue);\n        Host.InspectorFrontendHost.InspectorFrontendHostInstance.copyText((propertyValue as string | undefined));\n      };\n      contextMenu.clipboardSection().appendItem(\n          i18nString(UIStrings.copyValue), copyValueHandler, {jslogContext: 'copy-value'});\n    }\n\n    contextMenu.viewSection().appendItem(\n        i18nString(UIStrings.expandRecursively), this.expandRecursively.bind(this, EXPANDABLE_MAX_DEPTH),\n        {jslogContext: 'expand-recursively'});\n    contextMenu.viewSection().appendItem(\n        i18nString(UIStrings.collapseChildren), this.collapseChildren.bind(this), {jslogContext: 'collapse-children'});\n    void contextMenu.show();\n  }\n\n  override async onpopulate(): Promise<void> {\n    const treeOutline = (this.treeOutline as ObjectPropertiesSection | null);\n    const skipProto = treeOutline ? Boolean(treeOutline.skipProtoInternal) : false;\n    return await ObjectPropertyTreeElement.populate(\n        this, this.object, skipProto, false, this.linkifier, this.emptyPlaceholder);\n  }\n}\n\n/**\n * Number of initially visible children in an ObjectPropertyTreeElement.\n * Remaining children are shown as soon as requested via a show more properties button.\n **/\nexport const InitialVisibleChildrenLimit = 200;\n\nexport class ObjectPropertyTreeElement extends UI.TreeOutline.TreeElement {\n  property: ObjectTreeNode;\n  override toggleOnClick: boolean;\n  private highlightChanges: UI.UIUtils.HighlightChange[];\n  private linkifier: Components.Linkifier.Linkifier|undefined;\n  private readonly maxNumPropertiesToShow: number;\n  nameElement!: HTMLElement;\n  valueElement!: HTMLElement;\n  private rowContainer!: HTMLElement;\n  readOnly!: boolean;\n  private prompt!: ObjectPropertyPrompt|undefined;\n  private editableDiv!: HTMLElement;\n  propertyValue?: HTMLElement;\n  expandedValueElement?: Element|null;\n  constructor(property: ObjectTreeNode, linkifier?: Components.Linkifier.Linkifier) {\n    // Pass an empty title, the title gets made later in onattach.\n    super();\n\n    this.property = property;\n    this.toggleOnClick = true;\n    this.highlightChanges = [];\n    this.linkifier = linkifier;\n    this.maxNumPropertiesToShow = InitialVisibleChildrenLimit;\n    this.listItemElement.addEventListener('contextmenu', this.contextMenuFired.bind(this), false);\n    this.listItemElement.dataset.objectPropertyNameForTest = property.name;\n    this.setExpandRecursively(property.name !== '[[Prototype]]');\n  }\n\n  static async populate(\n      treeElement: UI.TreeOutline.TreeElement,\n      value: ObjectTreeNodeBase,\n      skipProto: boolean,\n      skipGettersAndSetters: boolean,\n      linkifier?: Components.Linkifier.Linkifier,\n      emptyPlaceholder?: string|null,\n      ): Promise<void> {\n    const properties = await value.children();\n    if (properties.arrayRanges) {\n      await ArrayGroupingTreeElement.populate(treeElement, properties, linkifier);\n    } else {\n      ObjectPropertyTreeElement.populateWithProperties(\n          treeElement, properties, skipProto, skipGettersAndSetters, linkifier, emptyPlaceholder);\n    }\n  }\n\n  static populateWithProperties(\n      treeNode: UI.TreeOutline.TreeElement, {properties, internalProperties}: NodeChildren, skipProto: boolean,\n      skipGettersAndSetters: boolean, linkifier?: Components.Linkifier.Linkifier,\n      emptyPlaceholder?: string|null): void {\n    properties?.sort(ObjectPropertiesSection.compareProperties);\n\n    const entriesProperty = internalProperties?.find(({property}) => property.name === '[[Entries]]');\n    if (entriesProperty) {\n      const treeElement = new ObjectPropertyTreeElement(entriesProperty, linkifier);\n      treeElement.setExpandable(true);\n      treeElement.expand();\n      treeNode.appendChild(treeElement);\n    }\n\n    const tailProperties = [];\n    for (const property of properties ?? []) {\n      if (treeNode instanceof ObjectPropertyTreeElement &&\n          !ObjectPropertiesSection.isDisplayableProperty(property.property, treeNode.property?.property)) {\n        continue;\n      }\n\n      // FIXME move into node\n      if (property.property.isOwn && !skipGettersAndSetters) {\n        if (property.property.getter) {\n          const getterProperty = new SDK.RemoteObject.RemoteObjectProperty(\n              'get ' + property.property.name, property.property.getter, false);\n          tailProperties.push(new ObjectTreeNode(getterProperty, property.propertiesMode, property.parent));\n        }\n        if (property.property.setter) {\n          const setterProperty = new SDK.RemoteObject.RemoteObjectProperty(\n              'set ' + property.property.name, property.property.setter, false);\n          tailProperties.push(new ObjectTreeNode(setterProperty, property.propertiesMode, property.parent));\n        }\n      }\n\n      const canShowProperty = property.property.getter || !property.property.isAccessorProperty();\n      if (canShowProperty) {\n        const element = new ObjectPropertyTreeElement(property, linkifier);\n        if (property.property.name === 'memories' && property.object?.className === 'Memories') {\n          element.updateExpandable();\n          if (element.isExpandable()) {\n            element.expand();\n          }\n        }\n        treeNode.appendChild(element);\n      }\n    }\n    for (let i = 0; i < tailProperties.length; ++i) {\n      treeNode.appendChild(new ObjectPropertyTreeElement(tailProperties[i], linkifier));\n    }\n\n    for (const property of internalProperties ?? []) {\n      const treeElement = new ObjectPropertyTreeElement(property, linkifier);\n      if (property.property.name === '[[Entries]]') {\n        continue;\n      }\n      if (property.property.name === '[[Prototype]]' && skipProto) {\n        continue;\n      }\n      treeNode.appendChild(treeElement);\n    }\n\n    ObjectPropertyTreeElement.appendEmptyPlaceholderIfNeeded(treeNode, emptyPlaceholder);\n  }\n\n  private static appendEmptyPlaceholderIfNeeded(treeNode: UI.TreeOutline.TreeElement, emptyPlaceholder?: string|null):\n      void {\n    if (treeNode.childCount()) {\n      return;\n    }\n    const title = document.createElement('div');\n    title.classList.add('gray-info-message');\n    title.textContent = emptyPlaceholder || i18nString(UIStrings.noProperties);\n    const infoElement = new UI.TreeOutline.TreeElement(title);\n    treeNode.appendChild(infoElement);\n  }\n\n  static createRemoteObjectAccessorPropertySpan(\n      object: SDK.RemoteObject.RemoteObject|null, propertyPath: string[],\n      callback: (arg0: SDK.RemoteObject.CallFunctionResult) => void): HTMLElement {\n    const rootElement = document.createElement('span');\n    const element = rootElement.createChild('span');\n    element.textContent = i18nString(UIStrings.dots);\n    if (!object) {\n      return rootElement;\n    }\n    element.classList.add('object-value-calculate-value-button');\n    UI.Tooltip.Tooltip.install(element, i18nString(UIStrings.invokePropertyGetter));\n    element.addEventListener('click', onInvokeGetterClick, false);\n\n    function onInvokeGetterClick(event: Event): void {\n      event.consume();\n      if (object) {\n        void object.callFunction(invokeGetter, [{value: JSON.stringify(propertyPath)}]).then(callback);\n      }\n    }\n\n    function invokeGetter(this: Object, arrayStr: string): Object {\n      let result: Object = this;\n      const properties = JSON.parse(arrayStr);\n      for (let i = 0, n = properties.length; i < n; ++i) {\n        // @ts-expect-error callFunction expects this to be a generic Object, so while this works we can't be more specific on types.\n        result = result[properties[i]];\n      }\n      return result;\n    }\n\n    return rootElement;\n  }\n\n  setSearchRegex(regex: RegExp, additionalCssClassName?: string): boolean {\n    let cssClasses = UI.UIUtils.highlightedSearchResultClassName;\n    if (additionalCssClassName) {\n      cssClasses += ' ' + additionalCssClassName;\n    }\n    this.revertHighlightChanges();\n\n    this.applySearch(regex, this.nameElement, cssClasses);\n    if (this.property.object) {\n      const valueType = this.property.object.type;\n      if (valueType !== 'object') {\n        this.applySearch(regex, this.valueElement, cssClasses);\n      }\n    }\n\n    return Boolean(this.highlightChanges.length);\n  }\n\n  private applySearch(regex: RegExp, element: Element, cssClassName: string): void {\n    const ranges = [];\n    const content = element.textContent || '';\n    regex.lastIndex = 0;\n    let match = regex.exec(content);\n    while (match) {\n      ranges.push(new TextUtils.TextRange.SourceRange(match.index, match[0].length));\n      match = regex.exec(content);\n    }\n    if (ranges.length) {\n      UI.UIUtils.highlightRangesWithStyleClass(element, ranges, cssClassName, this.highlightChanges);\n    }\n  }\n\n  private showAllPropertiesElementSelected(element: UI.TreeOutline.TreeElement): boolean {\n    this.removeChild(element);\n    this.children().forEach(x => {\n      x.hidden = false;\n    });\n    return false;\n  }\n\n  private createShowAllPropertiesButton(): void {\n    const element = document.createElement('div');\n    element.classList.add('object-value-calculate-value-button');\n    element.textContent = i18nString(UIStrings.dots);\n    UI.Tooltip.Tooltip.install(element, i18nString(UIStrings.showAllD, {PH1: this.childCount()}));\n    const children = this.children();\n    for (let i = this.maxNumPropertiesToShow; i < this.childCount(); ++i) {\n      children[i].hidden = true;\n    }\n    const showAllPropertiesButton = new UI.TreeOutline.TreeElement(element);\n    showAllPropertiesButton.onselect = this.showAllPropertiesElementSelected.bind(this, showAllPropertiesButton);\n    this.appendChild(showAllPropertiesButton);\n  }\n\n  revertHighlightChanges(): void {\n    UI.UIUtils.revertDomChanges(this.highlightChanges);\n    this.highlightChanges = [];\n  }\n\n  override async onpopulate(): Promise<void> {\n    const treeOutline = (this.treeOutline as ObjectPropertiesSection | null);\n    const skipProto = treeOutline ? Boolean(treeOutline.skipProtoInternal) : false;\n    this.removeChildren();\n    this.property.removeChildren();\n\n    if (this.property.object) {\n      await ObjectPropertyTreeElement.populate(this, this.property, skipProto, false, this.linkifier);\n      if (this.childCount() > this.maxNumPropertiesToShow) {\n        this.createShowAllPropertiesButton();\n      }\n    }\n  }\n\n  override ondblclick(event: Event): boolean {\n    const target = (event.target as HTMLElement);\n    const inEditableElement = target.isSelfOrDescendant(this.valueElement) ||\n        (this.expandedValueElement && target.isSelfOrDescendant(this.expandedValueElement));\n    if (this.property.object && !this.property.object.customPreview() && inEditableElement &&\n        (this.property.property.writable || this.property.property.setter)) {\n      this.startEditing();\n    }\n    return false;\n  }\n\n  override onenter(): boolean {\n    if (this.property.object && !this.property.object.customPreview() &&\n        (this.property.property.writable || this.property.property.setter)) {\n      this.startEditing();\n      return true;\n    }\n    return false;\n  }\n\n  override onattach(): void {\n    this.update();\n    this.updateExpandable();\n  }\n\n  override onexpand(): void {\n    this.showExpandedValueElement(true);\n  }\n\n  override oncollapse(): void {\n    this.showExpandedValueElement(false);\n  }\n\n  private showExpandedValueElement(value: boolean): void {\n    if (!this.expandedValueElement) {\n      return;\n    }\n    if (value) {\n      this.rowContainer.replaceChild(this.expandedValueElement, this.valueElement);\n    } else {\n      this.rowContainer.replaceChild(this.valueElement, this.expandedValueElement);\n    }\n  }\n\n  private createExpandedValueElement(value: SDK.RemoteObject.RemoteObject, isSyntheticProperty: boolean): Element|null {\n    const needsAlternateValue = value.hasChildren && !value.customPreview() && value.subtype !== 'node' &&\n        value.type !== 'function' && (value.type !== 'object' || value.preview);\n    if (!needsAlternateValue) {\n      return null;\n    }\n\n    const valueElement = document.createElement('span');\n    valueElement.classList.add('value');\n    if (value.description === 'Object') {\n      valueElement.textContent = '';\n    } else {\n      valueElement.setTextContentTruncatedIfNeeded(value.description || '');\n    }\n    valueElement.classList.add('object-value-' + (value.subtype || value.type));\n    UI.Tooltip.Tooltip.install(valueElement, value.description || '');\n    if (!isSyntheticProperty) {\n      ObjectPropertiesSection.appendMemoryIcon(valueElement, value);\n    }\n    return valueElement;\n  }\n\n  update(): void {\n    this.nameElement =\n        (ObjectPropertiesSection.createNameElement(this.property.name, this.property.property.private) as HTMLElement);\n    if (!this.property.property.enumerable) {\n      this.nameElement.classList.add('object-properties-section-dimmed');\n    }\n    if (this.property.property.isOwn) {\n      this.nameElement.classList.add('own-property');\n    }\n    if (this.property.property.synthetic) {\n      this.nameElement.classList.add('synthetic-property');\n    }\n\n    this.updatePropertyPath();\n\n    const isInternalEntries = this.property.property.synthetic && this.property.name === '[[Entries]]';\n    if (isInternalEntries) {\n      this.valueElement = document.createElement('span');\n      this.valueElement.classList.add('value');\n    } else if (this.property.object) {\n      const showPreview = this.property.name !== '[[Prototype]]';\n      this.propertyValue = ObjectPropertiesSection.createPropertyValueWithCustomSupport(\n          this.property.object, this.property.property.wasThrown, showPreview, this.linkifier,\n          this.property.property.synthetic, this.path() /* variableName */);\n      this.valueElement = this.propertyValue;\n    } else if (this.property.property.getter) {\n      this.valueElement = document.createElement('span');\n      const element = this.valueElement.createChild('span');\n      element.textContent = i18nString(UIStrings.dots);\n      element.classList.add('object-value-calculate-value-button');\n      UI.Tooltip.Tooltip.install(element, i18nString(UIStrings.invokePropertyGetter));\n      const getter = this.property.property.getter;\n      element.addEventListener('click', (event: Event) => {\n        event.consume();\n        const invokeGetter = `\n          function invokeGetter(getter) {\n            return Reflect.apply(getter, this, []);\n          }`;\n        // Also passing a string instead of a Function to avoid coverage implementation messing with it.\n        void this.property.parent\n            ?.object\n            // @ts-expect-error No way to teach TypeScript to preserve the Function-ness of `getter`.\n            ?.callFunction(invokeGetter, [SDK.RemoteObject.RemoteObject.toCallArgument(getter)])\n            .then(this.onInvokeGetterClick.bind(this));\n      }, false);\n    } else {\n      this.valueElement = document.createElement('span');\n      this.valueElement.classList.add('object-value-unavailable');\n      this.valueElement.textContent = i18nString(UIStrings.valueUnavailable);\n      UI.Tooltip.Tooltip.install(this.valueElement, i18nString(UIStrings.valueNotAccessibleToTheDebugger));\n    }\n\n    const valueText = this.valueElement.textContent;\n    if (this.property.object && valueText && !this.property.property.wasThrown) {\n      this.expandedValueElement =\n          this.createExpandedValueElement(this.property.object, this.property.property.synthetic);\n    }\n\n    const adorner: Element|string = '';\n    let container: Element;\n\n    if (isInternalEntries) {\n      container = UI.Fragment.html`\n        <span class='name-and-value'>${adorner}${this.nameElement}</span>\n      `;\n    } else {\n      container = UI.Fragment.html`\n        <span class='name-and-value'>${adorner}${this.nameElement}<span class='separator'>: </span>${\n          this.valueElement}</span>\n      `;\n    }\n\n    this.listItemElement.removeChildren();\n    this.rowContainer = (container as HTMLElement);\n    this.listItemElement.appendChild(this.rowContainer);\n  }\n\n  private updatePropertyPath(): void {\n    if (this.nameElement.title) {\n      return;\n    }\n\n    const name = this.property.name;\n\n    if (this.property.property.synthetic) {\n      UI.Tooltip.Tooltip.install(this.nameElement, name);\n      return;\n    }\n\n    // https://tc39.es/ecma262/#prod-IdentifierName\n    const useDotNotation = /^(?:[$_\\p{ID_Start}])(?:[$_\\u200C\\u200D\\p{ID_Continue}])*$/u;\n    const isInteger = /^(?:0|[1-9]\\d*)$/;\n\n    const parentPath = (this.parent instanceof ObjectPropertyTreeElement && this.parent.nameElement &&\n                        !this.parent.property.property.synthetic) ?\n        this.parent.nameElement.title :\n        '';\n\n    if (this.property.property.private || useDotNotation.test(name)) {\n      UI.Tooltip.Tooltip.install(this.nameElement, parentPath ? `${parentPath}.${name}` : name);\n    } else if (isInteger.test(name)) {\n      UI.Tooltip.Tooltip.install(this.nameElement, `${parentPath}[${name}]`);\n    } else {\n      UI.Tooltip.Tooltip.install(this.nameElement, `${parentPath}[${JSON.stringify(name)}]`);\n    }\n  }\n\n  getContextMenu(event: Event): UI.ContextMenu.ContextMenu {\n    const contextMenu = new UI.ContextMenu.ContextMenu(event);\n    contextMenu.appendApplicableItems(this);\n    if (this.property.property.symbol) {\n      contextMenu.appendApplicableItems(this.property.property.symbol);\n    }\n    if (this.property.object) {\n      contextMenu.appendApplicableItems(this.property.object);\n      if (this.property.parent?.object instanceof SDK.RemoteObject.LocalJSONObject) {\n        const propertyValue = typeof this.property.object === 'object' ? JSON.stringify(this.property.object, null, 2) :\n                                                                         this.property.object;\n        const copyValueHandler = (): void => {\n          Host.userMetrics.actionTaken(Host.UserMetrics.Action.NetworkPanelCopyValue);\n          Host.InspectorFrontendHost.InspectorFrontendHostInstance.copyText((propertyValue as string | undefined));\n        };\n        contextMenu.clipboardSection().appendItem(\n            i18nString(UIStrings.copyValue), copyValueHandler, {jslogContext: 'copy-value'});\n      }\n    }\n    if (!this.property.property.synthetic && this.nameElement?.title) {\n      const copyPathHandler = Host.InspectorFrontendHost.InspectorFrontendHostInstance.copyText.bind(\n          Host.InspectorFrontendHost.InspectorFrontendHostInstance, this.nameElement.title);\n      contextMenu.clipboardSection().appendItem(\n          i18nString(UIStrings.copyPropertyPath), copyPathHandler, {jslogContext: 'copy-property-path'});\n    }\n    if (this.property.parent?.object instanceof SDK.RemoteObject.LocalJSONObject) {\n      contextMenu.viewSection().appendItem(\n          i18nString(UIStrings.expandRecursively), this.expandRecursively.bind(this, EXPANDABLE_MAX_DEPTH),\n          {jslogContext: 'expand-recursively'});\n      contextMenu.viewSection().appendItem(\n          i18nString(UIStrings.collapseChildren), this.collapseChildren.bind(this),\n          {jslogContext: 'collapse-children'});\n    }\n    return contextMenu;\n  }\n\n  private contextMenuFired(event: Event): void {\n    const contextMenu = this.getContextMenu(event);\n    void contextMenu.show();\n  }\n\n  private startEditing(): void {\n    const treeOutline = (this.treeOutline as ObjectPropertiesSectionsTreeOutline | null);\n    if (this.prompt || !treeOutline || !treeOutline.editable || this.readOnly) {\n      return;\n    }\n    this.editableDiv = this.rowContainer.createChild('span', 'editable-div');\n\n    if (this.property.object) {\n      let text: string|(string | undefined) = this.property.object.description;\n      if (this.property.object.type === 'string' && typeof text === 'string') {\n        text = `\"${text}\"`;\n      }\n\n      this.editableDiv.setTextContentTruncatedIfNeeded(text, i18nString(UIStrings.stringIsTooLargeToEdit));\n    }\n\n    const originalContent = this.editableDiv.textContent || '';\n\n    // Lie about our children to prevent expanding on double click and to collapse subproperties.\n    this.setExpandable(false);\n    this.listItemElement.classList.add('editing-sub-part');\n    this.valueElement.classList.add('hidden');\n\n    this.prompt = new ObjectPropertyPrompt();\n\n    const proxyElement =\n        this.prompt.attachAndStartEditing(this.editableDiv, this.editingCommitted.bind(this, originalContent));\n    proxyElement.classList.add('property-prompt');\n\n    const selection = this.listItemElement.getComponentSelection();\n\n    if (selection) {\n      selection.selectAllChildren(this.editableDiv);\n    }\n    proxyElement.addEventListener('keydown', this.promptKeyDown.bind(this, originalContent), false);\n  }\n\n  private editingEnded(): void {\n    if (this.prompt) {\n      this.prompt.detach();\n      delete this.prompt;\n    }\n    this.editableDiv.remove();\n    this.updateExpandable();\n    this.listItemElement.scrollLeft = 0;\n    this.listItemElement.classList.remove('editing-sub-part');\n    this.select();\n  }\n\n  private editingCancelled(): void {\n    this.valueElement.classList.remove('hidden');\n    this.editingEnded();\n  }\n\n  private async editingCommitted(originalContent: string): Promise<void> {\n    const userInput = this.prompt ? this.prompt.text() : '';\n    if (userInput === originalContent) {\n      this.editingCancelled();  // nothing changed, so cancel\n      return;\n    }\n\n    this.editingEnded();\n    await this.applyExpression(userInput);\n  }\n\n  private promptKeyDown(originalContent: string, event: Event): void {\n    const keyboardEvent = (event as KeyboardEvent);\n    if (keyboardEvent.key === 'Enter') {\n      keyboardEvent.consume();\n      void this.editingCommitted(originalContent);\n      return;\n    }\n    if (keyboardEvent.key === Platform.KeyboardUtilities.ESCAPE_KEY) {\n      keyboardEvent.consume();\n      this.editingCancelled();\n      return;\n    }\n  }\n\n  private async applyExpression(expression: string): Promise<void> {\n    const property = SDK.RemoteObject.RemoteObject.toCallArgument(this.property.property.symbol || this.property.name);\n    expression = JavaScriptREPL.wrapObjectLiteral(expression.trim());\n\n    if (this.property.property.synthetic) {\n      let invalidate = false;\n      if (expression) {\n        invalidate = await this.property.property.setSyntheticValue(expression);\n      }\n      if (invalidate) {\n        const parent = this.parent;\n        if (parent) {\n          parent.invalidateChildren();\n          void parent.onpopulate();\n        }\n      } else {\n        this.update();\n      }\n      return;\n    }\n\n    const parentObject = this.property.parent?.object as SDK.RemoteObject.RemoteObject;\n    const errorPromise =\n        expression ? parentObject.setPropertyValue(property, expression) : parentObject.deleteProperty(property);\n    const error = await errorPromise;\n    if (error) {\n      this.update();\n      return;\n    }\n\n    if (!expression) {\n      // The property was deleted, so remove this tree element.\n      this.parent?.removeChild(this);\n      this.property.parent?.removeChild(this.property);\n    } else {\n      // Call updateSiblings since their value might be based on the value that just changed.\n      const parent = this.parent;\n      if (parent) {\n        parent.invalidateChildren();\n        this.property.parent?.removeChildren();\n        void parent.onpopulate();\n      }\n    }\n  }\n\n  private onInvokeGetterClick(result: SDK.RemoteObject.CallFunctionResult): void {\n    if (!result.object) {\n      return;\n    }\n    this.property.property.value = result.object;\n    this.property.property.wasThrown = result.wasThrown || false;\n\n    this.update();\n    this.invalidateChildren();\n    this.updateExpandable();\n  }\n\n  private updateExpandable(): void {\n    if (this.property.object) {\n      this.setExpandable(\n          !this.property.object.customPreview() && this.property.object.hasChildren &&\n          !this.property.property.wasThrown);\n    } else {\n      this.setExpandable(false);\n    }\n  }\n\n  path(): string {\n    return this.nameElement.title;\n  }\n}\n\nasync function arrayRangeGroups(object: SDK.RemoteObject.RemoteObject, fromIndex: number, toIndex: number):\n    Promise<{ranges: number[][]}|null|undefined> {\n  return await object.callFunctionJSON(packArrayRanges, [\n    {value: fromIndex},\n    {value: toIndex},\n    {value: ArrayGroupingTreeElement.bucketThreshold},\n    {value: ArrayGroupingTreeElement.sparseIterationThreshold},\n  ]);\n\n  /**\n   * This function is called on the RemoteObject.\n   * Note: must declare params as optional.\n   */\n  function packArrayRanges(\n      this: Object, fromIndex?: number, toIndex?: number, bucketThreshold?: number,\n      sparseIterationThreshold?: number): {\n    ranges: number[][],\n  }|undefined {\n    if (fromIndex === undefined || toIndex === undefined || sparseIterationThreshold === undefined ||\n        bucketThreshold === undefined) {\n      return;\n    }\n    let ownPropertyNames: string[]|null = null;\n    const consecutiveRange = (toIndex - fromIndex >= sparseIterationThreshold) && ArrayBuffer.isView(this);\n\n    function* arrayIndexes(object: Object): Generator<number, void, unknown> {\n      if (fromIndex === undefined || toIndex === undefined || sparseIterationThreshold === undefined) {\n        return;\n      }\n\n      if (toIndex - fromIndex < sparseIterationThreshold) {\n        for (let i = fromIndex; i <= toIndex; ++i) {\n          if (i in object) {\n            yield i;\n          }\n        }\n      } else {\n        ownPropertyNames = ownPropertyNames || Object.getOwnPropertyNames(object);\n        for (let i = 0; i < ownPropertyNames.length; ++i) {\n          const name = ownPropertyNames[i];\n\n          const index = Number(name) >>> 0;\n          if ((String(index)) === name && fromIndex <= index && index <= toIndex) {\n            yield index;\n          }\n        }\n      }\n    }\n\n    let count = 0;\n    if (consecutiveRange) {\n      count = toIndex - fromIndex + 1;\n    } else {\n      // eslint-disable-next-line @typescript-eslint/no-unused-vars\n      for (const ignored of arrayIndexes(this)) {\n        ++count;\n      }\n    }\n\n    let bucketSize: number = count;\n    if (count <= bucketThreshold) {\n      bucketSize = count;\n    } else {\n      bucketSize = Math.pow(bucketThreshold, Math.ceil(Math.log(count) / Math.log(bucketThreshold)) - 1);\n    }\n\n    const ranges = [];\n    if (consecutiveRange) {\n      for (let i = fromIndex; i <= toIndex; i += bucketSize) {\n        const groupStart = i;\n        let groupEnd: number = groupStart + bucketSize - 1;\n        if (groupEnd > toIndex) {\n          groupEnd = toIndex;\n        }\n        ranges.push([groupStart, groupEnd, groupEnd - groupStart + 1]);\n      }\n    } else {\n      count = 0;\n      let groupStart = -1;\n      let groupEnd = 0;\n      for (const i of arrayIndexes(this)) {\n        if (groupStart === -1) {\n          groupStart = i;\n        }\n        groupEnd = i;\n        if (++count === bucketSize) {\n          ranges.push([groupStart, groupEnd, count]);\n          count = 0;\n          groupStart = -1;\n        }\n      }\n      if (count > 0) {\n        ranges.push([groupStart, groupEnd, count]);\n      }\n    }\n\n    return {ranges};\n  }\n}\n\n/**\n * This function is called on the RemoteObject.\n */\nfunction buildArrayFragment(\n    this: Record<number, Object>,\n    fromIndex?: number,\n    toIndex?: number,\n    sparseIterationThreshold?: number,\n    ): unknown {\n  const result = Object.create(null);\n\n  if (fromIndex === undefined || toIndex === undefined || sparseIterationThreshold === undefined) {\n    return;\n  }\n\n  if (toIndex - fromIndex < sparseIterationThreshold) {\n    for (let i = fromIndex; i <= toIndex; ++i) {\n      if (i in this) {\n        result[i] = this[i];\n      }\n    }\n  } else {\n    const ownPropertyNames = Object.getOwnPropertyNames(this);\n    for (let i = 0; i < ownPropertyNames.length; ++i) {\n      const name = ownPropertyNames[i];\n      const index = Number(name) >>> 0;\n      if (String(index) === name && fromIndex <= index && index <= toIndex) {\n        result[index] = this[index];\n      }\n    }\n  }\n  return result;\n}\n\nexport class ArrayGroupingTreeElement extends UI.TreeOutline.TreeElement {\n  override toggleOnClick: boolean;\n  private readonly linkifier: Components.Linkifier.Linkifier|undefined;\n  readonly #child: ArrayGroupTreeNode;\n  constructor(child: ArrayGroupTreeNode, linkifier?: Components.Linkifier.Linkifier) {\n    super(Platform.StringUtilities.sprintf('[%d â€¦ %d]', child.range.fromIndex, child.range.toIndex), true);\n    this.#child = child;\n    this.toggleOnClick = true;\n    this.linkifier = linkifier;\n  }\n\n  static async populate(\n      treeNode: UI.TreeOutline.TreeElement, children: NodeChildren,\n      linkifier?: Components.Linkifier.Linkifier): Promise<void> {\n    if (!children.arrayRanges) {\n      return;\n    }\n    if (children.arrayRanges.length === 1) {\n      await ObjectPropertyTreeElement.populate(treeNode, children.arrayRanges[0], false, false, linkifier);\n    } else {\n      for (const child of children.arrayRanges) {\n        if (child.singular) {\n          await ObjectPropertyTreeElement.populate(treeNode, child, false, false, linkifier);\n        } else {\n          treeNode.appendChild(new ArrayGroupingTreeElement(child, linkifier));\n        }\n      }\n    }\n\n    ObjectPropertyTreeElement.populateWithProperties(treeNode, children, false, false, linkifier);\n  }\n\n  override async onpopulate(): Promise<void> {\n    this.removeChildren();\n    this.#child.removeChildren();\n    await ObjectPropertyTreeElement.populate(this, this.#child, false, false, this.linkifier);\n  }\n\n  override onattach(): void {\n    this.listItemElement.classList.add('object-properties-section-name');\n  }\n\n  // These should be module constants but they are modified by layout tests.\n  static bucketThreshold = 100;\n  static sparseIterationThreshold = 250000;\n}\n\nexport class ObjectPropertyPrompt extends UI.TextPrompt.TextPrompt {\n  constructor() {\n    super();\n    this.initialize(TextEditor.JavaScript.completeInContext);\n  }\n}\n\nexport class ObjectPropertiesSectionsTreeExpandController {\n  static readonly #propertyPathCache = new WeakMap<UI.TreeOutline.TreeElement, string>();\n  static readonly #sectionMap = new WeakMap<RootElement, string>();\n\n  readonly #expandedProperties = new Set<string>();\n\n  constructor(treeOutline: UI.TreeOutline.TreeOutline) {\n    treeOutline.addEventListener(UI.TreeOutline.Events.ElementAttached, this.#elementAttached, this);\n    treeOutline.addEventListener(UI.TreeOutline.Events.ElementExpanded, this.#elementExpanded, this);\n    treeOutline.addEventListener(UI.TreeOutline.Events.ElementCollapsed, this.#elementCollapsed, this);\n  }\n\n  watchSection(id: string, section: RootElement): void {\n    ObjectPropertiesSectionsTreeExpandController.#sectionMap.set(section, id);\n\n    if (this.#expandedProperties.has(id)) {\n      section.expand();\n    }\n  }\n\n  stopWatchSectionsWithId(id: string): void {\n    for (const property of this.#expandedProperties) {\n      if (property.startsWith(id + ':')) {\n        this.#expandedProperties.delete(property);\n      }\n    }\n  }\n\n  #elementAttached(event: Common.EventTarget.EventTargetEvent<UI.TreeOutline.TreeElement>): void {\n    const element = event.data;\n    if (element.isExpandable() && this.#expandedProperties.has(this.#propertyPath(element))) {\n      element.expand();\n    }\n  }\n\n  #elementExpanded(event: Common.EventTarget.EventTargetEvent<UI.TreeOutline.TreeElement>): void {\n    const element = event.data;\n    this.#expandedProperties.add(this.#propertyPath(element));\n  }\n\n  #elementCollapsed(event: Common.EventTarget.EventTargetEvent<UI.TreeOutline.TreeElement>): void {\n    const element = event.data;\n    this.#expandedProperties.delete(this.#propertyPath(element));\n  }\n\n  #propertyPath(treeElement: UI.TreeOutline.TreeElement): string {\n    const cachedPropertyPath = ObjectPropertiesSectionsTreeExpandController.#propertyPathCache.get(treeElement);\n    if (cachedPropertyPath) {\n      return cachedPropertyPath;\n    }\n\n    let current: UI.TreeOutline.TreeElement = treeElement;\n    let sectionRoot: UI.TreeOutline.TreeElement = current;\n    if (!treeElement.treeOutline) {\n      throw new Error('No tree outline available');\n    }\n\n    const rootElement = (treeElement.treeOutline.rootElement() as RootElement);\n    let result;\n    while (current !== rootElement) {\n      let currentName = '';\n      if (current instanceof ObjectPropertyTreeElement) {\n        currentName = current.property.name;\n      } else {\n        currentName = typeof current.title === 'string' ? current.title : current.title.textContent || '';\n      }\n\n      result = currentName + (result ? '.' + result : '');\n      sectionRoot = current;\n      if (current.parent) {\n        current = current.parent;\n      }\n    }\n    const treeOutlineId = ObjectPropertiesSectionsTreeExpandController.#sectionMap.get((sectionRoot as RootElement));\n    result = treeOutlineId + (result ? ':' + result : '');\n    ObjectPropertiesSectionsTreeExpandController.#propertyPathCache.set(treeElement, result);\n    return result;\n  }\n}\nlet rendererInstance: Renderer;\n\nexport class Renderer implements UI.UIUtils.Renderer {\n  static instance(opts: {forceNew: boolean} = {forceNew: false}): Renderer {\n    const {forceNew} = opts;\n    if (!rendererInstance || forceNew) {\n      rendererInstance = new Renderer();\n    }\n    return rendererInstance;\n  }\n\n  async render(object: Object, options?: UI.UIUtils.Options): Promise<UI.UIUtils.RenderedObject|null> {\n    if (!(object instanceof SDK.RemoteObject.RemoteObject)) {\n      throw new Error('Can\\'t render ' + object);\n    }\n    const title = options?.title;\n    const section = new ObjectPropertiesSection(object, title);\n    if (!title) {\n      section.titleLessMode();\n    }\n    section.editable = Boolean(options?.editable);\n    if (options?.expand) {\n      section.firstChild()?.expand();\n    }\n    return {\n      element: section.element,\n      forceSelect: section.forceSelect.bind(section),\n    };\n  }\n}\n\nexport class ExpandableTextPropertyValue {\n  private readonly text: string;\n  private readonly maxLength: number;\n  private readonly maxDisplayableTextLength: number;\n  readonly #byteCount: number;\n  #expanded = false;\n  #element: HTMLElement;\n\n  constructor(element: HTMLElement, text: string, maxLength: number) {\n    this.#element = element;\n    this.text = text;\n    this.maxLength = maxLength;\n    this.maxDisplayableTextLength = 10000000;\n    this.#byteCount = Platform.StringUtilities.countWtf8Bytes(text);\n    this.#render();\n  }\n\n  get element(): HTMLElement {\n    return this.#element;\n  }\n\n  #render(): void {\n    const totalBytesText = i18n.ByteUtilities.bytesToString(this.#byteCount);\n    const onContextMenu = (e: Event): void => {\n      const {target} = e;\n      if (!(target instanceof Element)) {\n        return;\n      }\n      const listItem = target.closest('li');\n      const element = listItem && UI.TreeOutline.TreeElement.getTreeElementBylistItemNode(listItem);\n      if (!(element instanceof ObjectPropertyTreeElement)) {\n        return;\n      }\n      const contextMenu = element.getContextMenu(e);\n      if (this.text.length < this.maxDisplayableTextLength && !this.#expanded) {\n        contextMenu.clipboardSection().appendItem(\n            i18nString(UIStrings.showMoreS, {PH1: totalBytesText}), this.expandText.bind(this),\n            {jslogContext: 'show-more'});\n      }\n      contextMenu.clipboardSection().appendItem(\n          i18nString(UIStrings.copy), this.copyText.bind(this), {jslogContext: 'copy'});\n      void contextMenu.show();\n      e.consume(true);\n    };\n\n    const croppedText = this.text.slice(0, this.maxLength);\n\n    // eslint-disable-next-line @devtools/no-lit-render-outside-of-view\n    render(\n        // clang-format off\n        html`<span title=${croppedText + 'â€¦'} @contextmenu=${onContextMenu}>\n               ${this.#expanded ? this.text : croppedText}\n               <button\n                 ?hidden=${this.#expanded}\n                 @click=${this.#canExpand ? this.expandText.bind(this) : undefined}\n                 jslog=${ifDefined(this.#canExpand ? VisualLogging.action('expand').track({click: true}) : undefined)}\n                 class=${this.#canExpand ? 'expandable-inline-button' : 'undisplayable-text'}\n                 data-text=${this.#canExpand ? i18nString(UIStrings.showMoreS, {PH1: totalBytesText}) :\n                                           i18nString(UIStrings.longTextWasTruncatedS, {PH1: totalBytesText})}\n                 ></button>\n               <button\n                 class=expandable-inline-button\n                 @click=${this.copyText.bind(this)}\n                 data-text=${i18nString(UIStrings.copy)}\n                 jslog=${VisualLogging.action('copy').track({click: true})}\n                 ></button>\n             </span>`,\n        // clang-format on\n        this.#element);\n  }\n\n  get #canExpand(): boolean {\n    return this.text.length < this.maxDisplayableTextLength;\n  }\n\n  private expandText(): void {\n    if (!this.#expanded) {\n      this.#expanded = true;\n      this.#render();\n    }\n  }\n\n  private copyText(): void {\n    Host.InspectorFrontendHost.InspectorFrontendHostInstance.copyText(this.text);\n  }\n}\n", "// Copyright 2018 The Chromium Authors\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\nimport * as Platform from '../../../../core/platform/platform.js';\nimport * as SDK from '../../../../core/sdk/sdk.js';\nimport * as Formatter from '../../../../models/formatter/formatter.js';\nimport * as SourceMapScopes from '../../../../models/source_map_scopes/source_map_scopes.js';\nimport * as Acorn from '../../../../third_party/acorn/acorn.js';\nimport * as UI from '../../legacy.js';\n\nimport {RemoteObjectPreviewFormatter} from './RemoteObjectPreviewFormatter.js';\n\nexport class JavaScriptREPL {\n  static wrapObjectLiteral(code: string): string {\n    // Only parenthesize what appears to be an object literal.\n    const result = /^\\s*\\{\\s*(.*)\\s*\\}[\\s;]*$/.exec(code);\n    if (result === null) {\n      return code;\n    }\n    const [, body] = result;\n    let level = 0;\n    for (const c of body) {\n      if (c === '{') {\n        level++;\n      } else if (c === '}' && --level < 0) {\n        return code;\n      }\n    }\n\n    const parse = (expression: string): void => void Acorn.parse(\n        expression,\n        {ecmaVersion: 2022, allowAwaitOutsideFunction: true, ranges: false, allowReturnOutsideFunction: true});\n    try {\n      // Check if the body can be interpreted as an expression.\n      parse('return {' + body + '};');\n\n      // No syntax error! Does it work parenthesized?\n      const wrappedCode = '({' + body + '})';\n      parse(wrappedCode);\n\n      return wrappedCode;\n    } catch {\n      return code;\n    }\n  }\n\n  static async evaluateAndBuildPreview(\n      text: string, throwOnSideEffect: boolean, replMode: boolean, timeout?: number, allowErrors?: boolean,\n      objectGroup?: string, awaitPromise = false, silent = false): Promise<{\n    preview: DocumentFragment,\n    result: SDK.RuntimeModel.EvaluationResult|null,\n  }> {\n    const executionContext = UI.Context.Context.instance().flavor(SDK.RuntimeModel.ExecutionContext);\n    const isTextLong = text.length > maxLengthForEvaluation;\n    if (!text || !executionContext || (throwOnSideEffect && isTextLong)) {\n      return {preview: document.createDocumentFragment(), result: null};\n    }\n\n    let expression = text;\n    const callFrame = executionContext.debuggerModel.selectedCallFrame();\n    if (callFrame?.script.isJavaScript()) {\n      const nameMap = await SourceMapScopes.NamesResolver.allVariablesInCallFrame(callFrame);\n      try {\n        expression =\n            await Formatter.FormatterWorkerPool.formatterWorkerPool().javaScriptSubstitute(expression, nameMap);\n      } catch {\n      }\n    }\n\n    expression = JavaScriptREPL.wrapObjectLiteral(expression);\n    const options = {\n      expression,\n      generatePreview: true,\n      includeCommandLineAPI: true,\n      throwOnSideEffect,\n      timeout,\n      objectGroup,\n      disableBreaks: true,\n      replMode,\n      silent,\n    };\n    const result = await executionContext.evaluate(options, false /* userGesture */, awaitPromise);\n    const preview = JavaScriptREPL.buildEvaluationPreview(result, allowErrors);\n    return {preview, result};\n  }\n\n  private static buildEvaluationPreview(result: SDK.RuntimeModel.EvaluationResult, allowErrors?: boolean):\n      DocumentFragment {\n    const fragment = document.createDocumentFragment();\n    if ('error' in result) {\n      return fragment;\n    }\n\n    if (result.exceptionDetails?.exception?.description) {\n      const exception = result.exceptionDetails.exception.description;\n      if (exception.startsWith('TypeError: ') || allowErrors) {\n        fragment.createChild('span').textContent = result.exceptionDetails.text + ' ' + exception;\n      }\n      return fragment;\n    }\n\n    const formatter = new RemoteObjectPreviewFormatter();\n    const {preview, type, subtype, className, description} = result.object;\n    if (preview && type === 'object' && subtype !== 'node' && subtype !== 'trustedtype') {\n      formatter.appendObjectPreview(fragment, preview, false /* isEntry */);\n    } else {\n      const nonObjectPreview = formatter.renderPropertyPreview(\n          type, subtype, className, Platform.StringUtilities.trimEndWithMaxLength(description || '', 400));\n      fragment.appendChild(nonObjectPreview);\n    }\n    return fragment;\n  }\n}\n\nconst maxLengthForEvaluation = 2000;\n", "// Copyright 2015 The Chromium Authors\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n/* eslint-disable @devtools/no-imperative-dom-api */\n\nimport * as i18n from '../../../../core/i18n/i18n.js';\nimport * as Platform from '../../../../core/platform/platform.js';\nimport * as SDK from '../../../../core/sdk/sdk.js';\nimport * as Protocol from '../../../../generated/protocol.js';\nimport * as UI from '../../legacy.js';\n\nconst UIStrings = {\n  /**\n   * @description Text shown in the console object preview. Shown when the user is inspecting a\n   * JavaScript object and there are multiple empty properties on the object (x =\n   * 'times'/'multiply').\n   * @example {3} PH1\n   */\n  emptyD: 'empty Ã— {PH1}',\n  /**\n   * @description Shown when the user is inspecting a JavaScript object in the console and there is\n   * an empty property on the object..\n   */\n  empty: 'empty',\n  /**\n   * @description Text shown when the user is inspecting a JavaScript object, but of the properties\n   * is not immediately available because it is a JavaScript 'getter' function, which means we have\n   * to run some code first in order to compute this property.\n   */\n  thePropertyIsComputedWithAGetter: 'The property is computed with a getter',\n} as const;\nconst str_ = i18n.i18n.registerUIStrings('ui/legacy/components/object_ui/RemoteObjectPreviewFormatter.ts', UIStrings);\nconst i18nString = i18n.i18n.getLocalizedString.bind(undefined, str_);\nexport class RemoteObjectPreviewFormatter {\n  private static objectPropertyComparator(a: Protocol.Runtime.PropertyPreview, b: Protocol.Runtime.PropertyPreview):\n      number {\n    return sortValue(a) - sortValue(b);\n\n    function sortValue(property: Protocol.Runtime.PropertyPreview): number {\n      // TODO(einbinder) expose whether preview properties are actually internal.\n      if (property.name === InternalName.PROMISE_STATE) {\n        return 1;\n      }\n      if (property.name === InternalName.PROMISE_RESULT) {\n        return 2;\n      }\n      if (property.name === InternalName.GENERATOR_STATE || property.name === InternalName.PRIMITIVE_VALUE ||\n          property.name === InternalName.WEAK_REF_TARGET) {\n        return 3;\n      }\n      if (property.type !== Protocol.Runtime.PropertyPreviewType.Function && !property.name.startsWith('#')) {\n        return 4;\n      }\n      return 5;\n    }\n  }\n\n  appendObjectPreview(\n      parentElement: DocumentFragment|Element, preview: Protocol.Runtime.ObjectPreview, isEntry: boolean): void {\n    const description = preview.description;\n    const subTypesWithoutValuePreview = new Set<Protocol.Runtime.ObjectPreviewSubtype|'internal#entry'|'trustedtype'>([\n      Protocol.Runtime.ObjectPreviewSubtype.Arraybuffer,\n      Protocol.Runtime.ObjectPreviewSubtype.Dataview,\n      Protocol.Runtime.ObjectPreviewSubtype.Error,\n      Protocol.Runtime.ObjectPreviewSubtype.Null,\n      Protocol.Runtime.ObjectPreviewSubtype.Regexp,\n      Protocol.Runtime.ObjectPreviewSubtype.Webassemblymemory,\n      'internal#entry',\n      'trustedtype',\n    ]);\n    if (preview.type !== Protocol.Runtime.ObjectPreviewType.Object ||\n        (preview.subtype && subTypesWithoutValuePreview.has(preview.subtype)) || isEntry) {\n      parentElement.appendChild(this.renderPropertyPreview(preview.type, preview.subtype, undefined, description));\n      return;\n    }\n    const isArrayOrTypedArray = preview.subtype === Protocol.Runtime.ObjectPreviewSubtype.Array ||\n        preview.subtype === Protocol.Runtime.ObjectPreviewSubtype.Typedarray;\n    if (description) {\n      let text;\n      if (isArrayOrTypedArray) {\n        const arrayLength = SDK.RemoteObject.RemoteObject.arrayLength(preview);\n        const arrayLengthText = arrayLength > 1 ? ('(' + arrayLength + ')') : '';\n        const arrayName = SDK.RemoteObject.RemoteObject.arrayNameFromDescription(description);\n        text = arrayName === 'Array' ? arrayLengthText : (arrayName + arrayLengthText);\n      } else {\n        const hideDescription = description === 'Object';\n        text = hideDescription ? '' : description;\n      }\n      if (text.length > 0) {\n        parentElement.createChild('span', 'object-description').textContent = text + '\\xA0';\n      }\n    }\n\n    const propertiesElement = parentElement.createChild('span', 'object-properties-preview');\n    UI.UIUtils.createTextChild(propertiesElement, isArrayOrTypedArray ? '[' : '{');\n    if (preview.entries) {\n      this.appendEntriesPreview(propertiesElement, preview);\n    } else if (isArrayOrTypedArray) {\n      this.appendArrayPropertiesPreview(propertiesElement, preview);\n    } else {\n      this.appendObjectPropertiesPreview(propertiesElement, preview);\n    }\n    if (preview.overflow) {\n      const ellipsisText = propertiesElement.textContent && propertiesElement.textContent.length > 1 ? ',\\xA0â€¦' : 'â€¦';\n      propertiesElement.createChild('span').textContent = ellipsisText;\n    }\n    UI.UIUtils.createTextChild(propertiesElement, isArrayOrTypedArray ? ']' : '}');\n  }\n\n  private abbreviateFullQualifiedClassName(description: string): string {\n    const abbreviatedDescription = description.split('.');\n    for (let i = 0; i < abbreviatedDescription.length - 1; ++i) {\n      abbreviatedDescription[i] = Platform.StringUtilities.trimMiddle(abbreviatedDescription[i], 3);\n    }\n    return abbreviatedDescription.join('.');\n  }\n\n  private appendObjectPropertiesPreview(parentElement: Element, preview: Protocol.Runtime.ObjectPreview): void {\n    const properties = preview.properties.filter(p => p.type !== 'accessor')\n                           .sort(RemoteObjectPreviewFormatter.objectPropertyComparator);\n    for (let i = 0; i < properties.length; ++i) {\n      if (i > 0) {\n        UI.UIUtils.createTextChild(parentElement, ', ');\n      }\n\n      const property = properties[i];\n      const name = property.name;\n      // Internal properties are given special formatting, e.g. Promises `<rejected>: 123`.\n      if (preview.subtype === Protocol.Runtime.ObjectPreviewSubtype.Promise && name === InternalName.PROMISE_STATE) {\n        parentElement.appendChild(this.renderDisplayName('<' + property.value + '>'));\n        const nextProperty = i + 1 < properties.length ? properties[i + 1] : null;\n        if (nextProperty && nextProperty.name === InternalName.PROMISE_RESULT) {\n          if (property.value !== 'pending') {\n            UI.UIUtils.createTextChild(parentElement, ': ');\n            parentElement.appendChild(this.renderPropertyPreviewOrAccessor([nextProperty]));\n          }\n          i++;\n        }\n      } else if (preview.subtype === 'generator' && name === InternalName.GENERATOR_STATE) {\n        parentElement.appendChild(this.renderDisplayName('<' + property.value + '>'));\n      } else if (name === InternalName.PRIMITIVE_VALUE) {\n        parentElement.appendChild(this.renderPropertyPreviewOrAccessor([property]));\n      } else if (name === InternalName.WEAK_REF_TARGET) {\n        if (property.type === Protocol.Runtime.PropertyPreviewType.Undefined) {\n          parentElement.appendChild(this.renderDisplayName('<cleared>'));\n        } else {\n          parentElement.appendChild(this.renderPropertyPreviewOrAccessor([property]));\n        }\n      } else {\n        parentElement.appendChild(this.renderDisplayName(name));\n        UI.UIUtils.createTextChild(parentElement, ': ');\n        parentElement.appendChild(this.renderPropertyPreviewOrAccessor([property]));\n      }\n    }\n  }\n\n  private appendArrayPropertiesPreview(parentElement: Element, preview: Protocol.Runtime.ObjectPreview): void {\n    const arrayLength = SDK.RemoteObject.RemoteObject.arrayLength(preview);\n    const indexProperties = preview.properties.filter(p => toArrayIndex(p.name) !== -1).sort(arrayEntryComparator);\n    const otherProperties = preview.properties.filter(p => toArrayIndex(p.name) === -1)\n                                .sort(RemoteObjectPreviewFormatter.objectPropertyComparator);\n\n    function arrayEntryComparator(a: Protocol.Runtime.PropertyPreview, b: Protocol.Runtime.PropertyPreview): number {\n      return toArrayIndex(a.name) - toArrayIndex(b.name);\n    }\n\n    function toArrayIndex(name: string): number {\n      // We need to differentiate between property accesses and array index accesses\n      // Therefore, we need to make sure we are always dealing with an i32, in the event\n      // that a particular property also exists, but as the literal string. For example\n      // for {[\"1.5\"]: true}, we don't want to return `true` if we provide `1.5` as the\n      // value, but only want to do that if we provide `\"1.5\"`.\n      const index = Number(name) >>> 0;\n      if (String(index) === name && index < arrayLength) {\n        return index;\n      }\n      return -1;\n    }\n\n    // Gaps can be shown when all properties are guaranteed to be in the preview.\n    const canShowGaps = !preview.overflow;\n    let lastNonEmptyArrayIndex = -1;\n    let elementsAdded = false;\n    for (let i = 0; i < indexProperties.length; ++i) {\n      if (elementsAdded) {\n        UI.UIUtils.createTextChild(parentElement, ', ');\n      }\n\n      const property = indexProperties[i];\n      const index = toArrayIndex(property.name);\n      if (canShowGaps && index - lastNonEmptyArrayIndex > 1) {\n        appendUndefined(index);\n        UI.UIUtils.createTextChild(parentElement, ', ');\n      }\n      if (!canShowGaps && i !== index) {\n        parentElement.appendChild(this.renderDisplayName(property.name));\n        UI.UIUtils.createTextChild(parentElement, ': ');\n      }\n      parentElement.appendChild(this.renderPropertyPreviewOrAccessor([property]));\n      lastNonEmptyArrayIndex = index;\n      elementsAdded = true;\n    }\n\n    if (canShowGaps && arrayLength - lastNonEmptyArrayIndex > 1) {\n      if (elementsAdded) {\n        UI.UIUtils.createTextChild(parentElement, ', ');\n      }\n      appendUndefined(arrayLength);\n    }\n\n    for (let i = 0; i < otherProperties.length; ++i) {\n      if (elementsAdded) {\n        UI.UIUtils.createTextChild(parentElement, ', ');\n      }\n\n      const property = otherProperties[i];\n      parentElement.appendChild(this.renderDisplayName(property.name));\n      UI.UIUtils.createTextChild(parentElement, ': ');\n      parentElement.appendChild(this.renderPropertyPreviewOrAccessor([property]));\n      elementsAdded = true;\n    }\n\n    function appendUndefined(index: number): void {\n      const span = parentElement.createChild('span', 'object-value-undefined');\n      const count = index - lastNonEmptyArrayIndex - 1;\n      // TODO(l10n): Plurals. Tricky because of a bug in the presubmit check for plurals.\n      span.textContent = count !== 1 ? i18nString(UIStrings.emptyD, {PH1: count}) : i18nString(UIStrings.empty);\n      elementsAdded = true;\n    }\n  }\n\n  private appendEntriesPreview(parentElement: Element, preview: Protocol.Runtime.ObjectPreview): void {\n    if (!preview.entries) {\n      return;\n    }\n    for (let i = 0; i < preview.entries.length; ++i) {\n      if (i > 0) {\n        UI.UIUtils.createTextChild(parentElement, ', ');\n      }\n\n      const entry = preview.entries[i];\n      if (entry.key) {\n        this.appendObjectPreview(parentElement, entry.key, true /* isEntry */);\n        UI.UIUtils.createTextChild(parentElement, ' => ');\n      }\n      this.appendObjectPreview(parentElement, entry.value, true /* isEntry */);\n    }\n  }\n\n  private renderDisplayName(name: string): Element {\n    const result = document.createElement('span');\n    result.classList.add('name');\n    const needsQuotes = /^\\s|\\s$|^$|\\n/.test(name);\n    result.textContent = needsQuotes ? '\"' + name.replace(/\\n/g, '\\u21B5') + '\"' : name;\n    return result;\n  }\n\n  private renderPropertyPreviewOrAccessor(propertyPath: Protocol.Runtime.PropertyPreview[]): Element {\n    const property = propertyPath[propertyPath.length - 1];\n    if (!property) {\n      throw new Error('Could not find property');\n    }\n    return this.renderPropertyPreview(property.type, (property.subtype as string), property.name, property.value);\n  }\n\n  renderPropertyPreview(type: string, subtype?: string, className?: string|null, description?: string): HTMLElement {\n    const span = document.createElement('span');\n    span.classList.add('object-value-' + (subtype || type));\n    description = description || '';\n\n    if (type === 'accessor') {\n      span.textContent = '(...)';\n      UI.Tooltip.Tooltip.install(span, i18nString(UIStrings.thePropertyIsComputedWithAGetter));\n      return span;\n    }\n\n    if (type === 'function') {\n      span.textContent = '\\u0192';\n      return span;\n    }\n\n    if (type === 'object' && subtype === 'trustedtype' && className) {\n      createSpanForTrustedType(span, description, className);\n      return span;\n    }\n\n    if (type === 'object' && subtype === 'node' && description) {\n      createSpansForNodeTitle(span, description);\n      return span;\n    }\n\n    if (type === 'string') {\n      UI.UIUtils.createTextChildren(span, Platform.StringUtilities.formatAsJSLiteral(description));\n      return span;\n    }\n\n    if (type === 'object' && !subtype) {\n      let preview = this.abbreviateFullQualifiedClassName(description);\n      if (preview === 'Object') {\n        preview = '{â€¦}';\n      }\n      span.textContent = preview;\n      UI.Tooltip.Tooltip.install(span, description);\n      return span;\n    }\n\n    span.textContent = description;\n    return span;\n  }\n}\n\nconst enum InternalName {\n  GENERATOR_STATE = '[[GeneratorState]]',\n  PRIMITIVE_VALUE = '[[PrimitiveValue]]',\n  PROMISE_STATE = '[[PromiseState]]',\n  PROMISE_RESULT = '[[PromiseResult]]',\n  WEAK_REF_TARGET = '[[WeakRefTarget]]',\n}\n\nexport const createSpansForNodeTitle = function(container: Element, nodeTitle: string): void {\n  const match = nodeTitle.match(/([^#.]+)(#[^.]+)?(\\..*)?/);\n  if (!match) {\n    return;\n  }\n  container.createChild('span', 'webkit-html-tag-name').textContent = match[1];\n  if (match[2]) {\n    container.createChild('span', 'webkit-html-attribute-value').textContent = match[2];\n  }\n  if (match[3]) {\n    container.createChild('span', 'webkit-html-attribute-name').textContent = match[3];\n  }\n};\n\nexport const createSpanForTrustedType = function(span: Element, description: string, className: string): void {\n  UI.UIUtils.createTextChildren(span, `${className} `);\n  const trustedContentSpan = document.createElement('span');\n  trustedContentSpan.classList.add('object-value-string');\n  UI.UIUtils.createTextChildren(trustedContentSpan, '\"', description.replace(/\\n/g, '\\u21B5'), '\"');\n  span.appendChild(trustedContentSpan);\n};\n", "// Copyright 2025 The Chromium Authors\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n// IMPORTANT: this file is auto generated. Please do not edit this file.\n/* istanbul ignore file */\nexport default `/*\n * Copyright 2015 The Chromium Authors\n * Use of this source code is governed by a BSD-style license that can be\n * found in the LICENSE file.\n */\n\n.object-properties-section-dimmed {\n  opacity: 60%;\n}\n\n.object-properties-section {\n  padding: 0;\n  color: var(--sys-color-on-surface);\n  display: flex;\n  flex-direction: column;\n  overflow-x: auto;\n}\n\n.object-properties-section li {\n  user-select: text;\n\n  &::before {\n    flex-shrink: 0;\n    margin-right: 2px;\n    align-self: flex-start;\n  }\n}\n\n.object-properties-section li.editing-sub-part {\n  padding: 3px 12px 8px 6px;\n  margin: -1px -6px -8px;\n  text-overflow: clip;\n}\n\n.object-properties-section li.editing {\n  margin-left: 10px;\n  text-overflow: clip;\n}\n\n.tree-outline ol.title-less-mode {\n  padding-left: 0;\n}\n\n.object-properties-section .own-property {\n  font-weight: bold;\n}\n\n.object-properties-section .synthetic-property {\n  color: var(--sys-color-token-subtle);\n}\n\n.object-properties-section .private-property-hash {\n  color: var(--sys-color-on-surface);\n}\n\n.object-properties-section-root-element {\n  display: flex;\n  flex-direction: row;\n}\n\n.object-properties-section .editable-div {\n  overflow: hidden;\n}\n\n.name-and-value {\n  line-height: 16px;\n  display: flex;\n  white-space: nowrap;\n}\n\n.name-and-value .separator {\n  white-space: pre;\n  flex-shrink: 0;\n}\n\n.editing-sub-part .name-and-value {\n  overflow: visible;\n  display: inline-flex;\n}\n\n.property-prompt {\n  margin-left: 4px;\n}\n\n.tree-outline.hide-selection-when-blurred .selected:focus-visible {\n  background: none;\n}\n\n.tree-outline.hide-selection-when-blurred .selected:focus-visible ::slotted(*),\n.tree-outline.hide-selection-when-blurred .selected:focus-visible .tree-element-title,\n.tree-outline.hide-selection-when-blurred .selected:focus-visible .name-and-value,\n.tree-outline.hide-selection-when-blurred .selected:focus-visible .gray-info-message {\n  background: var(--sys-color-state-focus-highlight);\n  border-radius: 2px;\n}\n\n@media (forced-colors: active) {\n  .object-properties-section-dimmed {\n    opacity: 100%;\n  }\n\n  .tree-outline.hide-selection-when-blurred .selected:focus-visible {\n    background: Highlight;\n  }\n\n  .tree-outline li:hover .tree-element-title,\n  .tree-outline li.selected .tree-element-title {\n    color: ButtonText;\n  }\n\n  .tree-outline.hide-selection-when-blurred .selected:focus-visible .tree-element-title,\n  .tree-outline.hide-selection-when-blurred .selected:focus-visible .name-and-value {\n    background: transparent;\n    box-shadow: none;\n  }\n\n  .tree-outline.hide-selection-when-blurred .selected:focus-visible span,\n  .tree-outline.hide-selection-when-blurred .selected:focus-visible .gray-info-message {\n    color: HighlightText;\n  }\n\n  .tree-outline-disclosure:hover li.parent::before {\n    background-color: ButtonText;\n  }\n}\n\n/*# sourceURL=${import.meta.resolve('./objectPropertiesSection.css')} */`;", "// Copyright 2025 The Chromium Authors\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n// IMPORTANT: this file is auto generated. Please do not edit this file.\n/* istanbul ignore file */\nexport default `/*\n * Copyright 2015 The Chromium Authors\n * Use of this source code is governed by a BSD-style license that can be\n * found in the LICENSE file.\n */\n\n.value.object-value-node:hover {\n  background-color: var(--sys-color-state-hover-on-subtle);\n}\n\n.object-value-function-prefix,\n.object-value-boolean {\n  color: var(--sys-color-token-attribute-value);\n}\n\n.object-value-function {\n  font-style: italic;\n}\n\n.object-value-function.linkified:hover {\n  --override-linkified-hover-background: rgb(0 0 0 / 10%);\n\n  background-color: var(--override-linkified-hover-background);\n  cursor: pointer;\n}\n\n.theme-with-dark-background .object-value-function.linkified:hover,\n:host-context(.theme-with-dark-background) .object-value-function.linkified:hover {\n  --override-linkified-hover-background: rgb(230 230 230 / 10%);\n}\n\n.object-value-number {\n  color: var(--sys-color-token-attribute-value);\n}\n\n.object-value-bigint {\n  color: var(--sys-color-token-comment);\n}\n\n.object-value-string,\n.object-value-regexp,\n.object-value-symbol {\n  white-space: pre;\n  unicode-bidi: -webkit-isolate;\n  color: var(--sys-color-token-property-special);\n}\n\n.object-value-node {\n  position: relative;\n  vertical-align: baseline;\n  color: var(--sys-color-token-variable);\n  white-space: nowrap;\n}\n\n.object-value-null,\n.object-value-undefined {\n  color: var(--sys-color-state-disabled);\n}\n\n.object-value-unavailable {\n  color: var(--sys-color-token-tag);\n}\n\n.object-value-calculate-value-button:hover {\n  text-decoration: underline;\n}\n\n.object-properties-section-custom-section {\n  display: inline-flex;\n  flex-direction: column;\n}\n\n.theme-with-dark-background .object-value-number,\n:host-context(.theme-with-dark-background) .object-value-number,\n.theme-with-dark-background .object-value-boolean,\n:host-context(.theme-with-dark-background) .object-value-boolean {\n  --override-primitive-dark-mode-color: hsl(252deg 100% 75%);\n\n  color: var(--override-primitive-dark-mode-color);\n}\n\n.object-properties-section .object-description {\n  color: var(--sys-color-token-subtle);\n}\n\n.value .object-properties-preview {\n  white-space: nowrap;\n}\n\n.name {\n  color: var(--sys-color-token-tag);\n  flex-shrink: 0;\n}\n\n.object-properties-preview .name {\n  color: var(--sys-color-token-subtle);\n}\n\n@media (forced-colors: active) {\n  .object-value-calculate-value-button:hover {\n    forced-color-adjust: none;\n    color: Highlight;\n  }\n}\n\n/*# sourceURL=${import.meta.resolve('./objectValue.css')} */`;", "// Copyright 2011 The Chromium Authors\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\n/* eslint-disable @devtools/no-imperative-dom-api */\n\nimport * as i18n from '../../../../core/i18n/i18n.js';\nimport * as Platform from '../../../../core/platform/platform.js';\nimport * as SDK from '../../../../core/sdk/sdk.js';\nimport * as Geometry from '../../../../models/geometry/geometry.js';\nimport * as UI from '../../legacy.js';\nimport * as Components from '../utils/utils.js';\n\nimport {CustomPreviewComponent} from './CustomPreviewComponent.js';\nimport objectPopoverStyles from './objectPopover.css.js';\nimport {ObjectPropertiesSection} from './ObjectPropertiesSection.js';\nimport objectValueStyles from './objectValue.css.js';\n\nconst UIStrings = {\n  /**\n   * @description Text that is usually a hyperlink to more documentation\n   */\n  learnMore: 'Learn more',\n} as const;\nconst str_ = i18n.i18n.registerUIStrings('ui/legacy/components/object_ui/ObjectPopoverHelper.ts', UIStrings);\nconst i18nString = i18n.i18n.getLocalizedString.bind(undefined, str_);\n\nexport class ObjectPopoverHelper {\n  private readonly linkifier: Components.Linkifier.Linkifier|null;\n  private readonly resultHighlightedAsDOM: boolean;\n  constructor(linkifier: Components.Linkifier.Linkifier|null, resultHighlightedAsDOM: boolean) {\n    this.linkifier = linkifier;\n    this.resultHighlightedAsDOM = resultHighlightedAsDOM;\n  }\n\n  dispose(): void {\n    if (this.resultHighlightedAsDOM) {\n      SDK.OverlayModel.OverlayModel.hideDOMNodeHighlight();\n    }\n    if (this.linkifier) {\n      this.linkifier.dispose();\n    }\n  }\n\n  static async buildObjectPopover(result: SDK.RemoteObject.RemoteObject, popover: UI.GlassPane.GlassPane):\n      Promise<ObjectPopoverHelper|null> {\n    const description = Platform.StringUtilities.trimEndWithMaxLength(result.description || '', MaxPopoverTextLength);\n    let popoverContentElement: HTMLSpanElement|HTMLDivElement|null = null;\n    if (result.type === 'function' || result.type === 'object') {\n      let linkifier: Components.Linkifier.Linkifier|null = null;\n      let resultHighlightedAsDOM = false;\n      if (result.subtype === 'node') {\n        SDK.OverlayModel.OverlayModel.highlightObjectAsDOMNode(result);\n        resultHighlightedAsDOM = true;\n      }\n\n      if (result.customPreview()) {\n        const customPreviewComponent = new CustomPreviewComponent(result);\n        customPreviewComponent.expandIfPossible();\n        popoverContentElement = customPreviewComponent.element;\n      } else {\n        popoverContentElement = document.createElement('div');\n        popoverContentElement.classList.add('object-popover-content');\n        popover.registerRequiredCSS(objectValueStyles, objectPopoverStyles);\n        const titleElement = popoverContentElement.createChild('div', 'object-popover-title');\n        if (result.type === 'function') {\n          titleElement.classList.add('source-code');\n          titleElement.appendChild(ObjectPropertiesSection.valueElementForFunctionDescription(result.description));\n        } else {\n          titleElement.classList.add('monospace');\n          titleElement.createChild('span').textContent = description;\n        }\n        linkifier = new Components.Linkifier.Linkifier();\n        const section = new ObjectPropertiesSection(result, '', linkifier, true /* showOverflow */);\n        section.element.classList.add('object-popover-tree');\n        section.titleLessMode();\n        popoverContentElement.appendChild(section.element);\n      }\n      popoverContentElement.dataset.stableNameForTest = 'object-popover-content';\n      popover.setMaxContentSize(new Geometry.Size(300, 250));\n      popover.setSizeBehavior(UI.GlassPane.SizeBehavior.SET_EXACT_SIZE);\n      popover.contentElement.appendChild(popoverContentElement);\n      return new ObjectPopoverHelper(linkifier, resultHighlightedAsDOM);\n    }\n\n    popoverContentElement = document.createElement('span');\n    popoverContentElement.dataset.stableNameForTest = 'object-popover-content';\n    popover.registerRequiredCSS(objectValueStyles, objectPopoverStyles);\n    const valueElement = popoverContentElement.createChild('span', 'monospace object-value-' + result.type);\n    valueElement.style.whiteSpace = 'pre';\n\n    if (result.type === 'string') {\n      UI.UIUtils.createTextChildren(valueElement, `\"${description}\"`);\n    } else {\n      valueElement.textContent = description;\n    }\n\n    popover.contentElement.appendChild(popoverContentElement);\n    return new ObjectPopoverHelper(null, false);\n  }\n\n  static buildDescriptionPopover(description: string, link: string, popover: UI.GlassPane.GlassPane):\n      ObjectPopoverHelper {\n    const popoverContentElement = document.createElement('div');\n    popoverContentElement.classList.add('object-popover-description-box');\n    const descriptionDiv = document.createElement('div');\n    descriptionDiv.dataset.stableNameForTest = 'object-popover-content';\n    popover.registerRequiredCSS(objectPopoverStyles);\n    descriptionDiv.textContent = description;\n    const learnMoreLink =\n        UI.XLink.XLink.create(link, i18nString(UIStrings.learnMore), undefined, undefined, 'learn-more');\n    const footerDiv = document.createElement('div');\n    footerDiv.classList.add('object-popover-footer');\n    footerDiv.appendChild(learnMoreLink);\n\n    popoverContentElement.appendChild(descriptionDiv);\n    popoverContentElement.appendChild(footerDiv);\n    popover.contentElement.appendChild(popoverContentElement);\n    return new ObjectPopoverHelper(null, false);\n  }\n}\n\nconst MaxPopoverTextLength = 10000;\n", "// Copyright 2025 The Chromium Authors\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n// IMPORTANT: this file is auto generated. Please do not edit this file.\n/* istanbul ignore file */\nexport default `/*\n * Copyright 2017 The Chromium Authors\n * Use of this source code is governed by a BSD-style license that can be\n * found in the LICENSE file.\n */\n\n.widget:has(.object-popover-tree) {\n  padding: 0;\n  border-radius: var(--sys-shape-corner-extra-small);\n}\n\n.object-popover-content {\n  display: flex;\n  position: relative;\n  overflow: hidden;\n  flex: 1 1 auto;\n  flex-direction: column;\n}\n\n.object-popover-title {\n  text-overflow: ellipsis;\n  overflow: hidden;\n  white-space: nowrap;\n  font-weight: bold;\n  padding-left: 18px;\n  padding-bottom: 2px;\n  padding-top: var(--sys-size-3);\n  flex-shrink: 0;\n}\n\n.object-popover-tree {\n  border-top: 1px solid var(--sys-color-divider);\n  overflow: auto;\n  width: 100%;\n  height: calc(100% - 13px);\n}\n\n.object-popover-container {\n  display: inline-block;\n}\n\n.object-popover-description-box {\n  padding: 6px;\n  max-width: 350px;\n  line-height: 1.4;\n}\n\n.object-popover-footer {\n  margin-top: 8px;\n}\n\n/*# sourceURL=${import.meta.resolve('./objectPopover.css')} */`;"],
  "mappings": "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",
  "names": ["Common", "i18n", "IconButton", "UI", "i18n", "Platform", "SDK", "UI", "Platform", "SDK", "UI", "parse", "UIStrings", "str_", "i18nString", "objectProperties", "objectInternalProperties", "properties", "internalProperties", "propertyValue", "fromIndex", "toIndex", "object", "UIStrings", "str_", "i18nString", "i18n", "Platform", "SDK", "UI", "UIStrings", "str_", "i18nString"]
}
