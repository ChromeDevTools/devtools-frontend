{"version":3,"file":"CanvasHelper.js","sourceRoot":"","sources":["../../../../../../../../front_end/ui/legacy/components/perf_ui/CanvasHelper.ts"],"names":[],"mappings":"AAAA,sCAAsC;AACtC,yEAAyE;AACzE,6BAA6B;AAC7B,OAAO,KAAK,YAAY,MAAM,sCAAsC,CAAC;AAErE,OAAO,EAAC,UAAU,EAAC,MAAM,iBAAiB,CAAC;AAE3C,MAAM,UAAU,cAAc,CAAC,OAAiC,EAAE,KAAa,EAAE,CAAS;IACxF,OAAO,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IACrB,OAAO,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;AAC3B,CAAC;AAED,MAAM,UAAU,kBAAkB,CAAC,OAAiC,EAAE,CAAS,EAAE,CAAS,EAAE,QAAiB;IAC3G,sFAAsF;IACtF,MAAM,WAAW,GAAG,UAAU,GAAG,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;IAClD,MAAM,iBAAiB,GAAG,IAAI,CAAC,KAAK,CAAC,WAAW,GAAG,CAAC,CAAC,CAAC;IACtD,OAAO,CAAC,IAAI,EAAE,CAAC;IACf,OAAO,CAAC,SAAS,EAAE,CAAC;IACpB,OAAO,CAAC,SAAS,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IACxB,OAAO,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,CAAC,IAAI,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IAC3C,4FAA4F;IAC5F,KAAK;IACL,MAAM;IACN,MAAM;IACN,KAAK;IAEL,yBAAyB;IACzB,OAAO,CAAC,MAAM,CAAC,CAAC,iBAAiB,EAAE,CAAC,UAAU,GAAG,CAAC,CAAC,CAAC;IACpD,4BAA4B;IAC5B,OAAO,CAAC,MAAM,CAAC,CAAC,iBAAiB,EAAE,UAAU,GAAG,CAAC,CAAC,CAAC;IACnD,2BAA2B;IAC3B,OAAO,CAAC,MAAM,CAAC,WAAW,GAAG,iBAAiB,EAAE,CAAC,CAAC,CAAC;IACnD,OAAO,CAAC,IAAI,EAAE,CAAC;IACf,OAAO,CAAC,OAAO,EAAE,CAAC;AACpB,CAAC;AAED,MAAM,UAAU,QAAQ,CACpB,OAAiC,EAAE,CAAS,EAAE,CAAS,EAAE,KAAa,EAAE,QAAgB,EACxF,SAAS,GAAG,wBAAwB;IACtC,MAAM,CAAC,GAAG,IAAI,MAAM,CAAC,QAAQ,CAAC,CAAC;IAE/B,OAAO,CAAC,IAAI,EAAE,CAAC;IACf,OAAO,CAAC,SAAS,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IACxB,iEAAiE;IACjE,OAAO,CAAC,SAAS,GAAG,YAAY,CAAC,YAAY,CAAC,QAAQ,EAAE,CAAC,gBAAgB,CAAC,gCAAgC,CAAC,CAAC;IAC5G,OAAO,CAAC,QAAQ,CAAC,CAAC,EAAE,CAAC,EAAE,KAAK,EAAE,KAAK,CAAC,CAAC;IAErC,OAAO,CAAC,SAAS,GAAG,YAAY,CAAC,YAAY,CAAC,QAAQ,EAAE,CAAC,gBAAgB,CAAC,SAAS,CAAC,CAAC;IACrF,oEAAoE;IACpE,wDAAwD;IACxD,MAAM,KAAK,GAAG,KAAK,GAAG,EAAE,CAAC;IACzB,OAAO,CAAC,KAAK,CAAC,KAAK,EAAE,KAAK,CAAC,CAAC;IAC5B,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;IAChB,OAAO,CAAC,OAAO,EAAE,CAAC;AACpB,CAAC","sourcesContent":["// Copyright 2024 The Chromium Authors\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\nimport * as ThemeSupport from '../../theme_support/theme_support.js';\n\nimport {ARROW_SIDE} from './FlameChart.js';\n\nexport function horizontalLine(context: CanvasRenderingContext2D, width: number, y: number): void {\n  context.moveTo(0, y);\n  context.lineTo(width, y);\n}\n\nexport function drawExpansionArrow(context: CanvasRenderingContext2D, x: number, y: number, expanded: boolean): void {\n  // We will draw a equilateral triangle, so first calculate the height of the triangle.\n  const arrowHeight = ARROW_SIDE * Math.sqrt(3) / 2;\n  const arrowCenterOffset = Math.round(arrowHeight / 2);\n  context.save();\n  context.beginPath();\n  context.translate(x, y);\n  context.rotate(expanded ? Math.PI / 2 : 0);\n  // The final triangle will be this shape: (the rotation will be handled by `context.rotate`)\n  // |\\\n  // | \\\n  // | /\n  // |/\n\n  // Move to the top vertex\n  context.moveTo(-arrowCenterOffset, -ARROW_SIDE / 2);\n  // Line to the bottom vertex\n  context.lineTo(-arrowCenterOffset, ARROW_SIDE / 2);\n  // Line to the right vertex\n  context.lineTo(arrowHeight - arrowCenterOffset, 0);\n  context.fill();\n  context.restore();\n}\n\nexport function drawIcon(\n    context: CanvasRenderingContext2D, x: number, y: number, width: number, pathData: string,\n    iconColor = '--sys-color-on-surface'): void {\n  const p = new Path2D(pathData);\n\n  context.save();\n  context.translate(x, y);\n  // This color is same as the background of the whole flame chart.\n  context.fillStyle = ThemeSupport.ThemeSupport.instance().getComputedValue('--sys-color-cdt-base-container');\n  context.fillRect(0, 0, width, width);\n\n  context.fillStyle = ThemeSupport.ThemeSupport.instance().getComputedValue(iconColor);\n  // The pathData from front_end/images folder is for a 20 pixel icon.\n  // So we add a scale to draw the icon in a correct size.\n  const scale = width / 20;\n  context.scale(scale, scale);\n  context.fill(p);\n  context.restore();\n}\n"]}