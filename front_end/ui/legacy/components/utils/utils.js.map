{
  "version": 3,
  "sources": ["../../../../../../../../front_end/ui/legacy/components/utils/ImagePreview.ts", "imagePreview.css.js", "../../../../../../../../front_end/ui/legacy/components/utils/JSPresentationUtils.ts", "jsUtils.css.js", "../../../../../../../../front_end/ui/legacy/components/utils/Linkifier.ts", "../../../../../../../../front_end/ui/legacy/components/utils/Reload.ts", "../../../../../../../../front_end/ui/legacy/components/utils/TargetDetachedDialog.ts"],
  "sourcesContent": ["// Copyright 2018 The Chromium Authors\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n/* eslint-disable @devtools/no-imperative-dom-api */\n\nimport * as Common from '../../../../core/common/common.js';\nimport * as Host from '../../../../core/host/host.js';\nimport * as i18n from '../../../../core/i18n/i18n.js';\nimport * as Platform from '../../../../core/platform/platform.js';\nimport * as SDK from '../../../../core/sdk/sdk.js';\n\nimport imagePreviewStyles from './imagePreview.css.js';\n\nconst UIStrings = {\n  /**\n   * @description Alt text description of an image's source\n   */\n  unknownSource: 'unknown source',\n  /**\n   * @description Text to indicate the source of an image\n   * @example {example.com} PH1\n   */\n  imageFromS: 'Image from {PH1}',\n  /**\n   * @description Title of the row that shows the file size of an image.\n   */\n  fileSize: 'File size:',\n  /**\n   * @description Title of the row that shows the intrinsic size of an image in pixels.\n   */\n  intrinsicSize: 'Intrinsic size:',\n  /**\n   * @description Title of the row that shows the rendered size of an image in pixels.\n   */\n  renderedSize: 'Rendered size:',\n  /**\n   * @description Title of the row that shows the current URL of an image.\n   * https://html.spec.whatwg.org/multipage/embedded-content.html#dom-img-currentsrc.\n   */\n  currentSource: 'Current source:',\n  /**\n   * @description The rendered aspect ratio of an image.\n   */\n  renderedAspectRatio: 'Rendered aspect ratio:',\n  /**\n   * @description The intrinsic aspect ratio of an image.\n   */\n  intrinsicAspectRatio: 'Intrinsic aspect ratio:',\n} as const;\nconst str_ = i18n.i18n.registerUIStrings('ui/legacy/components/utils/ImagePreview.ts', UIStrings);\nconst i18nString = i18n.i18n.getLocalizedString.bind(undefined, str_);\n\nexport interface PrecomputedFeatures {\n  renderedWidth: number;\n  renderedHeight: number;\n  currentSrc?: Platform.DevToolsPath.UrlString;\n}\n\nexport const enum Align {\n  // 'start' means the table content will be start-aligned. For example:\n  // title1       Description1\n  // title22222   Description2222222222222\n  START = 'start',\n  // 'center' means the table content will be center-aligned. For example:\n  //       title1 Description1\n  //   title22222 Description2222222222222\n  CENTER = 'center',\n}\n\nfunction isImageResource(resource: SDK.Resource.Resource|null): boolean {\n  return resource !== null && resource.resourceType() === Common.ResourceType.resourceTypes.Image;\n}\n\nexport class ImagePreview {\n  static async build(\n      originalImageURL: Platform.DevToolsPath.UrlString,\n      showDimensions: boolean,\n      options: {\n        precomputedFeatures: (PrecomputedFeatures|undefined),\n        imageAltText: (string|undefined),\n        align: Align,\n        hideFileData?: boolean,\n      }|undefined = {precomputedFeatures: undefined, imageAltText: undefined, align: Align.CENTER},\n      ): Promise<HTMLDivElement|null> {\n    const {precomputedFeatures, imageAltText, align} = options;\n\n    let resource = SDK.ResourceTreeModel.ResourceTreeModel.resourceForURL(originalImageURL);\n    let imageURL = originalImageURL;\n    if (!isImageResource(resource) && precomputedFeatures?.currentSrc) {\n      imageURL = precomputedFeatures.currentSrc;\n      resource = SDK.ResourceTreeModel.ResourceTreeModel.resourceForURL(imageURL);\n    }\n    if (!resource || !isImageResource(resource)) {\n      return null;\n    }\n    const imageResource = resource;\n\n    const displayName = resource.displayName;\n\n    // When opening DevTools for the first time, base64 resource has no content.\n    const content = resource.content ? resource.content : resource.url.split('base64,')[1];\n    const contentSize = resource.contentSize();\n    const resourceSize = contentSize ? contentSize : Platform.StringUtilities.base64ToSize(content);\n    const resourceSizeText = resourceSize > 0 ? i18n.ByteUtilities.bytesToString(resourceSize) : '';\n\n    return await new Promise(resolve => {\n      const imageElement = document.createElement('img');\n      imageElement.addEventListener('load', buildContent, false);\n      imageElement.addEventListener('error', () => resolve(null), false);\n      if (imageAltText) {\n        imageElement.alt = imageAltText;\n      }\n      void imageResource.populateImageSource(imageElement);\n\n      function buildContent(): void {\n        const shadowBoundary = document.createElement('div');\n        const shadowRoot = shadowBoundary.attachShadow({mode: 'open'});\n        shadowRoot.createChild('style').textContent = imagePreviewStyles;\n        const container = shadowRoot.createChild('table');\n        container.className = 'image-preview-container';\n\n        const imageRow = container.createChild('tr').createChild('td', 'image-container');\n        imageRow.colSpan = 2;\n\n        const link = imageRow.createChild('div', ` ${align}`);\n        link.title = displayName;\n        link.appendChild(imageElement);\n\n        // Open image in new tab.\n        link.addEventListener('click', () => {\n          Host.InspectorFrontendHost.InspectorFrontendHostInstance.openInNewTab(imageURL);\n        });\n\n        const intrinsicWidth = imageElement.naturalWidth;\n        const intrinsicHeight = imageElement.naturalHeight;\n        const renderedWidth = precomputedFeatures ? precomputedFeatures.renderedWidth : intrinsicWidth;\n        const renderedHeight = precomputedFeatures ? precomputedFeatures.renderedHeight : intrinsicHeight;\n        if (showDimensions) {\n          const renderedRow = container.createChild('tr', 'row');\n\n          renderedRow.createChild('td', `title ${align}`).textContent = i18nString(UIStrings.renderedSize);\n          renderedRow.createChild('td', 'description').textContent = `${renderedWidth} × ${renderedHeight} px`;\n\n          const aspectRatioRow = container.createChild('tr', 'row');\n          aspectRatioRow.createChild('td', `title ${align}`).textContent = i18nString(UIStrings.renderedAspectRatio);\n          aspectRatioRow.createChild('td', 'description').textContent =\n              Platform.NumberUtilities.aspectRatio(renderedWidth, renderedHeight);\n\n          if (renderedHeight !== intrinsicHeight || renderedWidth !== intrinsicWidth) {\n            const intrinsicRow = container.createChild('tr', 'row');\n            intrinsicRow.createChild('td', `title ${align}`).textContent = i18nString(UIStrings.intrinsicSize);\n            intrinsicRow.createChild('td', 'description').textContent = `${intrinsicWidth} × ${intrinsicHeight} px`;\n\n            const intrinsicAspectRatioRow = container.createChild('tr', 'row');\n            intrinsicAspectRatioRow.createChild('td', `title ${align}`).textContent =\n                i18nString(UIStrings.intrinsicAspectRatio);\n            intrinsicAspectRatioRow.createChild('td', 'description').textContent =\n                Platform.NumberUtilities.aspectRatio(intrinsicWidth, intrinsicHeight);\n          }\n        }\n\n        if (!options.hideFileData) {\n          // File size\n          const fileRow = container.createChild('tr', 'row');\n          fileRow.createChild('td', `title ${align}`).textContent = i18nString(UIStrings.fileSize);\n          fileRow.createChild('td', 'description').textContent = resourceSizeText;\n\n          // Current source\n          const originalRow = container.createChild('tr', 'row');\n          originalRow.createChild('td', `title ${align}`).textContent = i18nString(UIStrings.currentSource);\n\n          const sourceText = Platform.StringUtilities.trimMiddle(imageURL, 100);\n          const sourceLink =\n              (originalRow.createChild('td', 'description description-link').createChild('span', 'source-link') as\n               HTMLLinkElement);\n          sourceLink.textContent = sourceText;\n          sourceLink.addEventListener('click', () => {\n            Host.InspectorFrontendHost.InspectorFrontendHostInstance.openInNewTab(imageURL);\n          });\n        }\n        resolve(shadowBoundary);\n      }\n    });\n  }\n\n  static async loadDimensionsForNode(node: SDK.DOMModel.DOMNode): Promise<PrecomputedFeatures|undefined> {\n    if (!node.nodeName() || node.nodeName().toLowerCase() !== 'img') {\n      return;\n    }\n\n    const object = await node.resolveToObject('');\n\n    if (!object) {\n      return;\n    }\n\n    const featuresObject = await object.callFunctionJSON(features, undefined);\n    object.release();\n    return featuresObject ?? undefined;\n\n    function features(this: HTMLImageElement): PrecomputedFeatures {\n      return {\n        renderedWidth: this.width,\n        renderedHeight: this.height,\n        currentSrc: this.currentSrc as Platform.DevToolsPath.UrlString,\n      };\n    }\n  }\n\n  static defaultAltTextForImageURL(url: Platform.DevToolsPath.UrlString): string {\n    const parsedImageURL = new Common.ParsedURL.ParsedURL(url);\n    const imageSourceText = parsedImageURL.isValid ? parsedImageURL.displayName : i18nString(UIStrings.unknownSource);\n    return i18nString(UIStrings.imageFromS, {PH1: imageSourceText});\n  }\n}\n", "// Copyright 2025 The Chromium Authors\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n// IMPORTANT: this file is auto generated. Please do not edit this file.\n/* istanbul ignore file */\nexport default `/*\n * Copyright 2017 The Chromium Authors\n * Use of this source code is governed by a BSD-style license that can be\n * found in the LICENSE file.\n */\n\n.image-preview-container {\n  background: transparent;\n  text-align: center;\n  border-spacing: 0;\n}\n\n.image-preview-container img {\n  margin: 6px 0;\n  max-width: 100px;\n  max-height: 100px;\n  background-image: var(--image-file-checker);\n  user-select: text;\n  vertical-align: top;\n  -webkit-user-drag: auto;\n}\n\n.image-container {\n  padding: 0;\n}\n\n.image-container > div {\n  min-height: 50px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n}\n\n.image-container > div.start {\n  justify-content: start;\n}\n\n.image-preview-container .row {\n  line-height: 1.2;\n  vertical-align: baseline;\n}\n\n.image-preview-container .title {\n  padding-right: 0.5em;\n  color: var(--sys-color-token-subtle);\n  white-space: nowrap;\n\n  &.start {\n    text-align: start;\n  }\n\n  &.center {\n    text-align: end;\n  }\n}\n\n.image-preview-container .description {\n  white-space: nowrap;\n  text-align: left;\n  color: var(--sys-color-on-surface);\n}\n\n.image-preview-container .description-link {\n  max-width: 20em;\n}\n\n.image-preview-container .source-link {\n  white-space: normal;\n  word-break: break-all;\n  color: var(--sys-color-primary);\n  cursor: pointer;\n}\n\n/*# sourceURL=${import.meta.resolve('./imagePreview.css')} */`;", "// Copyright 2021 The Chromium Authors\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n/* eslint-disable @devtools/no-imperative-dom-api */\n\n/*\n * Copyright (C) 2011 Google Inc.  All rights reserved.\n * Copyright (C) 2007, 2008 Apple Inc.  All rights reserved.\n * Copyright (C) 2008 Matt Lilek <webkit@mattlilek.com>\n * Copyright (C) 2009 Joseph Pecoraro\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions\n * are met:\n *\n * 1.  Redistributions of source code must retain the above copyright\n *     notice, this list of conditions and the following disclaimer.\n * 2.  Redistributions in binary form must reproduce the above copyright\n *     notice, this list of conditions and the following disclaimer in the\n *     documentation and/or other materials provided with the distribution.\n * 3.  Neither the name of Apple Computer, Inc. (\"Apple\") nor the names of\n *     its contributors may be used to endorse or promote products derived\n *     from this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY APPLE AND ITS CONTRIBUTORS \"AS IS\" AND ANY\n * EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL APPLE OR ITS CONTRIBUTORS BE LIABLE FOR ANY\n * DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF\n * THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\nimport * as Common from '../../../../core/common/common.js';\nimport * as i18n from '../../../../core/i18n/i18n.js';\nimport * as SDK from '../../../../core/sdk/sdk.js';\nimport type * as Protocol from '../../../../generated/protocol.js';\nimport * as StackTrace from '../../../../models/stack_trace/stack_trace.js';\nimport * as Workspace from '../../../../models/workspace/workspace.js';\nimport * as VisualLogging from '../../../visual_logging/visual_logging.js';\nimport * as UI from '../../legacy.js';\n\nimport jsUtilsStyles from './jsUtils.css.js';\nimport {Events as LinkifierEvents, Linkifier} from './Linkifier.js';\n\nconst UIStrings = {\n  /**\n   * @description Text to stop preventing the debugger from stepping into library code\n   */\n  removeFromIgnore: 'Remove from ignore list',\n  /**\n   * @description Text for scripts that should not be stepped into when debugging\n   */\n  addToIgnore: 'Add script to ignore list',\n  /**\n   * @description A link to show more frames when they are available.\n   */\n  showMoreFrames: 'Show ignore-listed frames',\n  /**\n   * @description A link to rehide frames that are by default hidden.\n   */\n  showLess: 'Show less',\n  /**\n   * @description Text indicating that source url of a link is currently unknown\n   */\n  unknownSource: 'unknown',\n} as const;\nconst str_ = i18n.i18n.registerUIStrings('ui/legacy/components/utils/JSPresentationUtils.ts', UIStrings);\nconst i18nString = i18n.i18n.getLocalizedString.bind(undefined, str_);\n\nfunction populateContextMenu(link: Element, event: Event): void {\n  const contextMenu = new UI.ContextMenu.ContextMenu(event);\n  event.consume(true);\n  const uiLocation = Linkifier.uiLocation(link);\n  if (uiLocation &&\n      Workspace.IgnoreListManager.IgnoreListManager.instance().canIgnoreListUISourceCode(uiLocation.uiSourceCode)) {\n    if (Workspace.IgnoreListManager.IgnoreListManager.instance().isUserIgnoreListedURL(uiLocation.uiSourceCode.url())) {\n      contextMenu.debugSection().appendItem(\n          i18nString(UIStrings.removeFromIgnore),\n          () => Workspace.IgnoreListManager.IgnoreListManager.instance().unIgnoreListUISourceCode(\n              uiLocation.uiSourceCode),\n          {jslogContext: 'remove-from-ignore-list'});\n    } else {\n      contextMenu.debugSection().appendItem(\n          i18nString(UIStrings.addToIgnore),\n          () =>\n              Workspace.IgnoreListManager.IgnoreListManager.instance().ignoreListUISourceCode(uiLocation.uiSourceCode),\n          {jslogContext: 'add-to-ignore-list'});\n    }\n  }\n  contextMenu.appendApplicableItems(event);\n  void contextMenu.show();\n}\n\n// TODO(crbug.com/456517732): remove when all usages of runtimeStackTrace are migrated.\nexport function buildStackTraceRowsForLegacyRuntimeStackTrace(\n    stackTrace: Protocol.Runtime.StackTrace,\n    target: SDK.Target.Target|null,\n    linkifier: Linkifier,\n    tabStops: boolean|undefined,\n    updateCallback?: (arg0: Array<StackTraceRegularRow|StackTraceAsyncRow>) => void,\n    showColumnNumber?: boolean,\n    ): Array<StackTraceRegularRow|StackTraceAsyncRow> {\n  const stackTraceRows: Array<StackTraceRegularRow|StackTraceAsyncRow> = [];\n\n  if (updateCallback) {\n    const throttler = new Common.Throttler.Throttler(100);\n    linkifier.addEventListener(LinkifierEvents.LIVE_LOCATION_UPDATED, () => {\n      void throttler.schedule(async () => updateCallback(stackTraceRows));\n    });\n  }\n\n  function buildStackTraceRowsHelper(\n      stackTrace: Protocol.Runtime.StackTrace,\n      previousCallFrames: Protocol.Runtime.CallFrame[]|undefined = undefined): void {\n    let asyncRow: StackTraceAsyncRow|null = null;\n    if (previousCallFrames) {\n      asyncRow = {\n        asyncDescription: UI.UIUtils.asyncStackTraceLabel(stackTrace.description, previousCallFrames),\n      };\n      stackTraceRows.push(asyncRow);\n    }\n    let previousStackFrameWasBreakpointCondition = false;\n    for (const stackFrame of stackTrace.callFrames) {\n      const functionName = UI.UIUtils.beautifyFunctionName(stackFrame.functionName);\n      const link = linkifier.maybeLinkifyConsoleCallFrame(target, stackFrame, {\n        showColumnNumber,\n        tabStop: Boolean(tabStops),\n        inlineFrameIndex: 0,\n        revealBreakpoint: previousStackFrameWasBreakpointCondition,\n      });\n      if (link) {\n        link.setAttribute('jslog', `${VisualLogging.link('stack-trace').track({click: true})}`);\n        link.addEventListener('contextmenu', populateContextMenu.bind(null, link));\n\n        if (!link.textContent) {\n          link.textContent = i18nString(UIStrings.unknownSource);\n        }\n      }\n      stackTraceRows.push({functionName, link});\n      previousStackFrameWasBreakpointCondition = [\n        SDK.DebuggerModel.COND_BREAKPOINT_SOURCE_URL,\n        SDK.DebuggerModel.LOGPOINT_SOURCE_URL,\n      ].includes(stackFrame.url);\n    }\n  }\n\n  buildStackTraceRowsHelper(stackTrace);\n  let previousCallFrames = stackTrace.callFrames;\n  for (let asyncStackTrace = stackTrace.parent; asyncStackTrace; asyncStackTrace = asyncStackTrace.parent) {\n    if (asyncStackTrace.callFrames.length) {\n      buildStackTraceRowsHelper(asyncStackTrace, previousCallFrames);\n    }\n    previousCallFrames = asyncStackTrace.callFrames;\n  }\n  return stackTraceRows;\n}\n\nexport function buildStackTraceRows(\n    stackTrace: StackTrace.StackTrace.StackTrace,\n    target: SDK.Target.Target|null,\n    linkifier: Linkifier,\n    tabStops: boolean|undefined,\n    showColumnNumber?: boolean,\n    ): Array<StackTraceRegularRow|StackTraceAsyncRow> {\n  const stackTraceRows: Array<StackTraceRegularRow|StackTraceAsyncRow> = [];\n\n  function buildStackTraceRowsHelper(\n      fragment: StackTrace.StackTrace.Fragment|StackTrace.StackTrace.AsyncFragment,\n      previousFragment: StackTrace.StackTrace.Fragment|undefined = undefined): void {\n    let asyncRow: StackTraceAsyncRow|null = null;\n    const isAsync = 'description' in fragment;\n    if (previousFragment && isAsync) {\n      asyncRow = {\n        asyncDescription: UI.UIUtils.asyncStackTraceLabel(\n            fragment.description, previousFragment.frames.map(f => ({functionName: f.name ?? ''}))),\n      };\n      stackTraceRows.push(asyncRow);\n    }\n    let previousStackFrameWasBreakpointCondition = false;\n    for (const frame of fragment.frames) {\n      const functionName = UI.UIUtils.beautifyFunctionName(frame.name ?? '');\n      const link = linkifier.maybeLinkifyStackTraceFrame(target, frame, {\n        showColumnNumber,\n        tabStop: Boolean(tabStops),\n        inlineFrameIndex: 0,\n        revealBreakpoint: previousStackFrameWasBreakpointCondition,\n      });\n      if (link) {\n        link.setAttribute('jslog', `${VisualLogging.link('stack-trace').track({click: true})}`);\n        link.addEventListener('contextmenu', populateContextMenu.bind(null, link));\n\n        if (!link.textContent) {\n          link.textContent = i18nString(UIStrings.unknownSource);\n        }\n      }\n      stackTraceRows.push({functionName, link});\n      previousStackFrameWasBreakpointCondition = [\n        SDK.DebuggerModel.COND_BREAKPOINT_SOURCE_URL,\n        SDK.DebuggerModel.LOGPOINT_SOURCE_URL,\n      ].includes(frame.url ?? '');\n    }\n  }\n\n  buildStackTraceRowsHelper(stackTrace.syncFragment);\n  let previousFragment = stackTrace.syncFragment;\n  for (const asyncFragment of stackTrace.asyncFragments) {\n    if (asyncFragment.frames.length) {\n      buildStackTraceRowsHelper(asyncFragment, previousFragment);\n    }\n    previousFragment = asyncFragment;\n  }\n  return stackTraceRows;\n}\n\nfunction renderStackTraceTable(\n    container: Element, parent: Element, expandable: boolean,\n    stackTraceRows: Array<StackTraceRegularRow|StackTraceAsyncRow>): HTMLElement[] {\n  container.removeChildren();\n  const links: HTMLElement[] = [];\n\n  // The tableSection groups one or more synchronous call frames together.\n  // Wherever there is an asynchronous call, a new section is created.\n  let tableSection: Element|null = null;\n  let firstRow = true;\n  for (const item of stackTraceRows) {\n    if (!tableSection || 'asyncDescription' in item) {\n      tableSection = container.createChild('tbody');\n    }\n\n    const row = tableSection.createChild('tr');\n    if (firstRow && expandable) {\n      const button = row.createChild('td').createChild('button', 'arrow-icon-button');\n      button.createChild('span', 'arrow-icon');\n      parent.classList.add('expandable');\n      container.classList.add('expandable');\n      button.addEventListener('click', () => {\n        button.setAttribute('jslog', `${VisualLogging.expand().track({click: true})}`);\n        parent.classList.toggle('expanded');\n        container.classList.toggle('expanded');\n      });\n      firstRow = false;\n    } else {\n      row.createChild('td').textContent = '\\n';\n    }\n    if ('asyncDescription' in item) {\n      row.createChild('td', 'stack-preview-async-description').textContent = item.asyncDescription;\n      row.createChild('td');\n      row.createChild('td');\n      row.classList.add('stack-preview-async-row');\n    } else {\n      row.createChild('td', 'function-name').textContent = item.functionName;\n      row.createChild('td').textContent = ' @ ';\n      if (item.link) {\n        row.createChild('td', 'link').appendChild(item.link);\n        links.push(item.link);\n      }\n    }\n  }\n\n  tableSection = container.createChild('tfoot');\n  const showAllRow = tableSection.createChild('tr', 'show-all-link');\n  showAllRow.createChild('td');\n  const cell = showAllRow.createChild('td');\n  cell.colSpan = 4;\n  const showAllLink = cell.createChild('span', 'link');\n  // Don't directly put the text of the link in the DOM, as it will likely be\n  // invisible and it may be confusing if it is copied to the clipboard.\n  showAllLink.createChild('span', 'css-inserted-text')\n      .setAttribute('data-inserted-text', i18nString(UIStrings.showMoreFrames));\n  showAllLink.addEventListener('click', () => {\n    container.classList.add('show-hidden-rows');\n    parent.classList.add('show-hidden-rows');\n    // If we are in a popup, this will trigger a re-layout\n    UI.GlassPane.GlassPane.containerMoved(container);\n  }, false);\n  const showLessRow = tableSection.createChild('tr', 'show-less-link');\n  showLessRow.createChild('td');\n  const showLesscell = showLessRow.createChild('td');\n  showLesscell.colSpan = 4;\n  const showLessLink = showLesscell.createChild('span', 'link');\n  showLessLink.createChild('span', 'css-inserted-text')\n      .setAttribute('data-inserted-text', i18nString(UIStrings.showLess));\n  showLessLink.addEventListener('click', () => {\n    container.classList.remove('show-hidden-rows');\n    parent.classList.remove('show-hidden-rows');\n    // If we are in a popup, this will trigger a re-layout\n    UI.GlassPane.GlassPane.containerMoved(container);\n  }, false);\n\n  return links;\n}\n\nexport interface Options {\n  // TODO(crbug.com/456517732): remove when all usages of runtimeStackTrace are migrated.\n  runtimeStackTrace?: Protocol.Runtime.StackTrace;\n  tabStops?: boolean;\n  // Whether the width of stack trace preview\n  // is constrained to its container or whether\n  // it can grow the container.\n  widthConstrained?: boolean;\n  showColumnNumber?: boolean;\n  expandable?: boolean;\n}\n\nexport interface StackTraceRegularRow {\n  functionName: string;\n  link: HTMLElement|null;\n}\n\nexport interface StackTraceAsyncRow {\n  asyncDescription: string;\n}\n\nexport class StackTracePreviewContent extends UI.Widget.Widget {\n  #stackTrace?: StackTrace.StackTrace.StackTrace;\n  #target?: SDK.Target.Target;\n  #linkifier?: Linkifier;\n  #ownedLinkifier?: Linkifier;\n  #options: Options;\n  #links: HTMLElement[] = [];\n\n  readonly #table: HTMLElement;\n\n  constructor(element?: HTMLElement, target?: SDK.Target.Target, linkifier?: Linkifier, options?: Options) {\n    super(element, {useShadowDom: true});\n\n    this.#target = target;\n    this.#linkifier = linkifier;\n    if (!this.#linkifier) {\n      this.#ownedLinkifier = new Linkifier();\n      this.#linkifier = this.#ownedLinkifier;\n    }\n    this.#options = options || {\n      widthConstrained: false,\n    };\n\n    this.element.classList.add('monospace');\n    this.element.classList.add('stack-preview-container');\n    this.element.classList.toggle('width-constrained', this.#options.widthConstrained ?? false);\n    this.element.style.display = 'inline-block';\n\n    UI.DOMUtilities.appendStyle(this.element.shadowRoot as ShadowRoot, jsUtilsStyles);\n\n    this.#table = this.contentElement.createChild('table', 'stack-preview-container');\n    this.#table.classList.toggle('width-constrained', this.#options.widthConstrained ?? false);\n\n    this.#stackTrace?.addEventListener(StackTrace.StackTrace.Events.UPDATED, this.performUpdate.bind(this));\n\n    this.performUpdate();\n  }\n\n  override performUpdate(): void {\n    if (!this.#linkifier) {\n      return;\n    }\n\n    const {runtimeStackTrace, tabStops} = this.#options;\n\n    if (this.#stackTrace) {\n      const stackTraceRows = buildStackTraceRows(\n          this.#stackTrace, this.#target ?? null, this.#linkifier, tabStops, this.#options.showColumnNumber);\n      this.#links = renderStackTraceTable(this.#table, this.element, this.#options.expandable ?? false, stackTraceRows);\n      return;\n    }\n\n    // TODO(crbug.com/456517732): remove when all usages of runtimeStackTrace are migrated.\n    const updateCallback =\n        renderStackTraceTable.bind(null, this.#table, this.element, this.#options.expandable ?? false);\n    const stackTraceRows = buildStackTraceRowsForLegacyRuntimeStackTrace(\n        runtimeStackTrace ?? {callFrames: []}, this.#target ?? null, this.#linkifier, tabStops, updateCallback,\n        this.#options.showColumnNumber);\n    this.#links = renderStackTraceTable(this.#table, this.element, this.#options.expandable ?? false, stackTraceRows);\n  }\n\n  get linkElements(): readonly HTMLElement[] {\n    return this.#links;\n  }\n\n  set target(target: SDK.Target.Target|undefined) {\n    this.#target = target;\n    this.requestUpdate();\n  }\n\n  set linkifier(linkifier: Linkifier) {\n    this.#linkifier = linkifier;\n    this.requestUpdate();\n  }\n\n  set options(options: Options) {\n    this.#options = options;\n    this.requestUpdate();\n  }\n\n  set stackTrace(stackTrace: StackTrace.StackTrace.StackTrace) {\n    this.#stackTrace = stackTrace;\n    this.requestUpdate();\n  }\n\n  override onDetach(): void {\n    this.#ownedLinkifier?.dispose();\n  }\n}\n", "// Copyright 2025 The Chromium Authors\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n// IMPORTANT: this file is auto generated. Please do not edit this file.\n/* istanbul ignore file */\nexport default `/*\n * Copyright 2015 The Chromium Authors\n * Use of this source code is governed by a BSD-style license that can be\n * found in the LICENSE file.\n */\n\n:host {\n  display: inline;\n}\n\n:host(.width-constrained) {\n  display: inline-block;\n  width: 100%;\n}\n\n.stack-preview-async-description {\n  padding: 3px 0 1px;\n  font-weight: bold;\n}\n\n.stack-preview-container {\n  --display-ignored-row: none;\n  --display-toggle-link: var(--override-display-stack-preview-toggle-link, none);\n\n  & > tfoot > tr {\n    font-style: italic;\n    display: var(--display-toggle-link);\n  }\n\n  & > tbody {\n    display: var(--override-display-stack-preview-tbody, table-row-group);\n\n    & > tr {\n      height: 16px;\n      line-height: 16px;\n\n      &:has(td.link > .ignore-list-link) {\n        opacity: 60%;\n        display: var(--display-ignored-row);\n      }\n    }\n\n    &:has(tr > td.link > .ignore-list-link) {\n      &:not(:has(tr > td.link > .devtools-link:not(.ignore-list-link))) {\n        .stack-preview-async-row {\n          /* An async row is hidden if the following group of call frames are all hidden */\n          display: var(--display-ignored-row);\n        }\n      }\n    }\n  }\n\n  &:not(:has(tbody > tr > td.link > .devtools-link:not(.ignore-list-link))),\n  &.show-hidden-rows {\n    /* Display ignore listed rows if everything is ignore listed or if displaying expanded. */\n    --display-ignored-row: table-row;\n  }\n\n  &:has(tbody > tr > td.link > .ignore-list-link):has(tbody > tr > td.link > .devtools-link:not(.ignore-list-link)) {\n    /* Show toggle links if some rows are ignore listed but not all of them. */\n    --display-toggle-link: table-row;\n  }\n\n  td {\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    padding-inline: 2px;\n\n    &.link {\n      overflow: visible;\n\n      & > button.text-button.devtools-link {\n        background-color: inherit;\n      }\n    }\n  }\n\n  &.width-constrained {\n    display: block;\n    width: 100%;\n\n    td.link {\n      /* width: 100%; and max-width: 0; combination causes the link cell to be\n      extended as much as possible while still staying inside the table */\n      width: 100%;\n      max-width: 0;\n    }\n  }\n\n  .function-name {\n    max-width: 80em;\n  }\n\n  &.show-hidden-rows > tfoot > tr.show-all-link {\n    --display-toggle-link: none;\n  }\n\n  &:not(.show-hidden-rows) > tfoot > tr.show-less-link {\n    --display-toggle-link: none;\n  }\n\n  .arrow-icon-button {\n    cursor: pointer;\n    padding: 1px 0;\n    border: none;\n    background: none;\n    margin-left: -4px;\n    margin-right: -2px;\n  }\n\n  .arrow-icon {\n    display: inline-block;\n    mask-image: var(--image-file-triangle-right);\n    background-color: var(--icon-default);\n    margin-top: 2px;\n    height: 14px;\n    width: 14px;\n    transition: transform 200ms;\n  }\n\n  &.expanded .arrow-icon{\n    transform: rotate(90deg);\n  }\n\n  &.expandable:not(.expanded) tbody:not(:first-of-type),\n  &.expandable:not(.expanded) tbody tr:not(:first-of-type) {\n    display: none;\n  }\n}\n\n/* The show more/less links aren't really a part of the content\nas they are equivalent to an expander triangle and not something\nyou would want to copy to the clipboard. Attributes are used to\ninsert their text through css rather than put the text in the DOM. */\n.css-inserted-text::before {\n  content: attr(data-inserted-text);\n}\n\n/*# sourceURL=${import.meta.resolve('./jsUtils.css')} */`;", "// Copyright 2012 The Chromium Authors\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\n/* eslint-disable @devtools/no-imperative-dom-api */\n\nimport * as Common from '../../../../core/common/common.js';\nimport * as Host from '../../../../core/host/host.js';\nimport * as i18n from '../../../../core/i18n/i18n.js';\nimport * as Platform from '../../../../core/platform/platform.js';\nimport * as SDK from '../../../../core/sdk/sdk.js';\nimport type * as Protocol from '../../../../generated/protocol.js';\nimport * as Bindings from '../../../../models/bindings/bindings.js';\nimport * as Breakpoints from '../../../../models/breakpoints/breakpoints.js';\nimport type * as StackTrace from '../../../../models/stack_trace/stack_trace.js';\nimport * as TextUtils from '../../../../models/text_utils/text_utils.js';\nimport type * as Trace from '../../../../models/trace/trace.js';\nimport * as Workspace from '../../../../models/workspace/workspace.js';\nimport * as UIHelpers from '../../../helpers/helpers.js';\nimport type {Icon} from '../../../kit/kit.js';\nimport {html, render} from '../../../lit/lit.js';\nimport * as VisualLogging from '../../../visual_logging/visual_logging.js';\nimport * as UI from '../../legacy.js';\n\nconst UIStrings = {\n  /**\n   * @description Text in Linkifier\n   */\n  unknown: '(unknown)',\n  /**\n   * @description Text short for automatic\n   */\n  auto: 'auto',\n  /**\n   * @description Text in Linkifier\n   * @example {Sources panel} PH1\n   */\n  revealInS: 'Reveal in {PH1}',\n  /**\n   * @description Text for revealing an item in its destination\n   */\n  reveal: 'Reveal',\n  /**\n   * @description A context menu item in the Linkifier\n   * @example {Extension} PH1\n   */\n  openUsingS: 'Open using {PH1}',\n  /**\n   * @description The name of a setting which controls how links are handled in the UI. 'Handling'\n   * refers to the ability of extensions to DevTools to be able to intercept link clicks so that they\n   * can react to them.\n   */\n  linkHandling: 'Link handling:',\n} as const;\nconst str_ = i18n.i18n.registerUIStrings('ui/legacy/components/utils/Linkifier.ts', UIStrings);\nconst i18nString = i18n.i18n.getLocalizedString.bind(undefined, str_);\nconst instances = new Set<Linkifier>();\n\nlet decorator: LinkDecorator|null = null;\n\nconst anchorsByUISourceCode = new WeakMap<Workspace.UISourceCode.UISourceCode, Set<Element>>();\n\nconst infoByAnchor = new WeakMap<Node, LinkInfo>();\n\nconst textByAnchor = new WeakMap<Node, string>();\n\n// Maps a DevTools Extension origin to a particular LinkHandler.\nconst linkHandlers = new Map<string, LinkHandlerRegistration>();\n\nlet linkHandlerSettingInstance: Common.Settings.Setting<string>;\n\nexport class Linkifier extends Common.ObjectWrapper.ObjectWrapper<EventTypes> implements SDK.TargetManager.Observer {\n  private readonly maxLength: number;\n  private readonly anchorsByTarget = new Map<SDK.Target.Target, Element[]>();\n  private readonly locationPoolByTarget = new Map<SDK.Target.Target, Bindings.LiveLocation.LiveLocationPool>();\n  private useLinkDecorator: boolean;\n  readonly #anchorUpdaters: WeakMap<Element, (this: Linkifier, anchor: HTMLElement) => void>;\n\n  constructor(maxLengthForDisplayedURLs?: number, useLinkDecorator?: boolean) {\n    super();\n    this.maxLength = maxLengthForDisplayedURLs || UI.UIUtils.MaxLengthForDisplayedURLs;\n    this.useLinkDecorator = Boolean(useLinkDecorator);\n    this.#anchorUpdaters = new WeakMap();\n    instances.add(this);\n    SDK.TargetManager.TargetManager.instance().observeTargets(this);\n    Workspace.Workspace.WorkspaceImpl.instance().addEventListener(\n        Workspace.Workspace.Events.WorkingCopyChanged, this.#onWorkingCopyChangedOrCommitted, this);\n    Workspace.Workspace.WorkspaceImpl.instance().addEventListener(\n        Workspace.Workspace.Events.WorkingCopyCommitted, this.#onWorkingCopyChangedOrCommitted, this);\n  }\n\n  #onWorkingCopyChangedOrCommitted({\n    data: {uiSourceCode}\n  }: Common.EventTarget.EventTargetEvent<{uiSourceCode: Workspace.UISourceCode.UISourceCode}>): void {\n    const anchors = anchorsByUISourceCode.get(uiSourceCode);\n    if (!anchors) {\n      return;\n    }\n    for (const anchor of anchors) {\n      const updater = this.#anchorUpdaters.get(anchor);\n      if (!updater) {\n        continue;\n      }\n      updater.call(this, anchor as HTMLElement);\n    }\n  }\n\n  static setLinkDecorator(linkDecorator: LinkDecorator): void {\n    console.assert(!decorator, 'Cannot re-register link decorator.');\n    decorator = linkDecorator;\n    linkDecorator.addEventListener(LinkDecorator.Events.LINK_ICON_CHANGED, onLinkIconChanged);\n    for (const linkifier of instances) {\n      linkifier.updateAllAnchorDecorations();\n    }\n\n    function onLinkIconChanged(event: Common.EventTarget.EventTargetEvent<Workspace.UISourceCode.UISourceCode>): void {\n      const uiSourceCode = event.data;\n      const links = anchorsByUISourceCode.get(uiSourceCode) || [];\n      for (const link of links) {\n        Linkifier.updateLinkDecorations(link);\n      }\n    }\n  }\n\n  private updateAllAnchorDecorations(): void {\n    for (const anchors of this.anchorsByTarget.values()) {\n      for (const anchor of anchors) {\n        Linkifier.updateLinkDecorations(anchor);\n      }\n    }\n  }\n\n  private static bindUILocation(anchor: Element, uiLocation: Workspace.UISourceCode.UILocation): void {\n    const linkInfo = Linkifier.linkInfo(anchor);\n    if (!linkInfo) {\n      return;\n    }\n    linkInfo.uiLocation = uiLocation;\n    if (!uiLocation) {\n      return;\n    }\n    const uiSourceCode = uiLocation.uiSourceCode;\n    let sourceCodeAnchors = anchorsByUISourceCode.get(uiSourceCode);\n    if (!sourceCodeAnchors) {\n      sourceCodeAnchors = new Set();\n      anchorsByUISourceCode.set(uiSourceCode, sourceCodeAnchors);\n    }\n    sourceCodeAnchors.add(anchor);\n  }\n\n  static bindUILocationForTest(anchor: Element, uiLocation: Workspace.UISourceCode.UILocation): void {\n    Linkifier.bindUILocation(anchor, uiLocation);\n  }\n\n  private static unbindUILocation(anchor: Element): void {\n    const info = Linkifier.linkInfo(anchor);\n    if (!info?.uiLocation) {\n      return;\n    }\n\n    const uiSourceCode = info.uiLocation.uiSourceCode;\n    info.uiLocation = null;\n    const sourceCodeAnchors = anchorsByUISourceCode.get(uiSourceCode);\n    if (sourceCodeAnchors) {\n      sourceCodeAnchors.delete(anchor);\n    }\n  }\n\n  /**\n   * When we link to a breakpoint condition, we need to stash the BreakpointLocation as the revealable\n   * in the LinkInfo.\n   */\n  private static bindBreakpoint(anchor: Element, uiLocation: Workspace.UISourceCode.UILocation): void {\n    const info = Linkifier.linkInfo(anchor);\n    if (!info) {\n      return;\n    }\n\n    const breakpoint = Breakpoints.BreakpointManager.BreakpointManager.instance().findBreakpoint(uiLocation);\n    if (breakpoint) {\n      info.revealable = breakpoint;\n    }\n  }\n\n  /**\n   * When we link to a breakpoint condition, we store the BreakpointLocation in the revealable.\n   * Clear it when the LiveLocation updates.\n   */\n  private static unbindBreakpoint(anchor: Element): void {\n    const info = Linkifier.linkInfo(anchor);\n    if (info?.revealable) {\n      info.revealable = null;\n    }\n  }\n\n  targetAdded(target: SDK.Target.Target): void {\n    this.anchorsByTarget.set(target, []);\n    this.locationPoolByTarget.set(target, new Bindings.LiveLocation.LiveLocationPool());\n  }\n\n  targetRemoved(target: SDK.Target.Target): void {\n    const locationPool = this.locationPoolByTarget.get(target);\n    this.locationPoolByTarget.delete(target);\n    if (!locationPool) {\n      return;\n    }\n    locationPool.disposeAll();\n    const anchors = (this.anchorsByTarget.get(target) as HTMLElement[] | null);\n    if (!anchors) {\n      return;\n    }\n    this.anchorsByTarget.delete(target);\n    for (const anchor of anchors) {\n      const info = Linkifier.linkInfo(anchor);\n      if (!info) {\n        continue;\n      }\n      info.liveLocation = null;\n      Linkifier.unbindUILocation(anchor);\n      const fallback = info.fallback;\n      if (fallback) {\n        anchor.replaceWith(fallback);\n      }\n    }\n  }\n\n  maybeLinkifyScriptLocation(\n      target: SDK.Target.Target|null, scriptId: Protocol.Runtime.ScriptId|null,\n      sourceURL: Platform.DevToolsPath.UrlString, lineNumber: number|undefined, options?: LinkifyOptions): HTMLElement\n      |null {\n    let fallbackAnchor: HTMLElement|null = null;\n    const linkifyURLOptions: LinkifyURLOptions = {\n      lineNumber,\n      maxLength: options?.maxLength ?? this.maxLength,\n      columnNumber: options?.columnNumber,\n      showColumnNumber: Boolean(options?.showColumnNumber),\n      className: options?.className,\n      tabStop: options?.tabStop,\n      inlineFrameIndex: options?.inlineFrameIndex ?? 0,\n      userMetric: options?.userMetric,\n      jslogContext: options?.jslogContext || 'script-location',\n      omitOrigin: options?.omitOrigin,\n    };\n    const {columnNumber, className = ''} = linkifyURLOptions;\n    if (sourceURL) {\n      fallbackAnchor = Linkifier.linkifyURL(sourceURL, linkifyURLOptions);\n    }\n    if (!target || target.isDisposed()) {\n      return fallbackAnchor;\n    }\n    const debuggerModel = target.model(SDK.DebuggerModel.DebuggerModel);\n    if (!debuggerModel) {\n      return fallbackAnchor;\n    }\n\n    // Prefer createRawLocationByScriptId() here, since it will always produce a correct\n    // link, since the script ID is unique. Only fall back to createRawLocationByURL()\n    // when all we have is an URL, which is not guaranteed to be unique.\n    const rawLocation = scriptId ? debuggerModel.createRawLocationByScriptId(\n                                       scriptId, lineNumber || 0, columnNumber, linkifyURLOptions.inlineFrameIndex) :\n                                   debuggerModel.createRawLocationByURL(\n                                       sourceURL, lineNumber || 0, columnNumber, linkifyURLOptions.inlineFrameIndex);\n    if (!rawLocation) {\n      return fallbackAnchor;\n    }\n\n    const createLinkOptions: CreateLinkOptions = {\n      tabStop: options?.tabStop,\n      jslogContext: 'script-location',\n    };\n    const {link, linkInfo} = Linkifier.createLink(\n        fallbackAnchor?.textContent ? fallbackAnchor.textContent : '', className, createLinkOptions);\n    linkInfo.enableDecorator = this.useLinkDecorator;\n    linkInfo.fallback = fallbackAnchor;\n    linkInfo.userMetric = options?.userMetric;\n\n    const pool = this.locationPoolByTarget.get(rawLocation.debuggerModel.target());\n    if (!pool) {\n      return fallbackAnchor;\n    }\n\n    const linkDisplayOptions: LinkDisplayOptions = {\n      showColumnNumber: linkifyURLOptions.showColumnNumber ?? false,\n      revealBreakpoint: options?.revealBreakpoint,\n    };\n\n    const updateDelegate = async(liveLocation: Bindings.LiveLocation.LiveLocation): Promise<void> => {\n      await this.updateAnchor(link, linkDisplayOptions, liveLocation);\n      this.dispatchEventToListeners(Events.LIVE_LOCATION_UPDATED, liveLocation);\n    };\n    void Bindings.DebuggerWorkspaceBinding.DebuggerWorkspaceBinding.instance()\n        .createLiveLocation(rawLocation, updateDelegate.bind(this), pool)\n        .then(liveLocation => {\n          if (liveLocation) {\n            linkInfo.liveLocation = liveLocation;\n          }\n        });\n\n    const anchors = (this.anchorsByTarget.get(rawLocation.debuggerModel.target()) as Element[]);\n    anchors.push(link);\n    return link;\n  }\n\n  linkifyScriptLocation(\n      target: SDK.Target.Target|null, scriptId: Protocol.Runtime.ScriptId|null,\n      sourceURL: Platform.DevToolsPath.UrlString, lineNumber: number|undefined, options?: LinkifyOptions): HTMLElement {\n    const scriptLink = this.maybeLinkifyScriptLocation(target, scriptId, sourceURL, lineNumber, options);\n    const linkifyURLOptions: LinkifyURLOptions = {\n      lineNumber,\n      maxLength: this.maxLength,\n      className: options?.className,\n      columnNumber: options?.columnNumber,\n      showColumnNumber: Boolean(options?.showColumnNumber),\n      inlineFrameIndex: options?.inlineFrameIndex ?? 0,\n      tabStop: options?.tabStop,\n      userMetric: options?.userMetric,\n      jslogContext: options?.jslogContext || 'script-source-url',\n    };\n\n    return scriptLink || Linkifier.linkifyURL(sourceURL, linkifyURLOptions);\n  }\n\n  linkifyRawLocation(\n      rawLocation: SDK.DebuggerModel.Location, fallbackUrl: Platform.DevToolsPath.UrlString,\n      className?: string): HTMLElement {\n    return this.linkifyScriptLocation(\n        rawLocation.debuggerModel.target(), rawLocation.scriptId, fallbackUrl, rawLocation.lineNumber, {\n          columnNumber: rawLocation.columnNumber,\n          className,\n          inlineFrameIndex: rawLocation.inlineFrameIndex,\n        });\n  }\n\n  maybeLinkifyConsoleCallFrame(\n      target: SDK.Target.Target|null, callFrame: Protocol.Runtime.CallFrame|Trace.Types.Events.CallFrame,\n      options?: LinkifyOptions): HTMLElement|null {\n    const linkifyOptions: LinkifyOptions = {\n      ...options,\n      columnNumber: callFrame.columnNumber,\n      inlineFrameIndex: options?.inlineFrameIndex ?? 0,\n    };\n    return this.maybeLinkifyScriptLocation(\n        target, String(callFrame.scriptId) as Protocol.Runtime.ScriptId,\n        callFrame.url as Platform.DevToolsPath.UrlString, callFrame.lineNumber, linkifyOptions);\n  }\n\n  maybeLinkifyStackTraceFrame(\n      target: SDK.Target.Target|null, frame: StackTrace.StackTrace.Frame, options?: LinkifyOptions): HTMLElement|null {\n    let fallbackAnchor: HTMLElement|null = null;\n    const linkifyURLOptions: LinkifyURLOptions = {\n      ...options,\n      lineNumber: frame.line,\n      maxLength: this.maxLength,\n      columnNumber: frame.column,\n      showColumnNumber: Boolean(options?.showColumnNumber),\n      className: options?.className,\n      tabStop: options?.tabStop,\n      inlineFrameIndex: options?.inlineFrameIndex ?? 0,\n      userMetric: options?.userMetric,\n      jslogContext: options?.jslogContext || 'script-location',\n      omitOrigin: options?.omitOrigin,\n    };\n    const {className = ''} = linkifyURLOptions;\n    if (frame.url) {\n      fallbackAnchor = Linkifier.linkifyURL(frame.url as Platform.DevToolsPath.UrlString, linkifyURLOptions);\n    }\n    if (!target || target.isDisposed()) {\n      return fallbackAnchor;\n    }\n\n    const createLinkOptions: CreateLinkOptions = {\n      tabStop: options?.tabStop,\n      jslogContext: 'script-location',\n    };\n    const {link, linkInfo} = Linkifier.createLink(\n        fallbackAnchor?.textContent ? fallbackAnchor.textContent : '', className, createLinkOptions);\n    linkInfo.enableDecorator = this.useLinkDecorator;\n    linkInfo.fallback = fallbackAnchor;\n    linkInfo.userMetric = options?.userMetric;\n\n    const linkDisplayOptions: LinkDisplayOptions = {\n      showColumnNumber: linkifyURLOptions.showColumnNumber ?? false,\n      revealBreakpoint: options?.revealBreakpoint,\n    };\n\n    const uiLocation = frame.uiSourceCode?.uiLocation(frame.line, frame.column) ?? null;\n    this.updateAnchorFromUILocation(link, linkDisplayOptions, uiLocation);\n\n    const anchors = (this.anchorsByTarget.get(target) as Element[]);\n    anchors.push(link);\n    return link;\n  }\n\n  linkifyStackTraceTopFrame(target: SDK.Target.Target|null, stackTrace: Protocol.Runtime.StackTrace): HTMLElement {\n    console.assert(stackTrace.callFrames.length > 0);\n\n    const {url, lineNumber, columnNumber} = stackTrace.callFrames[0];\n    const fallbackAnchor = Linkifier.linkifyURL(url as Platform.DevToolsPath.UrlString, {\n      lineNumber,\n      columnNumber,\n      showColumnNumber: false,\n      inlineFrameIndex: 0,\n      maxLength: this.maxLength,\n      preventClick: true,\n      jslogContext: 'script-source-url',\n    });\n\n    // HAR imported network logs have no associated NetworkManager.\n    if (!target) {\n      return fallbackAnchor;\n    }\n\n    // The contract is that disposed targets don't have a LiveLocationPool\n    // associated, whereas all active targets have one such pool. This ensures\n    // that the fallbackAnchor is only ever used when the target was disposed.\n    const pool = this.locationPoolByTarget.get(target);\n    if (!pool || target.isDisposed()) {\n      return fallbackAnchor;\n    }\n\n    // All targets that can report stack traces also have a debugger model.\n    const debuggerModel = target.model(SDK.DebuggerModel.DebuggerModel) as SDK.DebuggerModel.DebuggerModel;\n\n    const {link, linkInfo} = Linkifier.createLink('', '', {jslogContext: 'script-location'});\n    linkInfo.enableDecorator = this.useLinkDecorator;\n    linkInfo.fallback = fallbackAnchor;\n\n    const linkDisplayOptions = {showColumnNumber: false};\n\n    const updateDelegate = async(liveLocation: Bindings.LiveLocation.LiveLocation): Promise<void> => {\n      await this.updateAnchor(link, linkDisplayOptions, liveLocation);\n      this.dispatchEventToListeners(Events.LIVE_LOCATION_UPDATED, liveLocation);\n    };\n    void Bindings.DebuggerWorkspaceBinding.DebuggerWorkspaceBinding.instance()\n        .createStackTraceTopFrameLiveLocation(\n            debuggerModel.createRawLocationsByStackTrace(stackTrace), updateDelegate.bind(this), pool)\n        .then(liveLocation => {\n          linkInfo.liveLocation = liveLocation;\n        });\n\n    const anchors = (this.anchorsByTarget.get(target) as Element[]);\n    anchors.push(link);\n    return link;\n  }\n\n  linkifyCSSLocation(rawLocation: SDK.CSSModel.CSSLocation, classes?: string): Element {\n    const createLinkOptions: CreateLinkOptions = {\n      tabStop: true,\n      jslogContext: 'css-location',\n    };\n    const {link, linkInfo} = Linkifier.createLink('', classes || '', createLinkOptions);\n    linkInfo.enableDecorator = this.useLinkDecorator;\n\n    const pool = this.locationPoolByTarget.get(rawLocation.cssModel().target());\n    if (!pool) {\n      return link;\n    }\n\n    const linkDisplayOptions = {showColumnNumber: false};\n\n    const updateDelegate = async(liveLocation: Bindings.LiveLocation.LiveLocation): Promise<void> => {\n      await this.updateAnchor(link, linkDisplayOptions, liveLocation);\n      this.dispatchEventToListeners(Events.LIVE_LOCATION_UPDATED, liveLocation);\n    };\n    void Bindings.CSSWorkspaceBinding.CSSWorkspaceBinding.instance()\n        .createLiveLocation(rawLocation, updateDelegate.bind(this), pool)\n        .then(liveLocation => {\n          linkInfo.liveLocation = liveLocation;\n        });\n\n    const anchors = (this.anchorsByTarget.get(rawLocation.cssModel().target()) as Element[]);\n    anchors.push(link);\n    return link;\n  }\n\n  reset(): void {\n    // Create a copy of {keys} so {targetRemoved} can safely modify the map.\n    for (const target of [...this.anchorsByTarget.keys()]) {\n      this.targetRemoved(target);\n      this.targetAdded(target);\n    }\n    this.listeners?.clear();\n  }\n\n  dispose(): void {\n    Workspace.Workspace.WorkspaceImpl.instance().removeEventListener(\n        Workspace.Workspace.Events.WorkingCopyChanged, this.#onWorkingCopyChangedOrCommitted, this);\n    Workspace.Workspace.WorkspaceImpl.instance().removeEventListener(\n        Workspace.Workspace.Events.WorkingCopyCommitted, this.#onWorkingCopyChangedOrCommitted, this);\n    // Create a copy of {keys} so {targetRemoved} can safely modify the map.\n    for (const target of [...this.anchorsByTarget.keys()]) {\n      this.targetRemoved(target);\n    }\n    SDK.TargetManager.TargetManager.instance().unobserveTargets(this);\n    instances.delete(this);\n  }\n\n  private async updateAnchor(\n      anchor: HTMLElement, options: LinkDisplayOptions,\n      liveLocation: Bindings.LiveLocation.LiveLocation): Promise<void> {\n    Linkifier.unbindUILocation(anchor);\n    if (options.revealBreakpoint) {\n      Linkifier.unbindBreakpoint(anchor);\n    }\n    const uiLocation = await liveLocation.uiLocation();\n    if (!uiLocation) {\n      anchor.classList.add('invalid-link');\n      anchor.removeAttribute('role');\n      return;\n    }\n\n    this.#anchorUpdaters.set(anchor, function(this: Linkifier, anchor: HTMLElement) {\n      void this.updateAnchor(anchor, options, liveLocation);\n    });\n    this.updateAnchorFromUILocation(anchor, options, uiLocation);\n  }\n\n  private updateAnchorFromUILocation(\n      anchor: HTMLElement, options: LinkDisplayOptions, uiLocation: Workspace.UISourceCode.UILocation|null): void {\n    if (!uiLocation) {\n      anchor.classList.add('invalid-link');\n      anchor.removeAttribute('role');\n      return;\n    }\n\n    Linkifier.bindUILocation(anchor, uiLocation);\n    if (options.revealBreakpoint) {\n      Linkifier.bindBreakpoint(anchor, uiLocation);\n    }\n\n    const text = uiLocation.linkText(true /* skipTrim */, options.showColumnNumber);\n    Linkifier.setTrimmedText(anchor, text, this.maxLength);\n\n    let titleText: string = uiLocation.uiSourceCode.url();\n    if (uiLocation.uiSourceCode.mimeType() === 'application/wasm') {\n      // For WebAssembly locations, we follow the conventions described in\n      // github.com/WebAssembly/design/blob/master/Web.md#developer-facing-display-conventions\n      if (typeof uiLocation.columnNumber === 'number') {\n        titleText += `:0x${uiLocation.columnNumber.toString(16)}`;\n      }\n    } else {\n      titleText += ':' + (uiLocation.lineNumber + 1);\n      if (options.showColumnNumber && typeof uiLocation.columnNumber === 'number') {\n        titleText += ':' + (uiLocation.columnNumber + 1);\n      }\n    }\n    UI.Tooltip.Tooltip.install(anchor, titleText);\n    const isIgnoreListed = Boolean(uiLocation?.isIgnoreListed());\n    anchor.classList.toggle('ignore-list-link', isIgnoreListed);\n    Linkifier.updateLinkDecorations(anchor);\n  }\n\n  private static updateLinkDecorations(anchor: Element): void {\n    const info = Linkifier.linkInfo(anchor);\n    if (!info?.enableDecorator) {\n      return;\n    }\n    if (!decorator || !info.uiLocation) {\n      return;\n    }\n    if (info.icon?.parentElement) {\n      anchor.removeChild(info.icon);\n    }\n    const icon = decorator.linkIcon(info.uiLocation.uiSourceCode);\n    if (icon) {\n      icon.style.setProperty('margin-right', '2px');\n      anchor.insertBefore(icon, anchor.firstChild);\n    }\n    info.icon = icon;\n  }\n\n  static linkifyURL(url: Platform.DevToolsPath.UrlString, options?: LinkifyURLOptions): HTMLElement {\n    options = options || {\n      showColumnNumber: false,\n      inlineFrameIndex: 0,\n    };\n\n    const text = options.text;\n    const className = options.className || '';\n    const lineNumber = options.lineNumber;\n    const columnNumber = options.columnNumber;\n    const showColumnNumber = options.showColumnNumber;\n    const preventClick = options.preventClick;\n    const maxLength = options.maxLength || UI.UIUtils.MaxLengthForDisplayedURLs;\n    const bypassURLTrimming = options.bypassURLTrimming;\n    const omitOrigin = options.omitOrigin;\n    if (!url || Common.ParsedURL.schemeIs(url, 'javascript:')) {\n      const element = document.createElement('span');\n      if (className) {\n        element.className = className;\n      }\n\n      element.textContent = text || url || i18nString(UIStrings.unknown);\n      return element;\n    }\n\n    let linkText = text || Bindings.ResourceUtils.displayNameForURL(url);\n\n    if (omitOrigin) {\n      const parsedUrl = URL.parse(url);\n      if (parsedUrl) {\n        linkText = url.replace(parsedUrl.origin, '');\n      }\n    }\n\n    if (typeof lineNumber === 'number' && !text) {\n      linkText += ':' + (lineNumber + 1);\n      if (showColumnNumber && typeof columnNumber === 'number') {\n        linkText += ':' + (columnNumber + 1);\n      }\n    }\n    const title = linkText !== url ? url : '';\n    const linkOptions = {\n      maxLength,\n      title,\n      href: url,\n      preventClick,\n      tabStop: options.tabStop,\n      bypassURLTrimming,\n      jslogContext: options.jslogContext || 'url',\n    };\n    const {link, linkInfo} = Linkifier.createLink(linkText, className, linkOptions);\n    if (lineNumber) {\n      linkInfo.lineNumber = lineNumber;\n    }\n    if (columnNumber) {\n      linkInfo.columnNumber = columnNumber;\n    }\n    linkInfo.userMetric = options?.userMetric;\n    return link;\n  }\n\n  static linkifyRevealable(\n      revealable: Object, text: string|HTMLElement, fallbackHref?: Platform.DevToolsPath.UrlString, title?: string,\n      className?: string, jslogContext?: string): HTMLElement {\n    const createLinkOptions: CreateLinkOptions = {\n      maxLength: UI.UIUtils.MaxLengthForDisplayedURLs,\n      href: (fallbackHref),\n      title,\n      jslogContext,\n    };\n    const {link, linkInfo} = Linkifier.createLink(text, className || '', createLinkOptions);\n    linkInfo.revealable = revealable;\n    return link;\n  }\n\n  private static createLink(text: string|HTMLElement, className: string, options: CreateLinkOptions = {}):\n      {link: HTMLElement, linkInfo: LinkInfo} {\n    const {maxLength, title, href, preventClick, tabStop, bypassURLTrimming, jslogContext} = options;\n    const link = document.createElement(options.preventClick ? 'span' : 'button');\n    if (className) {\n      link.className = className;\n    }\n    link.classList.add('devtools-link');\n    if (!options.preventClick) {\n      link.classList.add('text-button', 'link-style');\n    }\n    if (title) {\n      UI.Tooltip.Tooltip.install(link, title);\n    }\n    if (href) {\n      // @ts-expect-error\n      link.href = href;\n    }\n    link.setAttribute('jslog', `${VisualLogging.link(jslogContext).track({click: true})}`);\n\n    if (text instanceof HTMLElement) {\n      link.appendChild(text);\n    } else if (bypassURLTrimming) {\n      link.classList.add('devtools-link-styled-trim');\n      Linkifier.appendTextWithoutHashes(link, text);\n    } else {\n      Linkifier.setTrimmedText(link, text, maxLength);\n    }\n\n    const linkInfo = {\n      icon: null,\n      enableDecorator: false,\n      uiLocation: null,\n      liveLocation: null,\n      url: href || null,\n      lineNumber: null,\n      columnNumber: null,\n      inlineFrameIndex: 0,\n      revealable: null,\n      fallback: null,\n    };\n    infoByAnchor.set(link, linkInfo);\n    if (!preventClick) {\n      const handler = (event: MouseEvent|KeyboardEvent): void => {\n        if (event instanceof KeyboardEvent && event.key !== Platform.KeyboardUtilities.ENTER_KEY && event.key !== ' ') {\n          return;\n        }\n        if (Linkifier.handleClick(event)) {\n          event.consume(true);\n        }\n      };\n      link.onclick = handler;\n      link.onkeydown = handler;\n    } else {\n      link.classList.add('devtools-link-prevent-click');\n    }\n    UI.ARIAUtils.markAsLink(link);\n    link.tabIndex = tabStop ? 0 : -1;\n    return {link, linkInfo};\n  }\n\n  private static setTrimmedText(link: Element, text: string, maxLength?: number): void {\n    link.removeChildren();\n    if (maxLength && text.length > maxLength) {\n      const middleSplit = splitMiddle(text, maxLength);\n      Linkifier.appendTextWithoutHashes(link, middleSplit[0]);\n      Linkifier.appendHiddenText(link, middleSplit[1]);\n      Linkifier.appendTextWithoutHashes(link, middleSplit[2]);\n    } else {\n      Linkifier.appendTextWithoutHashes(link, text);\n    }\n\n    function splitMiddle(string: string, maxLength: number): string[] {\n      let leftIndex = Math.floor(maxLength / 2);\n      let rightIndex = string.length - Math.ceil(maxLength / 2) + 1;\n\n      const codePointAtRightIndex = string.codePointAt(rightIndex - 1);\n      // Do not truncate between characters that use multiple code points (emojis).\n      if (typeof codePointAtRightIndex !== 'undefined' && codePointAtRightIndex >= 0x10000) {\n        rightIndex++;\n        leftIndex++;\n      }\n      const codePointAtLeftIndex = string.codePointAt(leftIndex - 1);\n      if (typeof codePointAtLeftIndex !== 'undefined' && leftIndex > 0 && codePointAtLeftIndex >= 0x10000) {\n        leftIndex--;\n      }\n      return [string.substring(0, leftIndex), string.substring(leftIndex, rightIndex), string.substring(rightIndex)];\n    }\n  }\n\n  private static appendTextWithoutHashes(link: Element, string: string): void {\n    const hashSplit = TextUtils.TextUtils.Utils.splitStringByRegexes(string, [/[a-f0-9]{20,}/g]);\n    for (const match of hashSplit) {\n      if (match.regexIndex === -1) {\n        UI.UIUtils.createTextChild(link, match.value);\n      } else {\n        UI.UIUtils.createTextChild(link, match.value.substring(0, 7));\n        Linkifier.appendHiddenText(link, match.value.substring(7));\n      }\n    }\n  }\n\n  private static appendHiddenText(link: Element, string: string): void {\n    const ellipsisNode = UI.UIUtils.createTextChild(link.createChild('span', 'devtools-link-ellipsis'), '…');\n    textByAnchor.set(ellipsisNode, string);\n  }\n\n  static untruncatedNodeText(node: Node): string {\n    return textByAnchor.get(node) || node.textContent || '';\n  }\n\n  static linkInfo(link: Element|null): LinkInfo|null {\n    return link ? infoByAnchor.get(link) || null : null as LinkInfo | null;\n  }\n\n  private static handleClick(event: Event): boolean {\n    const link = (event.currentTarget as Element);\n    if (UI.UIUtils.isBeingEdited((event.target as Node)) || link.hasSelection()) {\n      return false;\n    }\n    const linkInfo = Linkifier.linkInfo(link);\n    if (!linkInfo) {\n      return false;\n    }\n    return Linkifier.invokeFirstAction(linkInfo);\n  }\n\n  static handleClickFromNewComponentLand(linkInfo: LinkInfo): void {\n    Linkifier.invokeFirstAction(linkInfo);\n  }\n\n  static invokeFirstAction(linkInfo: LinkInfo): boolean {\n    const actions = Linkifier.linkActions(linkInfo);\n    if (actions.length) {\n      void actions[0].handler.call(null);\n      if (linkInfo.userMetric) {\n        Host.userMetrics.actionTaken(linkInfo.userMetric);\n      }\n      return true;\n    }\n    return false;\n  }\n\n  static linkHandlerSetting(): Common.Settings.Setting<string> {\n    if (!linkHandlerSettingInstance) {\n      linkHandlerSettingInstance =\n          Common.Settings.Settings.instance().createSetting('open-link-handler', i18nString(UIStrings.auto));\n    }\n    return linkHandlerSettingInstance;\n  }\n\n  static registerLinkHandler(registration: LinkHandlerRegistration): void {\n    for (const origin of linkHandlers.keys()) {\n      const existingHandler = linkHandlers.get(origin);\n      if (existingHandler?.scheme === registration.scheme) {\n        const schemeString = registration.scheme ? `scheme '${registration.scheme}'` : 'all schemes';\n        Common.Console.Console.instance().warn(\n            `DevTools extension '${registration.title}' registered with setOpenResourceHandler for ${\n                schemeString}, which is already registered by '${\n                existingHandler?.title}'. This can lead to unexpected results.`);\n      }\n    }\n\n    linkHandlers.set(registration.origin, registration);\n    LinkHandlerSettingUI.instance().update();\n  }\n\n  static unregisterLinkHandler(registration: LinkHandlerRegistration): void {\n    const {origin} = registration;\n    linkHandlers.delete(origin);\n    LinkHandlerSettingUI.instance().update();\n  }\n\n  // The primary filter implementation for the openResourceHandlers. Returns false\n  // if the handler is NOT supposed to handle the `url`. Usually, this happens if\n  // a handler has registered for a particular `scheme` and the scheme for that url\n  // does not match. If no openResourceScheme is provided, it means the handler is\n  // interested in all urls (except those handled by scheme-specific handlers, see\n  // otherSchemeRegistrations).\n  static shouldHandleOpenResource(\n      openResourceScheme: string|null, url: Platform.DevToolsPath.UrlString,\n      otherSchemeRegistrations: Set<string>): boolean {\n    // If this is a scheme-specific handler, make sure the registered scheme is\n    // present in the url.\n    if (openResourceScheme) {\n      return url.startsWith(openResourceScheme);\n    }\n\n    // Global handlers (that register for no scheme) can handle all urls, with the\n    // exception of urls that scheme-specific handlers have registered for.\n    const scheme = URL.parse(url)?.protocol || '';\n    return !otherSchemeRegistrations.has(scheme);\n  }\n\n  static uiLocation(link: Element): Workspace.UISourceCode.UILocation|null {\n    const info = Linkifier.linkInfo(link);\n    return info ? info.uiLocation : null;\n  }\n\n  static linkActions(info: LinkInfo): Array<{\n    section: string,\n    title: string,\n    jslogContext: string,\n    handler: () => Promise<void>| void,\n  }> {\n    const result: Array<{\n      section: string,\n      title: string,\n      jslogContext: string,\n      handler: () => Promise<void>| void,\n    }> = [];\n\n    if (!info) {\n      return result;\n    }\n\n    let url = Platform.DevToolsPath.EmptyUrlString;\n    let uiLocation: Workspace.UISourceCode.UILocation|(Workspace.UISourceCode.UILocation | null)|null = null;\n    if (info.uiLocation) {\n      uiLocation = info.uiLocation;\n      url = uiLocation.uiSourceCode.contentURL();\n    } else if (info.url) {\n      url = info.url;\n      const uiSourceCode = Workspace.Workspace.WorkspaceImpl.instance().uiSourceCodeForURL(url) ||\n          Workspace.Workspace.WorkspaceImpl.instance().uiSourceCodeForURL(\n              Common.ParsedURL.ParsedURL.urlWithoutHash(url) as Platform.DevToolsPath.UrlString);\n      uiLocation = uiSourceCode ? uiSourceCode.uiLocation(info.lineNumber || 0, info.columnNumber || 0) : null;\n    }\n    const resource = url ? Bindings.ResourceUtils.resourceForURL(url) : null;\n    const contentProvider = uiLocation ? uiLocation.uiSourceCode : resource;\n\n    const revealable = info.revealable || uiLocation || resource;\n    if (revealable) {\n      const destination = Common.Revealer.revealDestination(revealable);\n      result.push({\n        section: 'reveal',\n        title: destination ? i18nString(UIStrings.revealInS, {PH1: destination}) : i18nString(UIStrings.reveal),\n        jslogContext: 'reveal',\n        handler: () => Common.Revealer.reveal(revealable),\n      });\n    }\n\n    const contentProviderOrUrl = contentProvider || url;\n    const lineNumber = uiLocation ? uiLocation.lineNumber : info.lineNumber || 0;\n    const columnNumber = uiLocation ? uiLocation.columnNumber : info.columnNumber || 0;\n\n    // Build the set of schemes that the currently registered extensions handle\n    // (not counting ones that are scheme-agnostic).\n    const specificSchemeHandlers = new Set<string>();\n    for (const registration of linkHandlers.values()) {\n      if (registration.scheme) {\n        specificSchemeHandlers.add(registration.scheme);\n      }\n    }\n\n    for (const registration of linkHandlers.values().filter(r => r.handler)) {\n      const {title, handler, shouldHandleOpenResource} = registration;\n      if (url && !shouldHandleOpenResource(url, specificSchemeHandlers)) {\n        continue;\n      }\n      const action = {\n        section: 'reveal',\n        title: i18nString(UIStrings.openUsingS, {PH1: title}),\n        jslogContext: 'open-using',\n        handler: handler.bind(null, contentProviderOrUrl, lineNumber, columnNumber),\n      };\n      if (title === Linkifier.linkHandlerSetting().get()) {\n        result.unshift(action);\n      } else {\n        result.push(action);\n      }\n    }\n    if (resource || info.url) {\n      result.push({\n        section: 'reveal',\n        title: UI.UIUtils.openLinkExternallyLabel(),\n        jslogContext: 'open-in-new-tab',\n        handler: () => UIHelpers.openInNewTab(url),\n      });\n      result.push({\n        section: 'clipboard',\n        title: UI.UIUtils.copyLinkAddressLabel(),\n        jslogContext: 'copy-link-address',\n        handler: () => Host.InspectorFrontendHost.InspectorFrontendHostInstance.copyText(url),\n      });\n    }\n\n    if (uiLocation?.uiSourceCode) {\n      const contentProvider = uiLocation.uiSourceCode;\n      result.push({\n        section: 'clipboard',\n        title: UI.UIUtils.copyFileNameLabel(),\n        jslogContext: 'copy-file-name',\n        handler: () => Host.InspectorFrontendHost.InspectorFrontendHostInstance.copyText(contentProvider.displayName()),\n      });\n    }\n\n    return result;\n  }\n}\n\nexport interface LinkDecorator extends Common.EventTarget.EventTarget<LinkDecorator.EventTypes> {\n  linkIcon(uiSourceCode: Workspace.UISourceCode.UISourceCode): Icon|null;\n}\n\nexport namespace LinkDecorator {\n  export const enum Events {\n    LINK_ICON_CHANGED = 'LinkIconChanged',\n  }\n\n  export interface EventTypes {\n    [Events.LINK_ICON_CHANGED]: Workspace.UISourceCode.UISourceCode;\n  }\n}\n\nexport class LinkContextMenuProvider implements UI.ContextMenu.Provider<Node> {\n  appendApplicableItems(_event: Event, contextMenu: UI.ContextMenu.ContextMenu, target: Node): void {\n    let targetNode: Node|null = target;\n    while (targetNode && !infoByAnchor.get(targetNode)) {\n      targetNode = targetNode.parentNodeOrShadowHost();\n    }\n    const link = (targetNode as Element | null);\n    const linkInfo = Linkifier.linkInfo(link);\n    if (!linkInfo) {\n      return;\n    }\n\n    const actions = Linkifier.linkActions(linkInfo);\n    for (const action of actions) {\n      contextMenu.section(action.section).appendItem(action.title, action.handler, {jslogContext: action.jslogContext});\n    }\n  }\n}\n\nlet linkHandlerSettingUIInstance: LinkHandlerSettingUI;\n\nexport class LinkHandlerSettingUI {\n  private element: HTMLSelectElement;\n\n  private constructor() {\n    this.element = document.createElement('select');\n    this.element.addEventListener('change', this.onChange.bind(this), false);\n    this.update();\n  }\n\n  static instance(opts: {\n    forceNew: boolean|null,\n  } = {forceNew: null}): LinkHandlerSettingUI {\n    const {forceNew} = opts;\n    if (!linkHandlerSettingUIInstance || forceNew) {\n      linkHandlerSettingUIInstance = new LinkHandlerSettingUI();\n    }\n\n    return linkHandlerSettingUIInstance;\n  }\n\n  update(): void {\n    this.element.removeChildren();\n    const names = [...linkHandlers.keys()];\n    names.unshift(i18nString(UIStrings.auto));\n    for (const name of names) {\n      const option = document.createElement('option');\n      option.textContent = name;\n      option.selected = name === Linkifier.linkHandlerSetting().get();\n      this.element.appendChild(option);\n    }\n    this.element.disabled = names.length <= 1;\n  }\n\n  private onChange(event: Event): void {\n    if (!event.target) {\n      return;\n    }\n    const value = (event.target as HTMLSelectElement).value;\n    Linkifier.linkHandlerSetting().set(value);\n  }\n\n  settingElement(): Element {\n    const p = document.createElement('p');\n    p.classList.add('settings-select');\n    const label = p.createChild('label');\n    label.textContent = i18nString(UIStrings.linkHandling);\n    UI.ARIAUtils.bindLabelToControl(label, this.element);\n    p.appendChild(this.element);\n    return p;\n  }\n}\n\nlet listeningToNewEvents = false;\nfunction listenForNewComponentLinkifierEvents(): void {\n  if (listeningToNewEvents) {\n    return;\n  }\n\n  listeningToNewEvents = true;\n\n  window.addEventListener('linkifieractivated', function(event: Event) {\n    const eventWithData = (event as unknown as {\n      data: LinkInfo,\n    });\n    Linkifier.handleClickFromNewComponentLand(eventWithData.data);\n  });\n}\n\nlistenForNewComponentLinkifierEvents();\n\nexport class ContentProviderContextMenuProvider implements\n    UI.ContextMenu\n        .Provider<Workspace.UISourceCode.UISourceCode|SDK.Resource.Resource|SDK.NetworkRequest.NetworkRequest> {\n  appendApplicableItems(\n      _event: Event, contextMenu: UI.ContextMenu.ContextMenu,\n      contentProvider: Workspace.UISourceCode.UISourceCode|SDK.Resource.Resource|\n      SDK.NetworkRequest.NetworkRequest): void {\n    const contentUrl = contentProvider.contentURL();\n    if (!contentUrl) {\n      return;\n    }\n\n    if (!Common.ParsedURL.schemeIs(contentUrl, 'file:')) {\n      contextMenu.revealSection().appendItem(\n          UI.UIUtils.openLinkExternallyLabel(),\n          () => Host.InspectorFrontendHost.InspectorFrontendHostInstance.openInNewTab(\n              contentUrl.endsWith(':formatted') ?\n                  Common.ParsedURL.ParsedURL.slice(contentUrl, 0, contentUrl.lastIndexOf(':')) :\n                  contentUrl),\n          {jslogContext: 'open-in-new-tab'});\n    }\n    for (const origin of linkHandlers.keys()) {\n      const registration = linkHandlers.get(origin);\n      if (!registration) {\n        continue;\n      }\n      const {title} = registration;\n      contextMenu.revealSection().appendItem(\n          i18nString(UIStrings.openUsingS, {PH1: title}), registration.handler.bind(null, contentProvider, 0),\n          {jslogContext: 'open-using'});\n    }\n    if (contentProvider instanceof SDK.NetworkRequest.NetworkRequest) {\n      return;\n    }\n\n    contextMenu.clipboardSection().appendItem(\n        UI.UIUtils.copyLinkAddressLabel(),\n        () => Host.InspectorFrontendHost.InspectorFrontendHostInstance.copyText(contentUrl),\n        {jslogContext: 'copy-link-address'});\n\n    // TODO(bmeurer): `displayName` should be an accessor/data property consistently.\n    if (contentProvider instanceof Workspace.UISourceCode.UISourceCode) {\n      contextMenu.clipboardSection().appendItem(\n          UI.UIUtils.copyFileNameLabel(),\n          () => Host.InspectorFrontendHost.InspectorFrontendHostInstance.copyText(contentProvider.displayName()),\n          {jslogContext: 'copy-file-name'});\n    } else {\n      contextMenu.clipboardSection().appendItem(\n          UI.UIUtils.copyFileNameLabel(),\n          () => Host.InspectorFrontendHost.InspectorFrontendHostInstance.copyText(contentProvider.displayName),\n          {jslogContext: 'copy-file-name'});\n    }\n  }\n}\n\ninterface LinkInfo {\n  icon: Icon|null;\n  enableDecorator: boolean;\n  uiLocation: Workspace.UISourceCode.UILocation|null;\n  liveLocation: Bindings.LiveLocation.LiveLocation|null;\n  url: Platform.DevToolsPath.UrlString|null;\n  lineNumber: number|null;\n  columnNumber: number|null;\n  inlineFrameIndex: number;\n  revealable: Object|null;\n  fallback: Element|null;\n  userMetric?: Host.UserMetrics.Action;\n  jslogContext?: string;\n}\n\nexport interface LinkifyURLOptions {\n  text?: string;\n  className?: string;\n  lineNumber?: number;\n  columnNumber?: number;\n  showColumnNumber?: boolean;\n  inlineFrameIndex?: number;\n  preventClick?: boolean;\n  maxLength?: number;\n  tabStop?: boolean;\n  bypassURLTrimming?: boolean;\n  userMetric?: Host.UserMetrics.Action;\n  jslogContext?: string;\n  omitOrigin?: boolean;\n}\n\nexport interface LinkifyOptions {\n  className?: string;\n  columnNumber?: number;\n  showColumnNumber?: boolean;\n  inlineFrameIndex?: number;\n  tabStop?: boolean;\n  userMetric?: Host.UserMetrics.Action;\n  jslogContext?: string;\n  omitOrigin?: boolean;\n\n  /**\n   * {@link LinkDisplayOptions.revealBreakpoint}\n   */\n  revealBreakpoint?: boolean;\n  maxLength?: number;\n}\n\ninterface CreateLinkOptions {\n  maxLength?: number;\n  title?: string;\n  href?: Platform.DevToolsPath.UrlString;\n  preventClick?: boolean;\n  tabStop?: boolean;\n  bypassURLTrimming?: boolean;\n  jslogContext?: string;\n}\n\ninterface LinkDisplayOptions {\n  showColumnNumber: boolean;\n\n  /**\n   * If true, we'll check if there is a breakpoint at the UILocation we get\n   * from the LiveLocation. If we find a breakpoint, we'll reveal the corresponding\n   * {@link Breakpoints.BreakpointManager.BreakpointLocation}. Which opens the\n   * breakpoint edit dialog.\n   */\n  revealBreakpoint?: boolean;\n}\n\n/**\n * The filter function for the openResourceHandlers. Returns true if the `url`\n * should be considered for a particular handler. `specificSchemeHandlers`\n * is the set of all schemes handled by all registered DevTools extensions\n * (that specify a particular scheme).\n **/\nexport type LinkHandlerPredicate = (url: Platform.DevToolsPath.UrlString, specificSchemeHandlers: Set<string>) =>\n    boolean;\n\nexport type LinkHandler =\n    (arg0: TextUtils.ContentProvider.ContentProvider|Platform.DevToolsPath.UrlString, lineNumber: number,\n     columnNumber?: number) => void;\n\nexport interface LinkHandlerRegistration {\n  // The title (read: manifest name) of DevTools extension registering as an openResourceHandler.\n  // This value is provided by the developer of the extension.\n  title: string;\n  // The origin of the DevTools extension handling the url.\n  origin: Platform.DevToolsPath.UrlString;\n  // The scheme that the handler wants to register for. If set, only links that match this scheme\n  // will be considered, otherwise all links will be considered.\n  scheme?: string;\n  // The openResourceHandler handling the requests to open a resource.\n  handler: LinkHandler;\n  // A filter function used to determine whether the `handler` wants to handle the link clicks.\n  shouldHandleOpenResource: LinkHandlerPredicate;\n}\n\nexport const enum Events {\n  LIVE_LOCATION_UPDATED = 'liveLocationUpdated',\n}\n\nexport interface EventTypes {\n  [Events.LIVE_LOCATION_UPDATED]: Bindings.LiveLocation.LiveLocation;\n}\n\ninterface ScriptLocationViewInput {\n  target?: SDK.Target.Target;\n  scriptId?: Protocol.Runtime.ScriptId;\n  sourceURL: Platform.DevToolsPath.UrlString;\n  lineNumber?: number;\n  options?: LinkifyOptions;\n  linkifier: Linkifier;\n}\n\ntype ScriptLocationView = (input: ScriptLocationViewInput, output: undefined, target: HTMLElement) => void;\n\nconst DEFAULT_SCRIPT_LOCATION_VIEW: ScriptLocationView = (input, _output, target) => {\n  render(\n      html`${\n          input.linkifier.linkifyScriptLocation(\n              input.target ?? null, input.scriptId ?? null, input.sourceURL, input.lineNumber, input.options)}`,\n      target);\n};\n\nexport class ScriptLocationLink extends UI.Widget.Widget {\n  target?: SDK.Target.Target;\n  scriptId?: Protocol.Runtime.ScriptId;\n  sourceURL = '' as Platform.DevToolsPath.UrlString;\n  lineNumber?: number;\n  options?: LinkifyOptions;\n  linkifier = new Linkifier();\n  #view: ScriptLocationView;\n\n  constructor(element: HTMLElement, view = DEFAULT_SCRIPT_LOCATION_VIEW) {\n    super(element);\n    this.#view = view;\n  }\n\n  override performUpdate(): void {\n    this.#view(this, undefined, this.contentElement);\n  }\n\n  override onDetach(): void {\n    this.linkifier.dispose();\n  }\n}\n", "// Copyright 2015 The Chromium Authors\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\nimport * as Host from '../../../../core/host/host.js';\nimport * as UI from '../../legacy.js';\n\nexport function reload(): void {\n  if (UI.DockController.DockController.instance().canDock() &&\n      UI.DockController.DockController.instance().dockSide() === UI.DockController.DockState.UNDOCKED) {\n    Host.InspectorFrontendHost.InspectorFrontendHostInstance.setIsDocked(true, function() {});\n  }\n  Host.InspectorFrontendHost.InspectorFrontendHostInstance.reattach(() => window.location.reload());\n}\n", "// Copyright 2018 The Chromium Authors\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\nimport type * as Platform from '../../../../core/platform/platform.js';\nimport * as SDK from '../../../../core/sdk/sdk.js';\nimport type * as ProtocolProxyApi from '../../../../generated/protocol-proxy-api.js';\nimport type * as Protocol from '../../../../generated/protocol.js';\nimport * as UI from '../../legacy.js';\n\nexport class TargetDetachedDialog extends SDK.SDKModel.SDKModel<void> implements ProtocolProxyApi.InspectorDispatcher {\n  private static hideCrashedDialog: (() => void)|null;\n  constructor(target: SDK.Target.Target) {\n    super(target);\n    target.registerInspectorDispatcher(this);\n    void target.inspectorAgent().invoke_enable();\n    // Hide all dialogs if a new top-level target is created.\n    if (target.parentTarget()?.type() === SDK.Target.Type.BROWSER && TargetDetachedDialog.hideCrashedDialog) {\n      TargetDetachedDialog.hideCrashedDialog.call(null);\n      TargetDetachedDialog.hideCrashedDialog = null;\n    }\n  }\n\n  workerScriptLoaded(): void {\n  }\n\n  detached({reason}: Protocol.Inspector.DetachedEvent): void {\n    UI.RemoteDebuggingTerminatedScreen.RemoteDebuggingTerminatedScreen.show(reason);\n  }\n\n  static connectionLost(message: Platform.UIString.LocalizedString): void {\n    UI.RemoteDebuggingTerminatedScreen.RemoteDebuggingTerminatedScreen.show(message);\n  }\n\n  targetCrashed(): void {\n    // In case of service workers targetCrashed usually signals that the worker is stopped\n    // and in any case it is restarted automatically (in which case front-end will receive\n    // targetReloadedAfterCrash event).\n    if (TargetDetachedDialog.hideCrashedDialog) {\n      return;\n    }\n    // Ignore child targets altogether.\n    const parentTarget = this.target().parentTarget();\n    if (parentTarget && parentTarget.type() !== SDK.Target.Type.BROWSER) {\n      return;\n    }\n    const dialog = new UI.Dialog.Dialog('target-crashed');\n    dialog.setSizeBehavior(UI.GlassPane.SizeBehavior.MEASURE_CONTENT);\n    dialog.addCloseButton();\n    dialog.setDimmed(true);\n    TargetDetachedDialog.hideCrashedDialog = dialog.hide.bind(dialog);\n    new UI.TargetCrashedScreen\n        .TargetCrashedScreen(() => {\n          TargetDetachedDialog.hideCrashedDialog = null;\n        })\n        .show(dialog.contentElement);\n\n    dialog.show();\n  }\n\n  /**\n   * ;\n   */\n  targetReloadedAfterCrash(): void {\n    void this.target().runtimeAgent().invoke_runIfWaitingForDebugger();\n    if (TargetDetachedDialog.hideCrashedDialog) {\n      TargetDetachedDialog.hideCrashedDialog.call(null);\n      TargetDetachedDialog.hideCrashedDialog = null;\n    }\n  }\n}\n\nSDK.SDKModel.SDKModel.register(TargetDetachedDialog, {capabilities: SDK.Target.Capability.INSPECTOR, autostart: true});\n"],
  "mappings": "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",
  "names": ["link", "Common", "i18n", "SDK", "Workspace", "VisualLogging", "UI", "Common", "Host", "i18n", "Platform", "SDK", "UIStrings", "str_", "i18nString", "link", "anchor", "maxLength", "contentProvider", "UIStrings", "str_", "i18nString", "link", "stackTrace", "previousCallFrames", "previousFragment", "stackTraceRows", "Host", "UI", "SDK", "UI"]
}
