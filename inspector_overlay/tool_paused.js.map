{"version":3,"file":"tool_paused.js","sourceRoot":"","sources":["../../../../inspector_overlay/tool_paused.ts"],"names":[],"mappings":"AAAA,sCAAsC;AACtC,yEAAyE;AACzE,6BAA6B;AAE7B,OAAO,EAAC,OAAO,EAAC,MAAM,aAAa,CAAC;AAIpC,MAAM,OAAO,aAAc,SAAQ,OAAO;IAChC,SAAS,CAAe;IAEhC,YAAY,MAAc,EAAE,QAAyB,EAAE;QACrD,KAAK,CAAC,MAAM,EAAE,KAAK,CAAC,CAAC;QACrB,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IAC7C,CAAC;IAED,SAAS,CAAC,KAAoB;QAC5B,IAAI,KAAK,CAAC,GAAG,KAAK,IAAI,IAAI,IAAI,CAAC,kBAAkB,CAAC,KAAK,CAAC,IAAI,KAAK,CAAC,GAAG,KAAK,IAAI,EAAE,CAAC;YAC/E,IAAI,CAAC,MAAM,CAAC,oBAAoB,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;QAClD,CAAC;aAAM,IAAI,KAAK,CAAC,GAAG,KAAK,KAAK,IAAI,IAAI,CAAC,kBAAkB,CAAC,KAAK,CAAC,IAAI,KAAK,CAAC,GAAG,KAAK,IAAI,EAAE,CAAC;YACvF,IAAI,CAAC,MAAM,CAAC,oBAAoB,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;QACpD,CAAC;IACH,CAAC;IAEQ,OAAO;QACd,MAAM,YAAY,GAAG,IAAI,CAAC,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QACxD,YAAY,CAAC,SAAS,CAAC,GAAG,CAAC,eAAe,CAAC,CAAC;QAE5C,MAAM,UAAU,GAAG,IAAI,CAAC,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QACtD,UAAU,CAAC,SAAS,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC;QACxC,MAAM,gBAAgB,GAAG,IAAI,CAAC,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QAC5D,gBAAgB,CAAC,EAAE,GAAG,oBAAoB,CAAC;QAC3C,IAAI,CAAC,SAAS,GAAG,gBAAgB,CAAC;QAClC,UAAU,CAAC,MAAM,CAAC,gBAAgB,CAAC,CAAC;QACpC,YAAY,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC;QAEhC,MAAM,YAAY,GAAG,IAAI,CAAC,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QACxD,YAAY,CAAC,EAAE,GAAG,eAAe,CAAC;QAClC,YAAY,CAAC,KAAK,GAAG,+BAA+B,CAAC;QACrD,YAAY,CAAC,SAAS,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;QACrC,MAAM,KAAK,GAAG,IAAI,CAAC,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QACjD,KAAK,CAAC,SAAS,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;QAC7B,YAAY,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;QAC3B,YAAY,CAAC,MAAM,CAAC,YAAY,CAAC,CAAC;QAElC,MAAM,cAAc,GAAG,IAAI,CAAC,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QAC1D,cAAc,CAAC,EAAE,GAAG,kBAAkB,CAAC;QACvC,cAAc,CAAC,KAAK,GAAG,qCAAqC,CAAC;QAC7D,cAAc,CAAC,SAAS,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;QACvC,MAAM,MAAM,GAAG,IAAI,CAAC,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QAClD,MAAM,CAAC,SAAS,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;QAC9B,cAAc,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;QAC9B,YAAY,CAAC,MAAM,CAAC,cAAc,CAAC,CAAC;QAEpC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,MAAM,CAAC,YAAY,CAAC,CAAC;QAExC,IAAI,CAAC,QAAQ,CAAC,gBAAgB,CAAC,SAAS,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC;QAE1D,YAAY,CAAC,gBAAgB,CAAC,OAAO,EAAE,GAAG,EAAE,CAAC,IAAI,CAAC,MAAM,CAAC,oBAAoB,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC;QAC9F,cAAc,CAAC,gBAAgB,CAAC,OAAO,EAAE,GAAG,EAAE,CAAC,IAAI,CAAC,MAAM,CAAC,oBAAoB,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC;QAElG,KAAK,CAAC,OAAO,EAAE,CAAC;IAClB,CAAC;IAEQ,SAAS;QAChB,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,SAAS,GAAG,EAAE,CAAC;QAClC,IAAI,CAAC,QAAQ,CAAC,mBAAmB,CAAC,SAAS,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC;QAC7D,KAAK,CAAC,SAAS,EAAE,CAAC;IACpB,CAAC;IAED,2BAA2B,CAAC,OAAe;QACzC,IAAI,CAAC,SAAS,CAAC,WAAW,GAAG,OAAO,CAAC;IACvC,CAAC;CACF","sourcesContent":["// Copyright 2019 The Chromium Authors\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\nimport {Overlay} from './common.js';\n\nexport type PausedToolMessage = 'resume'|'stepOver';\n\nexport class PausedOverlay extends Overlay {\n  private container!: HTMLElement;\n\n  constructor(window: Window, style: CSSStyleSheet[] = []) {\n    super(window, style);\n    this.onKeyDown = this.onKeyDown.bind(this);\n  }\n\n  onKeyDown(event: KeyboardEvent) {\n    if (event.key === 'F8' || this.eventHasCtrlOrMeta(event) && event.key === '\\\\') {\n      this.window.InspectorOverlayHost.send('resume');\n    } else if (event.key === 'F10' || this.eventHasCtrlOrMeta(event) && event.key === '\\'') {\n      this.window.InspectorOverlayHost.send('stepOver');\n    }\n  }\n\n  override install() {\n    const controlsLine = this.document.createElement('div');\n    controlsLine.classList.add('controls-line');\n\n    const messageBox = this.document.createElement('div');\n    messageBox.classList.add('message-box');\n    const pausedInDebugger = this.document.createElement('div');\n    pausedInDebugger.id = 'paused-in-debugger';\n    this.container = pausedInDebugger;\n    messageBox.append(pausedInDebugger);\n    controlsLine.append(messageBox);\n\n    const resumeButton = this.document.createElement('div');\n    resumeButton.id = 'resume-button';\n    resumeButton.title = 'Resume script execution (F8).';\n    resumeButton.classList.add('button');\n    const glyph = this.document.createElement('div');\n    glyph.classList.add('glyph');\n    resumeButton.append(glyph);\n    controlsLine.append(resumeButton);\n\n    const stepOverButton = this.document.createElement('div');\n    stepOverButton.id = 'step-over-button';\n    stepOverButton.title = 'Step over next function call (F10).';\n    stepOverButton.classList.add('button');\n    const glyph2 = this.document.createElement('div');\n    glyph2.classList.add('glyph');\n    stepOverButton.append(glyph2);\n    controlsLine.append(stepOverButton);\n\n    this.document.body.append(controlsLine);\n\n    this.document.addEventListener('keydown', this.onKeyDown);\n\n    resumeButton.addEventListener('click', () => this.window.InspectorOverlayHost.send('resume'));\n    stepOverButton.addEventListener('click', () => this.window.InspectorOverlayHost.send('stepOver'));\n\n    super.install();\n  }\n\n  override uninstall() {\n    this.document.body.innerHTML = '';\n    this.document.removeEventListener('keydown', this.onKeyDown);\n    super.uninstall();\n  }\n\n  drawPausedInDebuggerMessage(message: string) {\n    this.container.textContent = message;\n  }\n}\n"]}