{"version":3,"file":"tool_window_controls.js","sourceRoot":"","sources":["../../../../inspector_overlay/tool_window_controls.ts"],"names":[],"mappings":"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","sourcesContent":["// Copyright 2023 The Chromium Authors\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\nimport {\n  createElement,\n  Overlay,\n} from './common.js';\nimport {generateLegibleTextColor} from './css_grid_label_helpers.js';\n\ninterface WindowControlsOverlayConfig {\n  selectedPlatform: string;\n  themeColor: string;\n}\n\nexport class WindowControlsOverlay extends Overlay {\n  private windowsToolBar!: HTMLElement;\n  private linuxToolBar!: HTMLElement;\n  private macToolbarRight!: HTMLElement;\n  private macToolbarLeft!: HTMLElement;\n\n  constructor(window: Window, style: CSSStyleSheet[] = []) {\n    super(window, style);\n  }\n\n  override install() {\n    const windowLinuxToolbarIcons = ['chevron', 'ellipsis', 'minimize', 'maximize', 'close'];\n    const macLeftToolbarIcons = ['mac-close', 'mac-minimize', 'mac-maximize'];\n    const macRightToolbarIcons = ['mac-chevron', 'mac-ellipsis'];\n\n    this.windowsToolBar = createHiddenToolBarRow('windows', 'right', windowLinuxToolbarIcons);\n    this.linuxToolBar = createHiddenToolBarRow('linux', 'right', windowLinuxToolbarIcons);\n    this.macToolbarRight = createHiddenToolBarRow('mac', 'right', macRightToolbarIcons);\n    this.macToolbarLeft = createHiddenToolBarRow('mac', 'left', macLeftToolbarIcons);\n\n    this.document.body.append(this.windowsToolBar, this.linuxToolBar, this.macToolbarLeft, this.macToolbarRight);\n    super.install();\n  }\n\n  override uninstall() {\n    this.windowsToolBar.remove();\n    this.linuxToolBar.remove();\n    this.macToolbarRight.remove();\n    this.macToolbarLeft.remove();\n    super.uninstall();\n  }\n\n  drawWindowControlsOverlay(config: WindowControlsOverlayConfig) {\n    // Clear all overlays\n    this.clearOverlays();\n\n    // Display the Window Controls Overlay\n    if (config.selectedPlatform === 'Windows') {\n      revealElement(this.windowsToolBar);\n    } else if (config.selectedPlatform === 'Linux') {\n      revealElement(this.linuxToolBar);\n    } else if (config.selectedPlatform === 'Mac') {\n      revealElement(this.macToolbarLeft);\n      revealElement(this.macToolbarRight);\n    }\n\n    // Set the theme Color\n    this.document.documentElement.style.setProperty('--wco-theme-color', config.themeColor);\n    this.document.documentElement.style.setProperty('--wco-icon-color', generateLegibleTextColor(config.themeColor));\n  }\n\n  clearOverlays() {\n    hideElement(this.linuxToolBar);\n    hideElement(this.windowsToolBar);\n    hideElement(this.macToolbarLeft);\n    hideElement(this.macToolbarRight);\n  }\n}\n\nfunction hideElement(element: HTMLElement): void {\n  element.classList.add('hidden');\n}\n\nfunction revealElement(element: HTMLElement): void {\n  element.classList.remove('hidden');\n}\n\nfunction createDivOfIcons(icons: string[]): HTMLElement {\n  const toolbar = createElement('div');\n\n  for (const iconName of icons) {\n    const icon = createElement('div');\n    icon.id = iconName;\n    icon.classList.add('image');\n    toolbar.append(icon);\n  }\n\n  return toolbar;\n}\n\nfunction createHiddenToolBarRow(osType: string, location: string, icons: string[]): HTMLElement {\n  const toolbar = createDivOfIcons(icons);\n\n  toolbar.classList.add('image-group');\n  toolbar.classList.add(`image-group-${location}`);\n  toolbar.classList.add(`${osType}-${location}-image-group`);\n  toolbar.classList.add('hidden');\n\n  return toolbar;\n}\n"]}